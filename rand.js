!(function (t) {
  function e(n) {
    if (i[n]) return i[n].exports;
    var r = (i[n] = { exports: {}, id: n, loaded: !1 });
    return t[n].call(r.exports, r, r.exports, e), (r.loaded = !0), r.exports;
  }
  var i = {};
  return (e.m = t), (e.c = i), (e.p = ""), e(0);
})([
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      _ = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) g.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      g = {}.hasOwnProperty;
    (s = i(46)),
      (h = i(4)),
      (n = i(1)),
      (o = i(2)),
      (u = i(5)),
      (c = i(6)),
      (l = i(49)),
      (p = i(9)),
      (d = i(3)),
      (r = i(8)),
      (a = (function (t) {
        function e() {
          (this._resize = m(this._resize, this)),
            (this._update = m(this._update, this)),
            (this.init = m(this.init, this)),
            e.__super__.constructor.call(this);
        }
        return (
          _(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              (window.router = new l()),
              window.router.init(),
              router.setDefaultPage()
            );
          }),
          (e.prototype._update = function () {
            return e.__super__._update.call(this);
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this);
          }),
          e
        );
      })(s)),
      (t.exports = a),
      (f = new a()),
      f.init();
  },
  function (t, e, i) {
    var n, r;
    (r = i(3)),
      (n = (function () {
        function t() {
          var t, e, i;
          if (
            ((this.RELEASE = !0),
            (this.FLG = {
              PARAM: location.href.indexOf("p=1") > 0,
              STATS: location.href.indexOf("p=1") > 0,
            }),
            this.RELEASE)
          ) {
            e = this.FLG;
            for (t in e) (i = e[t]), (this.FLG[t] = !1);
          }
          (this.BREAKPOINT = 768),
            (this.PATH_IMG = "/assets/img/"),
            (this.IS_SIMPLE =
              isMobile.android.device ||
              r.isIE() ||
              (!isMobile.any && r.isSafari()) ||
              isMobile.tablet),
            (this.IS_WEBGL = r.useWebGL()),
            (this.SCALE_MIN = 1e-6),
            (this.BG_COLOR = 16448250),
            (this.IS_PC = !isMobile.any),
            (this.IS_SP = isMobile.any),
            (this.TOP_WORKS_NUM = 5),
            (this.ETC_RAND_NUM = 5),
            (this.HOVER_SCALE = 1.2),
            (this.CENTER_SCALE = 1.3),
            (this.TOP_XS_INTERVAL = 2),
            (this.URL_PAGE = ["/", "/portfolio/", "/about/"]),
            (this.TOP_SWIPE_PARAM = { time: 0.6, ease: Power4.easeOut });
        }
        return t;
      })()),
      (t.exports = new n());
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      };
    (c = i(3)),
      (a = i(7)),
      (l = i(10)),
      (u = i(6)),
      (n = i(1)),
      (o = i(26)),
      (h = i(18)),
      (s = i(4)),
      (r = (function () {
        function t() {
          (this.useScreen = p(this.useScreen, this)),
            (this.getDefaultPage = p(this.getDefaultPage, this)),
            (this.getPrdctKvSize = p(this.getPrdctKvSize, this)),
            (this.setEleSize = p(this.setEleSize, this)),
            (this.setFixSize = p(this.setFixSize, this)),
            (this.xsFixH = p(this.xsFixH, this)),
            (this.r3 = p(this.r3, this)),
            (this.r2 = p(this.r2, this)),
            (this.r = p(this.r, this)),
            (this.sh = p(this.sh, this)),
            (this.sw = p(this.sw, this)),
            (this.inUrl = p(this.inUrl, this)),
            (this.clickable = p(this.clickable, this)),
            (this.cos2 = p(this.cos2, this)),
            (this.cos1 = p(this.cos1, this)),
            (this.sin2 = p(this.sin2, this)),
            (this.sin1 = p(this.sin1, this)),
            (this.val = p(this.val, this)),
            (this.isLG = p(this.isLG, this)),
            (this.isXS = p(this.isXS, this)),
            (this.screen = p(this.screen, this)),
            (this.ratio = p(this.ratio, this));
        }
        return (
          (t.prototype.ratio = function () {
            return window.devicePixelRatio || 1;
          }),
          (t.prototype.screen = function () {
            return window.innerWidth <= n.BREAKPOINT
              ? u.SCREEN.XS
              : u.SCREEN.LG;
          }),
          (t.prototype.isXS = function () {
            return this.screen() === u.SCREEN.XS;
          }),
          (t.prototype.isLG = function () {
            return this.screen() === u.SCREEN.LG;
          }),
          (t.prototype.val = function (t, e) {
            return this.isXS() ? t : e;
          }),
          (t.prototype.sin1 = function (t) {
            return Math.sin(t) + Math.sin(2 * t);
          }),
          (t.prototype.sin2 = function (t) {
            return (
              (Math.sin(t) +
                Math.sin(2.2 * t + 5.52) +
                Math.sin(2.9 * t + 0.93) +
                Math.sin(4.6 * t + 8.94)) /
              4
            );
          }),
          (t.prototype.cos1 = function (t) {
            return Math.cos(t) + Math.cos(2 * t);
          }),
          (t.prototype.cos2 = function (t) {
            return (
              (Math.cos(t) +
                Math.cos(2.2 * t + 5.52) +
                Math.cos(2.9 * t + 0.93) +
                Math.cos(4.6 * t + 8.94)) /
              4
            );
          }),
          (t.prototype.clickable = function (t) {
            var e, i;
            return (
              (i = "is-noPointer"),
              (e = $("body")),
              null == t ? !e.hasClass(i) : t ? e.removeClass(i) : e.addClass(i)
            );
          }),
          (t.prototype.inUrl = function (t) {
            return location.href.indexOf(t) > 0;
          }),
          (t.prototype.sw = function () {
            return window.innerWidth;
          }),
          (t.prototype.sh = function () {
            return window.innerHeight;
          }),
          (t.prototype.r = function (t) {
            var e;
            return (e = this.val(750, 1366)), (t / e) * this.sw();
          }),
          (t.prototype.r2 = function (t, e) {
            var i;
            return (
              (i = this.sw()),
              i >= n.MAX_LG_SIZE
                ? t
                : i < n.MAX_LG_SIZE && i >= n.MIN_LG_SIZE
                ? t * c.map(i, e, 1, n.MAX_LG_SIZE, n.MIN_LG_SIZE)
                : this.r(t * e)
            );
          }),
          (t.prototype.r3 = function (t, e) {
            var i;
            return (i = this.sw()), i > n.MIN_LG_SIZE ? t : this.r(t * e);
          }),
          (t.prototype.xsFixH = function () {
            return Math.max(this.sh(), 460);
          }),
          (t.prototype.setFixSize = function () {
            var t, e;
            return (
              (e = this.sw()),
              (t = this.sh()),
              $(".js-fix").each(
                (function (i) {
                  return function (i, n) {
                    var r;
                    return (r = $(n)), r.css({ width: e, height: t });
                  };
                })(this)
              )
            );
          }),
          (t.prototype.setEleSize = function () {
            return $(".js-size_set").each(
              (function (t) {
                return function (e, i) {
                  var n, r, s, o;
                  return (
                    (n = $(i)),
                    (s = t.isXS()
                      ? n.attr("data-size_xs").split(",")
                      : n.attr("data-size_lg").split(",")),
                    (o = Number(s[0])),
                    (r = Number(s[1])),
                    n.css({ width: t.r(o), height: t.r(r) })
                  );
                };
              })(this)
            );
          }),
          (t.prototype.getPrdctKvSize = function () {
            return { width: this.sw(), height: this.r(600) };
          }),
          (t.prototype.getDefaultPage = function () {
            return Number($("body").attr("data-page"));
          }),
          (t.prototype.useScreen = function () {
            return (
              n.IS_SP &&
              "undefined" != typeof screen &&
              null !== screen &&
              this.isXS()
            );
          }),
          t
        );
      })()),
      (t.exports = new r());
  },
  function (t, e) {
    var i,
      n = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      };
    (i = (function () {
      function t() {
        (this.useWebGL = n(this.useWebGL, this)),
          (this.getHexColor = n(this.getHexColor, this)),
          (this.isSafari = n(this.isSafari, this)),
          (this.isFF = n(this.isFF, this)),
          (this.isChrome = n(this.isChrome, this)),
          (this.isWin = n(this.isWin, this)),
          (this.isIE2 = n(this.isIE2, this)),
          (this.isIE = n(this.isIE, this)),
          (this.isSP = n(this.isSP, this)),
          (this.numStr = n(this.numStr, this)),
          (this.distance = n(this.distance, this)),
          (this.sort = n(this.sort, this)),
          (this.replaceAll = n(this.replaceAll, this)),
          (this.sliceNull = n(this.sliceNull, this)),
          (this.shuffle = n(this.shuffle, this)),
          (this.degree = n(this.degree, this)),
          (this.radian = n(this.radian, this)),
          (this.mix = n(this.mix, this)),
          (this.map = n(this.map, this)),
          (this.clamp = n(this.clamp, this)),
          (this.rangeInt = n(this.rangeInt, this)),
          (this.range = n(this.range, this)),
          (this.paramNum = n(this.paramNum, this)),
          (this.randomArr = n(this.randomArr, this)),
          (this.randomListInt = n(this.randomListInt, this)),
          (this.randomList = n(this.randomList, this)),
          (this.hit = n(this.hit, this)),
          (this.randomInt = n(this.randomInt, this)),
          (this.random2 = n(this.random2, this)),
          (this.random = n(this.random, this));
      }
      return (
        (t.prototype.random = function (t, e) {
          return Math.random() * (e - t) + t;
        }),
        (t.prototype.random2 = function (t, e) {
          var i;
          return (i = Math.random() * (e - t) + t), this.hit(2) && (i *= -1), i;
        }),
        (t.prototype.randomInt = function (t, e) {
          return Math.floor(Math.random() * (e - t + 1)) + t;
        }),
        (t.prototype.hit = function (t) {
          return (
            (t < 2 || null == t) && (t = 2), 0 === this.randomInt(0, t - 1)
          );
        }),
        (t.prototype.randomList = function (t) {
          var e;
          return (e = this.randomArr(t)), this.random(e.min, e.max);
        }),
        (t.prototype.randomListInt = function (t) {
          var e;
          return (e = this.randomArr(t)), this.randomInt(e.min, e.max);
        }),
        (t.prototype.randomArr = function (t) {
          return t[this.randomInt(0, t.length - 1)];
        }),
        (t.prototype.paramNum = function (t) {
          var e, i, n;
          i = 0;
          for (n in t) (e = t[n]), i++;
          return i;
        }),
        (t.prototype.range = function (t) {
          return this.random(-t, t);
        }),
        (t.prototype.rangeInt = function (t) {
          return this.randomInt(-t, t);
        }),
        (t.prototype.clamp = function (t, e, i) {
          return Math.min(i, Math.max(t, e));
        }),
        (t.prototype.map = function (t, e, i, n, r) {
          var s;
          return t <= n
            ? e
            : t >= r
            ? i
            : ((s = (i - e) / (r - n)), (t - n) * s + e);
        }),
        (t.prototype.mix = function (t, e, i) {
          return t * (1 - i) + e * i;
        }),
        (t.prototype.radian = function (t) {
          return (t * Math.PI) / 180;
        }),
        (t.prototype.degree = function (t) {
          return (180 * t) / Math.PI;
        }),
        (t.prototype.shuffle = function (t) {
          var e, i, n, r;
          for (e = t.length, r = []; --e; )
            (i = Math.floor(Math.random() * (e + 1))),
              e !== i && ((n = t[e]), (t[e] = t[i]), r.push((t[i] = n)));
          return r;
        }),
        (t.prototype.sliceNull = function (t) {
          var e, i, n, r, s;
          for (r = [], e = i = 0, n = t.length; i < n; e = ++i)
            (s = t[e]), null !== s && r.push(s);
          return r;
        }),
        (t.prototype.replaceAll = function (t, e, i) {
          return t.split(e).join(i);
        }),
        (t.prototype.sort = function (t, e, i) {
          return (
            null == i && (i = !1),
            i
              ? t.sort(
                  (function (t) {
                    return function (t, i) {
                      return i[e] - t[e];
                    };
                  })(this)
                )
              : t.sort(
                  (function (t) {
                    return function (t, i) {
                      return t[e] - i[e];
                    };
                  })(this)
                )
          );
        }),
        (t.prototype.distance = function (t, e, i, n) {
          var r, s;
          return (r = t - i), (s = e - n), Math.sqrt(r * r + s * s);
        }),
        (t.prototype.numStr = function (t, e) {
          var i, n, r;
          if (((r = String(t)), r.length >= e)) return r;
          for (n = e - r.length, i = 0; i < n; ) (r = "0" + r), i++;
          return r;
        }),
        (t.prototype.isSP = function () {
          var t;
          return (
            (t = navigator.userAgent),
            t.indexOf("iPhone") > 0 ||
              (t.indexOf("Android") > 0 && t.indexOf("Mobile") > 0)
          );
        }),
        (t.prototype.isIE = function () {
          var t;
          return (
            (t = window.navigator.userAgent.toLowerCase()),
            t.indexOf("msie") !== -1 ||
              t.indexOf("trident/7") !== -1 ||
              t.indexOf("edge") !== -1
          );
        }),
        (t.prototype.isIE2 = function () {
          var t;
          return (
            (t = window.navigator.userAgent.toLowerCase()),
            t.indexOf("msie") !== -1 || t.indexOf("trident/7") !== -1
          );
        }),
        (t.prototype.isWin = function () {
          return window.navigator.platform.indexOf("Win") !== -1;
        }),
        (t.prototype.isChrome = function () {
          return (
            window.navigator.userAgent.toLowerCase().indexOf("chrome") !== -1
          );
        }),
        (t.prototype.isFF = function () {
          return (
            window.navigator.userAgent.toLowerCase().indexOf("firefox") !== -1
          );
        }),
        (t.prototype.isSafari = function () {
          return (
            window.navigator.userAgent.toLowerCase().indexOf("safari") !== -1 &&
            !this.isChrome()
          );
        }),
        (t.prototype.getHexColor = function (t, e, i) {
          var n;
          return (
            (n = ((t << 16) | (e << 8) | i).toString(16)),
            "#" + new Array(7 - n.length).join("0") + n
          );
        }),
        (t.prototype.useWebGL = function () {
          var t, e, i;
          try {
            return (
              (t = document.createElement("canvas")),
              (i = t.getContext("webgl") || t.getContext("experimental-webgl")),
              !!(
                window.WebGLRenderingContext &&
                i &&
                i.getShaderPrecisionFormat
              )
            );
          } catch (t) {
            return (e = t), !1;
          }
        }),
        (t.prototype.getQuery = function (t) {
          var e, i;
          return (
            (t = t
              .replace(/[竄ｬ[]/, "竄ｬ竄ｬ竄ｬ[")
              .replace(/[竄ｬ]]/, "竄ｬ竄ｬ竄ｬ]")),
            (i = new RegExp("[竄ｬ竄ｬ?&]" + t + "=([^&#]*)")),
            (e = i.exec(window.location.href)),
            null === e ? "" : e[1]
          );
        }),
        t
      );
    })()),
      (t.exports = new i());
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      };
    (c = i(101)),
      (n = i(1)),
      (h = i(6)),
      (r = i(2)),
      (u = i(3)),
      (l = i(9)),
      (o = i(7)),
      (a = i(10)),
      (s = (function () {
        function t() {
          (this._resize = p(this._resize, this)),
            (this._update = p(this._update, this)),
            (this._listen = p(this._listen, this)),
            (this._addGui = p(this._addGui, this)),
            (this._init = p(this._init, this)),
            (this.fps = h.FPS.MID),
            (this.isDetail = !1),
            (this.isHover = !1),
            (this.isTransition = !1),
            (this.openMenu = !1),
            (this.renderMenu = !1),
            (this.isFixDetailInfo = !1),
            (this.dragPower = { x: 0, y: 0 }),
            (this.wheelPower = { x: 0, y: 0 }),
            this._gui,
            (this.top = {
              radius: { value: 130, min: 0, max: 200 },
              offsetX: { value: 64, min: 0, max: 200 },
              offsetY: { value: 20, min: 0, max: 200 },
              allScale: { value: 100, min: 0, max: 100 },
              dragSpeed: { value: 75, min: 0, max: 100 },
              imgNoiseOffsetA: { value: 5e3, min: 0, max: 1e4 },
              imgNoiseOffsetB: { value: 400, min: 0, max: 1e3 },
              imgNoiseSpeed: { value: 10, min: 0, max: 100 },
              imgNoiseAddX: { value: 400, min: 0, max: 1e3 },
              imgNoiseAddY: { value: 100, min: 0, max: 1e3 },
              rippleW: { value: 40, min: 0, max: 100 },
              rippleR: { value: 400, min: 0, max: 1e3 },
              rippleP: { value: 170, min: 0, max: 1e3 },
              tone1: { value: 100, min: 0, max: 200 },
              tone2: { value: 100, min: 0, max: 1e3 },
              sAlpha: { value: 100, min: 0, max: 100 },
              bAlpha: { value: 100, min: 0, max: 100 },
            }),
            (this.list = {
              now: { value: 50, min: 0, max: 100 },
              posX: { value: 24, min: -100, max: 100 },
              posY: { value: 192, min: 0, max: 300 },
              w: { value: 50, min: 0, max: 300 },
              h: { value: 156, min: 0, max: 300 },
              pow: { value: 2, min: 1, max: 20 },
              hosei: { value: 200, min: 200, max: 400 },
              herasu: { value: 34, min: 1, max: 100 },
            }),
            (this.portfolio = {
              allScale: { value: 100, min: 0, max: 100 },
              scale: { value: 20, min: 0, max: 100 },
            }),
            (this.img = { scale: { value: 70, min: 0, max: 100 } }),
            (this.shape = {
              sizeX: { value: 100, min: 0, max: 100 },
              sizeY: { value: 100, min: 0, max: 100 },
              speed: { value: 40, min: 0, max: 100 },
              speedA: { value: 140, min: 0, max: 200 },
              speedB: { value: 170, min: 0, max: 200 },
              waveA: { value: 525, min: 0, max: 1e3 },
              waveB: { value: 492, min: 0, max: 1e3 },
              pointNum: { value: 100, min: 0, max: 100 },
              fineness: { value: 36, min: 0, max: 100, use: !1 },
              yura: { value: 80, min: 0, max: 100 },
              scale0: { value: 100, min: 50, max: 100 },
              scale1: { value: 90, min: 50, max: 100 },
              scale2: { value: 85, min: 50, max: 100 },
              z0: { value: 5, min: -180, max: 180 },
              z1: { value: 5, min: -180, max: 180 },
              z2: { value: 5, min: -180, max: 180 },
              color0: { value: 85, min: 0, max: 100 },
              color1: { value: 30, min: 0, max: 100 },
              color2: { value: 0, min: 0, max: 100 },
              waveSpeed: { value: 60, min: 0, max: 200 },
            }),
            (this.menu = {
              offsetA: { value: 780, min: 0, max: 800 },
              offsetB: { value: 190, min: 0, max: 300 },
              speed: { value: 12, min: 0, max: 30 },
            }),
            (this.detail = {
              rate: { value: 0, min: 0, max: 100 },
              imgNoiseOffsetA: { value: 3200, min: 0, max: 1e4 },
              imgNoiseOffsetB: { value: 88, min: 0, max: 1e3 },
              imgNoiseSpeed: { value: 100, min: 0, max: 100 },
              imgNoiseAddX: { value: 400, min: 0, max: 1e3 },
              imgNoiseAddY: { value: 100, min: 0, max: 1e3 },
            }),
            (this.transition = {
              speed: { value: 0, min: 0, max: 1e3 },
              white: { value: 40, min: 0, max: 200 },
              rate: { value: 0, min: 0, max: 100 },
              kake1: { value: 100, min: 0, max: 1e3 },
              kake2: { value: 270, min: 0, max: 2e3 },
              scale0: { value: 100, min: 50, max: 100 },
              scale1: { value: 90, min: 50, max: 100 },
              scale2: { value: 80, min: 50, max: 100 },
              z0: { value: 5, min: -180, max: 180 },
              z1: { value: 4, min: -180, max: 180 },
              z2: { value: 6, min: -180, max: 180 },
              color0: { value: 32, min: 0, max: 100 },
              color1: { value: 61, min: 0, max: 100 },
              color2: { value: 100, min: 0, max: 100 },
              waveSpeed: { value: 60, min: 0, max: 200 },
            }),
            (this.cloud = {
              alpha: { value: 41, min: 0, max: 100 },
              strength: { value: 275, min: 0, max: 300 },
              speed: { value: 287, min: 0, max: 1e3 },
            }),
            (this.header = {
              offsetA: { value: 200, min: 0, max: 300 },
              offsetB: { value: 450, min: 0, max: 800 },
              speed: { value: 30, min: 0, max: 60 },
              kake: { value: 10, min: 1, max: 30 },
            }),
            this._init();
        }
        return (
          (t.prototype._init = function () {
            if (
              (l.add(this._update),
              o.add(this._resize, !0),
              this._update(),
              n.FLG.PARAM)
            )
              return (
                (this._gui = new c.GUI()),
                this._addGui(this.header, "header"),
                $(".dg").css("zIndex", 99999999)
              );
          }),
          (t.prototype._addGui = function (t, e) {
            var i, n, r, s;
            (i = this._gui.addFolder(e)), (r = []);
            for (n in t)
              (s = t[n]),
                null == s.use
                  ? n.indexOf("color") > 0
                    ? r.push(i.addColor(s, "value").name(n))
                    : null != s.list
                    ? r.push(i.add(s, "value", s.list).name(n))
                    : r.push(i.add(s, "value", s.min, s.max).name(n))
                  : r.push(void 0);
            return r;
          }),
          (t.prototype._listen = function (t, e) {
            return (
              null == e && (e = t), this._gui.add(this, t).name(e).listen()
            );
          }),
          (t.prototype._update = function () {
            return (
              (this.showPage = l.cnt >= 60),
              (this.isFirstView = this.scroll < r.sh())
            );
          }),
          (t.prototype._resize = function () {}),
          t
        );
      })()),
      (t.exports = new s());
  },
  function (t, e) {
    var i,
      n = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      };
    (i = (function () {
      function t() {
        (this.kill = n(this.kill, this)),
          (this.set = n(this.set, this)),
          (this.a = n(this.a, this));
      }
      return (
        (t.prototype.a = function (t, e, i, n, r, s, o, a) {
          var h, l, u, c;
          TweenMax.killTweensOf(t), (h = {}), (u = {});
          for (l in e)
            (c = e[l]),
              null != c[0] ? ((h[l] = c[0]), (u[l] = c[1])) : (u[l] = c);
          return (
            (h.force3D = !0),
            TweenMax.set(t, h),
            null != r ? (u.ease = r) : (u.ease = Power0.easeNone),
            null != n && (u.delay = n),
            null != s && (u.onStart = s),
            null != o && (u.onUpdate = o),
            null != a && (u.onComplete = a),
            (u.force3D = !0),
            TweenMax.to(t, i, u)
          );
        }),
        (t.prototype.set = function (t, e) {
          return (e.force3D = !0), TweenMax.set(t, e);
        }),
        (t.prototype.kill = function (t) {
          return TweenMax.killTweensOf(t);
        }),
        t
      );
    })()),
      (t.exports = new i());
  },
  function (t, e) {
    var i;
    (i = (function () {
      function t() {
        (this.SCREEN = { XS: 0, LG: 1 }),
          (this.FPS = { HIGH: 0, MID: 1, LOW: 2, NONE: 3 }),
          (this.PAGE = { TOP: 0, PORTFOLIO: 1, ABOUT: 2, PORTFOLIO_DETAIL: 3 }),
          (this.MOUSE = {
            NORMAL: 0,
            HOVER: 1,
            VIEW: 2,
            CLOSE: 3,
            LOADING: 4,
            PF: 5,
          }),
          (this.HEADER = { NORMAL: 0, MENU: 1, DETAIL: 2 });
      }
      return t;
    })()),
      (t.exports = new i());
  },
  function (t, e, i) {
    var n,
      r,
      s = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      };
    (r = i(3)),
      (n = (function () {
        function t() {
          (this.oldSize = s(this.oldSize, this)),
            (this.size = s(this.size, this)),
            (this.sh = s(this.sh, this)),
            (this.sw = s(this.sw, this)),
            (this._setStageSize = s(this._setStageSize, this)),
            (this._call = s(this._call, this)),
            (this._eResize = s(this._eResize, this)),
            (this.refresh = s(this.refresh, this)),
            (this._init = s(this._init, this)),
            (this._resizeList = []),
            (this._size = { width: 0, height: 0 }),
            (this._oldSize = { width: 0, height: 0 }),
            this._timer,
            (this._isReadyCall = !1),
            this._init();
        }
        return (
          (t.prototype._init = function () {
            return (
              window.addEventListener("resize", this._eResize),
              this._setStageSize()
            );
          }),
          (t.prototype.add = function (t, e) {
            if ((this._resizeList.push(t), null != e && e))
              return t(this._size);
          }),
          (t.prototype.remove = function (t) {
            var e, i, n, r, s, o;
            for (
              e = [], s = this._resizeList, i = n = 0, r = s.length;
              n < r;
              i = ++n
            )
              (o = s[i]), o !== t && e.push(o);
            return (this._resizeList = e);
          }),
          (t.prototype.refresh = function () {
            return this._call();
          }),
          (t.prototype._eResize = function (t) {
            if (
              !(
                this._isReadyCall ||
                (isMobile.any && window.innerWidth === this._size.width)
              )
            )
              return (
                this._setStageSize(),
                null != this._timer &&
                  (clearInterval(this._timer), (this._timer = null)),
                (this._timer = setTimeout(this._call, 1e3))
              );
          }),
          (t.prototype._call = function () {
            var t, e, i, n, r;
            for (n = this._resizeList, t = e = 0, i = n.length; e < i; t = ++e)
              (r = n[t])(this._size);
            return (this._isReadyCall = !1);
          }),
          (t.prototype._setStageSize = function () {
            return (
              (this._oldSize.width = this._size.width),
              (this._oldSize.height = this._size.height),
              (this._size.width = window.innerWidth),
              (this._size.height = window.innerHeight)
            );
          }),
          (t.prototype.sw = function () {
            return this._setStageSize(), this._size.width;
          }),
          (t.prototype.sh = function () {
            return this._setStageSize(), this._size.height;
          }),
          (t.prototype.size = function () {
            return this._size;
          }),
          (t.prototype.oldSize = function () {
            return this._oldSize;
          }),
          t
        );
      })()),
      (t.exports = new n());
  },
  function (t, e) {
    var i,
      n = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      };
    (i = (function () {
      function t() {
        (this._slice = n(this._slice, this)),
          (this._update = n(this._update, this)),
          (this.remove = n(this.remove, this)),
          (this.add = n(this.add, this)),
          (this._registFunc = []),
          this._init();
      }
      return (
        (t.prototype._init = function () {
          var t;
          return (t = window.requestAnimationFrame(this._update));
        }),
        (t.prototype.add = function (t, e) {
          return (
            this._slice(),
            this._registFunc.push({ f: t, d: Number(e), flg: !0 })
          );
        }),
        (t.prototype.remove = function (t) {
          var e, i, n, r, s, o;
          for (
            e = [], s = this._registFunc, i = n = 0, r = s.length;
            n < r;
            i = ++n
          )
            (o = s[i]), null != o && o.f !== t && e.push(o);
          return (this._registFunc = e);
        }),
        (t.prototype._update = function () {
          var t, e, i, n, r;
          for (n = this._registFunc, t = e = 0, i = n.length; e < i; t = ++e)
            (r = n[t]),
              null != r && r.flg && --r.d <= 0 && (r.f(), (r.flg = !1));
          return window.requestAnimationFrame(this._update);
        }),
        (t.prototype._slice = function () {
          var t, e, i, n, r, s, o, a, h;
          for (o = this._registFunc, t = e = 0, n = o.length; e < n; t = ++e)
            (h = o[t]), null == h || h.flg || (this._registFunc[t] = null);
          for (
            s = [], a = this._registFunc, t = i = 0, r = a.length;
            i < r;
            t = ++i
          )
            (h = a[t]), null != h && s.push(h);
          return (this._registFunc = s);
        }),
        t
      );
    })()),
      (t.exports = new i());
  },
  function (t, e) {
    var i,
      n = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      };
    (i = (function () {
      function t() {
        (this._update = n(this._update, this)),
          (this.remove = n(this.remove, this)),
          (this.add = n(this.add, this)),
          (this.cnt = 0),
          (this._updateList = []),
          (this.play = !0),
          this._init();
      }
      return (
        (t.prototype._init = function () {
          var t;
          return (t = window.requestAnimationFrame(this._update));
        }),
        (t.prototype.add = function (t) {
          return this._updateList.push(t);
        }),
        (t.prototype.remove = function (t) {
          var e, i, n, r, s, o;
          for (
            e = [], s = this._updateList, i = n = 0, r = s.length;
            n < r;
            i = ++n
          )
            (o = s[i]), o !== t && e.push(o);
          return (this._updateList = e);
        }),
        (t.prototype._update = function () {
          var t, e, i, n, r;
          if (this.play)
            for (
              this.cnt++, n = this._updateList, t = e = 0, i = n.length;
              e < i;
              t = ++e
            )
              (r = n[t]), null != r && r();
          return window.requestAnimationFrame(this._update);
        }),
        t
      );
    })()),
      (t.exports = new i());
  },
  function (t, e) {
    var i,
      n = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      };
    (i = (function () {
      function t(t, e) {
        (this.copy = n(this.copy, this)),
          (this.set = n(this.set, this)),
          (this.equal = n(this.equal, this)),
          (this.max = n(this.max, this)),
          (this.min = n(this.min, this)),
          (this.height2 = n(this.height2, this)),
          (this.width2 = n(this.width2, this)),
          (this.width = t || 0),
          (this.height = e || 0);
      }
      return (
        (t.prototype.width2 = function () {
          return ~~(0.5 * this.width);
        }),
        (t.prototype.height2 = function () {
          return ~~(0.5 * this.height);
        }),
        (t.prototype.min = function () {
          return Math.min(this.width, this.height);
        }),
        (t.prototype.max = function () {
          return Math.max(this.width, this.height);
        }),
        (t.prototype.equal = function (t, e) {
          return this.width === t && this.height === e;
        }),
        (t.prototype.set = function (t, e) {
          return (this.width = t), (this.height = e);
        }),
        (t.prototype.copy = function (t) {
          return (this.width = t.width), (this.height = t.height);
        }),
        t
      );
    })()),
      (t.exports = i);
  },
  function (t, e) {
    var i,
      n = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      };
    (i = (function () {
      function t(t, e, i) {
        (this.set = n(this.set, this)),
          (this.copy = n(this.copy, this)),
          (this.subtract = n(this.subtract, this)),
          (this.x = t || 0),
          (this.y = e || 0),
          (this.z = i || 0);
      }
      return (
        (t.prototype.subtract = function (e) {
          return new t(this.x - e.x, this.y - e.y);
        }),
        (t.prototype.copy = function (t) {
          return (this.x = t.x), (this.y = t.y), (this.z = t.z);
        }),
        (t.prototype.set = function (t, e, i) {
          return (this.x = t || 0), (this.y = e || 0), (this.z = i || 0);
        }),
        t
      );
    })()),
      (t.exports = i);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      _ = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) g.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      g = {}.hasOwnProperty;
    (l = i(7)),
      (d = i(9)),
      (f = i(3)),
      (r = i(8)),
      (s = i(78)),
      (h = i(11)),
      (u = i(10)),
      (o = i(2)),
      (n = i(1)),
      (p = i(6)),
      (c = i(5)),
      (a = (function (t) {
        function e(t) {
          (this.set = m(this.set, this)),
            (this.a = m(this.a, this)),
            (this.val = m(this.val, this)),
            (this.isLG = m(this.isLG, this)),
            (this.isXS = m(this.isXS, this)),
            (this.sh2 = m(this.sh2, this)),
            (this.sw2 = m(this.sw2, this)),
            (this.sh = m(this.sh, this)),
            (this.sw = m(this.sw, this)),
            (this._resize = m(this._resize, this)),
            (this._update = m(this._update, this)),
            (this.half = m(this.half, this)),
            (this.isSP = m(this.isSP, this)),
            (this.isPC = m(this.isPC, this)),
            (this.clickable = m(this.clickable, this)),
            (this.setFinish = m(this.setFinish, this)),
            (this.getVisible = m(this.getVisible, this)),
            (this.setVisible = m(this.setVisible, this)),
            (this.setActive = m(this.setActive, this)),
            (this.getData = m(this.getData, this)),
            (this.dispose = m(this.dispose, this)),
            (this.setHover = m(this.setHover, this)),
            (this.init = m(this.init, this)),
            null == t && (t = {}),
            null == t.resize && (t.resize = !1),
            null == t.update && (t.update = !1),
            e.__super__.constructor.call(this, t),
            (this._cnt = 0),
            (this.isActive = !0),
            (this.myParam = {});
        }
        return (
          _(e, t),
          (e.prototype.init = function () {
            if (
              (e.__super__.init.call(this),
              this._opt.resize && l.add(this._resize),
              this._opt.update)
            )
              return d.add(this._update);
          }),
          (e.prototype.setHover = function (t, e, i) {
            return this.el()
              .on("mouseenter", t)
              .on("mouseleave", e)
              .on("click", i);
          }),
          (e.prototype.dispose = function () {
            return (
              l.remove(this._resize),
              d.remove(this._update),
              (this.myParam = null),
              e.__super__.dispose.call(this)
            );
          }),
          (e.prototype.getData = function (t) {
            return this.el().attr("data-" + t);
          }),
          (e.prototype.setActive = function (t) {
            return (
              t
                ? this.isActive || this.removeClass("is-none")
                : this.isActive && this.addClass("is-none"),
              (this.isActive = t)
            );
          }),
          (e.prototype.setVisible = function (t) {
            return t ? this.removeClass("is-none") : this.addClass("is-none");
          }),
          (e.prototype.getVisible = function () {
            return !this.el().hasClass("is-none");
          }),
          (e.prototype.setFinish = function (t) {
            return t
              ? this.addClass("is-finish")
              : this.removeClass("is-finish");
          }),
          (e.prototype.clickable = function (t) {
            var e;
            return (
              (e = "is-noPointer"),
              null == t
                ? !this.el().hasClass(e)
                : t
                ? this.el().removeClass(e)
                : this.el().addClass(e)
            );
          }),
          (e.prototype.isPC = function () {
            return !isMobile.any;
          }),
          (e.prototype.isSP = function () {
            return isMobile.any;
          }),
          (e.prototype.half = function (t) {
            return ~~(0.5 * t);
          }),
          (e.prototype._update = function () {
            return this._cnt++;
          }),
          (e.prototype._resize = function (t) {}),
          (e.prototype.sw = function () {
            return l.sw();
          }),
          (e.prototype.sh = function () {
            return l.sh();
          }),
          (e.prototype.sw2 = function () {
            return ~~(0.5 * l.sw());
          }),
          (e.prototype.sh2 = function () {
            return ~~(0.5 * l.sh());
          }),
          (e.prototype.isXS = function () {
            return o.screen() === p.SCREEN.XS;
          }),
          (e.prototype.isLG = function () {
            return o.screen() === p.SCREEN.LG;
          }),
          (e.prototype.val = function (t, e) {
            return this.isXS() ? t : e;
          }),
          (e.prototype.a = function (t, e, i, n, r, s, o) {
            return c.a(
              this.el(),
              t,
              e,
              i,
              n,
              (function (t) {
                return function () {
                  if ((t.addClass("is-start"), null != r)) return r();
                };
              })(this),
              s,
              o
            );
          }),
          (e.prototype.set = function (t) {
            return c.set(this.el(), t);
          }),
          e
        );
      })(s)),
      (t.exports = a);
  },
  function (t, e) {
    var i,
      n = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      };
    (i = (function () {
      function t(t) {
        (this.toTg = n(this.toTg, this)), (this.val = t), (this.tg = this.val);
      }
      return (
        (t.prototype.toTg = function (t) {
          return (this.val += (this.tg - this.val) * t);
        }),
        t
      );
    })()),
      (t.exports = i);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      };
    (o = i(4)),
      (n = i(1)),
      (r = i(2)),
      (l = i(3)),
      (a = i(11)),
      (h = i(9)),
      (s = (function () {
        function t() {
          (this._eMouseUp = u(this._eMouseUp, this)),
            (this._eMouseDown = u(this._eMouseDown, this)),
            (this._eMouseMove = u(this._eMouseMove, this)),
            (this.update = u(this.update, this)),
            (this.getTouchPoint = u(this.getTouchPoint, this)),
            (this._eTouchEnd = u(this._eTouchEnd, this)),
            (this._eTouchStart = u(this._eTouchStart, this)),
            (this._eTouchMove = u(this._eTouchMove, this)),
            (this._init = u(this._init, this)),
            (this.x = 0),
            (this.y = 0),
            (this.p = new a()),
            (this.old = new a()),
            (this.dist = new a()),
            (this.start = new a()),
            (this.cnt = 0),
            (this.moveDist = new a()),
            (this.moveDist2 = new a()),
            (this.follow = new a()),
            (this.moveFollow = new a()),
            (this.normal = new THREE.Vector2()),
            (this.three = new a(0, 0)),
            (this.isTouch = !1),
            (this.isMove = !1),
            (this.useSwipe = !1),
            (this.isCancelable = !0),
            (this.isForceCancel = !1),
            (this.onSwipe = []),
            (this.onTouchStart = []),
            (this.onTouchEnd = []),
            (this.onMouseDown = []),
            (this.onMouseUp = []),
            this._init();
        }
        return (
          (t.prototype._init = function () {
            return (
              (this.x = 0.5 * r.sw()),
              (this.y = 0.5 * r.sh()),
              isMobile.any
                ? (window.addEventListener("touchmove", this._eTouchMove, {
                    passive: !1,
                  }),
                  window.addEventListener("touchstart", this._eTouchStart, {
                    passive: !1,
                  }),
                  window.addEventListener("touchend", this._eTouchEnd, {
                    passive: !1,
                  }))
                : ($(window).on("mousedown", this._eMouseDown),
                  $(window).on("mouseup", this._eMouseUp),
                  $(window).on("mousemove", this._eMouseMove)),
              h.add(this.update)
            );
          }),
          (t.prototype._eTouchMove = function (t) {
            var e;
            if (
              ((e = this.getTouchPoint()),
              this.useSwipe &&
                ((this.follow.x = e.x - this.x),
                (this.follow.y = e.y - this.y),
                event.cancelable &&
                  this.isCancelable &&
                  event.preventDefault()),
              (this.dist.y = e.y - this.y),
              (this.x = this.p.x = e.x),
              (this.y = this.p.y = e.y),
              this.isForceCancel)
            )
              return event.preventDefault();
          }),
          (t.prototype._eTouchStart = function (t) {
            var e, i, n, s, o, a, h, u, c;
            for (
              this.cnt = 0,
                this.isTouch = !0,
                o = this.getTouchPoint(),
                this.x = this.p.x = o.x,
                this.y = this.p.y = o.y,
                c = r.sw(),
                e = r.sh(),
                this.normal.x = l.map(this.p.x, -1, 1, 0, c),
                this.normal.y = l.map(this.p.y, -1, 1, 0, e),
                this.three.x = l.map(this.p.x, 0.5 * -c, 0.5 * c, 0, c),
                this.three.y = l.map(this.p.y, 0.5 * e, 0.5 * -e, 0, e),
                this.start.x = o.x,
                this.start.y = o.y,
                this.moveFollow.y = 0,
                this.moveDist.y = 0,
                this.dist.y = 0,
                a = this.onTouchStart,
                h = [],
                i = n = 0,
                s = a.length;
              n < s;
              i = ++n
            )
              (u = a[i]), null != u ? h.push(u()) : h.push(void 0);
            return h;
          }),
          (t.prototype._eTouchEnd = function (t) {
            var e, i, n, r, s, o, a, h;
            for (
              this.isTouch = !1,
                this.moveFollow.y = this.dist.y,
                o = this.onTouchEnd,
                e = i = 0,
                r = o.length;
              i < r;
              e = ++i
            )
              (h = o[e]), null != h && h();
            if (this.useSwipe && Math.abs(this.follow.x) > 1) {
              for (a = this.onSwipe, e = n = 0, s = a.length; n < s; e = ++n)
                (h = a[e]), null != h && h(this.follow);
              return (this.follow.x = 0), (this.follow.y = 0);
            }
          }),
          (t.prototype.getTouchPoint = function () {
            var t, e;
            return (
              (t = new a()),
              (e = event.touches),
              null != e &&
                e.length > 0 &&
                ((t.x = e[0].pageX), (t.y = e[0].pageY)),
              t
            );
          }),
          (t.prototype.update = function () {
            var t, e, i, n, s, o, a;
            return (
              (s = r.sw()),
              (n = r.sh()),
              this.cnt++,
              (o = l.map(this.p.x, -1, 1, 0, s)),
              (a = l.map(this.p.y, -1, 1, 0, n)),
              (e = o - this.normal.x),
              (i = a - this.normal.y),
              (t = Math.sqrt(e * e + i * i)),
              (this.isMove = t > 0.001),
              (this.moveDist.x = this.start.x - this.p.x),
              (this.moveDist.y = this.start.y - this.p.y),
              (this.normal.x = o),
              (this.normal.y = a),
              (this.three.x = l.map(this.p.x, 0.5 * -s, 0.5 * s, 0, s)),
              (this.three.y = l.map(this.p.y, 0.5 * n, 0.5 * -n, 0, n)),
              (this.moveFollow.y += 0.1 * (0 - this.moveFollow.y))
            );
          }),
          (t.prototype._eMouseMove = function (t) {
            return (
              this.old.copy(this.p),
              (this.x = this.p.x = t.clientX),
              (this.y = this.p.y = t.clientY),
              (this.follow.x = this.old.x - this.x),
              (this.follow.y = this.old.y - this.y)
            );
          }),
          (t.prototype._eMouseDown = function (t) {
            var e, i, n, r, s, o;
            for (
              this.isTouch = !0,
                this._eMouseMove(t),
                this.start.x = this.p.x,
                this.start.y = this.p.y,
                r = this.onMouseDown,
                s = [],
                e = i = 0,
                n = r.length;
              i < n;
              e = ++i
            )
              (o = r[e]), null != o ? s.push(o()) : s.push(void 0);
            return s;
          }),
          (t.prototype._eMouseUp = function (t) {
            var e, i, n, r, s, o;
            for (
              this.isTouch = !1,
                r = this.onMouseUp,
                s = [],
                e = i = 0,
                n = r.length;
              i < n;
              e = ++i
            )
              (o = r[e]), null != o ? s.push(o()) : s.push(void 0);
            return s;
          }),
          t
        );
      })()),
      (t.exports = new s());
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      l = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) u.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      u = {}.hasOwnProperty;
    (s = i(4)),
      (n = i(1)),
      (o = i(5)),
      (a = i(3)),
      (r = (function (t) {
        function e(t) {
          (this.fadeOut = h(this.fadeOut, this)),
            (this.fadeIn = h(this.fadeIn, this)),
            (this.scaleIn = h(this.scaleIn, this)),
            (this.height = h(this.height, this)),
            (this.width = h(this.width, this)),
            (this.setWidth = h(this.setWidth, this)),
            (this.size = h(this.size, this)),
            (this.alpha = h(this.alpha, this)),
            (this.uni = h(this.uni, this)),
            (this.dispose = h(this.dispose, this)),
            (this.init = h(this.init, this)),
            e.__super__.constructor.call(this),
            (this._opt = t || {}),
            this._mesh;
        }
        return (
          l(e, t),
          (e.prototype.init = function () {
            return (
              (this._mesh = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(1, 1),
                new THREE.ShaderMaterial({
                  vertexShader: i(19),
                  fragmentShader: i(114),
                  transparent: !0,
                  side: THREE.DoubleSide,
                  uniforms: {
                    tDiffuse: { value: this._opt.tex },
                    alpha: { value: 1 },
                    bright: { value: 0 },
                    contrast: { value: 0 },
                  },
                })
              )),
              this.add(this._mesh)
            );
          }),
          (e.prototype.dispose = function () {
            return (
              null != this._mesh &&
                (this.remove(this._mesh),
                this._mesh.material.dispose(),
                this._mesh.geometry.dispose(),
                (this._mesh = null)),
              (this._opt = null)
            );
          }),
          (e.prototype.uni = function () {
            return this._mesh.material.uniforms;
          }),
          (e.prototype.alpha = function (t) {
            return (
              (this._mesh.material.uniforms.alpha.value = t),
              (this.visible = t > 0)
            );
          }),
          (e.prototype.size = function (t) {
            return null != t
              ? this._mesh.scale.set(t, t, 1)
              : this._mesh.scale.x;
          }),
          (e.prototype.setWidth = function (t) {
            var e, i;
            if (this._opt.isCanvas)
              return (
                (i = t),
                (e = (i / this._opt.tex.aspect.x) * this._opt.tex.aspect.y),
                this._mesh.scale.set(i, e, 1)
              );
          }),
          (e.prototype.width = function () {
            return this._mesh.scale.x;
          }),
          (e.prototype.height = function () {
            return this._mesh.scale.y;
          }),
          (e.prototype.scaleIn = function (t) {
            var e;
            return (
              (e = t.ease || null),
              o.a(this.uni().alpha, { value: [0, 1] }, t.duration, t.delay, e),
              null != t.bright &&
                o.a(
                  this.uni().bright,
                  { value: [t.bright, 0] },
                  t.duration,
                  t.delay,
                  e
                ),
              o.a(
                this.scale,
                { x: [t.scale, 1], y: [t.scale, 1] },
                t.duration,
                t.delay,
                e,
                t.onStart,
                null,
                t.onComplete
              )
            );
          }),
          (e.prototype.fadeIn = function (t) {
            var e, i, r;
            return (
              (t = t || {}),
              (r = t.duration || 1),
              (e = t.delay || 0),
              (i = t.ease || n.EASE_A),
              null != t.bright &&
                o.a(this.uni().bright, { value: [t.bright, 0] }, r, e, i),
              o.a(
                this.uni().alpha,
                { value: 1 },
                r,
                e,
                i,
                t.onStart,
                null,
                t.onComplete
              )
            );
          }),
          (e.prototype.fadeOut = function (t) {
            var e, i, r;
            return (
              (t = t || {}),
              (r = t.duration || 1),
              (e = t.delay || 0),
              (i = t.ease || n.EASE_A),
              null != t.bright &&
                o.a(this.uni().bright, { value: [0, t.bright] }, r, e, i),
              o.a(
                this.uni().alpha2,
                { value: 0 },
                r,
                e,
                i,
                t.onStart,
                null,
                t.onComplete
              )
            );
          }),
          e
        );
      })(THREE.Object3D)),
      (t.exports = r);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      c = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) p.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      p = {}.hasOwnProperty;
    (o = i(4)),
      (n = i(1)),
      (r = i(2)),
      (l = i(3)),
      (h = i(9)),
      (a = i(7)),
      (s = (function (t) {
        function e(t) {
          (this._makeRectMesh = u(this._makeRectMesh, this)),
            (this._resize = u(this._resize, this)),
            (this._update = u(this._update, this)),
            (this.setActive = u(this.setActive, this)),
            (this.dispose = u(this.dispose, this)),
            (this.init = u(this.init, this)),
            e.__super__.constructor.call(this),
            (this.opt = t),
            (this.updateCnt = 0),
            (this.isActive = !0),
            (this.sw = 0),
            (this.sh = 0);
        }
        return (
          c(e, t),
          (e.prototype.init = function () {
            return h.add(this._update), a.add(this._resize);
          }),
          (e.prototype.dispose = function () {
            return a.remove(this._resize), h.remove(this._update);
          }),
          (e.prototype.setActive = function (t) {
            return (this.isActive = t);
          }),
          (e.prototype._update = function () {
            return this.updateCnt++;
          }),
          (e.prototype._resize = function () {
            return (
              (this.sw = window.innerWidth), (this.sh = window.innerHeight)
            );
          }),
          (e.prototype._makeRectMesh = function () {
            var t, e;
            return (
              (t = 11442751),
              (e = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(1, 1, 1),
                new THREE.MeshBasicMaterial({
                  color: t,
                  side: THREE.DoubleSide,
                  transparent: !0,
                  opacity: 1,
                })
              ))
            );
          }),
          e
        );
      })(THREE.Object3D)),
      (t.exports = s);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      };
    (r = i(1)),
      (s = i(2)),
      (a = i(4)),
      (l = i(3)),
      (o = i(58)),
      (n = i(54)),
      (h = (function () {
        function t() {
          (this.add = u(this.add, this)),
            (this.getCanvasTex = u(this.getCanvasTex, this)),
            (this.get = u(this.get, this)),
            (this.check = u(this.check, this)),
            (this._loadedImg = u(this._loadedImg, this)),
            (this._load = u(this._load, this)),
            (this.load = u(this.load, this)),
            this._list,
            (this._tex = []),
            this._num,
            (this._loadedNum = 0),
            this.onComplete,
            this.onProgress,
            (this.isUse3Tex = !l.isIE());
        }
        return (
          (t.prototype.load = function (t) {
            return (
              (this.onComplete = t.onComplete),
              (this.onProgress = t.onProgress),
              0 === t.list.length
                ? void (null != this.onComplete && this.onComplete())
                : ((this._list = t.list), (this._loadedNum = 0), this._load())
            );
          }),
          (t.prototype._load = function () {
            var t, e, i;
            return (
              (t = this._list[this._loadedNum]),
              this.isUse3Tex
                ? ((i = new THREE.TextureLoader()),
                  (i.crossOrigin = "*"),
                  (e = i.load(t.src, this._loadedImg)))
                : ((i = new o()), (e = i.load(t.src, this._loadedImg))),
              this._tex.push({ tex: e, src: t.src })
            );
          }),
          (t.prototype._loadedImg = function (t) {
            return (
              this._loadedNum++,
              null != this.onProgress &&
                this.onProgress(this._loadedNum / this._list.length),
              this._loadedNum >= this._list.length
                ? void (null != this.onComplete && this.onComplete())
                : this._load()
            );
          }),
          (t.prototype.check = function (t) {
            var e, i, n, r, s;
            for (r = this._tex, e = i = 0, n = r.length; i < n; e = ++i)
              if (((s = r[e]), s.src === t)) return !0;
            return !1;
          }),
          (t.prototype.get = function (t) {
            var e, i, n, r, s, a, h;
            for (r = this._tex, e = i = 0, n = r.length; i < n; e = ++i)
              if (((h = r[e]), h.src === t)) return h.tex;
            return (
              this.isUse3Tex
                ? ((s = new THREE.TextureLoader()),
                  (s.crossOrigin = "anonymous"))
                : (s = new o()),
              (a = s.load(t)),
              this._tex.push({ tex: a, src: t }),
              a
            );
          }),
          (t.prototype.getCanvasTex = function (t) {
            var e, i, r, s, o, a, h;
            for (s = this._tex, e = i = 0, r = s.length; i < r; e = ++i)
              if (((h = s[e]), h.src === t)) return h.tex;
            return (
              (o = new n()),
              (a = o.load(t)),
              this._tex.push({ tex: a, src: t }),
              a
            );
          }),
          (t.prototype.add = function (t, e) {
            return this._tex.push({ tex: e, src: t });
          }),
          t
        );
      })()),
      (t.exports = new h());
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      };
    (n = i(1)),
      (a = i(5)),
      (h = i(9)),
      (r = i(7)),
      (o = i(10)),
      (s = (function () {
        function t() {
          (this.move = l(this.move, this)),
            (this.setNormal = l(this.setNormal, this)),
            (this.resume = l(this.resume, this)),
            (this.pause = l(this.pause, this)),
            (this.set = l(this.set, this)),
            (this._resize = l(this._resize, this)),
            (this._update = l(this._update, this)),
            (this._init = l(this._init, this)),
            (this.normal = 0),
            (this.val = 0),
            (this.docSize = new o()),
            (this.old = 0),
            (this.d = 0),
            (this.sw = 0),
            (this.sh = 0),
            (this._cnt = 0),
            (this._buffer = -1),
            (this._move = { tg: 0 }),
            this._init();
        }
        return (
          (t.prototype._init = function () {
            return h.add(this._update), r.add(this._resize, !0), this._update();
          }),
          (t.prototype._update = function () {
            return (
              this._cnt++,
              (this.old = this.val),
              (this.val = $(window).scrollTop()),
              (this.d = Math.abs(this.old - this.val))
            );
          }),
          (t.prototype._resize = function () {
            return (
              (this.docSize.height = $(document).height()),
              (this.sw = window.innerWidth),
              (this.sh = window.innerHeight)
            );
          }),
          (t.prototype.set = function (t) {
            return (
              $(window).scrollTop(t), (this.old = this.val = t), (this.d = 0)
            );
          }),
          (t.prototype.pause = function () {
            return (
              (this._buffer =
                $(window).scrollTop() /
                ($(document).height() - window.innerHeight)),
              this.setNormal(0)
            );
          }),
          (t.prototype.resume = function () {
            if (this._buffer !== -1)
              return this.setNormal(this._buffer), (this._buffer = -1);
          }),
          (t.prototype.setNormal = function (t) {
            var e;
            return (
              (e = ($(document).height() - window.innerHeight) * t),
              $(window).scrollTop(e)
            );
          }),
          (t.prototype.move = function (t) {
            var e, i;
            return (
              (i = t.duration || 1),
              (e = t.delay || 0),
              (this._move.tg = $(window).scrollTop()),
              a.a(
                this._move,
                { tg: t.tg },
                i,
                e,
                Power2.easeInOut,
                null,
                (function (t) {
                  return function () {
                    return $(window).scrollTop(t._move.tg);
                  };
                })(this)
              )
            );
          }),
          t
        );
      })()),
      (t.exports = new s());
  },
  function (t, e) {
    t.exports =
      "#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main(){\n\n  vUv = uv;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\n}\n";
  },
  function (t, e, i) {
    var n,
      r,
      s = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      o = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) a.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      a = {}.hasOwnProperty;
    (r = i(2)),
      (n = (function (t) {
        function e(t) {
          (this.size = s(this.size, this)),
            (this.clear = s(this.clear, this)),
            (this.render = s(this.render, this)),
            (this.texture = s(this.texture, this)),
            (this.dispose = s(this.dispose, this)),
            (this.init = s(this.init, this)),
            e.__super__.constructor.call(this),
            (this.opt = t || {}),
            (this._tgNum = this.opt.num || 1),
            (this._texture = []),
            (this._isFloat = !isMobile.any),
            (this.texNum = this._tgNum);
        }
        return (
          o(e, t),
          (e.prototype.init = function () {
            var t, e, i, n;
            for (t = 0, i = []; t < this._tgNum; )
              (e =
                null != this.opt.param
                  ? this.opt.param
                  : {
                      depthBuffer: !1,
                      stencilBuffer: !1,
                      magFilter: THREE.NearestFilter,
                      minFilter: THREE.NearestFilter,
                      wrapS: THREE.ClampToEdgeWrapping,
                      wrapT: THREE.ClampToEdgeWrapping,
                    }),
                (n = new THREE.WebGLRenderTarget(16, 16, e)),
                this._texture.push(n),
                i.push(t++);
            return i;
          }),
          (e.prototype.dispose = function () {
            var t, e, i, n, r;
            for (n = this._texture, t = e = 0, i = n.length; e < i; t = ++e)
              (r = n[t]), r.dispose();
            return (this._texture = null);
          }),
          (e.prototype.texture = function (t) {
            return null == t && (t = 0), this._texture[t].texture;
          }),
          (e.prototype.render = function (t, e, i, n) {
            var r;
            return (
              null == n && (n = !0),
              null == i && (i = 0),
              (r = this._texture[i]),
              t.setRenderTarget(r),
              n && t.clearColor(),
              t.render(this, e, r)
            );
          }),
          (e.prototype.clear = function (t) {
            var e, i, n, r, s, o;
            for (
              r = this._texture, s = [], e = i = 0, n = r.length;
              i < n;
              e = ++i
            )
              (o = r[e]), s.push(t.clearTarget(o, !0));
            return s;
          }),
          (e.prototype.size = function (t, e, i) {
            var n, s, o, a, h, l;
            for (
              null == i && (i = r.ratio()),
                isMobile.any && (t * i > 4096 || e * i > 4096) && (i = 1),
                a = this._texture,
                h = [],
                n = s = 0,
                o = a.length;
              s < o;
              n = ++s
            )
              (l = a[n]), h.push(l.setSize(t * i, e * i));
            return h;
          }),
          e
        );
      })(THREE.Scene)),
      (t.exports = n);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      p = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) d.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      d = {}.hasOwnProperty;
    (o = i(12)),
      (a = i(4)),
      (r = i(1)),
      (s = i(2)),
      (l = i(6)),
      (u = i(3)),
      (h = i(26)),
      (n = (function (t) {
        function e(t) {
          (this.isNowRenderFrame = c(this.isNowRenderFrame, this)),
            (this._makeMainScene = c(this._makeMainScene, this)),
            (this._makeRenderer = c(this._makeRenderer, this)),
            (this._updateOrthographicCamera = c(
              this._updateOrthographicCamera,
              this
            )),
            (this._updatePerspectiveCamera = c(
              this._updatePerspectiveCamera,
              this
            )),
            (this.updateCamera = c(this.updateCamera, this)),
            (this._makeCamera = c(this._makeCamera, this)),
            (this._resize = c(this._resize, this)),
            (this._update = c(this._update, this)),
            (this.dispose = c(this.dispose, this)),
            (this.init = c(this.init, this)),
            e.__super__.constructor.call(this, {
              update: !0,
              resize: !0,
              el: t.el,
            }),
            this.camera,
            this.renderer,
            this.mainScene,
            this.renderParam,
            (this.isOrthographic = !1),
            (this.isRender = !0),
            (this.fps = l.FPS.HIGH),
            (this._renderSize = new THREE.Vector2()),
            (this.renderCnt = 0);
        }
        return (
          p(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              this._makeRenderer(),
              this._makeMainScene()
            );
          }),
          (e.prototype.dispose = function () {
            return (
              (this.camera = null),
              (this.mainScene = null),
              this.renderer.forceContextLoss(),
              (this.renderer.context = null),
              (this.renderer.domElement = null),
              this.renderer.dispose(),
              (this.renderer = null),
              e.__super__.dispose.call(this)
            );
          }),
          (e.prototype._update = function () {
            return (
              e.__super__._update.call(this),
              (this.renderer.autoClear = !0),
              this.renderer.render(this.mainScene, this.camera)
            );
          }),
          (e.prototype._resize = function () {
            var t, e;
            return (
              (e = window.innerWidth),
              (t = window.innerHeight),
              (this.camera.aspect = e / t),
              this.camera.updateProjectionMatrix(),
              this.renderer.setPixelRatio(s.ratio()),
              this.renderer.setSize(e, t, !0),
              this.renderer.clear()
            );
          }),
          (e.prototype._makeCamera = function (t) {
            return (
              (t = t || {}),
              (this.isOrthographic = t.isOrthographic),
              this.isOrthographic
                ? new THREE.OrthographicCamera()
                : new THREE.PerspectiveCamera(30, 1, 0.1, 5e4)
            );
          }),
          (e.prototype.updateCamera = function (t, e, i) {
            return this.isOrthographic
              ? this._updateOrthographicCamera(t, e, i)
              : this._updatePerspectiveCamera(t, e, i);
          }),
          (e.prototype._updatePerspectiveCamera = function (t, e, i) {
            return (
              (e = e || 10),
              (i = i || 10),
              (t.aspect = e / i),
              t.updateProjectionMatrix(),
              (t.position.z = i / Math.tan((t.fov * Math.PI) / 360) / 2)
            );
          }),
          (e.prototype._updateOrthographicCamera = function (t, e, i) {
            return (
              (e = e || 10),
              (i = i || 10),
              (t.left = 0.5 * -e),
              (t.right = 0.5 * e),
              (t.top = 0.5 * i),
              (t.bottom = 0.5 * -i),
              (t.near = 0.1),
              (t.far = 1e4),
              (t.zoom = 1),
              t.updateProjectionMatrix(),
              t.position.set(0, 0, 1),
              t.lookAt(new THREE.Vector3(0, 0, 0))
            );
          }),
          (e.prototype._makeRenderer = function () {
            if (
              (null == this.renderParam &&
                (this.renderParam = {
                  canvas: this.el().get(0),
                  alpha: !0,
                  antialias: !1,
                  stencil: !1,
                  depth: !0,
                  powerPreference: "low-power",
                }),
              u.isIE() && delete this.renderParam.depth,
              (this.renderer = new THREE.WebGLRenderer(this.renderParam)),
              (this.renderer.autoClear = !0),
              this.renderer.setClearColor(16777215, 0),
              u.isSafari() || u.isFF())
            )
              return (this.renderer.context.getShaderInfoLog = (function (t) {
                return function () {
                  return "";
                };
              })(this));
          }),
          (e.prototype._makeMainScene = function () {
            return (this.mainScene = new THREE.Scene());
          }),
          (e.prototype.isNowRenderFrame = function () {
            return this._cnt % 2 === 0;
          }),
          e
        );
      })(o)),
      (t.exports = n);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _ = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      g = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) v.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      v = {}.hasOwnProperty;
    (d = i(5)),
      (o = i(12)),
      (a = i(4)),
      (n = i(1)),
      (s = i(2)),
      (f = i(6)),
      (m = i(3)),
      (l = i(7)),
      (r = i(8)),
      (h = i(11)),
      (u = i(10)),
      (p = i(87)),
      (c = (function (t) {
        function e(t) {
          (this._resize = _(this._resize, this)),
            (this._update = _(this._update, this)),
            (this._eHided = _(this._eHided, this)),
            (this.clear = _(this.clear, this)),
            (this.hide = _(this.hide, this)),
            (this.show = _(this.show, this)),
            (this.init = _(this.init, this)),
            e.__super__.constructor.call(this, t),
            null == t.num && (t.num = 1),
            (this._num = 1),
            (this._item = []),
            this._hideOpt,
            (this._isFast = t.isFast);
        }
        return (
          g(e, t),
          (e.prototype.init = function () {
            var t, i, r, s, o, a, h;
            if ((e.__super__.init.call(this), n.IS_SIMPLE))
              d.set(this.el(), { opacity: 0 });
            else {
              for (
                h = this.find("> .text").html(), o = "", i = 0, r = h.length;
                i < r;

              )
                (s = h.substr(i, 1)),
                  (o +=
                    " " === s
                      ? '<span class="is-space"></span>'
                      : "<span>" + s + "</span>"),
                  i++;
              for (this.find("> .text").html(o), t = 0; t < this._num; )
                (a = '<div class="text is-effect">'),
                  (a += o),
                  (a += "</div>"),
                  this.el().prepend(a),
                  t++;
              this.find("> .text").each(
                (function (t) {
                  return function (e, i) {
                    return (
                      (t._item[e] = []),
                      $(i)
                        .find("span")
                        .each(function (n, r) {
                          return (
                            (s = new p({
                              el: $(r),
                              isMain: !$(i).hasClass("is-effect"),
                              isFast: t._isFast,
                            })),
                            s.init(),
                            t._item[e].push(s)
                          );
                        })
                    );
                  };
                })(this)
              );
            }
            return this.addClass("is-deactive");
          }),
          (e.prototype.show = function (t) {
            var e, i, r, o, a, h, l, u, c, p, f;
            if (
              ((t = t || {}),
              null == t.isNext && (t.isNext = !0),
              (null == t.delay || isNaN(t.delay)) && (t.delay = 0),
              n.IS_SIMPLE)
            )
              return (
                this.addClass("is-deactive"),
                d.a(
                  this.el(),
                  { opacity: [0, 1] },
                  0.5,
                  t.delay,
                  null,
                  (function (t) {
                    return function () {
                      return t.removeClass("is-deactive");
                    };
                  })(this),
                  null,
                  t.onComplete
                )
              );
            for (
              this.removeClass("is-deactive"),
                f = s.r(20),
                t.isNext && (f *= -1),
                h = 0.75,
                this._item[0].length < 8 && (h = 1.45),
                d.a(
                  this.el(),
                  { y: [f, 0] },
                  0.375 * this._item[0].length * 0.325 * h,
                  t.delay,
                  Power1.easeInOut
                ),
                r = 0.02109375,
                this._isFast && (r *= 0.5),
                l = this._item,
                u = [],
                e = o = 0,
                a = l.length;
              o < a;
              e = ++o
            )
              (c = l[e]),
                u.push(
                  function () {
                    var n, s, o;
                    for (o = [], i = n = 0, s = c.length; n < s; i = ++n)
                      (p = c[i]),
                        o.push(
                          p.show({
                            isNext: t.isNext,
                            delay: t.delay + 0 * e + i * r,
                            onComplete:
                              e === this._item.length - 1 && i === c.length - 1
                                ? t.onComplete
                                : null,
                          })
                        );
                    return o;
                  }.call(this)
                );
            return u;
          }),
          (e.prototype.hide = function (t) {
            var e, i, r, o, a, h, l, u, c, p;
            if (
              ((t = t || {}),
              null == t.isNext && (t.isNext = !0),
              (null == t.delay || isNaN(t.delay)) && (t.delay = 0),
              (this._hideOpt = t),
              n.IS_SIMPLE)
            )
              return d.a(
                this.el(),
                { opacity: 0 },
                0.5,
                t.delay,
                null,
                null,
                null,
                this._eHided
              );
            for (
              p = 0 * s.r(-20),
                t.isNext && (p *= -1),
                d.a(
                  this.el(),
                  { y: p },
                  0.375 * this._item[0].length * 0.5,
                  t.delay,
                  Power2.easeInOut
                ),
                r = 0.05 * 0.75 * 0.75 * 0.5,
                h = this._item,
                l = [],
                e = o = 0,
                a = h.length;
              o < a;
              e = ++o
            )
              (u = h[e]),
                l.push(
                  function () {
                    var n, s, o;
                    for (o = [], i = n = 0, s = u.length; n < s; i = ++n)
                      (c = u[i]),
                        o.push(
                          c.hide({
                            isNext: t.isNext,
                            delay: t.delay + 0 * e + i * r,
                            onComplete:
                              0 === e && i === u.length - 1
                                ? this._eHided
                                : null,
                          })
                        );
                    return o;
                  }.call(this)
                );
            return l;
          }),
          (e.prototype.clear = function () {
            var t, e, i, r, s, o, a, h;
            if ((this.addClass("is-deactive"), n.IS_SIMPLE))
              return d.set(this.el(), { opacity: 0 });
            for (
              s = this._item, o = [], t = i = 0, r = s.length;
              i < r;
              t = ++i
            )
              (a = s[t]),
                o.push(
                  (function () {
                    var t, i, n;
                    for (n = [], e = t = 0, i = a.length; t < i; e = ++t)
                      (h = a[e]), n.push(h.clear());
                    return n;
                  })()
                );
            return o;
          }),
          (e.prototype._eHided = function () {
            if (
              (this.addClass("is-deactive"), null != this._hideOpt.onComplete)
            )
              return this._hideOpt.onComplete();
          }),
          (e.prototype._update = function () {
            return e.__super__._update.call(this);
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this);
          }),
          e
        );
      })(o)),
      (t.exports = c);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      c = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) p.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      p = {}.hasOwnProperty;
    (o = i(4)),
      (n = i(1)),
      (a = i(5)),
      (r = i(2)),
      (h = i(9)),
      (l = i(3)),
      (s = (function (t) {
        function e(t) {
          (this.fadeOut = u(this.fadeOut, this)),
            (this.fadeIn = u(this.fadeIn, this)),
            (this.scaleIn = u(this.scaleIn, this)),
            (this.height = u(this.height, this)),
            (this.width = u(this.width, this)),
            (this.size2 = u(this.size2, this)),
            (this.size = u(this.size, this)),
            (this.alpha = u(this.alpha, this)),
            (this.uni = u(this.uni, this)),
            (this.getTex = u(this.getTex, this)),
            (this.setTex = u(this.setTex, this)),
            (this._update = u(this._update, this)),
            (this.init = u(this.init, this)),
            e.__super__.constructor.call(this),
            (this._opt = t || {}),
            this._mesh,
            (this.speed = 1);
        }
        return (
          c(e, t),
          (e.prototype.init = function () {
            return (
              null != this._opt.speed && (this.speed = this._opt.speed),
              (this._mesh = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(1, 1),
                new THREE.ShaderMaterial({
                  vertexShader: i(19),
                  fragmentShader: i(119),
                  transparent: !0,
                  side: THREE.DoubleSide,
                  uniforms: {
                    tDiffuse: { value: this._opt.tex },
                    alpha: { value: 1 },
                    offset: { value: new THREE.Vector2() },
                    addNoise: { value: new THREE.Vector2() },
                    time: { value: 0 },
                    noise: { value: 0 },
                    showRate: { value: 0 },
                    bright: { value: 0 },
                  },
                })
              )),
              this.add(this._mesh),
              h.add(this._update)
            );
          }),
          (e.prototype._update = function () {
            var t;
            return (
              (t = this.uni()),
              (t.offset.value.x =
                0.01 * o.detail.imgNoiseOffsetA.value * r.val(0.6, 0.6)),
              (t.offset.value.y = 1e-5 * o.detail.imgNoiseOffsetB.value),
              (t.time.value +=
                0.001 * o.detail.imgNoiseSpeed.value * this.speed),
              (t.addNoise.value.x = 0.01 * o.detail.imgNoiseAddX.value),
              (t.addNoise.value.y = 0.01 * o.detail.imgNoiseAddY.value)
            );
          }),
          (e.prototype.setTex = function (t) {
            return (
              (this._opt.tex = t),
              (this._mesh.material.uniforms.tDiffuse.value = this._opt.tex)
            );
          }),
          (e.prototype.getTex = function () {
            return this._opt.tex;
          }),
          (e.prototype.uni = function () {
            return this._mesh.material.uniforms;
          }),
          (e.prototype.alpha = function (t) {
            return (
              (this._mesh.material.uniforms.alpha.value = t),
              (this.visible = t > 0)
            );
          }),
          (e.prototype.size = function (t) {
            return null != t
              ? this._mesh.scale.set(t, t, 1)
              : this._mesh.scale.x;
          }),
          (e.prototype.size2 = function (t, e) {
            return this._mesh.scale.set(t, e, 1);
          }),
          (e.prototype.width = function () {
            return this._mesh.scale.x;
          }),
          (e.prototype.height = function () {
            return this._mesh.scale.y;
          }),
          (e.prototype.scaleIn = function (t) {
            var e;
            return (
              (e = t.ease || null),
              a.a(this.uni().alpha, { value: [0, 1] }, t.duration, t.delay, e),
              null != t.bright &&
                a.a(
                  this.uni().bright,
                  { value: [t.bright, 0] },
                  t.duration,
                  t.delay,
                  e
                ),
              a.a(
                this.scale,
                { x: [t.scale, 1], y: [t.scale, 1] },
                t.duration,
                t.delay,
                e,
                t.onStart,
                null,
                t.onComplete
              )
            );
          }),
          (e.prototype.fadeIn = function (t) {
            var e, i, r;
            return (
              (t = t || {}),
              (r = t.duration || 1),
              (e = t.delay || 0),
              (i = t.ease || n.EASE_A),
              null != t.bright &&
                a.a(this.uni().bright, { value: [t.bright, 0] }, r, e, i),
              a.a(
                this.uni().alpha,
                { value: 1 },
                r,
                e,
                i,
                t.onStart,
                null,
                t.onComplete
              )
            );
          }),
          (e.prototype.fadeOut = function (t) {
            var e, i, r;
            return (
              (t = t || {}),
              (r = t.duration || 1),
              (e = t.delay || 0),
              (i = t.ease || n.EASE_A),
              null != t.bright &&
                a.a(this.uni().bright, { value: [0, t.bright] }, r, e, i),
              a.a(
                this.uni().alpha2,
                { value: 0 },
                r,
                e,
                i,
                t.onStart,
                null,
                t.onComplete
              )
            );
          }),
          e
        );
      })(THREE.Object3D)),
      (t.exports = s);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _ = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      g = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) v.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      v = {}.hasOwnProperty;
    (d = i(5)),
      (h = i(12)),
      (l = i(4)),
      (n = i(1)),
      (s = i(2)),
      (f = i(6)),
      (m = i(3)),
      (c = i(7)),
      (r = i(8)),
      (u = i(11)),
      (p = i(10)),
      (a = i(28)),
      (o = (function (t) {
        function e(t) {
          (this._resize = _(this._resize, this)),
            (this._update = _(this._update, this)),
            (this.hide = _(this.hide, this)),
            (this._eShowed = _(this._eShowed, this)),
            (this.show = _(this.show, this)),
            (this.init = _(this.init, this)),
            (t.update = !0),
            (t.resize = !0),
            e.__super__.constructor.call(this, t),
            (this.isLoop = t.isLoop || !1),
            this._text,
            (this._icon = []),
            (this._iconInner = []),
            (this._isRight = !1),
            (this._isShow = !1);
        }
        return (
          g(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              "right" === this.el().attr("data-to") && (this._isRight = !0),
              (this._text = this.find(".js-text")),
              this.find(".js-icon").each(
                (function (t) {
                  return function (e, i) {
                    var n;
                    return (n = $(i)), t._icon.push(n);
                  };
                })(this)
              ),
              this.isLoop &&
                this.find(".js-icon > .item > .inner").each(
                  (function (t) {
                    return function (e, i) {
                      var n;
                      return (
                        (n = new a({
                          el: $(i),
                          time: 1.5,
                          delay: 1,
                          isFade: !0,
                        })),
                        t._iconInner.push(n)
                      );
                    };
                  })(this)
                ),
              this.setVisible(!1)
            );
          }),
          (e.prototype.show = function (t) {
            var e, i, n, r, o, a, h, l;
            if (!this._isShow) {
              for (
                this._isShow = !0,
                  this.setVisible(!0),
                  e = t.delay,
                  n = 0.1,
                  l = s.r(20),
                  this._isRight && (l *= -1),
                  a = this._icon,
                  i = r = 0,
                  o = a.length;
                r < o;
                i = ++r
              )
                (h = a[i]),
                  d.a(
                    h,
                    { opacity: [0, 1], x: [l, 0] },
                    1.5,
                    e + i * n,
                    Power3.easeInOut
                  );
              return d.a(
                this._text,
                {
                  opacity: [0, 1],
                  x: [l, 0],
                  letterSpacing: ["0.4em", "0.1em"],
                },
                1.5,
                e + this._icon.length * n,
                Power3.easeInOut,
                null,
                null,
                (function (e) {
                  return function () {
                    return null != t.onComplete && t.onComplete(), e._eShowed();
                  };
                })(this)
              );
            }
          }),
          (e.prototype._eShowed = function () {
            var t, e, i, n, r, s;
            for (
              n = this._iconInner, r = [], t = e = 0, i = n.length;
              e < i;
              t = ++e
            )
              (s = n[t]), r.push(s.startLoop({ delay: 0.2 * t }));
            return r;
          }),
          (e.prototype.hide = function (t) {
            var e, i, n, r, o, a, h, l;
            if (this._isShow) {
              for (
                this._isShow = !1,
                  t = t || {},
                  e = t.delay || 0,
                  n = 0.1,
                  l = s.r(20),
                  this._isRight && (l *= -1),
                  a = this._icon,
                  i = r = 0,
                  o = a.length;
                r < o;
                i = ++r
              )
                (h = a[i]),
                  d.a(
                    h,
                    { opacity: 0, x: l },
                    1.5,
                    e + i * n,
                    Power3.easeInOut
                  );
              return d.a(
                this._text,
                { opacity: 0, x: l, letterSpacing: ["0.1em", "0.2em"] },
                1.5,
                e + this._icon.length * n,
                Power3.easeInOut,
                null,
                null,
                (function (e) {
                  return function () {
                    if ((e.setVisible(!1), null != t.onComplete))
                      return t.onComplete();
                  };
                })(this)
              );
            }
          }),
          (e.prototype._update = function () {
            return e.__super__._update.call(this);
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this);
          }),
          e
        );
      })(h)),
      (t.exports = o);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _,
      g = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      v = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) y.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      y = {}.hasOwnProperty;
    (d = i(5)),
      (a = i(12)),
      (l = i(4)),
      (n = i(1)),
      (s = i(2)),
      (f = i(6)),
      (_ = i(51)),
      (o = i(14)),
      (m = i(3)),
      (c = i(7)),
      (r = i(8)),
      (u = i(11)),
      (p = i(10)),
      (h = (function (t) {
        function e(t) {
          (this._resize = g(this._resize, this)),
            (this._update = g(this._update, this)),
            (this.dispose = g(this.dispose, this)),
            (this.end = g(this.end, this)),
            (this.show = g(this.show, this)),
            (this.start = g(this.start, this)),
            (this.load = g(this.load, this)),
            (this._eClickToPage = g(this._eClickToPage, this)),
            (this.init = g(this.init, this)),
            (t.update = !0),
            (t.resize = !0),
            e.__super__.constructor.call(this, t),
            (this.pageId = t.pageId);
        }
        return (
          v(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              this.find(".js-svgload").each(
                (function (t) {
                  return function (t, e) {
                    var i, n;
                    return (
                      (i = $(e)), (n = i.attr("data-svg")), i.load(n + " svg")
                    );
                  };
                })(this)
              ),
              this.find(".js-toPage").on("click", this._eClickToPage),
              s.setFixSize(),
              s.setEleSize(),
              this.setVisible(!1)
            );
          }),
          (e.prototype._eClickToPage = function (t) {
            var e;
            return (
              (e = Number($(t.currentTarget).attr("data-toPageId"))),
              router.move({ nextPageId: e })
            );
          }),
          (e.prototype.load = function (t) {}),
          (e.prototype.start = function (t) {
            return this.setVisible(!0);
          }),
          (e.prototype.show = function (t) {}),
          (e.prototype.end = function () {
            return this.setVisible(!1);
          }),
          (e.prototype.dispose = function () {
            return e.__super__.dispose.call(this);
          }),
          (e.prototype._update = function () {
            return e.__super__._update.call(this);
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this);
          }),
          e
        );
      })(a)),
      (t.exports = h);
  },
  function (t, e, i) {
    var n, r, s, o;
    (n = i(1)),
      (s = i(122)),
      (o = i(9)),
      (r = (function () {
        function t() {
          (this.fps = 60),
            (this.averageFps = this.fps),
            (this.isLow = !1),
            (this._totalFps = 0),
            (this._cnt = 0),
            (this._stats = new s()),
            (this._stats.domElement.style.position = "fixed"),
            (this._stats.domElement.style.left = "0px"),
            (this._stats.domElement.style.top = "0px"),
            (this._stats.domElement.style.zIndex = "99999"),
            document.body.appendChild(this._stats.domElement),
            n.FLG.STATS || (this._stats.domElement.style.display = "none"),
            o.add(
              (function (t) {
                return function () {
                  return t._cnt++, t._stats.update();
                };
              })(this)
            );
        }
        return t;
      })()),
      (t.exports = new r());
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      p = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) d.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      d = {}.hasOwnProperty;
    (o = i(4)),
      (n = i(1)),
      (r = i(2)),
      (h = i(5)),
      (l = i(3)),
      (u = i(13)),
      (s = i(16)),
      (a = (function (t) {
        function e(t) {
          (this.makeGeo = c(this.makeGeo, this)),
            (this._resize = c(this._resize, this)),
            (this._update = c(this._update, this)),
            (this.setNormal = c(this.setNormal, this)),
            (this.toDetail = c(this.toDetail, this)),
            (this.fadeOut = c(this.fadeOut, this)),
            (this.show = c(this.show, this)),
            (this.isEtc = c(this.isEtc, this)),
            (this.offsetColor = c(this.offsetColor, this)),
            (this.rollout = c(this.rollout, this)),
            (this.rollover = c(this.rollover, this)),
            (this.checkCenter = c(this.checkCenter, this)),
            (this.setSize = c(this.setSize, this)),
            (this.getGeo = c(this.getGeo, this)),
            (this.init = c(this.init, this)),
            e.__super__.constructor.call(this, t),
            this._con,
            this._meshCon,
            (this._mesh = []),
            (this._noize = l.random(0, 100)),
            (this._conScaleTg = 1),
            (this._conScaleTg2 = 1),
            (this._offsetColor = new u(0)),
            (this._offsetSize = new u(0)),
            (this._alpha = new u(0)),
            (this._ease = l.random(0.025, 0.3));
        }
        return (
          p(e, t),
          (e.prototype.init = function () {
            var t, i, n, r, s;
            for (
              e.__super__.init.call(this),
                i =
                  null != this.opt.baseMask
                    ? this.opt.baseMask.getGeo()
                    : this.makeGeo(),
                this._con = new THREE.Object3D(),
                this.add(this._con),
                this._meshCon = new THREE.Object3D(),
                this._con.add(this._meshCon),
                n = 0;
              n < 3;

            )
              (t = new THREE.Color(1, 0, 0)),
                (r = new THREE.MeshBasicMaterial({ color: t })),
                (s = new THREE.Mesh(i, r)),
                this._meshCon.add(s),
                this._mesh.push({
                  mesh: s,
                  angle: 15 * n,
                  showScale: new u(0),
                }),
                n++;
            return (this.rotation.z = l.radian(l.random(0, 360)));
          }),
          (e.prototype.getGeo = function () {
            return this._mesh[0].mesh.geometry;
          }),
          (e.prototype.setSize = function (t) {
            var e;
            return (
              (e = t * this.opt.item.baseScale * 0.9),
              (e += this._offsetSize.val),
              (this._meshCon.scale.x +=
                (e - this._meshCon.scale.x) * this._ease),
              (this._meshCon.scale.y = this._meshCon.scale.x)
            );
          }),
          (e.prototype.checkCenter = function (t) {
            return (this._conScaleTg2 = t ? n.CENTER_SCALE : 1);
          }),
          (e.prototype.rollover = function () {
            return (this._conScaleTg = n.HOVER_SCALE);
          }),
          (e.prototype.rollout = function () {
            return (this._conScaleTg = 1);
          }),
          (e.prototype.offsetColor = function (t) {
            return (this._offsetColor.tg = t);
          }),
          (e.prototype.isEtc = function () {
            return this.opt.item.opt.isEtc;
          }),
          (e.prototype.show = function (t) {
            var e, i, n, r, s, o, a, l;
            for (
              a = 1.5,
                t.isFast && (a = 0.1),
                r = this._mesh,
                s = [],
                e = i = 0,
                n = r.length;
              i < n;
              e = ++i
            )
              (l = r[e]),
                (o = l.showScale),
                s.push(
                  h.a(
                    o,
                    { val: [0, 1] },
                    a,
                    t.delay + 0.1 * e,
                    Power3.easeInOut,
                    null,
                    null,
                    e === this._mesh.length - 1 ? t.onComplete : null
                  )
                );
            return s;
          }),
          (e.prototype.fadeOut = function (t) {
            var e, i, n;
            return (
              (t = t || {}),
              (n = 1),
              (e = t.delay || 0),
              (i = Power2.easeOut),
              h.a(this._alpha, { val: [0, -1] }, n, e, i)
            );
          }),
          (e.prototype.toDetail = function (t) {
            var e, i, n;
            return (
              (n = 1.5 * Math.max(r.sw(), r.sh())),
              r.useScreen() && (n = 1.5 * Math.max(r.sw(), screen.height)),
              (i = 1.25),
              t.isFast && (i = 0),
              (e = t.delay),
              h.a(
                this._offsetSize,
                { val: n },
                i,
                e,
                Power2.easeInOut,
                null,
                null,
                t.onComplete
              )
            );
          }),
          (e.prototype.setNormal = function () {
            return (
              h.kill(this._offsetSize),
              (this._offsetSize.val = 0),
              (this._alpha.val = 0),
              this.offsetColor(0)
            );
          }),
          (e.prototype._update = function () {
            var t, i, r, s, a, h, u, c, p, d, f, m;
            for (
              e.__super__._update.call(this),
                c = o.shape,
                this.visible = this.opt.item.visible,
                this._con.position.copy(this.opt.item.getBasePosition()),
                f = this._conScaleTg * this._conScaleTg2,
                this._con.scale.x += 0.1 * (f - this._con.scale.x),
                this._con.scale.y = this._con.scale.x,
                i =
                  null != this.opt.baseMask
                    ? this.opt.baseMask.getGeo()
                    : this.makeGeo(),
                this._offsetColor.toTg(0.1),
                p = this._mesh,
                d = [],
                r = s = 0,
                h = p.length;
              s < h;
              r = ++s
            )
              (m = p[r]),
                (u = m.mesh),
                this.isEtc()
                  ? ((t = 0.01 * c["color" + r].value * 1),
                    (a = new THREE.Color(this.opt.item.keyColor)),
                    u.material.color.copy(a.lerp(new THREE.Color(16777215), t)),
                    (u.material.color.r += this._offsetColor.val),
                    (u.material.color.g += this._offsetColor.val),
                    (u.material.color.b += this._offsetColor.val))
                  : ((u.material.color.r =
                      0.01 * c["color" + r].value + this._offsetColor.val),
                    (u.material.color.r += this._alpha.val)),
                u.geometry.dispose(),
                (u.geometry = i),
                (f = 0.01 * c["scale" + r].value),
                (f *= l.map(Math.sin(l.radian(m.angle)), 0.7, 1, -1, 1)),
                (f *= m.showScale.val),
                this.isEtc() && (f *= l.map(this._alpha.val, 0, 1, -1, 0)),
                (f = Math.max(n.SCALE_MIN, f)),
                u.scale.set(f, f, f),
                (u.rotation.z = l.radian(c["z" + r].value)),
                d.push((m.angle += 0.01 * c.waveSpeed.value));
            return d;
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this);
          }),
          (e.prototype.makeGeo = function () {
            var t,
              e,
              i,
              n,
              s,
              a,
              h,
              u,
              c,
              p,
              d,
              f,
              m,
              _,
              g,
              v,
              y,
              x,
              w,
              b,
              T,
              E,
              S,
              M,
              C,
              P;
            for (
              _ = o.shape,
                E = 0.02 * this.updateCnt * _.speed.value * 0.01,
                d = 0,
                b = 0.01 * _.speedA.value,
                T = 0.01 * _.speedB.value,
                C = 1e-4 * _.waveA.value,
                P = 1e-4 * _.waveB.value,
                null != this._mesh[0] &&
                  ((h = l.mix(2, 1, this._mesh[0].showScale.val)),
                  (u = l.mix(1.2, 1, this._mesh[0].showScale.val)),
                  (C *= h),
                  (P *= h),
                  (b *= u),
                  (T *= u)),
                t = [],
                f = 0.01 * _.sizeX.value,
                m = 0.01 * _.sizeY.value,
                s = 0,
                y = 0.5 + d,
                i = _.fineness.value,
                p = ~~(360 / i);
              s < 360;

            )
              (v = l.radian(s)),
                (x = y),
                (x += l.map(r.sin2(E + v * b), -C, C, -1, 1)),
                (x += l.map(r.sin2(E + v * T), -P, P, -1, 1)),
                (x *= 1),
                (S = new THREE.Vector3(
                  Math.sin(v) * x * f,
                  Math.cos(v) * x * m,
                  0
                )),
                t.push(S),
                (s += i);
            for (
              e = new THREE.CatmullRomCurve3(t),
                e.closed = !0,
                g = e.getPoints(~~_.pointNum.value),
                w = new THREE.Shape(),
                s = a = 0,
                c = g.length;
              a < c;
              s = ++a
            )
              (M = g[s]), 0 === s ? w.moveTo(M.x, M.y) : w.lineTo(M.x, M.y);
            return (n = new THREE.ShapeBufferGeometry(w));
          }),
          e
        );
      })(s)),
      (t.exports = a);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      _ = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) g.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      g = {}.hasOwnProperty;
    (p = i(5)),
      (a = i(12)),
      (h = i(4)),
      (n = i(1)),
      (s = i(2)),
      (d = i(6)),
      (f = i(3)),
      (u = i(7)),
      (r = i(8)),
      (l = i(11)),
      (c = i(10)),
      (o = (function (t) {
        function e(t) {
          (this._resize = m(this._resize, this)),
            (this._update = m(this._update, this)),
            (this.start = m(this.start, this)),
            (this.startLoop = m(this.startLoop, this)),
            (this.init = m(this.init, this)),
            e.__super__.constructor.call(this, t),
            (this.isFade = t.isFade || !1),
            (this.time = t.time || 1),
            (this.delay = t.delay || 0),
            (this.isLoop = !1);
        }
        return (
          _(e, t),
          (e.prototype.init = function () {
            return e.__super__.init.call(this);
          }),
          (e.prototype.startLoop = function (t) {
            return (this.isLoop = !0), this.start(t);
          }),
          (e.prototype.start = function (t) {
            var e;
            return (
              (t = t || {}),
              (e = t.delay || 0),
              this.el().removeClass("is-flg"),
              p.a(
                this.el(),
                { scaleX: 1, opacity: 1 },
                this.time,
                e,
                Power2.easeInOut,
                null,
                null,
                (function (t) {
                  return function () {
                    var e;
                    if (t.isLoop)
                      return (
                        (e = t.isFade ? 1 : 0),
                        t.el().addClass("is-flg"),
                        p.a(
                          t.el(),
                          { scaleX: e, opacity: 0 },
                          t.time,
                          t.delay,
                          Power2.easeInOut,
                          null,
                          null,
                          t.start
                        )
                      );
                  };
                })(this)
              )
            );
          }),
          (e.prototype._update = function () {
            return e.__super__._update.call(this);
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this);
          }),
          e
        );
      })(a)),
      (t.exports = o);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _ = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      g = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) v.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      v = {}.hasOwnProperty;
    (d = i(5)),
      (o = i(12)),
      (a = i(4)),
      (n = i(1)),
      (s = i(2)),
      (f = i(6)),
      (m = i(3)),
      (u = i(7)),
      (r = i(8)),
      (l = i(11)),
      (c = i(10)),
      (p = i(22)),
      (h = (function (t) {
        function e(t) {
          (this._resize = _(this._resize, this)),
            (this._update = _(this._update, this)),
            (this.clear = _(this.clear, this)),
            (this.hide = _(this.hide, this)),
            (this.show = _(this.show, this)),
            (this.init = _(this.init, this)),
            e.__super__.constructor.call(this, t),
            (this.workId = 0),
            (this._tll = []),
            this._text,
            (this._isShow = !1);
        }
        return (
          g(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              (this.workId = Number(this.el().attr("data-id"))),
              this.find(".js-text_effect_a").each(
                (function (t) {
                  return function (e, i) {
                    var n;
                    return (n = new p({ el: $(i) })), n.init(), t._tll.push(n);
                  };
                })(this)
              ),
              (this._text = this.find("> .inner > .text")),
              this.setActive(!1)
            );
          }),
          (e.prototype.show = function (t) {
            var e, i, n, r, s;
            if (!this._isShow) {
              for (
                this._isShow = !0,
                  this.setActive(!0),
                  r = this._tll,
                  e = i = 0,
                  n = r.length;
                i < n;
                e = ++i
              )
                (s = r[e]), s.show({ delay: t.delay + 0.1 * e });
              return d.a(this._text, { opacity: [0, 1] }, 1, t.delay);
            }
          }),
          (e.prototype.hide = function (t) {
            var e, i, n, r, s;
            if (this._isShow) {
              for (
                this._isShow = !1, r = this._tll, e = i = 0, n = r.length;
                i < n;
                e = ++i
              )
                (s = r[e]), s.hide({ delay: t.delay });
              return d.a(
                this._text,
                { opacity: 0 },
                1,
                t.delay + 0.1,
                null,
                null,
                (function (t) {
                  return function () {
                    return t.setActive(!1);
                  };
                })(this)
              );
            }
          }),
          (e.prototype.clear = function () {
            var t, e, i, n, r;
            for (
              this._isShow = !1,
                d.set(this._text, { opacity: 0 }),
                n = this._tll,
                t = e = 0,
                i = n.length;
              e < i;
              t = ++e
            )
              (r = n[t]), r.clear();
            return this.setActive(!1);
          }),
          (e.prototype._update = function () {
            return e.__super__._update.call(this);
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this);
          }),
          e
        );
      })(o)),
      (t.exports = h);
  },
  function (t, e, i) {
    var n, r;
    (function (i) {
      /*!
       * VERSION: 1.20.5
       * DATE: 2018-05-21
       * UPDATES AND DOCS AT: http://greensock.com
       *
       * Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, EasePack, CSSPlugin, RoundPropsPlugin, BezierPlugin, AttrPlugin, DirectionalRotationPlugin
       *
       * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
       * This work is subject to the terms at http://greensock.com/standard-license or for
       * Club GreenSock members, the software agreement that was issued with your membership.
       *
       * @author: Jack Doyle, jack@greensock.com
       **/
      var s =
        "undefined" != typeof t && t.exports && "undefined" != typeof i
          ? i
          : this || window;
      (s._gsQueue || (s._gsQueue = [])).push(function () {
        "use strict";
        s._gsDefine(
          "TweenMax",
          ["core.Animation", "core.SimpleTimeline", "TweenLite"],
          function (t, e, i) {
            var n = function (t) {
                var e,
                  i = [],
                  n = t.length;
                for (e = 0; e !== n; i.push(t[e++]));
                return i;
              },
              r = function (t, e, i) {
                var n,
                  r,
                  s = t.cycle;
                for (n in s)
                  (r = s[n]),
                    (t[n] =
                      "function" == typeof r ? r(i, e[i]) : r[i % r.length]);
                delete t.cycle;
              },
              s = function (t, e, n) {
                i.call(this, t, e, n),
                  (this._cycle = 0),
                  (this._yoyo = this.vars.yoyo === !0 || !!this.vars.yoyoEase),
                  (this._repeat = this.vars.repeat || 0),
                  (this._repeatDelay = this.vars.repeatDelay || 0),
                  this._repeat && this._uncache(!0),
                  (this.render = s.prototype.render);
              },
              o = 1e-10,
              a = i._internals,
              h = a.isSelector,
              l = a.isArray,
              u = (s.prototype = i.to({}, 0.1, {})),
              c = [];
            (s.version = "1.20.5"),
              (u.constructor = s),
              (u.kill()._gc = !1),
              (s.killTweensOf = s.killDelayedCallsTo = i.killTweensOf),
              (s.getTweensOf = i.getTweensOf),
              (s.lagSmoothing = i.lagSmoothing),
              (s.ticker = i.ticker),
              (s.render = i.render),
              (u.invalidate = function () {
                return (
                  (this._yoyo = this.vars.yoyo === !0 || !!this.vars.yoyoEase),
                  (this._repeat = this.vars.repeat || 0),
                  (this._repeatDelay = this.vars.repeatDelay || 0),
                  (this._yoyoEase = null),
                  this._uncache(!0),
                  i.prototype.invalidate.call(this)
                );
              }),
              (u.updateTo = function (t, e) {
                var n,
                  r = this.ratio,
                  s = this.vars.immediateRender || t.immediateRender;
                e &&
                  this._startTime < this._timeline._time &&
                  ((this._startTime = this._timeline._time),
                  this._uncache(!1),
                  this._gc
                    ? this._enabled(!0, !1)
                    : this._timeline.insert(
                        this,
                        this._startTime - this._delay
                      ));
                for (n in t) this.vars[n] = t[n];
                if (this._initted || s)
                  if (e) (this._initted = !1), s && this.render(0, !0, !0);
                  else if (
                    (this._gc && this._enabled(!0, !1),
                    this._notifyPluginsOfEnabled &&
                      this._firstPT &&
                      i._onPluginEvent("_onDisable", this),
                    this._time / this._duration > 0.998)
                  ) {
                    var o = this._totalTime;
                    this.render(0, !0, !1),
                      (this._initted = !1),
                      this.render(o, !0, !1);
                  } else if (
                    ((this._initted = !1), this._init(), this._time > 0 || s)
                  )
                    for (var a, h = 1 / (1 - r), l = this._firstPT; l; )
                      (a = l.s + l.c),
                        (l.c *= h),
                        (l.s = a - l.c),
                        (l = l._next);
                return this;
              }),
              (u.render = function (t, e, n) {
                this._initted ||
                  (0 === this._duration &&
                    this.vars.repeat &&
                    this.invalidate());
                var r,
                  s,
                  h,
                  l,
                  u,
                  c,
                  p,
                  d,
                  f,
                  m = this._dirty ? this.totalDuration() : this._totalDuration,
                  _ = this._time,
                  g = this._totalTime,
                  v = this._cycle,
                  y = this._duration,
                  x = this._rawPrevTime;
                if (
                  (t >= m - 1e-7 && t >= 0
                    ? ((this._totalTime = m),
                      (this._cycle = this._repeat),
                      this._yoyo && 0 !== (1 & this._cycle)
                        ? ((this._time = 0),
                          (this.ratio = this._ease._calcEnd
                            ? this._ease.getRatio(0)
                            : 0))
                        : ((this._time = y),
                          (this.ratio = this._ease._calcEnd
                            ? this._ease.getRatio(1)
                            : 1)),
                      this._reversed ||
                        ((r = !0),
                        (s = "onComplete"),
                        (n = n || this._timeline.autoRemoveChildren)),
                      0 === y &&
                        (this._initted || !this.vars.lazy || n) &&
                        (this._startTime === this._timeline._duration &&
                          (t = 0),
                        (x < 0 ||
                          (t <= 0 && t >= -1e-7) ||
                          (x === o && "isPause" !== this.data)) &&
                          x !== t &&
                          ((n = !0), x > o && (s = "onReverseComplete")),
                        (this._rawPrevTime = d = !e || t || x === t ? t : o)))
                    : t < 1e-7
                    ? ((this._totalTime = this._time = this._cycle = 0),
                      (this.ratio = this._ease._calcEnd
                        ? this._ease.getRatio(0)
                        : 0),
                      (0 !== g || (0 === y && x > 0)) &&
                        ((s = "onReverseComplete"), (r = this._reversed)),
                      t < 0 &&
                        ((this._active = !1),
                        0 === y &&
                          (this._initted || !this.vars.lazy || n) &&
                          (x >= 0 && (n = !0),
                          (this._rawPrevTime = d =
                            !e || t || x === t ? t : o))),
                      this._initted || (n = !0))
                    : ((this._totalTime = this._time = t),
                      0 !== this._repeat &&
                        ((l = y + this._repeatDelay),
                        (this._cycle = (this._totalTime / l) >> 0),
                        0 !== this._cycle &&
                          this._cycle === this._totalTime / l &&
                          g <= t &&
                          this._cycle--,
                        (this._time = this._totalTime - this._cycle * l),
                        this._yoyo &&
                          0 !== (1 & this._cycle) &&
                          ((this._time = y - this._time),
                          (f = this._yoyoEase || this.vars.yoyoEase),
                          f &&
                            (this._yoyoEase ||
                              (f !== !0 || this._initted
                                ? (this._yoyoEase = f =
                                    f === !0
                                      ? this._ease
                                      : f instanceof Ease
                                      ? f
                                      : Ease.map[f])
                                : ((f = this.vars.ease),
                                  (this._yoyoEase = f =
                                    f
                                      ? f instanceof Ease
                                        ? f
                                        : "function" == typeof f
                                        ? new Ease(f, this.vars.easeParams)
                                        : Ease.map[f] || i.defaultEase
                                      : i.defaultEase))),
                            (this.ratio = f
                              ? 1 - f.getRatio((y - this._time) / y)
                              : 0))),
                        this._time > y
                          ? (this._time = y)
                          : this._time < 0 && (this._time = 0)),
                      this._easeType && !f
                        ? ((u = this._time / y),
                          (c = this._easeType),
                          (p = this._easePower),
                          (1 === c || (3 === c && u >= 0.5)) && (u = 1 - u),
                          3 === c && (u *= 2),
                          1 === p
                            ? (u *= u)
                            : 2 === p
                            ? (u *= u * u)
                            : 3 === p
                            ? (u *= u * u * u)
                            : 4 === p && (u *= u * u * u * u),
                          1 === c
                            ? (this.ratio = 1 - u)
                            : 2 === c
                            ? (this.ratio = u)
                            : this._time / y < 0.5
                            ? (this.ratio = u / 2)
                            : (this.ratio = 1 - u / 2))
                        : f ||
                          (this.ratio = this._ease.getRatio(this._time / y))),
                  _ === this._time && !n && v === this._cycle)
                )
                  return void (
                    g !== this._totalTime &&
                    this._onUpdate &&
                    (e || this._callback("onUpdate"))
                  );
                if (!this._initted) {
                  if ((this._init(), !this._initted || this._gc)) return;
                  if (
                    !n &&
                    this._firstPT &&
                    ((this.vars.lazy !== !1 && this._duration) ||
                      (this.vars.lazy && !this._duration))
                  )
                    return (
                      (this._time = _),
                      (this._totalTime = g),
                      (this._rawPrevTime = x),
                      (this._cycle = v),
                      a.lazyTweens.push(this),
                      void (this._lazy = [t, e])
                    );
                  !this._time || r || f
                    ? r &&
                      this._ease._calcEnd &&
                      !f &&
                      (this.ratio = this._ease.getRatio(
                        0 === this._time ? 0 : 1
                      ))
                    : (this.ratio = this._ease.getRatio(this._time / y));
                }
                for (
                  this._lazy !== !1 && (this._lazy = !1),
                    this._active ||
                      (!this._paused &&
                        this._time !== _ &&
                        t >= 0 &&
                        (this._active = !0)),
                    0 === g &&
                      (2 === this._initted && t > 0 && this._init(),
                      this._startAt &&
                        (t >= 0
                          ? this._startAt.render(t, !0, n)
                          : s || (s = "_dummyGS")),
                      this.vars.onStart &&
                        ((0 === this._totalTime && 0 !== y) ||
                          e ||
                          this._callback("onStart"))),
                    h = this._firstPT;
                  h;

                )
                  h.f
                    ? h.t[h.p](h.c * this.ratio + h.s)
                    : (h.t[h.p] = h.c * this.ratio + h.s),
                    (h = h._next);
                this._onUpdate &&
                  (t < 0 &&
                    this._startAt &&
                    this._startTime &&
                    this._startAt.render(t, !0, n),
                  e ||
                    ((this._totalTime !== g || s) &&
                      this._callback("onUpdate"))),
                  this._cycle !== v &&
                    (e ||
                      this._gc ||
                      (this.vars.onRepeat && this._callback("onRepeat"))),
                  s &&
                    ((this._gc && !n) ||
                      (t < 0 &&
                        this._startAt &&
                        !this._onUpdate &&
                        this._startTime &&
                        this._startAt.render(t, !0, n),
                      r &&
                        (this._timeline.autoRemoveChildren &&
                          this._enabled(!1, !1),
                        (this._active = !1)),
                      !e && this.vars[s] && this._callback(s),
                      0 === y &&
                        this._rawPrevTime === o &&
                        d !== o &&
                        (this._rawPrevTime = 0)));
              }),
              (s.to = function (t, e, i) {
                return new s(t, e, i);
              }),
              (s.from = function (t, e, i) {
                return (
                  (i.runBackwards = !0),
                  (i.immediateRender = 0 != i.immediateRender),
                  new s(t, e, i)
                );
              }),
              (s.fromTo = function (t, e, i, n) {
                return (
                  (n.startAt = i),
                  (n.immediateRender =
                    0 != n.immediateRender && 0 != i.immediateRender),
                  new s(t, e, n)
                );
              }),
              (s.staggerTo = s.allTo =
                function (t, e, o, a, u, p, d) {
                  a = a || 0;
                  var f,
                    m,
                    _,
                    g,
                    v = 0,
                    y = [],
                    x = function () {
                      o.onComplete &&
                        o.onComplete.apply(
                          o.onCompleteScope || this,
                          arguments
                        ),
                        u.apply(d || o.callbackScope || this, p || c);
                    },
                    w = o.cycle,
                    b = o.startAt && o.startAt.cycle;
                  for (
                    l(t) ||
                      ("string" == typeof t && (t = i.selector(t) || t),
                      h(t) && (t = n(t))),
                      t = t || [],
                      a < 0 && ((t = n(t)), t.reverse(), (a *= -1)),
                      f = t.length - 1,
                      _ = 0;
                    _ <= f;
                    _++
                  ) {
                    m = {};
                    for (g in o) m[g] = o[g];
                    if (
                      (w &&
                        (r(m, t, _),
                        null != m.duration &&
                          ((e = m.duration), delete m.duration)),
                      b)
                    ) {
                      b = m.startAt = {};
                      for (g in o.startAt) b[g] = o.startAt[g];
                      r(m.startAt, t, _);
                    }
                    (m.delay = v + (m.delay || 0)),
                      _ === f && u && (m.onComplete = x),
                      (y[_] = new s(t[_], e, m)),
                      (v += a);
                  }
                  return y;
                }),
              (s.staggerFrom = s.allFrom =
                function (t, e, i, n, r, o, a) {
                  return (
                    (i.runBackwards = !0),
                    (i.immediateRender = 0 != i.immediateRender),
                    s.staggerTo(t, e, i, n, r, o, a)
                  );
                }),
              (s.staggerFromTo = s.allFromTo =
                function (t, e, i, n, r, o, a, h) {
                  return (
                    (n.startAt = i),
                    (n.immediateRender =
                      0 != n.immediateRender && 0 != i.immediateRender),
                    s.staggerTo(t, e, n, r, o, a, h)
                  );
                }),
              (s.delayedCall = function (t, e, i, n, r) {
                return new s(e, 0, {
                  delay: t,
                  onComplete: e,
                  onCompleteParams: i,
                  callbackScope: n,
                  onReverseComplete: e,
                  onReverseCompleteParams: i,
                  immediateRender: !1,
                  useFrames: r,
                  overwrite: 0,
                });
              }),
              (s.set = function (t, e) {
                return new s(t, 0, e);
              }),
              (s.isTweening = function (t) {
                return i.getTweensOf(t, !0).length > 0;
              });
            var p = function (t, e) {
                for (var n = [], r = 0, s = t._first; s; )
                  s instanceof i
                    ? (n[r++] = s)
                    : (e && (n[r++] = s),
                      (n = n.concat(p(s, e))),
                      (r = n.length)),
                    (s = s._next);
                return n;
              },
              d = (s.getAllTweens = function (e) {
                return p(t._rootTimeline, e).concat(
                  p(t._rootFramesTimeline, e)
                );
              });
            (s.killAll = function (t, i, n, r) {
              null == i && (i = !0), null == n && (n = !0);
              var s,
                o,
                a,
                h = d(0 != r),
                l = h.length,
                u = i && n && r;
              for (a = 0; a < l; a++)
                (o = h[a]),
                  (u ||
                    o instanceof e ||
                    ((s = o.target === o.vars.onComplete) && n) ||
                    (i && !s)) &&
                    (t
                      ? o.totalTime(o._reversed ? 0 : o.totalDuration())
                      : o._enabled(!1, !1));
            }),
              (s.killChildTweensOf = function (t, e) {
                if (null != t) {
                  var r,
                    o,
                    u,
                    c,
                    p,
                    d = a.tweenLookup;
                  if (
                    ("string" == typeof t && (t = i.selector(t) || t),
                    h(t) && (t = n(t)),
                    l(t))
                  )
                    for (c = t.length; --c > -1; ) s.killChildTweensOf(t[c], e);
                  else {
                    r = [];
                    for (u in d)
                      for (o = d[u].target.parentNode; o; )
                        o === t && (r = r.concat(d[u].tweens)),
                          (o = o.parentNode);
                    for (p = r.length, c = 0; c < p; c++)
                      e && r[c].totalTime(r[c].totalDuration()),
                        r[c]._enabled(!1, !1);
                  }
                }
              });
            var f = function (t, i, n, r) {
              (i = i !== !1), (n = n !== !1), (r = r !== !1);
              for (
                var s, o, a = d(r), h = i && n && r, l = a.length;
                --l > -1;

              )
                (o = a[l]),
                  (h ||
                    o instanceof e ||
                    ((s = o.target === o.vars.onComplete) && n) ||
                    (i && !s)) &&
                    o.paused(t);
            };
            return (
              (s.pauseAll = function (t, e, i) {
                f(!0, t, e, i);
              }),
              (s.resumeAll = function (t, e, i) {
                f(!1, t, e, i);
              }),
              (s.globalTimeScale = function (e) {
                var n = t._rootTimeline,
                  r = i.ticker.time;
                return arguments.length
                  ? ((e = e || o),
                    (n._startTime =
                      r - ((r - n._startTime) * n._timeScale) / e),
                    (n = t._rootFramesTimeline),
                    (r = i.ticker.frame),
                    (n._startTime =
                      r - ((r - n._startTime) * n._timeScale) / e),
                    (n._timeScale = t._rootTimeline._timeScale = e),
                    e)
                  : n._timeScale;
              }),
              (u.progress = function (t, e) {
                return arguments.length
                  ? this.totalTime(
                      this.duration() *
                        (this._yoyo && 0 !== (1 & this._cycle) ? 1 - t : t) +
                        this._cycle * (this._duration + this._repeatDelay),
                      e
                    )
                  : this._time / this.duration();
              }),
              (u.totalProgress = function (t, e) {
                return arguments.length
                  ? this.totalTime(this.totalDuration() * t, e)
                  : this._totalTime / this.totalDuration();
              }),
              (u.time = function (t, e) {
                return arguments.length
                  ? (this._dirty && this.totalDuration(),
                    t > this._duration && (t = this._duration),
                    this._yoyo && 0 !== (1 & this._cycle)
                      ? (t =
                          this._duration -
                          t +
                          this._cycle * (this._duration + this._repeatDelay))
                      : 0 !== this._repeat &&
                        (t +=
                          this._cycle * (this._duration + this._repeatDelay)),
                    this.totalTime(t, e))
                  : this._time;
              }),
              (u.duration = function (e) {
                return arguments.length
                  ? t.prototype.duration.call(this, e)
                  : this._duration;
              }),
              (u.totalDuration = function (t) {
                return arguments.length
                  ? this._repeat === -1
                    ? this
                    : this.duration(
                        (t - this._repeat * this._repeatDelay) /
                          (this._repeat + 1)
                      )
                  : (this._dirty &&
                      ((this._totalDuration =
                        this._repeat === -1
                          ? 999999999999
                          : this._duration * (this._repeat + 1) +
                            this._repeatDelay * this._repeat),
                      (this._dirty = !1)),
                    this._totalDuration);
              }),
              (u.repeat = function (t) {
                return arguments.length
                  ? ((this._repeat = t), this._uncache(!0))
                  : this._repeat;
              }),
              (u.repeatDelay = function (t) {
                return arguments.length
                  ? ((this._repeatDelay = t), this._uncache(!0))
                  : this._repeatDelay;
              }),
              (u.yoyo = function (t) {
                return arguments.length ? ((this._yoyo = t), this) : this._yoyo;
              }),
              s
            );
          },
          !0
        ),
          s._gsDefine(
            "TimelineLite",
            ["core.Animation", "core.SimpleTimeline", "TweenLite"],
            function (t, e, i) {
              var n = function (t) {
                  e.call(this, t),
                    (this._labels = {}),
                    (this.autoRemoveChildren =
                      this.vars.autoRemoveChildren === !0),
                    (this.smoothChildTiming =
                      this.vars.smoothChildTiming === !0),
                    (this._sortChildren = !0),
                    (this._onUpdate = this.vars.onUpdate);
                  var i,
                    n,
                    r = this.vars;
                  for (n in r)
                    (i = r[n]),
                      l(i) &&
                        i.join("").indexOf("{self}") !== -1 &&
                        (r[n] = this._swapSelfInParams(i));
                  l(r.tweens) && this.add(r.tweens, 0, r.align, r.stagger);
                },
                r = 1e-10,
                o = i._internals,
                a = (n._internals = {}),
                h = o.isSelector,
                l = o.isArray,
                u = o.lazyTweens,
                c = o.lazyRender,
                p = s._gsDefine.globals,
                d = function (t) {
                  var e,
                    i = {};
                  for (e in t) i[e] = t[e];
                  return i;
                },
                f = function (t, e, i) {
                  var n,
                    r,
                    s = t.cycle;
                  for (n in s)
                    (r = s[n]),
                      (t[n] =
                        "function" == typeof r ? r(i, e[i]) : r[i % r.length]);
                  delete t.cycle;
                },
                m = (a.pauseCallback = function () {}),
                _ = function (t) {
                  var e,
                    i = [],
                    n = t.length;
                  for (e = 0; e !== n; i.push(t[e++]));
                  return i;
                },
                g = (n.prototype = new e());
              return (
                (n.version = "1.20.4"),
                (g.constructor = n),
                (g.kill()._gc = g._forcingPlayhead = g._hasPause = !1),
                (g.to = function (t, e, n, r) {
                  var s = (n.repeat && p.TweenMax) || i;
                  return e ? this.add(new s(t, e, n), r) : this.set(t, n, r);
                }),
                (g.from = function (t, e, n, r) {
                  return this.add(
                    ((n.repeat && p.TweenMax) || i).from(t, e, n),
                    r
                  );
                }),
                (g.fromTo = function (t, e, n, r, s) {
                  var o = (r.repeat && p.TweenMax) || i;
                  return e
                    ? this.add(o.fromTo(t, e, n, r), s)
                    : this.set(t, r, s);
                }),
                (g.staggerTo = function (t, e, r, s, o, a, l, u) {
                  var c,
                    p,
                    m = new n({
                      onComplete: a,
                      onCompleteParams: l,
                      callbackScope: u,
                      smoothChildTiming: this.smoothChildTiming,
                    }),
                    g = r.cycle;
                  for (
                    "string" == typeof t && (t = i.selector(t) || t),
                      t = t || [],
                      h(t) && (t = _(t)),
                      s = s || 0,
                      s < 0 && ((t = _(t)), t.reverse(), (s *= -1)),
                      p = 0;
                    p < t.length;
                    p++
                  )
                    (c = d(r)),
                      c.startAt &&
                        ((c.startAt = d(c.startAt)),
                        c.startAt.cycle && f(c.startAt, t, p)),
                      g &&
                        (f(c, t, p),
                        null != c.duration &&
                          ((e = c.duration), delete c.duration)),
                      m.to(t[p], e, c, p * s);
                  return this.add(m, o);
                }),
                (g.staggerFrom = function (t, e, i, n, r, s, o, a) {
                  return (
                    (i.immediateRender = 0 != i.immediateRender),
                    (i.runBackwards = !0),
                    this.staggerTo(t, e, i, n, r, s, o, a)
                  );
                }),
                (g.staggerFromTo = function (t, e, i, n, r, s, o, a, h) {
                  return (
                    (n.startAt = i),
                    (n.immediateRender =
                      0 != n.immediateRender && 0 != i.immediateRender),
                    this.staggerTo(t, e, n, r, s, o, a, h)
                  );
                }),
                (g.call = function (t, e, n, r) {
                  return this.add(i.delayedCall(0, t, e, n), r);
                }),
                (g.set = function (t, e, n) {
                  return (
                    (n = this._parseTimeOrLabel(n, 0, !0)),
                    null == e.immediateRender &&
                      (e.immediateRender = n === this._time && !this._paused),
                    this.add(new i(t, 0, e), n)
                  );
                }),
                (n.exportRoot = function (t, e) {
                  (t = t || {}),
                    null == t.smoothChildTiming && (t.smoothChildTiming = !0);
                  var r,
                    s,
                    o,
                    a,
                    h = new n(t),
                    l = h._timeline;
                  for (
                    null == e && (e = !0),
                      l._remove(h, !0),
                      h._startTime = 0,
                      h._rawPrevTime = h._time = h._totalTime = l._time,
                      o = l._first;
                    o;

                  )
                    (a = o._next),
                      (e && o instanceof i && o.target === o.vars.onComplete) ||
                        ((s = o._startTime - o._delay),
                        s < 0 && (r = 1),
                        h.add(o, s)),
                      (o = a);
                  return l.add(h, 0), r && h.totalDuration(), h;
                }),
                (g.add = function (r, s, o, a) {
                  var h, u, c, p, d, f;
                  if (
                    ("number" != typeof s &&
                      (s = this._parseTimeOrLabel(s, 0, !0, r)),
                    !(r instanceof t))
                  ) {
                    if (r instanceof Array || (r && r.push && l(r))) {
                      for (
                        o = o || "normal",
                          a = a || 0,
                          h = s,
                          u = r.length,
                          c = 0;
                        c < u;
                        c++
                      )
                        l((p = r[c])) && (p = new n({ tweens: p })),
                          this.add(p, h),
                          "string" != typeof p &&
                            "function" != typeof p &&
                            ("sequence" === o
                              ? (h =
                                  p._startTime +
                                  p.totalDuration() / p._timeScale)
                              : "start" === o && (p._startTime -= p.delay())),
                          (h += a);
                      return this._uncache(!0);
                    }
                    if ("string" == typeof r) return this.addLabel(r, s);
                    if ("function" != typeof r)
                      throw (
                        "Cannot add " +
                        r +
                        " into the timeline; it is not a tween, timeline, function, or string."
                      );
                    r = i.delayedCall(0, r);
                  }
                  if (
                    (e.prototype.add.call(this, r, s),
                    r._time &&
                      r.render(
                        (this.rawTime() - r._startTime) * r._timeScale,
                        !1,
                        !1
                      ),
                    (this._gc || this._time === this._duration) &&
                      !this._paused &&
                      this._duration < this.duration())
                  )
                    for (
                      d = this, f = d.rawTime() > r._startTime;
                      d._timeline;

                    )
                      f && d._timeline.smoothChildTiming
                        ? d.totalTime(d._totalTime, !0)
                        : d._gc && d._enabled(!0, !1),
                        (d = d._timeline);
                  return this;
                }),
                (g.remove = function (e) {
                  if (e instanceof t) {
                    this._remove(e, !1);
                    var i = (e._timeline = e.vars.useFrames
                      ? t._rootFramesTimeline
                      : t._rootTimeline);
                    return (
                      (e._startTime =
                        (e._paused ? e._pauseTime : i._time) -
                        (e._reversed
                          ? e.totalDuration() - e._totalTime
                          : e._totalTime) /
                          e._timeScale),
                      this
                    );
                  }
                  if (e instanceof Array || (e && e.push && l(e))) {
                    for (var n = e.length; --n > -1; ) this.remove(e[n]);
                    return this;
                  }
                  return "string" == typeof e
                    ? this.removeLabel(e)
                    : this.kill(null, e);
                }),
                (g._remove = function (t, i) {
                  e.prototype._remove.call(this, t, i);
                  var n = this._last;
                  return (
                    n
                      ? this._time > this.duration() &&
                        ((this._time = this._duration),
                        (this._totalTime = this._totalDuration))
                      : (this._time =
                          this._totalTime =
                          this._duration =
                          this._totalDuration =
                            0),
                    this
                  );
                }),
                (g.append = function (t, e) {
                  return this.add(t, this._parseTimeOrLabel(null, e, !0, t));
                }),
                (g.insert = g.insertMultiple =
                  function (t, e, i, n) {
                    return this.add(t, e || 0, i, n);
                  }),
                (g.appendMultiple = function (t, e, i, n) {
                  return this.add(
                    t,
                    this._parseTimeOrLabel(null, e, !0, t),
                    i,
                    n
                  );
                }),
                (g.addLabel = function (t, e) {
                  return (this._labels[t] = this._parseTimeOrLabel(e)), this;
                }),
                (g.addPause = function (t, e, n, r) {
                  var s = i.delayedCall(0, m, n, r || this);
                  return (
                    (s.vars.onComplete = s.vars.onReverseComplete = e),
                    (s.data = "isPause"),
                    (this._hasPause = !0),
                    this.add(s, t)
                  );
                }),
                (g.removeLabel = function (t) {
                  return delete this._labels[t], this;
                }),
                (g.getLabelTime = function (t) {
                  return null != this._labels[t] ? this._labels[t] : -1;
                }),
                (g._parseTimeOrLabel = function (e, i, n, r) {
                  var s, o;
                  if (r instanceof t && r.timeline === this) this.remove(r);
                  else if (r && (r instanceof Array || (r.push && l(r))))
                    for (o = r.length; --o > -1; )
                      r[o] instanceof t &&
                        r[o].timeline === this &&
                        this.remove(r[o]);
                  if (
                    ((s =
                      "number" != typeof e || i
                        ? this.duration() > 99999999999
                          ? this.recent().endTime(!1)
                          : this._duration
                        : 0),
                    "string" == typeof i)
                  )
                    return this._parseTimeOrLabel(
                      i,
                      n && "number" == typeof e && null == this._labels[i]
                        ? e - s
                        : 0,
                      n
                    );
                  if (
                    ((i = i || 0),
                    "string" != typeof e ||
                      (!isNaN(e) && null == this._labels[e]))
                  )
                    null == e && (e = s);
                  else {
                    if (((o = e.indexOf("=")), o === -1))
                      return null == this._labels[e]
                        ? n
                          ? (this._labels[e] = s + i)
                          : i
                        : this._labels[e] + i;
                    (i =
                      parseInt(e.charAt(o - 1) + "1", 10) *
                      Number(e.substr(o + 1))),
                      (e =
                        o > 1
                          ? this._parseTimeOrLabel(e.substr(0, o - 1), 0, n)
                          : s);
                  }
                  return Number(e) + i;
                }),
                (g.seek = function (t, e) {
                  return this.totalTime(
                    "number" == typeof t ? t : this._parseTimeOrLabel(t),
                    e !== !1
                  );
                }),
                (g.stop = function () {
                  return this.paused(!0);
                }),
                (g.gotoAndPlay = function (t, e) {
                  return this.play(t, e);
                }),
                (g.gotoAndStop = function (t, e) {
                  return this.pause(t, e);
                }),
                (g.render = function (t, e, i) {
                  this._gc && this._enabled(!0, !1);
                  var n,
                    s,
                    o,
                    a,
                    h,
                    l,
                    p,
                    d = this._time,
                    f = this._dirty
                      ? this.totalDuration()
                      : this._totalDuration,
                    m = this._startTime,
                    _ = this._timeScale,
                    g = this._paused;
                  if (
                    (d !== this._time && (t += this._time - d),
                    t >= f - 1e-7 && t >= 0)
                  )
                    (this._totalTime = this._time = f),
                      this._reversed ||
                        this._hasPausedChild() ||
                        ((s = !0),
                        (a = "onComplete"),
                        (h = !!this._timeline.autoRemoveChildren),
                        0 === this._duration &&
                          ((t <= 0 && t >= -1e-7) ||
                            this._rawPrevTime < 0 ||
                            this._rawPrevTime === r) &&
                          this._rawPrevTime !== t &&
                          this._first &&
                          ((h = !0),
                          this._rawPrevTime > r && (a = "onReverseComplete"))),
                      (this._rawPrevTime =
                        this._duration || !e || t || this._rawPrevTime === t
                          ? t
                          : r),
                      (t = f + 1e-4);
                  else if (t < 1e-7)
                    if (
                      ((this._totalTime = this._time = 0),
                      (0 !== d ||
                        (0 === this._duration &&
                          this._rawPrevTime !== r &&
                          (this._rawPrevTime > 0 ||
                            (t < 0 && this._rawPrevTime >= 0)))) &&
                        ((a = "onReverseComplete"), (s = this._reversed)),
                      t < 0)
                    )
                      (this._active = !1),
                        this._timeline.autoRemoveChildren && this._reversed
                          ? ((h = s = !0), (a = "onReverseComplete"))
                          : this._rawPrevTime >= 0 && this._first && (h = !0),
                        (this._rawPrevTime = t);
                    else {
                      if (
                        ((this._rawPrevTime =
                          this._duration || !e || t || this._rawPrevTime === t
                            ? t
                            : r),
                        0 === t && s)
                      )
                        for (n = this._first; n && 0 === n._startTime; )
                          n._duration || (s = !1), (n = n._next);
                      (t = 0), this._initted || (h = !0);
                    }
                  else {
                    if (this._hasPause && !this._forcingPlayhead && !e) {
                      if (t >= d)
                        for (n = this._first; n && n._startTime <= t && !l; )
                          n._duration ||
                            "isPause" !== n.data ||
                            n.ratio ||
                            (0 === n._startTime && 0 === this._rawPrevTime) ||
                            (l = n),
                            (n = n._next);
                      else
                        for (n = this._last; n && n._startTime >= t && !l; )
                          n._duration ||
                            ("isPause" === n.data &&
                              n._rawPrevTime > 0 &&
                              (l = n)),
                            (n = n._prev);
                      l &&
                        ((this._time = t = l._startTime),
                        (this._totalTime =
                          t +
                          this._cycle *
                            (this._totalDuration + this._repeatDelay)));
                    }
                    this._totalTime = this._time = this._rawPrevTime = t;
                  }
                  if ((this._time !== d && this._first) || i || h || l) {
                    if (
                      (this._initted || (this._initted = !0),
                      this._active ||
                        (!this._paused &&
                          this._time !== d &&
                          t > 0 &&
                          (this._active = !0)),
                      0 === d &&
                        this.vars.onStart &&
                        ((0 === this._time && this._duration) ||
                          e ||
                          this._callback("onStart")),
                      (p = this._time),
                      p >= d)
                    )
                      for (
                        n = this._first;
                        n &&
                        ((o = n._next),
                        p === this._time && (!this._paused || g));

                      )
                        (n._active ||
                          (n._startTime <= p && !n._paused && !n._gc)) &&
                          (l === n && this.pause(),
                          n._reversed
                            ? n.render(
                                (n._dirty
                                  ? n.totalDuration()
                                  : n._totalDuration) -
                                  (t - n._startTime) * n._timeScale,
                                e,
                                i
                              )
                            : n.render(
                                (t - n._startTime) * n._timeScale,
                                e,
                                i
                              )),
                          (n = o);
                    else
                      for (
                        n = this._last;
                        n &&
                        ((o = n._prev),
                        p === this._time && (!this._paused || g));

                      ) {
                        if (
                          n._active ||
                          (n._startTime <= d && !n._paused && !n._gc)
                        ) {
                          if (l === n) {
                            for (l = n._prev; l && l.endTime() > this._time; )
                              l.render(
                                l._reversed
                                  ? l.totalDuration() -
                                      (t - l._startTime) * l._timeScale
                                  : (t - l._startTime) * l._timeScale,
                                e,
                                i
                              ),
                                (l = l._prev);
                            (l = null), this.pause();
                          }
                          n._reversed
                            ? n.render(
                                (n._dirty
                                  ? n.totalDuration()
                                  : n._totalDuration) -
                                  (t - n._startTime) * n._timeScale,
                                e,
                                i
                              )
                            : n.render((t - n._startTime) * n._timeScale, e, i);
                        }
                        n = o;
                      }
                    this._onUpdate &&
                      (e || (u.length && c(), this._callback("onUpdate"))),
                      a &&
                        (this._gc ||
                          (m !== this._startTime && _ === this._timeScale) ||
                          ((0 === this._time || f >= this.totalDuration()) &&
                            (s &&
                              (u.length && c(),
                              this._timeline.autoRemoveChildren &&
                                this._enabled(!1, !1),
                              (this._active = !1)),
                            !e && this.vars[a] && this._callback(a))));
                  }
                }),
                (g._hasPausedChild = function () {
                  for (var t = this._first; t; ) {
                    if (t._paused || (t instanceof n && t._hasPausedChild()))
                      return !0;
                    t = t._next;
                  }
                  return !1;
                }),
                (g.getChildren = function (t, e, n, r) {
                  r = r || -9999999999;
                  for (var s = [], o = this._first, a = 0; o; )
                    o._startTime < r ||
                      (o instanceof i
                        ? e !== !1 && (s[a++] = o)
                        : (n !== !1 && (s[a++] = o),
                          t !== !1 &&
                            ((s = s.concat(o.getChildren(!0, e, n))),
                            (a = s.length)))),
                      (o = o._next);
                  return s;
                }),
                (g.getTweensOf = function (t, e) {
                  var n,
                    r,
                    s = this._gc,
                    o = [],
                    a = 0;
                  for (
                    s && this._enabled(!0, !0),
                      n = i.getTweensOf(t),
                      r = n.length;
                    --r > -1;

                  )
                    (n[r].timeline === this || (e && this._contains(n[r]))) &&
                      (o[a++] = n[r]);
                  return s && this._enabled(!1, !0), o;
                }),
                (g.recent = function () {
                  return this._recent;
                }),
                (g._contains = function (t) {
                  for (var e = t.timeline; e; ) {
                    if (e === this) return !0;
                    e = e.timeline;
                  }
                  return !1;
                }),
                (g.shiftChildren = function (t, e, i) {
                  i = i || 0;
                  for (var n, r = this._first, s = this._labels; r; )
                    r._startTime >= i && (r._startTime += t), (r = r._next);
                  if (e) for (n in s) s[n] >= i && (s[n] += t);
                  return this._uncache(!0);
                }),
                (g._kill = function (t, e) {
                  if (!t && !e) return this._enabled(!1, !1);
                  for (
                    var i = e
                        ? this.getTweensOf(e)
                        : this.getChildren(!0, !0, !1),
                      n = i.length,
                      r = !1;
                    --n > -1;

                  )
                    i[n]._kill(t, e) && (r = !0);
                  return r;
                }),
                (g.clear = function (t) {
                  var e = this.getChildren(!1, !0, !0),
                    i = e.length;
                  for (this._time = this._totalTime = 0; --i > -1; )
                    e[i]._enabled(!1, !1);
                  return t !== !1 && (this._labels = {}), this._uncache(!0);
                }),
                (g.invalidate = function () {
                  for (var e = this._first; e; ) e.invalidate(), (e = e._next);
                  return t.prototype.invalidate.call(this);
                }),
                (g._enabled = function (t, i) {
                  if (t === this._gc)
                    for (var n = this._first; n; )
                      n._enabled(t, !0), (n = n._next);
                  return e.prototype._enabled.call(this, t, i);
                }),
                (g.totalTime = function (e, i, n) {
                  this._forcingPlayhead = !0;
                  var r = t.prototype.totalTime.apply(this, arguments);
                  return (this._forcingPlayhead = !1), r;
                }),
                (g.duration = function (t) {
                  return arguments.length
                    ? (0 !== this.duration() &&
                        0 !== t &&
                        this.timeScale(this._duration / t),
                      this)
                    : (this._dirty && this.totalDuration(), this._duration);
                }),
                (g.totalDuration = function (t) {
                  if (!arguments.length) {
                    if (this._dirty) {
                      for (
                        var e, i, n = 0, r = this._last, s = 999999999999;
                        r;

                      )
                        (e = r._prev),
                          r._dirty && r.totalDuration(),
                          r._startTime > s &&
                          this._sortChildren &&
                          !r._paused &&
                          !this._calculatingDuration
                            ? ((this._calculatingDuration = 1),
                              this.add(r, r._startTime - r._delay),
                              (this._calculatingDuration = 0))
                            : (s = r._startTime),
                          r._startTime < 0 &&
                            !r._paused &&
                            ((n -= r._startTime),
                            this._timeline.smoothChildTiming &&
                              ((this._startTime +=
                                r._startTime / this._timeScale),
                              (this._time -= r._startTime),
                              (this._totalTime -= r._startTime),
                              (this._rawPrevTime -= r._startTime)),
                            this.shiftChildren(-r._startTime, !1, -9999999999),
                            (s = 0)),
                          (i = r._startTime + r._totalDuration / r._timeScale),
                          i > n && (n = i),
                          (r = e);
                      (this._duration = this._totalDuration = n),
                        (this._dirty = !1);
                    }
                    return this._totalDuration;
                  }
                  return t && this.totalDuration()
                    ? this.timeScale(this._totalDuration / t)
                    : this;
                }),
                (g.paused = function (e) {
                  if (!e)
                    for (var i = this._first, n = this._time; i; )
                      i._startTime === n &&
                        "isPause" === i.data &&
                        (i._rawPrevTime = 0),
                        (i = i._next);
                  return t.prototype.paused.apply(this, arguments);
                }),
                (g.usesFrames = function () {
                  for (var e = this._timeline; e._timeline; ) e = e._timeline;
                  return e === t._rootFramesTimeline;
                }),
                (g.rawTime = function (t) {
                  return t &&
                    (this._paused ||
                      (this._repeat &&
                        this.time() > 0 &&
                        this.totalProgress() < 1))
                    ? this._totalTime % (this._duration + this._repeatDelay)
                    : this._paused
                    ? this._totalTime
                    : (this._timeline.rawTime(t) - this._startTime) *
                      this._timeScale;
                }),
                n
              );
            },
            !0
          ),
          s._gsDefine(
            "TimelineMax",
            ["TimelineLite", "TweenLite", "easing.Ease"],
            function (t, e, i) {
              var n = function (e) {
                  t.call(this, e),
                    (this._repeat = this.vars.repeat || 0),
                    (this._repeatDelay = this.vars.repeatDelay || 0),
                    (this._cycle = 0),
                    (this._yoyo = this.vars.yoyo === !0),
                    (this._dirty = !0);
                },
                r = 1e-10,
                o = e._internals,
                a = o.lazyTweens,
                h = o.lazyRender,
                l = s._gsDefine.globals,
                u = new i(null, null, 1, 0),
                c = (n.prototype = new t());
              return (
                (c.constructor = n),
                (c.kill()._gc = !1),
                (n.version = "1.20.4"),
                (c.invalidate = function () {
                  return (
                    (this._yoyo = this.vars.yoyo === !0),
                    (this._repeat = this.vars.repeat || 0),
                    (this._repeatDelay = this.vars.repeatDelay || 0),
                    this._uncache(!0),
                    t.prototype.invalidate.call(this)
                  );
                }),
                (c.addCallback = function (t, i, n, r) {
                  return this.add(e.delayedCall(0, t, n, r), i);
                }),
                (c.removeCallback = function (t, e) {
                  if (t)
                    if (null == e) this._kill(null, t);
                    else
                      for (
                        var i = this.getTweensOf(t, !1),
                          n = i.length,
                          r = this._parseTimeOrLabel(e);
                        --n > -1;

                      )
                        i[n]._startTime === r && i[n]._enabled(!1, !1);
                  return this;
                }),
                (c.removePause = function (e) {
                  return this.removeCallback(t._internals.pauseCallback, e);
                }),
                (c.tweenTo = function (t, i) {
                  i = i || {};
                  var n,
                    r,
                    s,
                    o = {
                      ease: u,
                      useFrames: this.usesFrames(),
                      immediateRender: !1,
                      lazy: !1,
                    },
                    a = (i.repeat && l.TweenMax) || e;
                  for (r in i) o[r] = i[r];
                  return (
                    (o.time = this._parseTimeOrLabel(t)),
                    (n =
                      Math.abs(Number(o.time) - this._time) / this._timeScale ||
                      0.001),
                    (s = new a(this, n, o)),
                    (o.onStart = function () {
                      s.target.paused(!0),
                        s.vars.time === s.target.time() ||
                          n !== s.duration() ||
                          s.isFromTo ||
                          s
                            .duration(
                              Math.abs(s.vars.time - s.target.time()) /
                                s.target._timeScale
                            )
                            .render(s.time(), !0, !0),
                        i.onStart &&
                          i.onStart.apply(
                            i.onStartScope || i.callbackScope || s,
                            i.onStartParams || []
                          );
                    }),
                    s
                  );
                }),
                (c.tweenFromTo = function (t, e, i) {
                  (i = i || {}),
                    (t = this._parseTimeOrLabel(t)),
                    (i.startAt = {
                      onComplete: this.seek,
                      onCompleteParams: [t],
                      callbackScope: this,
                    }),
                    (i.immediateRender = i.immediateRender !== !1);
                  var n = this.tweenTo(e, i);
                  return (
                    (n.isFromTo = 1),
                    n.duration(
                      Math.abs(n.vars.time - t) / this._timeScale || 0.001
                    )
                  );
                }),
                (c.render = function (t, e, i) {
                  this._gc && this._enabled(!0, !1);
                  var n,
                    s,
                    o,
                    l,
                    u,
                    c,
                    p,
                    d,
                    f = this._time,
                    m = this._dirty
                      ? this.totalDuration()
                      : this._totalDuration,
                    _ = this._duration,
                    g = this._totalTime,
                    v = this._startTime,
                    y = this._timeScale,
                    x = this._rawPrevTime,
                    w = this._paused,
                    b = this._cycle;
                  if (
                    (f !== this._time && (t += this._time - f),
                    t >= m - 1e-7 && t >= 0)
                  )
                    this._locked ||
                      ((this._totalTime = m), (this._cycle = this._repeat)),
                      this._reversed ||
                        this._hasPausedChild() ||
                        ((s = !0),
                        (l = "onComplete"),
                        (u = !!this._timeline.autoRemoveChildren),
                        0 === this._duration &&
                          ((t <= 0 && t >= -1e-7) || x < 0 || x === r) &&
                          x !== t &&
                          this._first &&
                          ((u = !0), x > r && (l = "onReverseComplete"))),
                      (this._rawPrevTime =
                        this._duration || !e || t || this._rawPrevTime === t
                          ? t
                          : r),
                      this._yoyo && 0 !== (1 & this._cycle)
                        ? (this._time = t = 0)
                        : ((this._time = _), (t = _ + 1e-4));
                  else if (t < 1e-7)
                    if (
                      (this._locked || (this._totalTime = this._cycle = 0),
                      (this._time = 0),
                      (0 !== f ||
                        (0 === _ &&
                          x !== r &&
                          (x > 0 || (t < 0 && x >= 0)) &&
                          !this._locked)) &&
                        ((l = "onReverseComplete"), (s = this._reversed)),
                      t < 0)
                    )
                      (this._active = !1),
                        this._timeline.autoRemoveChildren && this._reversed
                          ? ((u = s = !0), (l = "onReverseComplete"))
                          : x >= 0 && this._first && (u = !0),
                        (this._rawPrevTime = t);
                    else {
                      if (
                        ((this._rawPrevTime =
                          _ || !e || t || this._rawPrevTime === t ? t : r),
                        0 === t && s)
                      )
                        for (n = this._first; n && 0 === n._startTime; )
                          n._duration || (s = !1), (n = n._next);
                      (t = 0), this._initted || (u = !0);
                    }
                  else if (
                    (0 === _ && x < 0 && (u = !0),
                    (this._time = this._rawPrevTime = t),
                    this._locked ||
                      ((this._totalTime = t),
                      0 !== this._repeat &&
                        ((c = _ + this._repeatDelay),
                        (this._cycle = (this._totalTime / c) >> 0),
                        0 !== this._cycle &&
                          this._cycle === this._totalTime / c &&
                          g <= t &&
                          this._cycle--,
                        (this._time = this._totalTime - this._cycle * c),
                        this._yoyo &&
                          0 !== (1 & this._cycle) &&
                          (this._time = _ - this._time),
                        this._time > _
                          ? ((this._time = _), (t = _ + 1e-4))
                          : this._time < 0
                          ? (this._time = t = 0)
                          : (t = this._time))),
                    this._hasPause && !this._forcingPlayhead && !e)
                  ) {
                    if (
                      ((t = this._time),
                      t >= f || (this._repeat && b !== this._cycle))
                    )
                      for (n = this._first; n && n._startTime <= t && !p; )
                        n._duration ||
                          "isPause" !== n.data ||
                          n.ratio ||
                          (0 === n._startTime && 0 === this._rawPrevTime) ||
                          (p = n),
                          (n = n._next);
                    else
                      for (n = this._last; n && n._startTime >= t && !p; )
                        n._duration ||
                          ("isPause" === n.data &&
                            n._rawPrevTime > 0 &&
                            (p = n)),
                          (n = n._prev);
                    p &&
                      p._startTime < _ &&
                      ((this._time = t = p._startTime),
                      (this._totalTime =
                        t +
                        this._cycle *
                          (this._totalDuration + this._repeatDelay)));
                  }
                  if (this._cycle !== b && !this._locked) {
                    var T = this._yoyo && 0 !== (1 & b),
                      E = T === (this._yoyo && 0 !== (1 & this._cycle)),
                      S = this._totalTime,
                      M = this._cycle,
                      C = this._rawPrevTime,
                      P = this._time;
                    if (
                      ((this._totalTime = b * _),
                      this._cycle < b ? (T = !T) : (this._totalTime += _),
                      (this._time = f),
                      (this._rawPrevTime = 0 === _ ? x - 1e-4 : x),
                      (this._cycle = b),
                      (this._locked = !0),
                      (f = T ? 0 : _),
                      this.render(f, e, 0 === _),
                      e ||
                        this._gc ||
                        (this.vars.onRepeat &&
                          ((this._cycle = M),
                          (this._locked = !1),
                          this._callback("onRepeat"))),
                      f !== this._time)
                    )
                      return;
                    if (
                      (E &&
                        ((this._cycle = b),
                        (this._locked = !0),
                        (f = T ? _ + 1e-4 : -1e-4),
                        this.render(f, !0, !1)),
                      (this._locked = !1),
                      this._paused && !w)
                    )
                      return;
                    (this._time = P),
                      (this._totalTime = S),
                      (this._cycle = M),
                      (this._rawPrevTime = C);
                  }
                  if (!((this._time !== f && this._first) || i || u || p))
                    return void (
                      g !== this._totalTime &&
                      this._onUpdate &&
                      (e || this._callback("onUpdate"))
                    );
                  if (
                    (this._initted || (this._initted = !0),
                    this._active ||
                      (!this._paused &&
                        this._totalTime !== g &&
                        t > 0 &&
                        (this._active = !0)),
                    0 === g &&
                      this.vars.onStart &&
                      ((0 === this._totalTime && this._totalDuration) ||
                        e ||
                        this._callback("onStart")),
                    (d = this._time),
                    d >= f)
                  )
                    for (
                      n = this._first;
                      n &&
                      ((o = n._next), d === this._time && (!this._paused || w));

                    )
                      (n._active ||
                        (n._startTime <= this._time && !n._paused && !n._gc)) &&
                        (p === n && this.pause(),
                        n._reversed
                          ? n.render(
                              (n._dirty
                                ? n.totalDuration()
                                : n._totalDuration) -
                                (t - n._startTime) * n._timeScale,
                              e,
                              i
                            )
                          : n.render((t - n._startTime) * n._timeScale, e, i)),
                        (n = o);
                  else
                    for (
                      n = this._last;
                      n &&
                      ((o = n._prev), d === this._time && (!this._paused || w));

                    ) {
                      if (
                        n._active ||
                        (n._startTime <= f && !n._paused && !n._gc)
                      ) {
                        if (p === n) {
                          for (p = n._prev; p && p.endTime() > this._time; )
                            p.render(
                              p._reversed
                                ? p.totalDuration() -
                                    (t - p._startTime) * p._timeScale
                                : (t - p._startTime) * p._timeScale,
                              e,
                              i
                            ),
                              (p = p._prev);
                          (p = null), this.pause();
                        }
                        n._reversed
                          ? n.render(
                              (n._dirty
                                ? n.totalDuration()
                                : n._totalDuration) -
                                (t - n._startTime) * n._timeScale,
                              e,
                              i
                            )
                          : n.render((t - n._startTime) * n._timeScale, e, i);
                      }
                      n = o;
                    }
                  this._onUpdate &&
                    (e || (a.length && h(), this._callback("onUpdate"))),
                    l &&
                      (this._locked ||
                        this._gc ||
                        (v !== this._startTime && y === this._timeScale) ||
                        ((0 === this._time || m >= this.totalDuration()) &&
                          (s &&
                            (a.length && h(),
                            this._timeline.autoRemoveChildren &&
                              this._enabled(!1, !1),
                            (this._active = !1)),
                          !e && this.vars[l] && this._callback(l))));
                }),
                (c.getActive = function (t, e, i) {
                  null == t && (t = !0),
                    null == e && (e = !0),
                    null == i && (i = !1);
                  var n,
                    r,
                    s = [],
                    o = this.getChildren(t, e, i),
                    a = 0,
                    h = o.length;
                  for (n = 0; n < h; n++)
                    (r = o[n]), r.isActive() && (s[a++] = r);
                  return s;
                }),
                (c.getLabelAfter = function (t) {
                  t || (0 !== t && (t = this._time));
                  var e,
                    i = this.getLabelsArray(),
                    n = i.length;
                  for (e = 0; e < n; e++) if (i[e].time > t) return i[e].name;
                  return null;
                }),
                (c.getLabelBefore = function (t) {
                  null == t && (t = this._time);
                  for (var e = this.getLabelsArray(), i = e.length; --i > -1; )
                    if (e[i].time < t) return e[i].name;
                  return null;
                }),
                (c.getLabelsArray = function () {
                  var t,
                    e = [],
                    i = 0;
                  for (t in this._labels)
                    e[i++] = { time: this._labels[t], name: t };
                  return (
                    e.sort(function (t, e) {
                      return t.time - e.time;
                    }),
                    e
                  );
                }),
                (c.invalidate = function () {
                  return (this._locked = !1), t.prototype.invalidate.call(this);
                }),
                (c.progress = function (t, e) {
                  return arguments.length
                    ? this.totalTime(
                        this.duration() *
                          (this._yoyo && 0 !== (1 & this._cycle) ? 1 - t : t) +
                          this._cycle * (this._duration + this._repeatDelay),
                        e
                      )
                    : this._time / this.duration() || 0;
                }),
                (c.totalProgress = function (t, e) {
                  return arguments.length
                    ? this.totalTime(this.totalDuration() * t, e)
                    : this._totalTime / this.totalDuration() || 0;
                }),
                (c.totalDuration = function (e) {
                  return arguments.length
                    ? this._repeat !== -1 && e
                      ? this.timeScale(this.totalDuration() / e)
                      : this
                    : (this._dirty &&
                        (t.prototype.totalDuration.call(this),
                        (this._totalDuration =
                          this._repeat === -1
                            ? 999999999999
                            : this._duration * (this._repeat + 1) +
                              this._repeatDelay * this._repeat)),
                      this._totalDuration);
                }),
                (c.time = function (t, e) {
                  return arguments.length
                    ? (this._dirty && this.totalDuration(),
                      t > this._duration && (t = this._duration),
                      this._yoyo && 0 !== (1 & this._cycle)
                        ? (t =
                            this._duration -
                            t +
                            this._cycle * (this._duration + this._repeatDelay))
                        : 0 !== this._repeat &&
                          (t +=
                            this._cycle * (this._duration + this._repeatDelay)),
                      this.totalTime(t, e))
                    : this._time;
                }),
                (c.repeat = function (t) {
                  return arguments.length
                    ? ((this._repeat = t), this._uncache(!0))
                    : this._repeat;
                }),
                (c.repeatDelay = function (t) {
                  return arguments.length
                    ? ((this._repeatDelay = t), this._uncache(!0))
                    : this._repeatDelay;
                }),
                (c.yoyo = function (t) {
                  return arguments.length
                    ? ((this._yoyo = t), this)
                    : this._yoyo;
                }),
                (c.currentLabel = function (t) {
                  return arguments.length
                    ? this.seek(t, !0)
                    : this.getLabelBefore(this._time + 1e-8);
                }),
                n
              );
            },
            !0
          ),
          (function () {
            var t = 180 / Math.PI,
              e = [],
              i = [],
              n = [],
              r = {},
              o = s._gsDefine.globals,
              a = function (t, e, i, n) {
                i === n && (i = n - (n - e) / 1e6),
                  t === e && (e = t + (i - t) / 1e6),
                  (this.a = t),
                  (this.b = e),
                  (this.c = i),
                  (this.d = n),
                  (this.da = n - t),
                  (this.ca = i - t),
                  (this.ba = e - t);
              },
              h =
                ",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",
              l = function (t, e, i, n) {
                var r = { a: t },
                  s = {},
                  o = {},
                  a = { c: n },
                  h = (t + e) / 2,
                  l = (e + i) / 2,
                  u = (i + n) / 2,
                  c = (h + l) / 2,
                  p = (l + u) / 2,
                  d = (p - c) / 8;
                return (
                  (r.b = h + (t - h) / 4),
                  (s.b = c + d),
                  (r.c = s.a = (r.b + s.b) / 2),
                  (s.c = o.a = (c + p) / 2),
                  (o.b = p - d),
                  (a.b = u + (n - u) / 4),
                  (o.c = a.a = (o.b + a.b) / 2),
                  [r, s, o, a]
                );
              },
              u = function (t, r, s, o, a) {
                var h,
                  u,
                  c,
                  p,
                  d,
                  f,
                  m,
                  _,
                  g,
                  v,
                  y,
                  x,
                  w,
                  b = t.length - 1,
                  T = 0,
                  E = t[0].a;
                for (h = 0; h < b; h++)
                  (d = t[T]),
                    (u = d.a),
                    (c = d.d),
                    (p = t[T + 1].d),
                    a
                      ? ((y = e[h]),
                        (x = i[h]),
                        (w = ((x + y) * r * 0.25) / (o ? 0.5 : n[h] || 0.5)),
                        (f = c - (c - u) * (o ? 0.5 * r : 0 !== y ? w / y : 0)),
                        (m = c + (p - c) * (o ? 0.5 * r : 0 !== x ? w / x : 0)),
                        (_ =
                          c -
                          (f +
                            (((m - f) * ((3 * y) / (y + x) + 0.5)) / 4 || 0))))
                      : ((f = c - (c - u) * r * 0.5),
                        (m = c + (p - c) * r * 0.5),
                        (_ = c - (f + m) / 2)),
                    (f += _),
                    (m += _),
                    (d.c = g = f),
                    0 !== h ? (d.b = E) : (d.b = E = d.a + 0.6 * (d.c - d.a)),
                    (d.da = c - u),
                    (d.ca = g - u),
                    (d.ba = E - u),
                    s
                      ? ((v = l(u, E, g, c)),
                        t.splice(T, 1, v[0], v[1], v[2], v[3]),
                        (T += 4))
                      : T++,
                    (E = m);
                (d = t[T]),
                  (d.b = E),
                  (d.c = E + 0.4 * (d.d - E)),
                  (d.da = d.d - d.a),
                  (d.ca = d.c - d.a),
                  (d.ba = E - d.a),
                  s &&
                    ((v = l(d.a, E, d.c, d.d)),
                    t.splice(T, 1, v[0], v[1], v[2], v[3]));
              },
              c = function (t, n, r, s) {
                var o,
                  h,
                  l,
                  u,
                  c,
                  p,
                  d = [];
                if (s)
                  for (t = [s].concat(t), h = t.length; --h > -1; )
                    "string" == typeof (p = t[h][n]) &&
                      "=" === p.charAt(1) &&
                      (t[h][n] = s[n] + Number(p.charAt(0) + p.substr(2)));
                if (((o = t.length - 2), o < 0))
                  return (d[0] = new a(t[0][n], 0, 0, t[0][n])), d;
                for (h = 0; h < o; h++)
                  (l = t[h][n]),
                    (u = t[h + 1][n]),
                    (d[h] = new a(l, 0, 0, u)),
                    r &&
                      ((c = t[h + 2][n]),
                      (e[h] = (e[h] || 0) + (u - l) * (u - l)),
                      (i[h] = (i[h] || 0) + (c - u) * (c - u)));
                return (d[h] = new a(t[h][n], 0, 0, t[h + 1][n])), d;
              },
              p = function (t, s, o, a, l, p) {
                var d,
                  f,
                  m,
                  _,
                  g,
                  v,
                  y,
                  x,
                  w = {},
                  b = [],
                  T = p || t[0];
                (l = "string" == typeof l ? "," + l + "," : h),
                  null == s && (s = 1);
                for (f in t[0]) b.push(f);
                if (t.length > 1) {
                  for (x = t[t.length - 1], y = !0, d = b.length; --d > -1; )
                    if (((f = b[d]), Math.abs(T[f] - x[f]) > 0.05)) {
                      y = !1;
                      break;
                    }
                  y &&
                    ((t = t.concat()),
                    p && t.unshift(p),
                    t.push(t[1]),
                    (p = t[t.length - 3]));
                }
                for (
                  e.length = i.length = n.length = 0, d = b.length;
                  --d > -1;

                )
                  (f = b[d]),
                    (r[f] = l.indexOf("," + f + ",") !== -1),
                    (w[f] = c(t, f, r[f], p));
                for (d = e.length; --d > -1; )
                  (e[d] = Math.sqrt(e[d])), (i[d] = Math.sqrt(i[d]));
                if (!a) {
                  for (d = b.length; --d > -1; )
                    if (r[f])
                      for (m = w[b[d]], v = m.length - 1, _ = 0; _ < v; _++)
                        (g = m[_ + 1].da / i[_] + m[_].da / e[_] || 0),
                          (n[_] = (n[_] || 0) + g * g);
                  for (d = n.length; --d > -1; ) n[d] = Math.sqrt(n[d]);
                }
                for (d = b.length, _ = o ? 4 : 1; --d > -1; )
                  (f = b[d]),
                    (m = w[f]),
                    u(m, s, o, a, r[f]),
                    y && (m.splice(0, _), m.splice(m.length - _, _));
                return w;
              },
              d = function (t, e, i) {
                e = e || "soft";
                var n,
                  r,
                  s,
                  o,
                  h,
                  l,
                  u,
                  c,
                  p,
                  d,
                  f,
                  m = {},
                  _ = "cubic" === e ? 3 : 2,
                  g = "soft" === e,
                  v = [];
                if (
                  (g && i && (t = [i].concat(t)), null == t || t.length < _ + 1)
                )
                  throw "invalid Bezier data";
                for (p in t[0]) v.push(p);
                for (l = v.length; --l > -1; ) {
                  for (
                    p = v[l], m[p] = h = [], d = 0, c = t.length, u = 0;
                    u < c;
                    u++
                  )
                    (n =
                      null == i
                        ? t[u][p]
                        : "string" == typeof (f = t[u][p]) &&
                          "=" === f.charAt(1)
                        ? i[p] + Number(f.charAt(0) + f.substr(2))
                        : Number(f)),
                      g && u > 1 && u < c - 1 && (h[d++] = (n + h[d - 2]) / 2),
                      (h[d++] = n);
                  for (c = d - _ + 1, d = 0, u = 0; u < c; u += _)
                    (n = h[u]),
                      (r = h[u + 1]),
                      (s = h[u + 2]),
                      (o = 2 === _ ? 0 : h[u + 3]),
                      (h[d++] = f =
                        3 === _
                          ? new a(n, r, s, o)
                          : new a(n, (2 * r + n) / 3, (2 * r + s) / 3, s));
                  h.length = d;
                }
                return m;
              },
              f = function (t, e, i) {
                for (
                  var n, r, s, o, a, h, l, u, c, p, d, f = 1 / i, m = t.length;
                  --m > -1;

                )
                  for (
                    p = t[m],
                      s = p.a,
                      o = p.d - s,
                      a = p.c - s,
                      h = p.b - s,
                      n = r = 0,
                      u = 1;
                    u <= i;
                    u++
                  )
                    (l = f * u),
                      (c = 1 - l),
                      (n = r - (r = (l * l * o + 3 * c * (l * a + c * h)) * l)),
                      (d = m * i + u - 1),
                      (e[d] = (e[d] || 0) + n * n);
              },
              m = function (t, e) {
                e = e >> 0 || 6;
                var i,
                  n,
                  r,
                  s,
                  o = [],
                  a = [],
                  h = 0,
                  l = 0,
                  u = e - 1,
                  c = [],
                  p = [];
                for (i in t) f(t[i], o, e);
                for (r = o.length, n = 0; n < r; n++)
                  (h += Math.sqrt(o[n])),
                    (s = n % e),
                    (p[s] = h),
                    s === u &&
                      ((l += h),
                      (s = (n / e) >> 0),
                      (c[s] = p),
                      (a[s] = l),
                      (h = 0),
                      (p = []));
                return { length: l, lengths: a, segments: c };
              },
              _ = s._gsDefine.plugin({
                propName: "bezier",
                priority: -1,
                version: "1.3.8",
                API: 2,
                global: !0,
                init: function (t, e, i) {
                  (this._target = t),
                    e instanceof Array && (e = { values: e }),
                    (this._func = {}),
                    (this._mod = {}),
                    (this._props = []),
                    (this._timeRes =
                      null == e.timeResolution
                        ? 6
                        : parseInt(e.timeResolution, 10));
                  var n,
                    r,
                    s,
                    o,
                    a,
                    h = e.values || [],
                    l = {},
                    u = h[0],
                    c = e.autoRotate || i.vars.orientToBezier;
                  this._autoRotate = c
                    ? c instanceof Array
                      ? c
                      : [["x", "y", "rotation", c === !0 ? 0 : Number(c) || 0]]
                    : null;
                  for (n in u) this._props.push(n);
                  for (s = this._props.length; --s > -1; )
                    (n = this._props[s]),
                      this._overwriteProps.push(n),
                      (r = this._func[n] = "function" == typeof t[n]),
                      (l[n] = r
                        ? t[
                            n.indexOf("set") ||
                            "function" != typeof t["get" + n.substr(3)]
                              ? n
                              : "get" + n.substr(3)
                          ]()
                        : parseFloat(t[n])),
                      a || (l[n] !== h[0][n] && (a = l));
                  if (
                    ((this._beziers =
                      "cubic" !== e.type &&
                      "quadratic" !== e.type &&
                      "soft" !== e.type
                        ? p(
                            h,
                            isNaN(e.curviness) ? 1 : e.curviness,
                            !1,
                            "thruBasic" === e.type,
                            e.correlate,
                            a
                          )
                        : d(h, e.type, l)),
                    (this._segCount = this._beziers[n].length),
                    this._timeRes)
                  ) {
                    var f = m(this._beziers, this._timeRes);
                    (this._length = f.length),
                      (this._lengths = f.lengths),
                      (this._segments = f.segments),
                      (this._l1 = this._li = this._s1 = this._si = 0),
                      (this._l2 = this._lengths[0]),
                      (this._curSeg = this._segments[0]),
                      (this._s2 = this._curSeg[0]),
                      (this._prec = 1 / this._curSeg.length);
                  }
                  if ((c = this._autoRotate))
                    for (
                      this._initialRotations = [],
                        c[0] instanceof Array || (this._autoRotate = c = [c]),
                        s = c.length;
                      --s > -1;

                    ) {
                      for (o = 0; o < 3; o++)
                        (n = c[s][o]),
                          (this._func[n] =
                            "function" == typeof t[n] &&
                            t[
                              n.indexOf("set") ||
                              "function" != typeof t["get" + n.substr(3)]
                                ? n
                                : "get" + n.substr(3)
                            ]);
                      (n = c[s][2]),
                        (this._initialRotations[s] =
                          (this._func[n]
                            ? this._func[n].call(this._target)
                            : this._target[n]) || 0),
                        this._overwriteProps.push(n);
                    }
                  return (this._startRatio = i.vars.runBackwards ? 1 : 0), !0;
                },
                set: function (e) {
                  var i,
                    n,
                    r,
                    s,
                    o,
                    a,
                    h,
                    l,
                    u,
                    c,
                    p = this._segCount,
                    d = this._func,
                    f = this._target,
                    m = e !== this._startRatio;
                  if (this._timeRes) {
                    if (
                      ((u = this._lengths),
                      (c = this._curSeg),
                      (e *= this._length),
                      (r = this._li),
                      e > this._l2 && r < p - 1)
                    ) {
                      for (l = p - 1; r < l && (this._l2 = u[++r]) <= e; );
                      (this._l1 = u[r - 1]),
                        (this._li = r),
                        (this._curSeg = c = this._segments[r]),
                        (this._s2 = c[(this._s1 = this._si = 0)]);
                    } else if (e < this._l1 && r > 0) {
                      for (; r > 0 && (this._l1 = u[--r]) >= e; );
                      0 === r && e < this._l1 ? (this._l1 = 0) : r++,
                        (this._l2 = u[r]),
                        (this._li = r),
                        (this._curSeg = c = this._segments[r]),
                        (this._s1 = c[(this._si = c.length - 1) - 1] || 0),
                        (this._s2 = c[this._si]);
                    }
                    if (
                      ((i = r),
                      (e -= this._l1),
                      (r = this._si),
                      e > this._s2 && r < c.length - 1)
                    ) {
                      for (
                        l = c.length - 1;
                        r < l && (this._s2 = c[++r]) <= e;

                      );
                      (this._s1 = c[r - 1]), (this._si = r);
                    } else if (e < this._s1 && r > 0) {
                      for (; r > 0 && (this._s1 = c[--r]) >= e; );
                      0 === r && e < this._s1 ? (this._s1 = 0) : r++,
                        (this._s2 = c[r]),
                        (this._si = r);
                    }
                    a =
                      (r + (e - this._s1) / (this._s2 - this._s1)) *
                        this._prec || 0;
                  } else
                    (i = e < 0 ? 0 : e >= 1 ? p - 1 : (p * e) >> 0),
                      (a = (e - i * (1 / p)) * p);
                  for (n = 1 - a, r = this._props.length; --r > -1; )
                    (s = this._props[r]),
                      (o = this._beziers[s][i]),
                      (h =
                        (a * a * o.da + 3 * n * (a * o.ca + n * o.ba)) * a +
                        o.a),
                      this._mod[s] && (h = this._mod[s](h, f)),
                      d[s] ? f[s](h) : (f[s] = h);
                  if (this._autoRotate) {
                    var _,
                      g,
                      v,
                      y,
                      x,
                      w,
                      b,
                      T = this._autoRotate;
                    for (r = T.length; --r > -1; )
                      (s = T[r][2]),
                        (w = T[r][3] || 0),
                        (b = T[r][4] === !0 ? 1 : t),
                        (o = this._beziers[T[r][0]]),
                        (_ = this._beziers[T[r][1]]),
                        o &&
                          _ &&
                          ((o = o[i]),
                          (_ = _[i]),
                          (g = o.a + (o.b - o.a) * a),
                          (y = o.b + (o.c - o.b) * a),
                          (g += (y - g) * a),
                          (y += (o.c + (o.d - o.c) * a - y) * a),
                          (v = _.a + (_.b - _.a) * a),
                          (x = _.b + (_.c - _.b) * a),
                          (v += (x - v) * a),
                          (x += (_.c + (_.d - _.c) * a - x) * a),
                          (h = m
                            ? Math.atan2(x - v, y - g) * b + w
                            : this._initialRotations[r]),
                          this._mod[s] && (h = this._mod[s](h, f)),
                          d[s] ? f[s](h) : (f[s] = h));
                  }
                },
              }),
              g = _.prototype;
            (_.bezierThrough = p),
              (_.cubicToQuadratic = l),
              (_._autoCSS = !0),
              (_.quadraticToCubic = function (t, e, i) {
                return new a(t, (2 * e + t) / 3, (2 * e + i) / 3, i);
              }),
              (_._cssRegister = function () {
                var t = o.CSSPlugin;
                if (t) {
                  var e = t._internals,
                    i = e._parseToProxy,
                    n = e._setPluginRatio,
                    r = e.CSSPropTween;
                  e._registerComplexSpecialProp("bezier", {
                    parser: function (t, e, s, o, a, h) {
                      e instanceof Array && (e = { values: e }), (h = new _());
                      var l,
                        u,
                        c,
                        p = e.values,
                        d = p.length - 1,
                        f = [],
                        m = {};
                      if (d < 0) return a;
                      for (l = 0; l <= d; l++)
                        (c = i(t, p[l], o, a, h, d !== l)), (f[l] = c.end);
                      for (u in e) m[u] = e[u];
                      return (
                        (m.values = f),
                        (a = new r(t, "bezier", 0, 0, c.pt, 2)),
                        (a.data = c),
                        (a.plugin = h),
                        (a.setRatio = n),
                        0 === m.autoRotate && (m.autoRotate = !0),
                        !m.autoRotate ||
                          m.autoRotate instanceof Array ||
                          ((l = m.autoRotate === !0 ? 0 : Number(m.autoRotate)),
                          (m.autoRotate =
                            null != c.end.left
                              ? [["left", "top", "rotation", l, !1]]
                              : null != c.end.x && [
                                  ["x", "y", "rotation", l, !1],
                                ])),
                        m.autoRotate &&
                          (o._transform || o._enableTransforms(!1),
                          (c.autoRotate = o._target._gsTransform),
                          (c.proxy.rotation = c.autoRotate.rotation || 0),
                          o._overwriteProps.push("rotation")),
                        h._onInitTween(c.proxy, m, o._tween),
                        a
                      );
                    },
                  });
                }
              }),
              (g._mod = function (t) {
                for (var e, i = this._overwriteProps, n = i.length; --n > -1; )
                  (e = t[i[n]]),
                    e && "function" == typeof e && (this._mod[i[n]] = e);
              }),
              (g._kill = function (t) {
                var e,
                  i,
                  n = this._props;
                for (e in this._beziers)
                  if (e in t)
                    for (
                      delete this._beziers[e],
                        delete this._func[e],
                        i = n.length;
                      --i > -1;

                    )
                      n[i] === e && n.splice(i, 1);
                if ((n = this._autoRotate))
                  for (i = n.length; --i > -1; ) t[n[i][2]] && n.splice(i, 1);
                return this._super._kill.call(this, t);
              });
          })(),
          s._gsDefine(
            "plugins.CSSPlugin",
            ["plugins.TweenPlugin", "TweenLite"],
            function (t, e) {
              var i,
                n,
                r,
                o,
                a = function () {
                  t.call(this, "css"),
                    (this._overwriteProps.length = 0),
                    (this.setRatio = a.prototype.setRatio);
                },
                h = s._gsDefine.globals,
                l = {},
                u = (a.prototype = new t("css"));
              (u.constructor = a),
                (a.version = "1.20.5"),
                (a.API = 2),
                (a.defaultTransformPerspective = 0),
                (a.defaultSkewType = "compensated"),
                (a.defaultSmoothOrigin = !0),
                (u = "px"),
                (a.suffixMap = {
                  top: u,
                  right: u,
                  bottom: u,
                  left: u,
                  width: u,
                  height: u,
                  fontSize: u,
                  padding: u,
                  margin: u,
                  perspective: u,
                  lineHeight: "",
                });
              var c,
                p,
                d,
                f,
                m,
                _,
                g,
                v,
                y = /(?:\-|\.|\b)(\d|\.|e\-)+/g,
                x = /(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,
                w = /(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,
                b = /(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,
                T = /(?:\d|\-|\+|=|#|\.)*/g,
                E = /opacity *= *([^)]*)/i,
                S = /opacity:([^;]*)/i,
                M = /alpha\(opacity *=.+?\)/i,
                C = /^(rgb|hsl)/,
                P = /([A-Z])/g,
                A = /-([a-z])/gi,
                R = /(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,
                L = function (t, e) {
                  return e.toUpperCase();
                },
                I = /(?:Left|Right|Width)/i,
                O = /(M11|M12|M21|M22)=[\d\-\.e]+/gi,
                D = /progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,
                k = /,(?=[^\)]*(?:\(|$))/gi,
                N = /[\s,\(]/i,
                z = Math.PI / 180,
                F = 180 / Math.PI,
                H = {},
                B = { style: {} },
                U = s.document || {
                  createElement: function () {
                    return B;
                  },
                },
                G = function (t, e) {
                  return U.createElementNS
                    ? U.createElementNS(e || "http://www.w3.org/1999/xhtml", t)
                    : U.createElement(t);
                },
                V = G("div"),
                j = G("img"),
                W = (a._internals = { _specialProps: l }),
                X = (s.navigator || {}).userAgent || "",
                q = (function () {
                  var t = X.indexOf("Android"),
                    e = G("a");
                  return (
                    (d =
                      X.indexOf("Safari") !== -1 &&
                      X.indexOf("Chrome") === -1 &&
                      (t === -1 || parseFloat(X.substr(t + 8, 2)) > 3)),
                    (m =
                      d &&
                      parseFloat(X.substr(X.indexOf("Version/") + 8, 2)) < 6),
                    (f = X.indexOf("Firefox") !== -1),
                    (/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(X) ||
                      /Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(X)) &&
                      (_ = parseFloat(RegExp.$1)),
                    !!e &&
                      ((e.style.cssText = "top:1px;opacity:.55;"),
                      /^0.55/.test(e.style.opacity))
                  );
                })(),
                Y = function (t) {
                  return E.test(
                    "string" == typeof t
                      ? t
                      : (t.currentStyle
                          ? t.currentStyle.filter
                          : t.style.filter) || ""
                  )
                    ? parseFloat(RegExp.$1) / 100
                    : 1;
                },
                Z = function (t) {
                  s.console && console.log(t);
                },
                $ = "",
                J = "",
                Q = function (t, e) {
                  e = e || V;
                  var i,
                    n,
                    r = e.style;
                  if (void 0 !== r[t]) return t;
                  for (
                    t = t.charAt(0).toUpperCase() + t.substr(1),
                      i = ["O", "Moz", "ms", "Ms", "Webkit"],
                      n = 5;
                    --n > -1 && void 0 === r[i[n] + t];

                  );
                  return n >= 0
                    ? ((J = 3 === n ? "ms" : i[n]),
                      ($ = "-" + J.toLowerCase() + "-"),
                      J + t)
                    : null;
                },
                K = (
                  "undefined" != typeof window
                    ? window
                    : U.defaultView || { getComputedStyle: function () {} }
                ).getComputedStyle,
                tt = (a.getStyle = function (t, e, i, n, r) {
                  var s;
                  return q || "opacity" !== e
                    ? (!n && t.style[e]
                        ? (s = t.style[e])
                        : (i = i || K(t))
                        ? (s =
                            i[e] ||
                            i.getPropertyValue(e) ||
                            i.getPropertyValue(
                              e.replace(P, "-$1").toLowerCase()
                            ))
                        : t.currentStyle && (s = t.currentStyle[e]),
                      null == r ||
                      (s && "none" !== s && "auto" !== s && "auto auto" !== s)
                        ? s
                        : r)
                    : Y(t);
                }),
                et = (W.convertToPixels = function (t, i, n, r, s) {
                  if ("px" === r || (!r && "lineHeight" !== i)) return n;
                  if ("auto" === r || !n) return 0;
                  var o,
                    h,
                    l,
                    u = I.test(i),
                    c = t,
                    p = V.style,
                    d = n < 0,
                    f = 1 === n;
                  if ((d && (n = -n), f && (n *= 100), "lineHeight" !== i || r))
                    if ("%" === r && i.indexOf("border") !== -1)
                      o = (n / 100) * (u ? t.clientWidth : t.clientHeight);
                    else {
                      if (
                        ((p.cssText =
                          "border:0 solid red;position:" +
                          tt(t, "position") +
                          ";line-height:0;"),
                        "%" !== r &&
                          c.appendChild &&
                          "v" !== r.charAt(0) &&
                          "rem" !== r)
                      )
                        p[u ? "borderLeftWidth" : "borderTopWidth"] = n + r;
                      else {
                        if (
                          ((c = t.parentNode || U.body),
                          tt(c, "display").indexOf("flex") !== -1 &&
                            (p.position = "absolute"),
                          (h = c._gsCache),
                          (l = e.ticker.frame),
                          h && u && h.time === l)
                        )
                          return (h.width * n) / 100;
                        p[u ? "width" : "height"] = n + r;
                      }
                      c.appendChild(V),
                        (o = parseFloat(V[u ? "offsetWidth" : "offsetHeight"])),
                        c.removeChild(V),
                        u &&
                          "%" === r &&
                          a.cacheWidths !== !1 &&
                          ((h = c._gsCache = c._gsCache || {}),
                          (h.time = l),
                          (h.width = (o / n) * 100)),
                        0 !== o || s || (o = et(t, i, n, r, !0));
                    }
                  else
                    (h = K(t).lineHeight),
                      (t.style.lineHeight = n),
                      (o = parseFloat(K(t).lineHeight)),
                      (t.style.lineHeight = h);
                  return f && (o /= 100), d ? -o : o;
                }),
                it = (W.calculateOffset = function (t, e, i) {
                  if ("absolute" !== tt(t, "position", i)) return 0;
                  var n = "left" === e ? "Left" : "Top",
                    r = tt(t, "margin" + n, i);
                  return (
                    t["offset" + n] -
                    (et(t, e, parseFloat(r), r.replace(T, "")) || 0)
                  );
                }),
                nt = function (t, e) {
                  var i,
                    n,
                    r,
                    s = {};
                  if ((e = e || K(t, null)))
                    if ((i = e.length))
                      for (; --i > -1; )
                        (r = e[i]),
                          (r.indexOf("-transform") !== -1 && Rt !== r) ||
                            (s[r.replace(A, L)] = e.getPropertyValue(r));
                    else
                      for (i in e)
                        (i.indexOf("Transform") !== -1 && At !== i) ||
                          (s[i] = e[i]);
                  else if ((e = t.currentStyle || t.style))
                    for (i in e)
                      "string" == typeof i &&
                        void 0 === s[i] &&
                        (s[i.replace(A, L)] = e[i]);
                  return (
                    q || (s.opacity = Y(t)),
                    (n = jt(t, e, !1)),
                    (s.rotation = n.rotation),
                    (s.skewX = n.skewX),
                    (s.scaleX = n.scaleX),
                    (s.scaleY = n.scaleY),
                    (s.x = n.x),
                    (s.y = n.y),
                    It &&
                      ((s.z = n.z),
                      (s.rotationX = n.rotationX),
                      (s.rotationY = n.rotationY),
                      (s.scaleZ = n.scaleZ)),
                    s.filters && delete s.filters,
                    s
                  );
                },
                rt = function (t, e, i, n, r) {
                  var s,
                    o,
                    a,
                    h = {},
                    l = t.style;
                  for (o in i)
                    "cssText" !== o &&
                      "length" !== o &&
                      isNaN(o) &&
                      (e[o] !== (s = i[o]) || (r && r[o])) &&
                      o.indexOf("Origin") === -1 &&
                      (("number" != typeof s && "string" != typeof s) ||
                        ((h[o] =
                          "auto" !== s || ("left" !== o && "top" !== o)
                            ? ("" !== s && "auto" !== s && "none" !== s) ||
                              "string" != typeof e[o] ||
                              "" === e[o].replace(b, "")
                              ? s
                              : 0
                            : it(t, o)),
                        void 0 !== l[o] && (a = new yt(l, o, l[o], a))));
                  if (n) for (o in n) "className" !== o && (h[o] = n[o]);
                  return { difs: h, firstMPT: a };
                },
                st = { width: ["Left", "Right"], height: ["Top", "Bottom"] },
                ot = ["marginLeft", "marginRight", "marginTop", "marginBottom"],
                at = function (t, e, i) {
                  if ("svg" === (t.nodeName + "").toLowerCase())
                    return (i || K(t))[e] || 0;
                  if (t.getCTM && Ut(t)) return t.getBBox()[e] || 0;
                  var n = parseFloat(
                      "width" === e ? t.offsetWidth : t.offsetHeight
                    ),
                    r = st[e],
                    s = r.length;
                  for (i = i || K(t, null); --s > -1; )
                    (n -= parseFloat(tt(t, "padding" + r[s], i, !0)) || 0),
                      (n -=
                        parseFloat(tt(t, "border" + r[s] + "Width", i, !0)) ||
                        0);
                  return n;
                },
                ht = function (t, e) {
                  if ("contain" === t || "auto" === t || "auto auto" === t)
                    return t + " ";
                  (null != t && "" !== t) || (t = "0 0");
                  var i,
                    n = t.split(" "),
                    r =
                      t.indexOf("left") !== -1
                        ? "0%"
                        : t.indexOf("right") !== -1
                        ? "100%"
                        : n[0],
                    s =
                      t.indexOf("top") !== -1
                        ? "0%"
                        : t.indexOf("bottom") !== -1
                        ? "100%"
                        : n[1];
                  if (n.length > 3 && !e) {
                    for (
                      n = t.split(", ").join(",").split(","), t = [], i = 0;
                      i < n.length;
                      i++
                    )
                      t.push(ht(n[i]));
                    return t.join(",");
                  }
                  return (
                    null == s
                      ? (s = "center" === r ? "50%" : "0")
                      : "center" === s && (s = "50%"),
                    ("center" === r ||
                      (isNaN(parseFloat(r)) && (r + "").indexOf("=") === -1)) &&
                      (r = "50%"),
                    (t = r + " " + s + (n.length > 2 ? " " + n[2] : "")),
                    e &&
                      ((e.oxp = r.indexOf("%") !== -1),
                      (e.oyp = s.indexOf("%") !== -1),
                      (e.oxr = "=" === r.charAt(1)),
                      (e.oyr = "=" === s.charAt(1)),
                      (e.ox = parseFloat(r.replace(b, ""))),
                      (e.oy = parseFloat(s.replace(b, ""))),
                      (e.v = t)),
                    e || t
                  );
                },
                lt = function (t, e) {
                  return (
                    "function" == typeof t && (t = t(v, g)),
                    "string" == typeof t && "=" === t.charAt(1)
                      ? parseInt(t.charAt(0) + "1", 10) *
                        parseFloat(t.substr(2))
                      : parseFloat(t) - parseFloat(e) || 0
                  );
                },
                ut = function (t, e) {
                  return (
                    "function" == typeof t && (t = t(v, g)),
                    null == t
                      ? e
                      : "string" == typeof t && "=" === t.charAt(1)
                      ? parseInt(t.charAt(0) + "1", 10) *
                          parseFloat(t.substr(2)) +
                        e
                      : parseFloat(t) || 0
                  );
                },
                ct = function (t, e, i, n) {
                  var r,
                    s,
                    o,
                    a,
                    h,
                    l = 1e-6;
                  return (
                    "function" == typeof t && (t = t(v, g)),
                    null == t
                      ? (a = e)
                      : "number" == typeof t
                      ? (a = t)
                      : ((r = 360),
                        (s = t.split("_")),
                        (h = "=" === t.charAt(1)),
                        (o =
                          (h
                            ? parseInt(t.charAt(0) + "1", 10) *
                              parseFloat(s[0].substr(2))
                            : parseFloat(s[0])) *
                            (t.indexOf("rad") === -1 ? 1 : F) -
                          (h ? 0 : e)),
                        s.length &&
                          (n && (n[i] = e + o),
                          t.indexOf("short") !== -1 &&
                            ((o %= r),
                            o !== o % (r / 2) && (o = o < 0 ? o + r : o - r)),
                          t.indexOf("_cw") !== -1 && o < 0
                            ? (o =
                                ((o + 9999999999 * r) % r) - ((o / r) | 0) * r)
                            : t.indexOf("ccw") !== -1 &&
                              o > 0 &&
                              (o =
                                ((o - 9999999999 * r) % r) -
                                ((o / r) | 0) * r)),
                        (a = e + o)),
                    a < l && a > -l && (a = 0),
                    a
                  );
                },
                pt = {
                  aqua: [0, 255, 255],
                  lime: [0, 255, 0],
                  silver: [192, 192, 192],
                  black: [0, 0, 0],
                  maroon: [128, 0, 0],
                  teal: [0, 128, 128],
                  blue: [0, 0, 255],
                  navy: [0, 0, 128],
                  white: [255, 255, 255],
                  fuchsia: [255, 0, 255],
                  olive: [128, 128, 0],
                  yellow: [255, 255, 0],
                  orange: [255, 165, 0],
                  gray: [128, 128, 128],
                  purple: [128, 0, 128],
                  green: [0, 128, 0],
                  red: [255, 0, 0],
                  pink: [255, 192, 203],
                  cyan: [0, 255, 255],
                  transparent: [255, 255, 255, 0],
                },
                dt = function (t, e, i) {
                  return (
                    (t = t < 0 ? t + 1 : t > 1 ? t - 1 : t),
                    (255 *
                      (6 * t < 1
                        ? e + (i - e) * t * 6
                        : t < 0.5
                        ? i
                        : 3 * t < 2
                        ? e + (i - e) * (2 / 3 - t) * 6
                        : e) +
                      0.5) |
                      0
                  );
                },
                ft = (a.parseColor = function (t, e) {
                  var i, n, r, s, o, a, h, l, u, c, p;
                  if (t)
                    if ("number" == typeof t)
                      i = [t >> 16, (t >> 8) & 255, 255 & t];
                    else {
                      if (
                        ("," === t.charAt(t.length - 1) &&
                          (t = t.substr(0, t.length - 1)),
                        pt[t])
                      )
                        i = pt[t];
                      else if ("#" === t.charAt(0))
                        4 === t.length &&
                          ((n = t.charAt(1)),
                          (r = t.charAt(2)),
                          (s = t.charAt(3)),
                          (t = "#" + n + n + r + r + s + s)),
                          (t = parseInt(t.substr(1), 16)),
                          (i = [t >> 16, (t >> 8) & 255, 255 & t]);
                      else if ("hsl" === t.substr(0, 3))
                        if (((i = p = t.match(y)), e)) {
                          if (t.indexOf("=") !== -1) return t.match(x);
                        } else
                          (o = (Number(i[0]) % 360) / 360),
                            (a = Number(i[1]) / 100),
                            (h = Number(i[2]) / 100),
                            (r = h <= 0.5 ? h * (a + 1) : h + a - h * a),
                            (n = 2 * h - r),
                            i.length > 3 && (i[3] = Number(i[3])),
                            (i[0] = dt(o + 1 / 3, n, r)),
                            (i[1] = dt(o, n, r)),
                            (i[2] = dt(o - 1 / 3, n, r));
                      else i = t.match(y) || pt.transparent;
                      (i[0] = Number(i[0])),
                        (i[1] = Number(i[1])),
                        (i[2] = Number(i[2])),
                        i.length > 3 && (i[3] = Number(i[3]));
                    }
                  else i = pt.black;
                  return (
                    e &&
                      !p &&
                      ((n = i[0] / 255),
                      (r = i[1] / 255),
                      (s = i[2] / 255),
                      (l = Math.max(n, r, s)),
                      (u = Math.min(n, r, s)),
                      (h = (l + u) / 2),
                      l === u
                        ? (o = a = 0)
                        : ((c = l - u),
                          (a = h > 0.5 ? c / (2 - l - u) : c / (l + u)),
                          (o =
                            l === n
                              ? (r - s) / c + (r < s ? 6 : 0)
                              : l === r
                              ? (s - n) / c + 2
                              : (n - r) / c + 4),
                          (o *= 60)),
                      (i[0] = (o + 0.5) | 0),
                      (i[1] = (100 * a + 0.5) | 0),
                      (i[2] = (100 * h + 0.5) | 0)),
                    i
                  );
                }),
                mt = function (t, e) {
                  var i,
                    n,
                    r,
                    s = t.match(_t) || [],
                    o = 0,
                    a = "";
                  if (!s.length) return t;
                  for (i = 0; i < s.length; i++)
                    (n = s[i]),
                      (r = t.substr(o, t.indexOf(n, o) - o)),
                      (o += r.length + n.length),
                      (n = ft(n, e)),
                      3 === n.length && n.push(1),
                      (a +=
                        r +
                        (e
                          ? "hsla(" +
                            n[0] +
                            "," +
                            n[1] +
                            "%," +
                            n[2] +
                            "%," +
                            n[3]
                          : "rgba(" + n.join(",")) +
                        ")");
                  return a + t.substr(o);
                },
                _t =
                  "(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";
              for (u in pt) _t += "|" + u + "\\b";
              (_t = new RegExp(_t + ")", "gi")),
                (a.colorStringFilter = function (t) {
                  var e,
                    i = t[0] + " " + t[1];
                  _t.test(i) &&
                    ((e =
                      i.indexOf("hsl(") !== -1 || i.indexOf("hsla(") !== -1),
                    (t[0] = mt(t[0], e)),
                    (t[1] = mt(t[1], e))),
                    (_t.lastIndex = 0);
                }),
                e.defaultStringFilter ||
                  (e.defaultStringFilter = a.colorStringFilter);
              var gt = function (t, e, i, n) {
                  if (null == t)
                    return function (t) {
                      return t;
                    };
                  var r,
                    s = e ? (t.match(_t) || [""])[0] : "",
                    o = t.split(s).join("").match(w) || [],
                    a = t.substr(0, t.indexOf(o[0])),
                    h = ")" === t.charAt(t.length - 1) ? ")" : "",
                    l = t.indexOf(" ") !== -1 ? " " : ",",
                    u = o.length,
                    c = u > 0 ? o[0].replace(y, "") : "";
                  return u
                    ? (r = e
                        ? function (t) {
                            var e, p, d, f;
                            if ("number" == typeof t) t += c;
                            else if (n && k.test(t)) {
                              for (
                                f = t.replace(k, "|").split("|"), d = 0;
                                d < f.length;
                                d++
                              )
                                f[d] = r(f[d]);
                              return f.join(",");
                            }
                            if (
                              ((e = (t.match(_t) || [s])[0]),
                              (p = t.split(e).join("").match(w) || []),
                              (d = p.length),
                              u > d--)
                            )
                              for (; ++d < u; )
                                p[d] = i ? p[((d - 1) / 2) | 0] : o[d];
                            return (
                              a +
                              p.join(l) +
                              l +
                              e +
                              h +
                              (t.indexOf("inset") !== -1 ? " inset" : "")
                            );
                          }
                        : function (t) {
                            var e, s, p;
                            if ("number" == typeof t) t += c;
                            else if (n && k.test(t)) {
                              for (
                                s = t.replace(k, "|").split("|"), p = 0;
                                p < s.length;
                                p++
                              )
                                s[p] = r(s[p]);
                              return s.join(",");
                            }
                            if (
                              ((e = t.match(w) || []), (p = e.length), u > p--)
                            )
                              for (; ++p < u; )
                                e[p] = i ? e[((p - 1) / 2) | 0] : o[p];
                            return a + e.join(l) + h;
                          })
                    : function (t) {
                        return t;
                      };
                },
                vt = function (t) {
                  return (
                    (t = t.split(",")),
                    function (e, i, n, r, s, o, a) {
                      var h,
                        l = (i + "").split(" ");
                      for (a = {}, h = 0; h < 4; h++)
                        a[t[h]] = l[h] = l[h] || l[((h - 1) / 2) >> 0];
                      return r.parse(e, a, s, o);
                    }
                  );
                },
                yt =
                  ((W._setPluginRatio = function (t) {
                    this.plugin.setRatio(t);
                    for (
                      var e,
                        i,
                        n,
                        r,
                        s,
                        o = this.data,
                        a = o.proxy,
                        h = o.firstMPT,
                        l = 1e-6;
                      h;

                    )
                      (e = a[h.v]),
                        h.r ? (e = h.r(e)) : e < l && e > -l && (e = 0),
                        (h.t[h.p] = e),
                        (h = h._next);
                    if (
                      (o.autoRotate &&
                        (o.autoRotate.rotation = o.mod
                          ? o.mod.call(
                              this._tween,
                              a.rotation,
                              this.t,
                              this._tween
                            )
                          : a.rotation),
                      1 === t || 0 === t)
                    )
                      for (h = o.firstMPT, s = 1 === t ? "e" : "b"; h; ) {
                        if (((i = h.t), i.type)) {
                          if (1 === i.type) {
                            for (r = i.xs0 + i.s + i.xs1, n = 1; n < i.l; n++)
                              r += i["xn" + n] + i["xs" + (n + 1)];
                            i[s] = r;
                          }
                        } else i[s] = i.s + i.xs0;
                        h = h._next;
                      }
                  }),
                  function (t, e, i, n, r) {
                    (this.t = t),
                      (this.p = e),
                      (this.v = i),
                      (this.r = r),
                      n && ((n._prev = this), (this._next = n));
                  }),
                xt =
                  ((W._parseToProxy = function (t, e, i, n, r, s) {
                    var o,
                      a,
                      h,
                      l,
                      u,
                      c = n,
                      p = {},
                      d = {},
                      f = i._transform,
                      m = H;
                    for (
                      i._transform = null,
                        H = e,
                        n = u = i.parse(t, e, n, r),
                        H = m,
                        s &&
                          ((i._transform = f),
                          c &&
                            ((c._prev = null),
                            c._prev && (c._prev._next = null)));
                      n && n !== c;

                    ) {
                      if (
                        n.type <= 1 &&
                        ((a = n.p),
                        (d[a] = n.s + n.c),
                        (p[a] = n.s),
                        s || ((l = new yt(n, "s", a, l, n.r)), (n.c = 0)),
                        1 === n.type)
                      )
                        for (o = n.l; --o > 0; )
                          (h = "xn" + o),
                            (a = n.p + "_" + h),
                            (d[a] = n.data[h]),
                            (p[a] = n[h]),
                            s || (l = new yt(n, h, a, l, n.rxp[h]));
                      n = n._next;
                    }
                    return { proxy: p, end: d, firstMPT: l, pt: u };
                  }),
                  (W.CSSPropTween = function (t, e, n, r, s, a, h, l, u, c, p) {
                    (this.t = t),
                      (this.p = e),
                      (this.s = n),
                      (this.c = r),
                      (this.n = h || e),
                      t instanceof xt || o.push(this.n),
                      (this.r = l
                        ? "function" == typeof l
                          ? l
                          : Math.round
                        : l),
                      (this.type = a || 0),
                      u && ((this.pr = u), (i = !0)),
                      (this.b = void 0 === c ? n : c),
                      (this.e = void 0 === p ? n + r : p),
                      s && ((this._next = s), (s._prev = this));
                  })),
                wt = function (t, e, i, n, r, s) {
                  var o = new xt(t, e, i, n - i, r, -1, s);
                  return (o.b = i), (o.e = o.xs0 = n), o;
                },
                bt = (a.parseComplex = function (t, e, i, n, r, s, o, h, l, u) {
                  (i = i || s || ""),
                    "function" == typeof n && (n = n(v, g)),
                    (o = new xt(t, e, 0, 0, o, u ? 2 : 1, null, !1, h, i, n)),
                    (n += ""),
                    r &&
                      _t.test(n + i) &&
                      ((n = [i, n]),
                      a.colorStringFilter(n),
                      (i = n[0]),
                      (n = n[1]));
                  var p,
                    d,
                    f,
                    m,
                    _,
                    w,
                    b,
                    T,
                    E,
                    S,
                    M,
                    C,
                    P,
                    A = i.split(", ").join(",").split(" "),
                    R = n.split(", ").join(",").split(" "),
                    L = A.length,
                    I = c !== !1;
                  for (
                    (n.indexOf(",") === -1 && i.indexOf(",") === -1) ||
                      ((n + i).indexOf("rgb") !== -1 ||
                      (n + i).indexOf("hsl") !== -1
                        ? ((A = A.join(" ").replace(k, ", ").split(" ")),
                          (R = R.join(" ").replace(k, ", ").split(" ")))
                        : ((A = A.join(" ").split(",").join(", ").split(" ")),
                          (R = R.join(" ").split(",").join(", ").split(" "))),
                      (L = A.length)),
                      L !== R.length &&
                        ((A = (s || "").split(" ")), (L = A.length)),
                      o.plugin = l,
                      o.setRatio = u,
                      _t.lastIndex = 0,
                      p = 0;
                    p < L;
                    p++
                  )
                    if (
                      ((m = A[p]),
                      (_ = R[p] + ""),
                      (T = parseFloat(m)),
                      T || 0 === T)
                    )
                      o.appendXtra(
                        "",
                        T,
                        lt(_, T),
                        _.replace(x, ""),
                        !(!I || _.indexOf("px") === -1) && Math.round,
                        !0
                      );
                    else if (r && _t.test(m))
                      (C = _.indexOf(")") + 1),
                        (C = ")" + (C ? _.substr(C) : "")),
                        (P = _.indexOf("hsl") !== -1 && q),
                        (S = _),
                        (m = ft(m, P)),
                        (_ = ft(_, P)),
                        (E = m.length + _.length > 6),
                        E && !q && 0 === _[3]
                          ? ((o["xs" + o.l] += o.l
                              ? " transparent"
                              : "transparent"),
                            (o.e = o.e.split(R[p]).join("transparent")))
                          : (q || (E = !1),
                            P
                              ? o
                                  .appendXtra(
                                    S.substr(0, S.indexOf("hsl")) +
                                      (E ? "hsla(" : "hsl("),
                                    m[0],
                                    lt(_[0], m[0]),
                                    ",",
                                    !1,
                                    !0
                                  )
                                  .appendXtra(
                                    "",
                                    m[1],
                                    lt(_[1], m[1]),
                                    "%,",
                                    !1
                                  )
                                  .appendXtra(
                                    "",
                                    m[2],
                                    lt(_[2], m[2]),
                                    E ? "%," : "%" + C,
                                    !1
                                  )
                              : o
                                  .appendXtra(
                                    S.substr(0, S.indexOf("rgb")) +
                                      (E ? "rgba(" : "rgb("),
                                    m[0],
                                    _[0] - m[0],
                                    ",",
                                    Math.round,
                                    !0
                                  )
                                  .appendXtra(
                                    "",
                                    m[1],
                                    _[1] - m[1],
                                    ",",
                                    Math.round
                                  )
                                  .appendXtra(
                                    "",
                                    m[2],
                                    _[2] - m[2],
                                    E ? "," : C,
                                    Math.round
                                  ),
                            E &&
                              ((m = m.length < 4 ? 1 : m[3]),
                              o.appendXtra(
                                "",
                                m,
                                (_.length < 4 ? 1 : _[3]) - m,
                                C,
                                !1
                              ))),
                        (_t.lastIndex = 0);
                    else if ((w = m.match(y))) {
                      if (((b = _.match(x)), !b || b.length !== w.length))
                        return o;
                      for (f = 0, d = 0; d < w.length; d++)
                        (M = w[d]),
                          (S = m.indexOf(M, f)),
                          o.appendXtra(
                            m.substr(f, S - f),
                            Number(M),
                            lt(b[d], M),
                            "",
                            !(!I || "px" !== m.substr(S + M.length, 2)) &&
                              Math.round,
                            0 === d
                          ),
                          (f = S + M.length);
                      o["xs" + o.l] += m.substr(f);
                    } else o["xs" + o.l] += o.l || o["xs" + o.l] ? " " + _ : _;
                  if (n.indexOf("=") !== -1 && o.data) {
                    for (C = o.xs0 + o.data.s, p = 1; p < o.l; p++)
                      C += o["xs" + p] + o.data["xn" + p];
                    o.e = C + o["xs" + p];
                  }
                  return o.l || ((o.type = -1), (o.xs0 = o.e)), o.xfirst || o;
                }),
                Tt = 9;
              for (u = xt.prototype, u.l = u.pr = 0; --Tt > 0; )
                (u["xn" + Tt] = 0), (u["xs" + Tt] = "");
              (u.xs0 = ""),
                (u._next =
                  u._prev =
                  u.xfirst =
                  u.data =
                  u.plugin =
                  u.setRatio =
                  u.rxp =
                    null),
                (u.appendXtra = function (t, e, i, n, r, s) {
                  var o = this,
                    a = o.l;
                  return (
                    (o["xs" + a] +=
                      s && (a || o["xs" + a]) ? " " + t : t || ""),
                    i || 0 === a || o.plugin
                      ? (o.l++,
                        (o.type = o.setRatio ? 2 : 1),
                        (o["xs" + o.l] = n || ""),
                        a > 0
                          ? ((o.data["xn" + a] = e + i),
                            (o.rxp["xn" + a] = r),
                            (o["xn" + a] = e),
                            o.plugin ||
                              ((o.xfirst = new xt(
                                o,
                                "xn" + a,
                                e,
                                i,
                                o.xfirst || o,
                                0,
                                o.n,
                                r,
                                o.pr
                              )),
                              (o.xfirst.xs0 = 0)),
                            o)
                          : ((o.data = { s: e + i }),
                            (o.rxp = {}),
                            (o.s = e),
                            (o.c = i),
                            (o.r = r),
                            o))
                      : ((o["xs" + a] += e + (n || "")), o)
                  );
                });
              var Et = function (t, e) {
                  (e = e || {}),
                    (this.p = e.prefix ? Q(t) || t : t),
                    (l[t] = l[this.p] = this),
                    (this.format =
                      e.formatter ||
                      gt(e.defaultValue, e.color, e.collapsible, e.multi)),
                    e.parser && (this.parse = e.parser),
                    (this.clrs = e.color),
                    (this.multi = e.multi),
                    (this.keyword = e.keyword),
                    (this.dflt = e.defaultValue),
                    (this.pr = e.priority || 0);
                },
                St = (W._registerComplexSpecialProp = function (t, e, i) {
                  "object" != typeof e && (e = { parser: i });
                  var n,
                    r,
                    s = t.split(","),
                    o = e.defaultValue;
                  for (i = i || [o], n = 0; n < s.length; n++)
                    (e.prefix = 0 === n && e.prefix),
                      (e.defaultValue = i[n] || o),
                      (r = new Et(s[n], e));
                }),
                Mt = (W._registerPluginProp = function (t) {
                  if (!l[t]) {
                    var e = t.charAt(0).toUpperCase() + t.substr(1) + "Plugin";
                    St(t, {
                      parser: function (t, i, n, r, s, o, a) {
                        var u = h.com.greensock.plugins[e];
                        return u
                          ? (u._cssRegister(), l[n].parse(t, i, n, r, s, o, a))
                          : (Z("Error: " + e + " js file not loaded."), s);
                      },
                    });
                  }
                });
              (u = Et.prototype),
                (u.parseComplex = function (t, e, i, n, r, s) {
                  var o,
                    a,
                    h,
                    l,
                    u,
                    c,
                    p = this.keyword;
                  if (
                    (this.multi &&
                      (k.test(i) || k.test(e)
                        ? ((a = e.replace(k, "|").split("|")),
                          (h = i.replace(k, "|").split("|")))
                        : p && ((a = [e]), (h = [i]))),
                    h)
                  ) {
                    for (
                      l = h.length > a.length ? h.length : a.length, o = 0;
                      o < l;
                      o++
                    )
                      (e = a[o] = a[o] || this.dflt),
                        (i = h[o] = h[o] || this.dflt),
                        p &&
                          ((u = e.indexOf(p)),
                          (c = i.indexOf(p)),
                          u !== c &&
                            (c === -1
                              ? (a[o] = a[o].split(p).join(""))
                              : u === -1 && (a[o] += " " + p)));
                    (e = a.join(", ")), (i = h.join(", "));
                  }
                  return bt(
                    t,
                    this.p,
                    e,
                    i,
                    this.clrs,
                    this.dflt,
                    n,
                    this.pr,
                    r,
                    s
                  );
                }),
                (u.parse = function (t, e, i, n, s, o, a) {
                  return this.parseComplex(
                    t.style,
                    this.format(tt(t, this.p, r, !1, this.dflt)),
                    this.format(e),
                    s,
                    o
                  );
                }),
                (a.registerSpecialProp = function (t, e, i) {
                  St(t, {
                    parser: function (t, n, r, s, o, a, h) {
                      var l = new xt(t, r, 0, 0, o, 2, r, !1, i);
                      return (
                        (l.plugin = a), (l.setRatio = e(t, n, s._tween, r)), l
                      );
                    },
                    priority: i,
                  });
                }),
                (a.useSVGTransformAttr = !0);
              var Ct,
                Pt =
                  "scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(
                    ","
                  ),
                At = Q("transform"),
                Rt = $ + "transform",
                Lt = Q("transformOrigin"),
                It = null !== Q("perspective"),
                Ot = (W.Transform = function () {
                  (this.perspective =
                    parseFloat(a.defaultTransformPerspective) || 0),
                    (this.force3D =
                      !(a.defaultForce3D === !1 || !It) &&
                      (a.defaultForce3D || "auto"));
                }),
                Dt = s.SVGElement,
                kt = function (t, e, i) {
                  var n,
                    r = U.createElementNS("http://www.w3.org/2000/svg", t),
                    s = /([a-z])([A-Z])/g;
                  for (n in i)
                    r.setAttributeNS(
                      null,
                      n.replace(s, "$1-$2").toLowerCase(),
                      i[n]
                    );
                  return e.appendChild(r), r;
                },
                Nt = U.documentElement || {},
                zt = (function () {
                  var t,
                    e,
                    i,
                    n = _ || (/Android/i.test(X) && !s.chrome);
                  return (
                    U.createElementNS &&
                      !n &&
                      ((t = kt("svg", Nt)),
                      (e = kt("rect", t, { width: 100, height: 50, x: 100 })),
                      (i = e.getBoundingClientRect().width),
                      (e.style[Lt] = "50% 50%"),
                      (e.style[At] = "scaleX(0.5)"),
                      (n = i === e.getBoundingClientRect().width && !(f && It)),
                      Nt.removeChild(t)),
                    n
                  );
                })(),
                Ft = function (t, e, i, n, r, s) {
                  var o,
                    h,
                    l,
                    u,
                    c,
                    p,
                    d,
                    f,
                    m,
                    _,
                    g,
                    v,
                    y,
                    x,
                    w = t._gsTransform,
                    b = Vt(t, !0);
                  w && ((y = w.xOrigin), (x = w.yOrigin)),
                    (!n || (o = n.split(" ")).length < 2) &&
                      ((d = t.getBBox()),
                      0 === d.x &&
                        0 === d.y &&
                        d.width + d.height === 0 &&
                        (d = {
                          x:
                            parseFloat(
                              t.hasAttribute("x")
                                ? t.getAttribute("x")
                                : t.hasAttribute("cx")
                                ? t.getAttribute("cx")
                                : 0
                            ) || 0,
                          y:
                            parseFloat(
                              t.hasAttribute("y")
                                ? t.getAttribute("y")
                                : t.hasAttribute("cy")
                                ? t.getAttribute("cy")
                                : 0
                            ) || 0,
                          width: 0,
                          height: 0,
                        }),
                      (e = ht(e).split(" ")),
                      (o = [
                        (e[0].indexOf("%") !== -1
                          ? (parseFloat(e[0]) / 100) * d.width
                          : parseFloat(e[0])) + d.x,
                        (e[1].indexOf("%") !== -1
                          ? (parseFloat(e[1]) / 100) * d.height
                          : parseFloat(e[1])) + d.y,
                      ])),
                    (i.xOrigin = u = parseFloat(o[0])),
                    (i.yOrigin = c = parseFloat(o[1])),
                    n &&
                      b !== Gt &&
                      ((p = b[0]),
                      (d = b[1]),
                      (f = b[2]),
                      (m = b[3]),
                      (_ = b[4]),
                      (g = b[5]),
                      (v = p * m - d * f),
                      v &&
                        ((h = u * (m / v) + c * (-f / v) + (f * g - m * _) / v),
                        (l = u * (-d / v) + c * (p / v) - (p * g - d * _) / v),
                        (u = i.xOrigin = o[0] = h),
                        (c = i.yOrigin = o[1] = l))),
                    w &&
                      (s &&
                        ((i.xOffset = w.xOffset),
                        (i.yOffset = w.yOffset),
                        (w = i)),
                      r || (r !== !1 && a.defaultSmoothOrigin !== !1)
                        ? ((h = u - y),
                          (l = c - x),
                          (w.xOffset += h * b[0] + l * b[2] - h),
                          (w.yOffset += h * b[1] + l * b[3] - l))
                        : (w.xOffset = w.yOffset = 0)),
                    s || t.setAttribute("data-svg-origin", o.join(" "));
                },
                Ht = function (t) {
                  var e,
                    i = G(
                      "svg",
                      (this.ownerSVGElement &&
                        this.ownerSVGElement.getAttribute("xmlns")) ||
                        "http://www.w3.org/2000/svg"
                    ),
                    n = this.parentNode,
                    r = this.nextSibling,
                    s = this.style.cssText;
                  if (
                    (Nt.appendChild(i),
                    i.appendChild(this),
                    (this.style.display = "block"),
                    t)
                  )
                    try {
                      (e = this.getBBox()),
                        (this._originalGetBBox = this.getBBox),
                        (this.getBBox = Ht);
                    } catch (t) {}
                  else this._originalGetBBox && (e = this._originalGetBBox());
                  return (
                    r ? n.insertBefore(this, r) : n.appendChild(this),
                    Nt.removeChild(i),
                    (this.style.cssText = s),
                    e
                  );
                },
                Bt = function (t) {
                  try {
                    return t.getBBox();
                  } catch (e) {
                    return Ht.call(t, !0);
                  }
                },
                Ut = function (t) {
                  return !(
                    !Dt ||
                    !t.getCTM ||
                    (t.parentNode && !t.ownerSVGElement) ||
                    !Bt(t)
                  );
                },
                Gt = [1, 0, 0, 1, 0, 0],
                Vt = function (t, e) {
                  var i,
                    n,
                    r,
                    s,
                    o,
                    a,
                    h = t._gsTransform || new Ot(),
                    l = 1e5,
                    u = t.style;
                  if (
                    (At
                      ? (n = tt(t, Rt, null, !0))
                      : t.currentStyle &&
                        ((n = t.currentStyle.filter.match(O)),
                        (n =
                          n && 4 === n.length
                            ? [
                                n[0].substr(4),
                                Number(n[2].substr(4)),
                                Number(n[1].substr(4)),
                                n[3].substr(4),
                                h.x || 0,
                                h.y || 0,
                              ].join(",")
                            : "")),
                    (i =
                      !n || "none" === n || "matrix(1, 0, 0, 1, 0, 0)" === n),
                    !At ||
                      (!(a = !K(t) || "none" === K(t).display) &&
                        t.parentNode) ||
                      (a && ((s = u.display), (u.display = "block")),
                      t.parentNode || ((o = 1), Nt.appendChild(t)),
                      (n = tt(t, Rt, null, !0)),
                      (i =
                        !n || "none" === n || "matrix(1, 0, 0, 1, 0, 0)" === n),
                      s ? (u.display = s) : a && Yt(u, "display"),
                      o && Nt.removeChild(t)),
                    (h.svg || (t.getCTM && Ut(t))) &&
                      (i &&
                        (u[At] + "").indexOf("matrix") !== -1 &&
                        ((n = u[At]), (i = 0)),
                      (r = t.getAttribute("transform")),
                      i &&
                        r &&
                        ((r = t.transform.baseVal.consolidate().matrix),
                        (n =
                          "matrix(" +
                          r.a +
                          "," +
                          r.b +
                          "," +
                          r.c +
                          "," +
                          r.d +
                          "," +
                          r.e +
                          "," +
                          r.f +
                          ")"),
                        (i = 0))),
                    i)
                  )
                    return Gt;
                  for (r = (n || "").match(y) || [], Tt = r.length; --Tt > -1; )
                    (s = Number(r[Tt])),
                      (r[Tt] = (o = s - (s |= 0))
                        ? ((o * l + (o < 0 ? -0.5 : 0.5)) | 0) / l + s
                        : s);
                  return e && r.length > 6
                    ? [r[0], r[1], r[4], r[5], r[12], r[13]]
                    : r;
                },
                jt = (W.getTransform = function (t, i, n, r) {
                  if (t._gsTransform && n && !r) return t._gsTransform;
                  var s,
                    o,
                    h,
                    l,
                    u,
                    c,
                    p = n ? t._gsTransform || new Ot() : new Ot(),
                    d = p.scaleX < 0,
                    f = 2e-5,
                    m = 1e5,
                    _ = It
                      ? parseFloat(tt(t, Lt, i, !1, "0 0 0").split(" ")[2]) ||
                        p.zOrigin ||
                        0
                      : 0,
                    g = parseFloat(a.defaultTransformPerspective) || 0;
                  if (
                    ((p.svg = !(!t.getCTM || !Ut(t))),
                    p.svg &&
                      (Ft(
                        t,
                        tt(t, Lt, i, !1, "50% 50%") + "",
                        p,
                        t.getAttribute("data-svg-origin")
                      ),
                      (Ct = a.useSVGTransformAttr || zt)),
                    (s = Vt(t)),
                    s !== Gt)
                  ) {
                    if (16 === s.length) {
                      var v,
                        y,
                        x,
                        w,
                        b,
                        T = s[0],
                        E = s[1],
                        S = s[2],
                        M = s[3],
                        C = s[4],
                        P = s[5],
                        A = s[6],
                        R = s[7],
                        L = s[8],
                        I = s[9],
                        O = s[10],
                        D = s[12],
                        k = s[13],
                        N = s[14],
                        z = s[11],
                        H = Math.atan2(A, O);
                      p.zOrigin &&
                        ((N = -p.zOrigin),
                        (D = L * N - s[12]),
                        (k = I * N - s[13]),
                        (N = O * N + p.zOrigin - s[14])),
                        (p.rotationX = H * F),
                        H &&
                          ((w = Math.cos(-H)),
                          (b = Math.sin(-H)),
                          (v = C * w + L * b),
                          (y = P * w + I * b),
                          (x = A * w + O * b),
                          (L = C * -b + L * w),
                          (I = P * -b + I * w),
                          (O = A * -b + O * w),
                          (z = R * -b + z * w),
                          (C = v),
                          (P = y),
                          (A = x)),
                        (H = Math.atan2(-S, O)),
                        (p.rotationY = H * F),
                        H &&
                          ((w = Math.cos(-H)),
                          (b = Math.sin(-H)),
                          (v = T * w - L * b),
                          (y = E * w - I * b),
                          (x = S * w - O * b),
                          (I = E * b + I * w),
                          (O = S * b + O * w),
                          (z = M * b + z * w),
                          (T = v),
                          (E = y),
                          (S = x)),
                        (H = Math.atan2(E, T)),
                        (p.rotation = H * F),
                        H &&
                          ((w = Math.cos(H)),
                          (b = Math.sin(H)),
                          (v = T * w + E * b),
                          (y = C * w + P * b),
                          (x = L * w + I * b),
                          (E = E * w - T * b),
                          (P = P * w - C * b),
                          (I = I * w - L * b),
                          (T = v),
                          (C = y),
                          (L = x)),
                        p.rotationX &&
                          Math.abs(p.rotationX) + Math.abs(p.rotation) >
                            359.9 &&
                          ((p.rotationX = p.rotation = 0),
                          (p.rotationY = 180 - p.rotationY)),
                        (H = Math.atan2(C, P)),
                        (p.scaleX =
                          ((Math.sqrt(T * T + E * E + S * S) * m + 0.5) | 0) /
                          m),
                        (p.scaleY =
                          ((Math.sqrt(P * P + A * A) * m + 0.5) | 0) / m),
                        (p.scaleZ =
                          ((Math.sqrt(L * L + I * I + O * O) * m + 0.5) | 0) /
                          m),
                        (T /= p.scaleX),
                        (C /= p.scaleY),
                        (E /= p.scaleX),
                        (P /= p.scaleY),
                        Math.abs(H) > f
                          ? ((p.skewX = H * F),
                            (C = 0),
                            "simple" !== p.skewType &&
                              (p.scaleY *= 1 / Math.cos(H)))
                          : (p.skewX = 0),
                        (p.perspective = z ? 1 / (z < 0 ? -z : z) : 0),
                        (p.x = D),
                        (p.y = k),
                        (p.z = N),
                        p.svg &&
                          ((p.x -= p.xOrigin - (p.xOrigin * T - p.yOrigin * C)),
                          (p.y -= p.yOrigin - (p.yOrigin * E - p.xOrigin * P)));
                    } else if (
                      !It ||
                      r ||
                      !s.length ||
                      p.x !== s[4] ||
                      p.y !== s[5] ||
                      (!p.rotationX && !p.rotationY)
                    ) {
                      var B = s.length >= 6,
                        U = B ? s[0] : 1,
                        G = s[1] || 0,
                        V = s[2] || 0,
                        j = B ? s[3] : 1;
                      (p.x = s[4] || 0),
                        (p.y = s[5] || 0),
                        (h = Math.sqrt(U * U + G * G)),
                        (l = Math.sqrt(j * j + V * V)),
                        (u = U || G ? Math.atan2(G, U) * F : p.rotation || 0),
                        (c = V || j ? Math.atan2(V, j) * F + u : p.skewX || 0),
                        (p.scaleX = h),
                        (p.scaleY = l),
                        (p.rotation = u),
                        (p.skewX = c),
                        It &&
                          ((p.rotationX = p.rotationY = p.z = 0),
                          (p.perspective = g),
                          (p.scaleZ = 1)),
                        p.svg &&
                          ((p.x -= p.xOrigin - (p.xOrigin * U + p.yOrigin * V)),
                          (p.y -= p.yOrigin - (p.xOrigin * G + p.yOrigin * j)));
                    }
                    Math.abs(p.skewX) > 90 &&
                      Math.abs(p.skewX) < 270 &&
                      (d
                        ? ((p.scaleX *= -1),
                          (p.skewX += p.rotation <= 0 ? 180 : -180),
                          (p.rotation += p.rotation <= 0 ? 180 : -180))
                        : ((p.scaleY *= -1),
                          (p.skewX += p.skewX <= 0 ? 180 : -180))),
                      (p.zOrigin = _);
                    for (o in p) p[o] < f && p[o] > -f && (p[o] = 0);
                  }
                  return (
                    n &&
                      ((t._gsTransform = p),
                      p.svg &&
                        (Ct && t.style[At]
                          ? e.delayedCall(0.001, function () {
                              Yt(t.style, At);
                            })
                          : !Ct &&
                            t.getAttribute("transform") &&
                            e.delayedCall(0.001, function () {
                              t.removeAttribute("transform");
                            }))),
                    p
                  );
                }),
                Wt = function (t) {
                  var e,
                    i,
                    n = this.data,
                    r = -n.rotation * z,
                    s = r + n.skewX * z,
                    o = 1e5,
                    a = ((Math.cos(r) * n.scaleX * o) | 0) / o,
                    h = ((Math.sin(r) * n.scaleX * o) | 0) / o,
                    l = ((Math.sin(s) * -n.scaleY * o) | 0) / o,
                    u = ((Math.cos(s) * n.scaleY * o) | 0) / o,
                    c = this.t.style,
                    p = this.t.currentStyle;
                  if (p) {
                    (i = h),
                      (h = -l),
                      (l = -i),
                      (e = p.filter),
                      (c.filter = "");
                    var d,
                      f,
                      m = this.t.offsetWidth,
                      g = this.t.offsetHeight,
                      v = "absolute" !== p.position,
                      y =
                        "progid:DXImageTransform.Microsoft.Matrix(M11=" +
                        a +
                        ", M12=" +
                        h +
                        ", M21=" +
                        l +
                        ", M22=" +
                        u,
                      x = n.x + (m * n.xPercent) / 100,
                      w = n.y + (g * n.yPercent) / 100;
                    if (
                      (null != n.ox &&
                        ((d = (n.oxp ? m * n.ox * 0.01 : n.ox) - m / 2),
                        (f = (n.oyp ? g * n.oy * 0.01 : n.oy) - g / 2),
                        (x += d - (d * a + f * h)),
                        (w += f - (d * l + f * u))),
                      v
                        ? ((d = m / 2),
                          (f = g / 2),
                          (y +=
                            ", Dx=" +
                            (d - (d * a + f * h) + x) +
                            ", Dy=" +
                            (f - (d * l + f * u) + w) +
                            ")"))
                        : (y += ", sizingMethod='auto expand')"),
                      e.indexOf("DXImageTransform.Microsoft.Matrix(") !== -1
                        ? (c.filter = e.replace(D, y))
                        : (c.filter = y + " " + e),
                      (0 !== t && 1 !== t) ||
                        (1 === a &&
                          0 === h &&
                          0 === l &&
                          1 === u &&
                          ((v && y.indexOf("Dx=0, Dy=0") === -1) ||
                            (E.test(e) && 100 !== parseFloat(RegExp.$1)) ||
                            (e.indexOf(e.indexOf("Alpha")) === -1 &&
                              c.removeAttribute("filter")))),
                      !v)
                    ) {
                      var b,
                        S,
                        M,
                        C = _ < 8 ? 1 : -1;
                      for (
                        d = n.ieOffsetX || 0,
                          f = n.ieOffsetY || 0,
                          n.ieOffsetX = Math.round(
                            (m -
                              ((a < 0 ? -a : a) * m + (h < 0 ? -h : h) * g)) /
                              2 +
                              x
                          ),
                          n.ieOffsetY = Math.round(
                            (g -
                              ((u < 0 ? -u : u) * g + (l < 0 ? -l : l) * m)) /
                              2 +
                              w
                          ),
                          Tt = 0;
                        Tt < 4;
                        Tt++
                      )
                        (S = ot[Tt]),
                          (b = p[S]),
                          (i =
                            b.indexOf("px") !== -1
                              ? parseFloat(b)
                              : et(
                                  this.t,
                                  S,
                                  parseFloat(b),
                                  b.replace(T, "")
                                ) || 0),
                          (M =
                            i !== n[S]
                              ? Tt < 2
                                ? -n.ieOffsetX
                                : -n.ieOffsetY
                              : Tt < 2
                              ? d - n.ieOffsetX
                              : f - n.ieOffsetY),
                          (c[S] =
                            (n[S] = Math.round(
                              i - M * (0 === Tt || 2 === Tt ? 1 : C)
                            )) + "px");
                    }
                  }
                },
                Xt =
                  (W.set3DTransformRatio =
                  W.setTransformRatio =
                    function (t) {
                      var e,
                        i,
                        n,
                        r,
                        s,
                        o,
                        a,
                        h,
                        l,
                        u,
                        c,
                        p,
                        d,
                        m,
                        _,
                        g,
                        v,
                        y,
                        x,
                        w,
                        b,
                        T,
                        E,
                        S = this.data,
                        M = this.t.style,
                        C = S.rotation,
                        P = S.rotationX,
                        A = S.rotationY,
                        R = S.scaleX,
                        L = S.scaleY,
                        I = S.scaleZ,
                        O = S.x,
                        D = S.y,
                        k = S.z,
                        N = S.svg,
                        F = S.perspective,
                        H = S.force3D,
                        B = S.skewY,
                        U = S.skewX;
                      if (
                        (B && ((U += B), (C += B)),
                        ((((1 === t || 0 === t) &&
                          "auto" === H &&
                          (this.tween._totalTime ===
                            this.tween._totalDuration ||
                            !this.tween._totalTime)) ||
                          !H) &&
                          !k &&
                          !F &&
                          !A &&
                          !P &&
                          1 === I) ||
                          (Ct && N) ||
                          !It)
                      )
                        return void (C || U || N
                          ? ((C *= z),
                            (T = U * z),
                            (E = 1e5),
                            (i = Math.cos(C) * R),
                            (s = Math.sin(C) * R),
                            (n = Math.sin(C - T) * -L),
                            (o = Math.cos(C - T) * L),
                            T &&
                              "simple" === S.skewType &&
                              ((e = Math.tan(T - B * z)),
                              (e = Math.sqrt(1 + e * e)),
                              (n *= e),
                              (o *= e),
                              B &&
                                ((e = Math.tan(B * z)),
                                (e = Math.sqrt(1 + e * e)),
                                (i *= e),
                                (s *= e))),
                            N &&
                              ((O +=
                                S.xOrigin -
                                (S.xOrigin * i + S.yOrigin * n) +
                                S.xOffset),
                              (D +=
                                S.yOrigin -
                                (S.xOrigin * s + S.yOrigin * o) +
                                S.yOffset),
                              Ct &&
                                (S.xPercent || S.yPercent) &&
                                ((_ = this.t.getBBox()),
                                (O += 0.01 * S.xPercent * _.width),
                                (D += 0.01 * S.yPercent * _.height)),
                              (_ = 1e-6),
                              O < _ && O > -_ && (O = 0),
                              D < _ && D > -_ && (D = 0)),
                            (x =
                              ((i * E) | 0) / E +
                              "," +
                              ((s * E) | 0) / E +
                              "," +
                              ((n * E) | 0) / E +
                              "," +
                              ((o * E) | 0) / E +
                              "," +
                              O +
                              "," +
                              D +
                              ")"),
                            N && Ct
                              ? this.t.setAttribute("transform", "matrix(" + x)
                              : (M[At] =
                                  (S.xPercent || S.yPercent
                                    ? "translate(" +
                                      S.xPercent +
                                      "%," +
                                      S.yPercent +
                                      "%) matrix("
                                    : "matrix(") + x))
                          : (M[At] =
                              (S.xPercent || S.yPercent
                                ? "translate(" +
                                  S.xPercent +
                                  "%," +
                                  S.yPercent +
                                  "%) matrix("
                                : "matrix(") +
                              R +
                              ",0,0," +
                              L +
                              "," +
                              O +
                              "," +
                              D +
                              ")"));
                      if (
                        (f &&
                          ((_ = 1e-4),
                          R < _ && R > -_ && (R = I = 2e-5),
                          L < _ && L > -_ && (L = I = 2e-5),
                          !F || S.z || S.rotationX || S.rotationY || (F = 0)),
                        C || U)
                      )
                        (C *= z),
                          (g = i = Math.cos(C)),
                          (v = s = Math.sin(C)),
                          U &&
                            ((C -= U * z),
                            (g = Math.cos(C)),
                            (v = Math.sin(C)),
                            "simple" === S.skewType &&
                              ((e = Math.tan((U - B) * z)),
                              (e = Math.sqrt(1 + e * e)),
                              (g *= e),
                              (v *= e),
                              S.skewY &&
                                ((e = Math.tan(B * z)),
                                (e = Math.sqrt(1 + e * e)),
                                (i *= e),
                                (s *= e)))),
                          (n = -v),
                          (o = g);
                      else {
                        if (!(A || P || 1 !== I || F || N))
                          return void (M[At] =
                            (S.xPercent || S.yPercent
                              ? "translate(" +
                                S.xPercent +
                                "%," +
                                S.yPercent +
                                "%) translate3d("
                              : "translate3d(") +
                            O +
                            "px," +
                            D +
                            "px," +
                            k +
                            "px)" +
                            (1 !== R || 1 !== L
                              ? " scale(" + R + "," + L + ")"
                              : ""));
                        (i = o = 1), (n = s = 0);
                      }
                      (u = 1),
                        (r = a = h = l = c = p = 0),
                        (d = F ? -1 / F : 0),
                        (m = S.zOrigin),
                        (_ = 1e-6),
                        (w = ","),
                        (b = "0"),
                        (C = A * z),
                        C &&
                          ((g = Math.cos(C)),
                          (v = Math.sin(C)),
                          (h = -v),
                          (c = d * -v),
                          (r = i * v),
                          (a = s * v),
                          (u = g),
                          (d *= g),
                          (i *= g),
                          (s *= g)),
                        (C = P * z),
                        C &&
                          ((g = Math.cos(C)),
                          (v = Math.sin(C)),
                          (e = n * g + r * v),
                          (y = o * g + a * v),
                          (l = u * v),
                          (p = d * v),
                          (r = n * -v + r * g),
                          (a = o * -v + a * g),
                          (u *= g),
                          (d *= g),
                          (n = e),
                          (o = y)),
                        1 !== I && ((r *= I), (a *= I), (u *= I), (d *= I)),
                        1 !== L && ((n *= L), (o *= L), (l *= L), (p *= L)),
                        1 !== R && ((i *= R), (s *= R), (h *= R), (c *= R)),
                        (m || N) &&
                          (m &&
                            ((O += r * -m), (D += a * -m), (k += u * -m + m)),
                          N &&
                            ((O +=
                              S.xOrigin -
                              (S.xOrigin * i + S.yOrigin * n) +
                              S.xOffset),
                            (D +=
                              S.yOrigin -
                              (S.xOrigin * s + S.yOrigin * o) +
                              S.yOffset)),
                          O < _ && O > -_ && (O = b),
                          D < _ && D > -_ && (D = b),
                          k < _ && k > -_ && (k = 0)),
                        (x =
                          S.xPercent || S.yPercent
                            ? "translate(" +
                              S.xPercent +
                              "%," +
                              S.yPercent +
                              "%) matrix3d("
                            : "matrix3d("),
                        (x +=
                          (i < _ && i > -_ ? b : i) +
                          w +
                          (s < _ && s > -_ ? b : s) +
                          w +
                          (h < _ && h > -_ ? b : h)),
                        (x +=
                          w +
                          (c < _ && c > -_ ? b : c) +
                          w +
                          (n < _ && n > -_ ? b : n) +
                          w +
                          (o < _ && o > -_ ? b : o)),
                        P || A || 1 !== I
                          ? ((x +=
                              w +
                              (l < _ && l > -_ ? b : l) +
                              w +
                              (p < _ && p > -_ ? b : p) +
                              w +
                              (r < _ && r > -_ ? b : r)),
                            (x +=
                              w +
                              (a < _ && a > -_ ? b : a) +
                              w +
                              (u < _ && u > -_ ? b : u) +
                              w +
                              (d < _ && d > -_ ? b : d) +
                              w))
                          : (x += ",0,0,0,0,1,0,"),
                        (x +=
                          O + w + D + w + k + w + (F ? 1 + -k / F : 1) + ")"),
                        (M[At] = x);
                    });
              (u = Ot.prototype),
                (u.x =
                  u.y =
                  u.z =
                  u.skewX =
                  u.skewY =
                  u.rotation =
                  u.rotationX =
                  u.rotationY =
                  u.zOrigin =
                  u.xPercent =
                  u.yPercent =
                  u.xOffset =
                  u.yOffset =
                    0),
                (u.scaleX = u.scaleY = u.scaleZ = 1),
                St(
                  "transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",
                  {
                    parser: function (t, e, i, n, s, o, h) {
                      if (n._lastParsedTransform === h) return s;
                      n._lastParsedTransform = h;
                      var l,
                        u =
                          h.scale && "function" == typeof h.scale ? h.scale : 0;
                      "function" == typeof h[i] && ((l = h[i]), (h[i] = e)),
                        u && (h.scale = u(v, t));
                      var c,
                        p,
                        d,
                        f,
                        m,
                        _,
                        y,
                        x,
                        w,
                        b = t._gsTransform,
                        T = t.style,
                        E = 1e-6,
                        S = Pt.length,
                        M = h,
                        C = {},
                        P = "transformOrigin",
                        A = jt(t, r, !0, M.parseTransform),
                        R =
                          M.transform &&
                          ("function" == typeof M.transform
                            ? M.transform(v, g)
                            : M.transform);
                      if (
                        ((A.skewType =
                          M.skewType || A.skewType || a.defaultSkewType),
                        (n._transform = A),
                        R && "string" == typeof R && At)
                      )
                        (p = V.style),
                          (p[At] = R),
                          (p.display = "block"),
                          (p.position = "absolute"),
                          R.indexOf("%") !== -1 &&
                            ((p.width = tt(t, "width")),
                            (p.height = tt(t, "height"))),
                          U.body.appendChild(V),
                          (c = jt(V, null, !1)),
                          "simple" === A.skewType &&
                            (c.scaleY *= Math.cos(c.skewX * z)),
                          A.svg &&
                            ((_ = A.xOrigin),
                            (y = A.yOrigin),
                            (c.x -= A.xOffset),
                            (c.y -= A.yOffset),
                            (M.transformOrigin || M.svgOrigin) &&
                              ((R = {}),
                              Ft(
                                t,
                                ht(M.transformOrigin),
                                R,
                                M.svgOrigin,
                                M.smoothOrigin,
                                !0
                              ),
                              (_ = R.xOrigin),
                              (y = R.yOrigin),
                              (c.x -= R.xOffset - A.xOffset),
                              (c.y -= R.yOffset - A.yOffset)),
                            (_ || y) &&
                              ((x = Vt(V, !0)),
                              (c.x -= _ - (_ * x[0] + y * x[2])),
                              (c.y -= y - (_ * x[1] + y * x[3])))),
                          U.body.removeChild(V),
                          c.perspective || (c.perspective = A.perspective),
                          null != M.xPercent &&
                            (c.xPercent = ut(M.xPercent, A.xPercent)),
                          null != M.yPercent &&
                            (c.yPercent = ut(M.yPercent, A.yPercent));
                      else if ("object" == typeof M) {
                        if (
                          ((c = {
                            scaleX: ut(
                              null != M.scaleX ? M.scaleX : M.scale,
                              A.scaleX
                            ),
                            scaleY: ut(
                              null != M.scaleY ? M.scaleY : M.scale,
                              A.scaleY
                            ),
                            scaleZ: ut(M.scaleZ, A.scaleZ),
                            x: ut(M.x, A.x),
                            y: ut(M.y, A.y),
                            z: ut(M.z, A.z),
                            xPercent: ut(M.xPercent, A.xPercent),
                            yPercent: ut(M.yPercent, A.yPercent),
                            perspective: ut(
                              M.transformPerspective,
                              A.perspective
                            ),
                          }),
                          (m = M.directionalRotation),
                          null != m)
                        )
                          if ("object" == typeof m) for (p in m) M[p] = m[p];
                          else M.rotation = m;
                        "string" == typeof M.x &&
                          M.x.indexOf("%") !== -1 &&
                          ((c.x = 0), (c.xPercent = ut(M.x, A.xPercent))),
                          "string" == typeof M.y &&
                            M.y.indexOf("%") !== -1 &&
                            ((c.y = 0), (c.yPercent = ut(M.y, A.yPercent))),
                          (c.rotation = ct(
                            "rotation" in M
                              ? M.rotation
                              : "shortRotation" in M
                              ? M.shortRotation + "_short"
                              : "rotationZ" in M
                              ? M.rotationZ
                              : A.rotation,
                            A.rotation,
                            "rotation",
                            C
                          )),
                          It &&
                            ((c.rotationX = ct(
                              "rotationX" in M
                                ? M.rotationX
                                : "shortRotationX" in M
                                ? M.shortRotationX + "_short"
                                : A.rotationX || 0,
                              A.rotationX,
                              "rotationX",
                              C
                            )),
                            (c.rotationY = ct(
                              "rotationY" in M
                                ? M.rotationY
                                : "shortRotationY" in M
                                ? M.shortRotationY + "_short"
                                : A.rotationY || 0,
                              A.rotationY,
                              "rotationY",
                              C
                            ))),
                          (c.skewX = ct(M.skewX, A.skewX)),
                          (c.skewY = ct(M.skewY, A.skewY));
                      }
                      for (
                        It &&
                          null != M.force3D &&
                          ((A.force3D = M.force3D), (f = !0)),
                          d =
                            A.force3D ||
                            A.z ||
                            A.rotationX ||
                            A.rotationY ||
                            c.z ||
                            c.rotationX ||
                            c.rotationY ||
                            c.perspective,
                          d || null == M.scale || (c.scaleZ = 1);
                        --S > -1;

                      )
                        (w = Pt[S]),
                          (R = c[w] - A[w]),
                          (R > E || R < -E || null != M[w] || null != H[w]) &&
                            ((f = !0),
                            (s = new xt(A, w, A[w], R, s)),
                            w in C && (s.e = C[w]),
                            (s.xs0 = 0),
                            (s.plugin = o),
                            n._overwriteProps.push(s.n));
                      return (
                        (R = M.transformOrigin),
                        A.svg &&
                          (R || M.svgOrigin) &&
                          ((_ = A.xOffset),
                          (y = A.yOffset),
                          Ft(t, ht(R), c, M.svgOrigin, M.smoothOrigin),
                          (s = wt(
                            A,
                            "xOrigin",
                            (b ? A : c).xOrigin,
                            c.xOrigin,
                            s,
                            P
                          )),
                          (s = wt(
                            A,
                            "yOrigin",
                            (b ? A : c).yOrigin,
                            c.yOrigin,
                            s,
                            P
                          )),
                          (_ === A.xOffset && y === A.yOffset) ||
                            ((s = wt(
                              A,
                              "xOffset",
                              b ? _ : A.xOffset,
                              A.xOffset,
                              s,
                              P
                            )),
                            (s = wt(
                              A,
                              "yOffset",
                              b ? y : A.yOffset,
                              A.yOffset,
                              s,
                              P
                            ))),
                          (R = "0px 0px")),
                        (R || (It && d && A.zOrigin)) &&
                          (At
                            ? ((f = !0),
                              (w = Lt),
                              (R = (R || tt(t, w, r, !1, "50% 50%")) + ""),
                              (s = new xt(T, w, 0, 0, s, -1, P)),
                              (s.b = T[w]),
                              (s.plugin = o),
                              It
                                ? ((p = A.zOrigin),
                                  (R = R.split(" ")),
                                  (A.zOrigin =
                                    (R.length > 2 && (0 === p || "0px" !== R[2])
                                      ? parseFloat(R[2])
                                      : p) || 0),
                                  (s.xs0 = s.e =
                                    R[0] + " " + (R[1] || "50%") + " 0px"),
                                  (s = new xt(A, "zOrigin", 0, 0, s, -1, s.n)),
                                  (s.b = p),
                                  (s.xs0 = s.e = A.zOrigin))
                                : (s.xs0 = s.e = R))
                            : ht(R + "", A)),
                        f &&
                          (n._transformType =
                            (A.svg && Ct) || (!d && 3 !== this._transformType)
                              ? 2
                              : 3),
                        l && (h[i] = l),
                        u && (h.scale = u),
                        s
                      );
                    },
                    prefix: !0,
                  }
                ),
                St("boxShadow", {
                  defaultValue: "0px 0px 0px 0px #999",
                  prefix: !0,
                  color: !0,
                  multi: !0,
                  keyword: "inset",
                }),
                St("borderRadius", {
                  defaultValue: "0px",
                  parser: function (t, e, i, s, o, a) {
                    e = this.format(e);
                    var h,
                      l,
                      u,
                      c,
                      p,
                      d,
                      f,
                      m,
                      _,
                      g,
                      v,
                      y,
                      x,
                      w,
                      b,
                      T,
                      E = [
                        "borderTopLeftRadius",
                        "borderTopRightRadius",
                        "borderBottomRightRadius",
                        "borderBottomLeftRadius",
                      ],
                      S = t.style;
                    for (
                      _ = parseFloat(t.offsetWidth),
                        g = parseFloat(t.offsetHeight),
                        h = e.split(" "),
                        l = 0;
                      l < E.length;
                      l++
                    )
                      this.p.indexOf("border") && (E[l] = Q(E[l])),
                        (p = c = tt(t, E[l], r, !1, "0px")),
                        p.indexOf(" ") !== -1 &&
                          ((c = p.split(" ")), (p = c[0]), (c = c[1])),
                        (d = u = h[l]),
                        (f = parseFloat(p)),
                        (y = p.substr((f + "").length)),
                        (x = "=" === d.charAt(1)),
                        x
                          ? ((m = parseInt(d.charAt(0) + "1", 10)),
                            (d = d.substr(2)),
                            (m *= parseFloat(d)),
                            (v =
                              d.substr((m + "").length - (m < 0 ? 1 : 0)) ||
                              ""))
                          : ((m = parseFloat(d)),
                            (v = d.substr((m + "").length))),
                        "" === v && (v = n[i] || y),
                        v !== y &&
                          ((w = et(t, "borderLeft", f, y)),
                          (b = et(t, "borderTop", f, y)),
                          "%" === v
                            ? ((p = (w / _) * 100 + "%"),
                              (c = (b / g) * 100 + "%"))
                            : "em" === v
                            ? ((T = et(t, "borderLeft", 1, "em")),
                              (p = w / T + "em"),
                              (c = b / T + "em"))
                            : ((p = w + "px"), (c = b + "px")),
                          x &&
                            ((d = parseFloat(p) + m + v),
                            (u = parseFloat(c) + m + v))),
                        (o = bt(
                          S,
                          E[l],
                          p + " " + c,
                          d + " " + u,
                          !1,
                          "0px",
                          o
                        ));
                    return o;
                  },
                  prefix: !0,
                  formatter: gt("0px 0px 0px 0px", !1, !0),
                }),
                St(
                  "borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",
                  {
                    defaultValue: "0px",
                    parser: function (t, e, i, n, s, o) {
                      return bt(
                        t.style,
                        i,
                        this.format(tt(t, i, r, !1, "0px 0px")),
                        this.format(e),
                        !1,
                        "0px",
                        s
                      );
                    },
                    prefix: !0,
                    formatter: gt("0px 0px", !1, !0),
                  }
                ),
                St("backgroundPosition", {
                  defaultValue: "0 0",
                  parser: function (t, e, i, n, s, o) {
                    var a,
                      h,
                      l,
                      u,
                      c,
                      p,
                      d = "background-position",
                      f = r || K(t, null),
                      m = this.format(
                        (f
                          ? _
                            ? f.getPropertyValue(d + "-x") +
                              " " +
                              f.getPropertyValue(d + "-y")
                            : f.getPropertyValue(d)
                          : t.currentStyle.backgroundPositionX +
                            " " +
                            t.currentStyle.backgroundPositionY) || "0 0"
                      ),
                      g = this.format(e);
                    if (
                      (m.indexOf("%") !== -1) != (g.indexOf("%") !== -1) &&
                      g.split(",").length < 2 &&
                      ((p = tt(t, "backgroundImage").replace(R, "")),
                      p && "none" !== p)
                    ) {
                      for (
                        a = m.split(" "),
                          h = g.split(" "),
                          j.setAttribute("src", p),
                          l = 2;
                        --l > -1;

                      )
                        (m = a[l]),
                          (u = m.indexOf("%") !== -1),
                          u !== (h[l].indexOf("%") !== -1) &&
                            ((c =
                              0 === l
                                ? t.offsetWidth - j.width
                                : t.offsetHeight - j.height),
                            (a[l] = u
                              ? (parseFloat(m) / 100) * c + "px"
                              : (parseFloat(m) / c) * 100 + "%"));
                      m = a.join(" ");
                    }
                    return this.parseComplex(t.style, m, g, s, o);
                  },
                  formatter: ht,
                }),
                St("backgroundSize", {
                  defaultValue: "0 0",
                  formatter: function (t) {
                    return (
                      (t += ""),
                      "co" === t.substr(0, 2)
                        ? t
                        : ht(t.indexOf(" ") === -1 ? t + " " + t : t)
                    );
                  },
                }),
                St("perspective", { defaultValue: "0px", prefix: !0 }),
                St("perspectiveOrigin", {
                  defaultValue: "50% 50%",
                  prefix: !0,
                }),
                St("transformStyle", { prefix: !0 }),
                St("backfaceVisibility", { prefix: !0 }),
                St("userSelect", { prefix: !0 }),
                St("margin", {
                  parser: vt("marginTop,marginRight,marginBottom,marginLeft"),
                }),
                St("padding", {
                  parser: vt(
                    "paddingTop,paddingRight,paddingBottom,paddingLeft"
                  ),
                }),
                St("clip", {
                  defaultValue: "rect(0px,0px,0px,0px)",
                  parser: function (t, e, i, n, s, o) {
                    var a, h, l;
                    return (
                      _ < 9
                        ? ((h = t.currentStyle),
                          (l = _ < 8 ? " " : ","),
                          (a =
                            "rect(" +
                            h.clipTop +
                            l +
                            h.clipRight +
                            l +
                            h.clipBottom +
                            l +
                            h.clipLeft +
                            ")"),
                          (e = this.format(e).split(",").join(l)))
                        : ((a = this.format(tt(t, this.p, r, !1, this.dflt))),
                          (e = this.format(e))),
                      this.parseComplex(t.style, a, e, s, o)
                    );
                  },
                }),
                St("textShadow", {
                  defaultValue: "0px 0px 0px #999",
                  color: !0,
                  multi: !0,
                }),
                St("autoRound,strictUnits", {
                  parser: function (t, e, i, n, r) {
                    return r;
                  },
                }),
                St("border", {
                  defaultValue: "0px solid #000",
                  parser: function (t, e, i, n, s, o) {
                    var a = tt(t, "borderTopWidth", r, !1, "0px"),
                      h = this.format(e).split(" "),
                      l = h[0].replace(T, "");
                    return (
                      "px" !== l &&
                        (a = parseFloat(a) / et(t, "borderTopWidth", 1, l) + l),
                      this.parseComplex(
                        t.style,
                        this.format(
                          a +
                            " " +
                            tt(t, "borderTopStyle", r, !1, "solid") +
                            " " +
                            tt(t, "borderTopColor", r, !1, "#000")
                        ),
                        h.join(" "),
                        s,
                        o
                      )
                    );
                  },
                  color: !0,
                  formatter: function (t) {
                    var e = t.split(" ");
                    return (
                      e[0] +
                      " " +
                      (e[1] || "solid") +
                      " " +
                      (t.match(_t) || ["#000"])[0]
                    );
                  },
                }),
                St("borderWidth", {
                  parser: vt(
                    "borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth"
                  ),
                }),
                St("float,cssFloat,styleFloat", {
                  parser: function (t, e, i, n, r, s) {
                    var o = t.style,
                      a = "cssFloat" in o ? "cssFloat" : "styleFloat";
                    return new xt(o, a, 0, 0, r, -1, i, !1, 0, o[a], e);
                  },
                });
              var qt = function (t) {
                var e,
                  i = this.t,
                  n = i.filter || tt(this.data, "filter") || "",
                  r = (this.s + this.c * t) | 0;
                100 === r &&
                  (n.indexOf("atrix(") === -1 &&
                  n.indexOf("radient(") === -1 &&
                  n.indexOf("oader(") === -1
                    ? (i.removeAttribute("filter"),
                      (e = !tt(this.data, "filter")))
                    : ((i.filter = n.replace(M, "")), (e = !0))),
                  e ||
                    (this.xn1 &&
                      (i.filter = n = n || "alpha(opacity=" + r + ")"),
                    n.indexOf("pacity") === -1
                      ? (0 === r && this.xn1) ||
                        (i.filter = n + " alpha(opacity=" + r + ")")
                      : (i.filter = n.replace(E, "opacity=" + r)));
              };
              St("opacity,alpha,autoAlpha", {
                defaultValue: "1",
                parser: function (t, e, i, n, s, o) {
                  var a = parseFloat(tt(t, "opacity", r, !1, "1")),
                    h = t.style,
                    l = "autoAlpha" === i;
                  return (
                    "string" == typeof e &&
                      "=" === e.charAt(1) &&
                      (e =
                        ("-" === e.charAt(0) ? -1 : 1) *
                          parseFloat(e.substr(2)) +
                        a),
                    l &&
                      1 === a &&
                      "hidden" === tt(t, "visibility", r) &&
                      0 !== e &&
                      (a = 0),
                    q
                      ? (s = new xt(h, "opacity", a, e - a, s))
                      : ((s = new xt(h, "opacity", 100 * a, 100 * (e - a), s)),
                        (s.xn1 = l ? 1 : 0),
                        (h.zoom = 1),
                        (s.type = 2),
                        (s.b = "alpha(opacity=" + s.s + ")"),
                        (s.e = "alpha(opacity=" + (s.s + s.c) + ")"),
                        (s.data = t),
                        (s.plugin = o),
                        (s.setRatio = qt)),
                    l &&
                      ((s = new xt(
                        h,
                        "visibility",
                        0,
                        0,
                        s,
                        -1,
                        null,
                        !1,
                        0,
                        0 !== a ? "inherit" : "hidden",
                        0 === e ? "hidden" : "inherit"
                      )),
                      (s.xs0 = "inherit"),
                      n._overwriteProps.push(s.n),
                      n._overwriteProps.push(i)),
                    s
                  );
                },
              });
              var Yt = function (t, e) {
                  e &&
                    (t.removeProperty
                      ? (("ms" !== e.substr(0, 2) &&
                          "webkit" !== e.substr(0, 6)) ||
                          (e = "-" + e),
                        t.removeProperty(e.replace(P, "-$1").toLowerCase()))
                      : t.removeAttribute(e));
                },
                Zt = function (t) {
                  if (((this.t._gsClassPT = this), 1 === t || 0 === t)) {
                    this.t.setAttribute("class", 0 === t ? this.b : this.e);
                    for (var e = this.data, i = this.t.style; e; )
                      e.v ? (i[e.p] = e.v) : Yt(i, e.p), (e = e._next);
                    1 === t &&
                      this.t._gsClassPT === this &&
                      (this.t._gsClassPT = null);
                  } else
                    this.t.getAttribute("class") !== this.e &&
                      this.t.setAttribute("class", this.e);
                };
              St("className", {
                parser: function (t, e, n, s, o, a, h) {
                  var l,
                    u,
                    c,
                    p,
                    d,
                    f = t.getAttribute("class") || "",
                    m = t.style.cssText;
                  if (
                    ((o = s._classNamePT = new xt(t, n, 0, 0, o, 2)),
                    (o.setRatio = Zt),
                    (o.pr = -11),
                    (i = !0),
                    (o.b = f),
                    (u = nt(t, r)),
                    (c = t._gsClassPT))
                  ) {
                    for (p = {}, d = c.data; d; ) (p[d.p] = 1), (d = d._next);
                    c.setRatio(1);
                  }
                  return (
                    (t._gsClassPT = o),
                    (o.e =
                      "=" !== e.charAt(1)
                        ? e
                        : f.replace(
                            new RegExp(
                              "(?:\\s|^)" + e.substr(2) + "(?![\\w-])"
                            ),
                            ""
                          ) + ("+" === e.charAt(0) ? " " + e.substr(2) : "")),
                    t.setAttribute("class", o.e),
                    (l = rt(t, u, nt(t), h, p)),
                    t.setAttribute("class", f),
                    (o.data = l.firstMPT),
                    (t.style.cssText = m),
                    (o = o.xfirst = s.parse(t, l.difs, o, a))
                  );
                },
              });
              var $t = function (t) {
                if (
                  (1 === t || 0 === t) &&
                  this.data._totalTime === this.data._totalDuration &&
                  "isFromStart" !== this.data.data
                ) {
                  var e,
                    i,
                    n,
                    r,
                    s,
                    o = this.t.style,
                    a = l.transform.parse;
                  if ("all" === this.e) (o.cssText = ""), (r = !0);
                  else
                    for (
                      e = this.e.split(" ").join("").split(","), n = e.length;
                      --n > -1;

                    )
                      (i = e[n]),
                        l[i] &&
                          (l[i].parse === a
                            ? (r = !0)
                            : (i = "transformOrigin" === i ? Lt : l[i].p)),
                        Yt(o, i);
                  r &&
                    (Yt(o, At),
                    (s = this.t._gsTransform),
                    s &&
                      (s.svg &&
                        (this.t.removeAttribute("data-svg-origin"),
                        this.t.removeAttribute("transform")),
                      delete this.t._gsTransform));
                }
              };
              for (
                St("clearProps", {
                  parser: function (t, e, n, r, s) {
                    return (
                      (s = new xt(t, n, 0, 0, s, 2)),
                      (s.setRatio = $t),
                      (s.e = e),
                      (s.pr = -10),
                      (s.data = r._tween),
                      (i = !0),
                      s
                    );
                  },
                }),
                  u = "bezier,throwProps,physicsProps,physics2D".split(","),
                  Tt = u.length;
                Tt--;

              )
                Mt(u[Tt]);
              (u = a.prototype),
                (u._firstPT = u._lastParsedTransform = u._transform = null),
                (u._onInitTween = function (t, e, s, h) {
                  if (!t.nodeType) return !1;
                  (this._target = g = t),
                    (this._tween = s),
                    (this._vars = e),
                    (v = h),
                    (c = e.autoRound),
                    (i = !1),
                    (n = e.suffixMap || a.suffixMap),
                    (r = K(t, "")),
                    (o = this._overwriteProps);
                  var u,
                    f,
                    _,
                    y,
                    x,
                    w,
                    b,
                    T,
                    E,
                    M = t.style;
                  if (
                    (p &&
                      "" === M.zIndex &&
                      ((u = tt(t, "zIndex", r)),
                      ("auto" !== u && "" !== u) ||
                        this._addLazySet(M, "zIndex", 0)),
                    "string" == typeof e &&
                      ((y = M.cssText),
                      (u = nt(t, r)),
                      (M.cssText = y + ";" + e),
                      (u = rt(t, u, nt(t)).difs),
                      !q && S.test(e) && (u.opacity = parseFloat(RegExp.$1)),
                      (e = u),
                      (M.cssText = y)),
                    e.className
                      ? (this._firstPT = f =
                          l.className.parse(
                            t,
                            e.className,
                            "className",
                            this,
                            null,
                            null,
                            e
                          ))
                      : (this._firstPT = f = this.parse(t, e, null)),
                    this._transformType)
                  ) {
                    for (
                      E = 3 === this._transformType,
                        At
                          ? d &&
                            ((p = !0),
                            "" === M.zIndex &&
                              ((b = tt(t, "zIndex", r)),
                              ("auto" !== b && "" !== b) ||
                                this._addLazySet(M, "zIndex", 0)),
                            m &&
                              this._addLazySet(
                                M,
                                "WebkitBackfaceVisibility",
                                this._vars.WebkitBackfaceVisibility ||
                                  (E ? "visible" : "hidden")
                              ))
                          : (M.zoom = 1),
                        _ = f;
                      _ && _._next;

                    )
                      _ = _._next;
                    (T = new xt(t, "transform", 0, 0, null, 2)),
                      this._linkCSSP(T, null, _),
                      (T.setRatio = At ? Xt : Wt),
                      (T.data = this._transform || jt(t, r, !0)),
                      (T.tween = s),
                      (T.pr = -1),
                      o.pop();
                  }
                  if (i) {
                    for (; f; ) {
                      for (w = f._next, _ = y; _ && _.pr > f.pr; ) _ = _._next;
                      (f._prev = _ ? _._prev : x)
                        ? (f._prev._next = f)
                        : (y = f),
                        (f._next = _) ? (_._prev = f) : (x = f),
                        (f = w);
                    }
                    this._firstPT = y;
                  }
                  return !0;
                }),
                (u.parse = function (t, e, i, s) {
                  var o,
                    a,
                    h,
                    u,
                    p,
                    d,
                    f,
                    m,
                    _,
                    y,
                    x = t.style;
                  for (o in e) {
                    if (
                      ((d = e[o]),
                      "function" == typeof d && (d = d(v, g)),
                      (a = l[o]))
                    )
                      i = a.parse(t, d, o, this, i, s, e);
                    else {
                      if ("--" === o.substr(0, 2)) {
                        this._tween._propLookup[o] = this._addTween.call(
                          this._tween,
                          t.style,
                          "setProperty",
                          K(t).getPropertyValue(o) + "",
                          d + "",
                          o,
                          !1,
                          o
                        );
                        continue;
                      }
                      (p = tt(t, o, r) + ""),
                        (_ = "string" == typeof d),
                        "color" === o ||
                        "fill" === o ||
                        "stroke" === o ||
                        o.indexOf("Color") !== -1 ||
                        (_ && C.test(d))
                          ? (_ ||
                              ((d = ft(d)),
                              (d =
                                (d.length > 3 ? "rgba(" : "rgb(") +
                                d.join(",") +
                                ")")),
                            (i = bt(x, o, p, d, !0, "transparent", i, 0, s)))
                          : _ && N.test(d)
                          ? (i = bt(x, o, p, d, !0, null, i, 0, s))
                          : ((h = parseFloat(p)),
                            (f = h || 0 === h ? p.substr((h + "").length) : ""),
                            ("" !== p && "auto" !== p) ||
                              ("width" === o || "height" === o
                                ? ((h = at(t, o, r)), (f = "px"))
                                : "left" === o || "top" === o
                                ? ((h = it(t, o, r)), (f = "px"))
                                : ((h = "opacity" !== o ? 0 : 1), (f = ""))),
                            (y = _ && "=" === d.charAt(1)),
                            y
                              ? ((u = parseInt(d.charAt(0) + "1", 10)),
                                (d = d.substr(2)),
                                (u *= parseFloat(d)),
                                (m = d.replace(T, "")))
                              : ((u = parseFloat(d)),
                                (m = _ ? d.replace(T, "") : "")),
                            "" === m && (m = o in n ? n[o] : f),
                            (d = u || 0 === u ? (y ? u + h : u) + m : e[o]),
                            f !== m &&
                              (("" === m && "lineHeight" !== o) ||
                                ((u || 0 === u) &&
                                  h &&
                                  ((h = et(t, o, h, f)),
                                  "%" === m
                                    ? ((h /= et(t, o, 100, "%") / 100),
                                      e.strictUnits !== !0 && (p = h + "%"))
                                    : "em" === m ||
                                      "rem" === m ||
                                      "vw" === m ||
                                      "vh" === m
                                    ? (h /= et(t, o, 1, m))
                                    : "px" !== m &&
                                      ((u = et(t, o, u, m)), (m = "px")),
                                  y && (u || 0 === u) && (d = u + h + m)))),
                            y && (u += h),
                            (!h && 0 !== h) || (!u && 0 !== u)
                              ? void 0 !== x[o] &&
                                (d || (d + "" != "NaN" && null != d))
                                ? ((i = new xt(
                                    x,
                                    o,
                                    u || h || 0,
                                    0,
                                    i,
                                    -1,
                                    o,
                                    !1,
                                    0,
                                    p,
                                    d
                                  )),
                                  (i.xs0 =
                                    "none" !== d ||
                                    ("display" !== o &&
                                      o.indexOf("Style") === -1)
                                      ? d
                                      : p))
                                : Z("invalid " + o + " tween value: " + e[o])
                              : ((i = new xt(
                                  x,
                                  o,
                                  h,
                                  u - h,
                                  i,
                                  0,
                                  o,
                                  c !== !1 && ("px" === m || "zIndex" === o),
                                  0,
                                  p,
                                  d
                                )),
                                (i.xs0 = m)));
                    }
                    s && i && !i.plugin && (i.plugin = s);
                  }
                  return i;
                }),
                (u.setRatio = function (t) {
                  var e,
                    i,
                    n,
                    r = this._firstPT,
                    s = 1e-6;
                  if (
                    1 !== t ||
                    (this._tween._time !== this._tween._duration &&
                      0 !== this._tween._time)
                  )
                    if (
                      t ||
                      (this._tween._time !== this._tween._duration &&
                        0 !== this._tween._time) ||
                      this._tween._rawPrevTime === -1e-6
                    )
                      for (; r; ) {
                        if (
                          ((e = r.c * t + r.s),
                          r.r ? (e = r.r(e)) : e < s && e > -s && (e = 0),
                          r.type)
                        )
                          if (1 === r.type)
                            if (((n = r.l), 2 === n))
                              r.t[r.p] = r.xs0 + e + r.xs1 + r.xn1 + r.xs2;
                            else if (3 === n)
                              r.t[r.p] =
                                r.xs0 +
                                e +
                                r.xs1 +
                                r.xn1 +
                                r.xs2 +
                                r.xn2 +
                                r.xs3;
                            else if (4 === n)
                              r.t[r.p] =
                                r.xs0 +
                                e +
                                r.xs1 +
                                r.xn1 +
                                r.xs2 +
                                r.xn2 +
                                r.xs3 +
                                r.xn3 +
                                r.xs4;
                            else if (5 === n)
                              r.t[r.p] =
                                r.xs0 +
                                e +
                                r.xs1 +
                                r.xn1 +
                                r.xs2 +
                                r.xn2 +
                                r.xs3 +
                                r.xn3 +
                                r.xs4 +
                                r.xn4 +
                                r.xs5;
                            else {
                              for (i = r.xs0 + e + r.xs1, n = 1; n < r.l; n++)
                                i += r["xn" + n] + r["xs" + (n + 1)];
                              r.t[r.p] = i;
                            }
                          else
                            r.type === -1
                              ? (r.t[r.p] = r.xs0)
                              : r.setRatio && r.setRatio(t);
                        else r.t[r.p] = e + r.xs0;
                        r = r._next;
                      }
                    else
                      for (; r; )
                        2 !== r.type ? (r.t[r.p] = r.b) : r.setRatio(t),
                          (r = r._next);
                  else
                    for (; r; ) {
                      if (2 !== r.type)
                        if (r.r && r.type !== -1)
                          if (((e = r.r(r.s + r.c)), r.type)) {
                            if (1 === r.type) {
                              for (
                                n = r.l, i = r.xs0 + e + r.xs1, n = 1;
                                n < r.l;
                                n++
                              )
                                i += r["xn" + n] + r["xs" + (n + 1)];
                              r.t[r.p] = i;
                            }
                          } else r.t[r.p] = e + r.xs0;
                        else r.t[r.p] = r.e;
                      else r.setRatio(t);
                      r = r._next;
                    }
                }),
                (u._enableTransforms = function (t) {
                  (this._transform =
                    this._transform || jt(this._target, r, !0)),
                    (this._transformType =
                      (this._transform.svg && Ct) ||
                      (!t && 3 !== this._transformType)
                        ? 2
                        : 3);
                });
              var Jt = function (t) {
                (this.t[this.p] = this.e),
                  this.data._linkCSSP(this, this._next, null, !0);
              };
              (u._addLazySet = function (t, e, i) {
                var n = (this._firstPT = new xt(t, e, 0, 0, this._firstPT, 2));
                (n.e = i), (n.setRatio = Jt), (n.data = this);
              }),
                (u._linkCSSP = function (t, e, i, n) {
                  return (
                    t &&
                      (e && (e._prev = t),
                      t._next && (t._next._prev = t._prev),
                      t._prev
                        ? (t._prev._next = t._next)
                        : this._firstPT === t &&
                          ((this._firstPT = t._next), (n = !0)),
                      i
                        ? (i._next = t)
                        : n || null !== this._firstPT || (this._firstPT = t),
                      (t._next = e),
                      (t._prev = i)),
                    t
                  );
                }),
                (u._mod = function (t) {
                  for (var e = this._firstPT; e; )
                    "function" == typeof t[e.p] && (e.r = t[e.p]),
                      (e = e._next);
                }),
                (u._kill = function (e) {
                  var i,
                    n,
                    r,
                    s = e;
                  if (e.autoAlpha || e.alpha) {
                    s = {};
                    for (n in e) s[n] = e[n];
                    (s.opacity = 1), s.autoAlpha && (s.visibility = 1);
                  }
                  for (
                    e.className &&
                      (i = this._classNamePT) &&
                      ((r = i.xfirst),
                      r && r._prev
                        ? this._linkCSSP(r._prev, i._next, r._prev._prev)
                        : r === this._firstPT && (this._firstPT = i._next),
                      i._next &&
                        this._linkCSSP(i._next, i._next._next, r._prev),
                      (this._classNamePT = null)),
                      i = this._firstPT;
                    i;

                  )
                    i.plugin &&
                      i.plugin !== n &&
                      i.plugin._kill &&
                      (i.plugin._kill(e), (n = i.plugin)),
                      (i = i._next);
                  return t.prototype._kill.call(this, s);
                });
              var Qt = function (t, e, i) {
                var n, r, s, o;
                if (t.slice) for (r = t.length; --r > -1; ) Qt(t[r], e, i);
                else
                  for (n = t.childNodes, r = n.length; --r > -1; )
                    (s = n[r]),
                      (o = s.type),
                      s.style && (e.push(nt(s)), i && i.push(s)),
                      (1 !== o && 9 !== o && 11 !== o) ||
                        !s.childNodes.length ||
                        Qt(s, e, i);
              };
              return (
                (a.cascadeTo = function (t, i, n) {
                  var r,
                    s,
                    o,
                    a,
                    h = e.to(t, i, n),
                    l = [h],
                    u = [],
                    c = [],
                    p = [],
                    d = e._internals.reservedProps;
                  for (
                    t = h._targets || h.target,
                      Qt(t, u, p),
                      h.render(i, !0, !0),
                      Qt(t, c),
                      h.render(0, !0, !0),
                      h._enabled(!0),
                      r = p.length;
                    --r > -1;

                  )
                    if (((s = rt(p[r], u[r], c[r])), s.firstMPT)) {
                      s = s.difs;
                      for (o in n) d[o] && (s[o] = n[o]);
                      a = {};
                      for (o in s) a[o] = u[r][o];
                      l.push(e.fromTo(p[r], i, a, s));
                    }
                  return l;
                }),
                t.activate([a]),
                a
              );
            },
            !0
          ),
          (function () {
            var t = s._gsDefine.plugin({
                propName: "roundProps",
                version: "1.7.0",
                priority: -1,
                API: 2,
                init: function (t, e, i) {
                  return (this._tween = i), !0;
                },
              }),
              e = function (t) {
                var e = t < 1 ? Math.pow(10, (t + "").length - 2) : 1;
                return function (i) {
                  return ((Math.round(i / t) * t * e) | 0) / e;
                };
              },
              i = function (t, e) {
                for (; t; )
                  t.f || t.blob || (t.m = e || Math.round), (t = t._next);
              },
              n = t.prototype;
            (n._onInitAllProps = function () {
              var t,
                n,
                r,
                s,
                o = this._tween,
                a = o.vars.roundProps,
                h = {},
                l = o._propLookup.roundProps;
              if ("object" != typeof a || a.push)
                for (
                  "string" == typeof a && (a = a.split(",")), r = a.length;
                  --r > -1;

                )
                  h[a[r]] = Math.round;
              else for (s in a) h[s] = e(a[s]);
              for (s in h)
                for (t = o._firstPT; t; )
                  (n = t._next),
                    t.pg
                      ? t.t._mod(h)
                      : t.n === s &&
                        (2 === t.f && t.t
                          ? i(t.t._firstPT, h[s])
                          : (this._add(t.t, s, t.s, t.c, h[s]),
                            n && (n._prev = t._prev),
                            t._prev
                              ? (t._prev._next = n)
                              : o._firstPT === t && (o._firstPT = n),
                            (t._next = t._prev = null),
                            (o._propLookup[s] = l))),
                    (t = n);
              return !1;
            }),
              (n._add = function (t, e, i, n, r) {
                this._addTween(t, e, i, i + n, e, r || Math.round),
                  this._overwriteProps.push(e);
              });
          })(),
          (function () {
            s._gsDefine.plugin({
              propName: "attr",
              API: 2,
              version: "0.6.1",
              init: function (t, e, i, n) {
                var r, s;
                if ("function" != typeof t.setAttribute) return !1;
                for (r in e)
                  (s = e[r]),
                    "function" == typeof s && (s = s(n, t)),
                    this._addTween(
                      t,
                      "setAttribute",
                      t.getAttribute(r) + "",
                      s + "",
                      r,
                      !1,
                      r
                    ),
                    this._overwriteProps.push(r);
                return !0;
              },
            });
          })(),
          (s._gsDefine.plugin({
            propName: "directionalRotation",
            version: "0.3.1",
            API: 2,
            init: function (t, e, i, n) {
              "object" != typeof e && (e = { rotation: e }), (this.finals = {});
              var r,
                s,
                o,
                a,
                h,
                l,
                u = e.useRadians === !0 ? 2 * Math.PI : 360,
                c = 1e-6;
              for (r in e)
                "useRadians" !== r &&
                  ((a = e[r]),
                  "function" == typeof a && (a = a(n, t)),
                  (l = (a + "").split("_")),
                  (s = l[0]),
                  (o = parseFloat(
                    "function" != typeof t[r]
                      ? t[r]
                      : t[
                          r.indexOf("set") ||
                          "function" != typeof t["get" + r.substr(3)]
                            ? r
                            : "get" + r.substr(3)
                        ]()
                  )),
                  (a = this.finals[r] =
                    "string" == typeof s && "=" === s.charAt(1)
                      ? o +
                        parseInt(s.charAt(0) + "1", 10) * Number(s.substr(2))
                      : Number(s) || 0),
                  (h = a - o),
                  l.length &&
                    ((s = l.join("_")),
                    s.indexOf("short") !== -1 &&
                      ((h %= u),
                      h !== h % (u / 2) && (h = h < 0 ? h + u : h - u)),
                    s.indexOf("_cw") !== -1 && h < 0
                      ? (h = ((h + 9999999999 * u) % u) - ((h / u) | 0) * u)
                      : s.indexOf("ccw") !== -1 &&
                        h > 0 &&
                        (h = ((h - 9999999999 * u) % u) - ((h / u) | 0) * u)),
                  (h > c || h < -c) &&
                    (this._addTween(t, r, o, o + h, r),
                    this._overwriteProps.push(r)));
              return !0;
            },
            set: function (t) {
              var e;
              if (1 !== t) this._super.setRatio.call(this, t);
              else
                for (e = this._firstPT; e; )
                  e.f
                    ? e.t[e.p](this.finals[e.p])
                    : (e.t[e.p] = this.finals[e.p]),
                    (e = e._next);
            },
          })._autoCSS = !0),
          s._gsDefine(
            "easing.Back",
            ["easing.Ease"],
            function (t) {
              var e,
                i,
                n,
                r,
                o = s.GreenSockGlobals || s,
                a = o.com.greensock,
                h = 2 * Math.PI,
                l = Math.PI / 2,
                u = a._class,
                c = function (e, i) {
                  var n = u("easing." + e, function () {}, !0),
                    r = (n.prototype = new t());
                  return (r.constructor = n), (r.getRatio = i), n;
                },
                p = t.register || function () {},
                d = function (t, e, i, n, r) {
                  var s = u(
                    "easing." + t,
                    { easeOut: new e(), easeIn: new i(), easeInOut: new n() },
                    !0
                  );
                  return p(s, t), s;
                },
                f = function (t, e, i) {
                  (this.t = t),
                    (this.v = e),
                    i &&
                      ((this.next = i),
                      (i.prev = this),
                      (this.c = i.v - e),
                      (this.gap = i.t - t));
                },
                m = function (e, i) {
                  var n = u(
                      "easing." + e,
                      function (t) {
                        (this._p1 = t || 0 === t ? t : 1.70158),
                          (this._p2 = 1.525 * this._p1);
                      },
                      !0
                    ),
                    r = (n.prototype = new t());
                  return (
                    (r.constructor = n),
                    (r.getRatio = i),
                    (r.config = function (t) {
                      return new n(t);
                    }),
                    n
                  );
                },
                _ = d(
                  "Back",
                  m("BackOut", function (t) {
                    return (t -= 1) * t * ((this._p1 + 1) * t + this._p1) + 1;
                  }),
                  m("BackIn", function (t) {
                    return t * t * ((this._p1 + 1) * t - this._p1);
                  }),
                  m("BackInOut", function (t) {
                    return (t *= 2) < 1
                      ? 0.5 * t * t * ((this._p2 + 1) * t - this._p2)
                      : 0.5 *
                          ((t -= 2) * t * ((this._p2 + 1) * t + this._p2) + 2);
                  })
                ),
                g = u(
                  "easing.SlowMo",
                  function (t, e, i) {
                    (e = e || 0 === e ? e : 0.7),
                      null == t ? (t = 0.7) : t > 1 && (t = 1),
                      (this._p = 1 !== t ? e : 0),
                      (this._p1 = (1 - t) / 2),
                      (this._p2 = t),
                      (this._p3 = this._p1 + this._p2),
                      (this._calcEnd = i === !0);
                  },
                  !0
                ),
                v = (g.prototype = new t());
              return (
                (v.constructor = g),
                (v.getRatio = function (t) {
                  var e = t + (0.5 - t) * this._p;
                  return t < this._p1
                    ? this._calcEnd
                      ? 1 - (t = 1 - t / this._p1) * t
                      : e - (t = 1 - t / this._p1) * t * t * t * e
                    : t > this._p3
                    ? this._calcEnd
                      ? 1 === t
                        ? 0
                        : 1 - (t = (t - this._p3) / this._p1) * t
                      : e +
                        (t - e) * (t = (t - this._p3) / this._p1) * t * t * t
                    : this._calcEnd
                    ? 1
                    : e;
                }),
                (g.ease = new g(0.7, 0.7)),
                (v.config = g.config =
                  function (t, e, i) {
                    return new g(t, e, i);
                  }),
                (e = u(
                  "easing.SteppedEase",
                  function (t, e) {
                    (t = t || 1),
                      (this._p1 = 1 / t),
                      (this._p2 = t + (e ? 0 : 1)),
                      (this._p3 = e ? 1 : 0);
                  },
                  !0
                )),
                (v = e.prototype = new t()),
                (v.constructor = e),
                (v.getRatio = function (t) {
                  return (
                    t < 0 ? (t = 0) : t >= 1 && (t = 0.999999999),
                    (((this._p2 * t) | 0) + this._p3) * this._p1
                  );
                }),
                (v.config = e.config =
                  function (t, i) {
                    return new e(t, i);
                  }),
                (i = u(
                  "easing.ExpoScaleEase",
                  function (t, e, i) {
                    (this._p1 = Math.log(e / t)),
                      (this._p2 = e - t),
                      (this._p3 = t),
                      (this._ease = i);
                  },
                  !0
                )),
                (v = i.prototype = new t()),
                (v.constructor = i),
                (v.getRatio = function (t) {
                  return (
                    this._ease && (t = this._ease.getRatio(t)),
                    (this._p3 * Math.exp(this._p1 * t) - this._p3) / this._p2
                  );
                }),
                (v.config = i.config =
                  function (t, e, n) {
                    return new i(t, e, n);
                  }),
                (n = u(
                  "easing.RoughEase",
                  function (e) {
                    e = e || {};
                    for (
                      var i,
                        n,
                        r,
                        s,
                        o,
                        a,
                        h = e.taper || "none",
                        l = [],
                        u = 0,
                        c = 0 | (e.points || 20),
                        p = c,
                        d = e.randomize !== !1,
                        m = e.clamp === !0,
                        _ = e.template instanceof t ? e.template : null,
                        g =
                          "number" == typeof e.strength
                            ? 0.4 * e.strength
                            : 0.4;
                      --p > -1;

                    )
                      (i = d ? Math.random() : (1 / c) * p),
                        (n = _ ? _.getRatio(i) : i),
                        "none" === h
                          ? (r = g)
                          : "out" === h
                          ? ((s = 1 - i), (r = s * s * g))
                          : "in" === h
                          ? (r = i * i * g)
                          : i < 0.5
                          ? ((s = 2 * i), (r = s * s * 0.5 * g))
                          : ((s = 2 * (1 - i)), (r = s * s * 0.5 * g)),
                        d
                          ? (n += Math.random() * r - 0.5 * r)
                          : p % 2
                          ? (n += 0.5 * r)
                          : (n -= 0.5 * r),
                        m && (n > 1 ? (n = 1) : n < 0 && (n = 0)),
                        (l[u++] = { x: i, y: n });
                    for (
                      l.sort(function (t, e) {
                        return t.x - e.x;
                      }),
                        a = new f(1, 1, null),
                        p = c;
                      --p > -1;

                    )
                      (o = l[p]), (a = new f(o.x, o.y, a));
                    this._prev = new f(0, 0, 0 !== a.t ? a : a.next);
                  },
                  !0
                )),
                (v = n.prototype = new t()),
                (v.constructor = n),
                (v.getRatio = function (t) {
                  var e = this._prev;
                  if (t > e.t) {
                    for (; e.next && t >= e.t; ) e = e.next;
                    e = e.prev;
                  } else for (; e.prev && t <= e.t; ) e = e.prev;
                  return (this._prev = e), e.v + ((t - e.t) / e.gap) * e.c;
                }),
                (v.config = function (t) {
                  return new n(t);
                }),
                (n.ease = new n()),
                d(
                  "Bounce",
                  c("BounceOut", function (t) {
                    return t < 1 / 2.75
                      ? 7.5625 * t * t
                      : t < 2 / 2.75
                      ? 7.5625 * (t -= 1.5 / 2.75) * t + 0.75
                      : t < 2.5 / 2.75
                      ? 7.5625 * (t -= 2.25 / 2.75) * t + 0.9375
                      : 7.5625 * (t -= 2.625 / 2.75) * t + 0.984375;
                  }),
                  c("BounceIn", function (t) {
                    return (t = 1 - t) < 1 / 2.75
                      ? 1 - 7.5625 * t * t
                      : t < 2 / 2.75
                      ? 1 - (7.5625 * (t -= 1.5 / 2.75) * t + 0.75)
                      : t < 2.5 / 2.75
                      ? 1 - (7.5625 * (t -= 2.25 / 2.75) * t + 0.9375)
                      : 1 - (7.5625 * (t -= 2.625 / 2.75) * t + 0.984375);
                  }),
                  c("BounceInOut", function (t) {
                    var e = t < 0.5;
                    return (
                      (t = e ? 1 - 2 * t : 2 * t - 1),
                      t < 1 / 2.75
                        ? (t *= 7.5625 * t)
                        : (t =
                            t < 2 / 2.75
                              ? 7.5625 * (t -= 1.5 / 2.75) * t + 0.75
                              : t < 2.5 / 2.75
                              ? 7.5625 * (t -= 2.25 / 2.75) * t + 0.9375
                              : 7.5625 * (t -= 2.625 / 2.75) * t + 0.984375),
                      e ? 0.5 * (1 - t) : 0.5 * t + 0.5
                    );
                  })
                ),
                d(
                  "Circ",
                  c("CircOut", function (t) {
                    return Math.sqrt(1 - (t -= 1) * t);
                  }),
                  c("CircIn", function (t) {
                    return -(Math.sqrt(1 - t * t) - 1);
                  }),
                  c("CircInOut", function (t) {
                    return (t *= 2) < 1
                      ? -0.5 * (Math.sqrt(1 - t * t) - 1)
                      : 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);
                  })
                ),
                (r = function (e, i, n) {
                  var r = u(
                      "easing." + e,
                      function (t, e) {
                        (this._p1 = t >= 1 ? t : 1),
                          (this._p2 = (e || n) / (t < 1 ? t : 1)),
                          (this._p3 =
                            (this._p2 / h) * (Math.asin(1 / this._p1) || 0)),
                          (this._p2 = h / this._p2);
                      },
                      !0
                    ),
                    s = (r.prototype = new t());
                  return (
                    (s.constructor = r),
                    (s.getRatio = i),
                    (s.config = function (t, e) {
                      return new r(t, e);
                    }),
                    r
                  );
                }),
                d(
                  "Elastic",
                  r(
                    "ElasticOut",
                    function (t) {
                      return (
                        this._p1 *
                          Math.pow(2, -10 * t) *
                          Math.sin((t - this._p3) * this._p2) +
                        1
                      );
                    },
                    0.3
                  ),
                  r(
                    "ElasticIn",
                    function (t) {
                      return -(
                        this._p1 *
                        Math.pow(2, 10 * (t -= 1)) *
                        Math.sin((t - this._p3) * this._p2)
                      );
                    },
                    0.3
                  ),
                  r(
                    "ElasticInOut",
                    function (t) {
                      return (t *= 2) < 1
                        ? -0.5 *
                            (this._p1 *
                              Math.pow(2, 10 * (t -= 1)) *
                              Math.sin((t - this._p3) * this._p2))
                        : this._p1 *
                            Math.pow(2, -10 * (t -= 1)) *
                            Math.sin((t - this._p3) * this._p2) *
                            0.5 +
                            1;
                    },
                    0.45
                  )
                ),
                d(
                  "Expo",
                  c("ExpoOut", function (t) {
                    return 1 - Math.pow(2, -10 * t);
                  }),
                  c("ExpoIn", function (t) {
                    return Math.pow(2, 10 * (t - 1)) - 0.001;
                  }),
                  c("ExpoInOut", function (t) {
                    return (t *= 2) < 1
                      ? 0.5 * Math.pow(2, 10 * (t - 1))
                      : 0.5 * (2 - Math.pow(2, -10 * (t - 1)));
                  })
                ),
                d(
                  "Sine",
                  c("SineOut", function (t) {
                    return Math.sin(t * l);
                  }),
                  c("SineIn", function (t) {
                    return -Math.cos(t * l) + 1;
                  }),
                  c("SineInOut", function (t) {
                    return -0.5 * (Math.cos(Math.PI * t) - 1);
                  })
                ),
                u(
                  "easing.EaseLookup",
                  {
                    find: function (e) {
                      return t.map[e];
                    },
                  },
                  !0
                ),
                p(o.SlowMo, "SlowMo", "ease,"),
                p(n, "RoughEase", "ease,"),
                p(e, "SteppedEase", "ease,"),
                _
              );
            },
            !0
          );
      }),
        s._gsDefine && s._gsQueue.pop()(),
        (function (i, s) {
          "use strict";
          var o = {},
            a = i.document,
            h = (i.GreenSockGlobals = i.GreenSockGlobals || i);
          if (h.TweenLite) return h.TweenLite;
          var l,
            u,
            c,
            p,
            d,
            f = function (t) {
              var e,
                i = t.split("."),
                n = h;
              for (e = 0; e < i.length; e++) n[i[e]] = n = n[i[e]] || {};
              return n;
            },
            m = f("com.greensock"),
            _ = 1e-10,
            g = function (t) {
              var e,
                i = [],
                n = t.length;
              for (e = 0; e !== n; i.push(t[e++]));
              return i;
            },
            v = function () {},
            y = (function () {
              var t = Object.prototype.toString,
                e = t.call([]);
              return function (i) {
                return (
                  null != i &&
                  (i instanceof Array ||
                    ("object" == typeof i && !!i.push && t.call(i) === e))
                );
              };
            })(),
            x = {},
            w = function (i, a, l, u) {
              (this.sc = x[i] ? x[i].sc : []),
                (x[i] = this),
                (this.gsClass = null),
                (this.func = l);
              var c = [];
              (this.check = function (p) {
                for (var d, m, _, g, v = a.length, y = v; --v > -1; )
                  (d = x[a[v]] || new w(a[v], [])).gsClass
                    ? ((c[v] = d.gsClass), y--)
                    : p && d.sc.push(this);
                if (0 === y && l) {
                  if (
                    ((m = ("com.greensock." + i).split(".")),
                    (_ = m.pop()),
                    (g = f(m.join("."))[_] = this.gsClass = l.apply(l, c)),
                    u)
                  )
                    if (
                      ((h[_] = o[_] = g), "undefined" != typeof t && t.exports)
                    )
                      if (i === s) {
                        t.exports = o[s] = g;
                        for (v in o) g[v] = o[v];
                      } else o[s] && (o[s][_] = g);
                    else
                      (n = []),
                        (r = function () {
                          return g;
                        }.apply(e, n)),
                        !(void 0 !== r && (t.exports = r));
                  for (v = 0; v < this.sc.length; v++) this.sc[v].check();
                }
              }),
                this.check(!0);
            },
            b = (i._gsDefine = function (t, e, i, n) {
              return new w(t, e, i, n);
            }),
            T = (m._class = function (t, e, i) {
              return (
                (e = e || function () {}),
                b(
                  t,
                  [],
                  function () {
                    return e;
                  },
                  i
                ),
                e
              );
            });
          b.globals = h;
          var E = [0, 0, 1, 1],
            S = T(
              "easing.Ease",
              function (t, e, i, n) {
                (this._func = t),
                  (this._type = i || 0),
                  (this._power = n || 0),
                  (this._params = e ? E.concat(e) : E);
              },
              !0
            ),
            M = (S.map = {}),
            C = (S.register = function (t, e, i, n) {
              for (
                var r,
                  s,
                  o,
                  a,
                  h = e.split(","),
                  l = h.length,
                  u = (i || "easeIn,easeOut,easeInOut").split(",");
                --l > -1;

              )
                for (
                  s = h[l],
                    r = n ? T("easing." + s, null, !0) : m.easing[s] || {},
                    o = u.length;
                  --o > -1;

                )
                  (a = u[o]),
                    (M[s + "." + a] =
                      M[a + s] =
                      r[a] =
                        t.getRatio ? t : t[a] || new t());
            });
          for (
            c = S.prototype,
              c._calcEnd = !1,
              c.getRatio = function (t) {
                if (this._func)
                  return (
                    (this._params[0] = t), this._func.apply(null, this._params)
                  );
                var e = this._type,
                  i = this._power,
                  n =
                    1 === e
                      ? 1 - t
                      : 2 === e
                      ? t
                      : t < 0.5
                      ? 2 * t
                      : 2 * (1 - t);
                return (
                  1 === i
                    ? (n *= n)
                    : 2 === i
                    ? (n *= n * n)
                    : 3 === i
                    ? (n *= n * n * n)
                    : 4 === i && (n *= n * n * n * n),
                  1 === e ? 1 - n : 2 === e ? n : t < 0.5 ? n / 2 : 1 - n / 2
                );
              },
              l = ["Linear", "Quad", "Cubic", "Quart", "Quint,Strong"],
              u = l.length;
            --u > -1;

          )
            (c = l[u] + ",Power" + u),
              C(new S(null, null, 1, u), c, "easeOut", !0),
              C(
                new S(null, null, 2, u),
                c,
                "easeIn" + (0 === u ? ",easeNone" : "")
              ),
              C(new S(null, null, 3, u), c, "easeInOut");
          (M.linear = m.easing.Linear.easeIn),
            (M.swing = m.easing.Quad.easeInOut);
          var P = T("events.EventDispatcher", function (t) {
            (this._listeners = {}), (this._eventTarget = t || this);
          });
          (c = P.prototype),
            (c.addEventListener = function (t, e, i, n, r) {
              r = r || 0;
              var s,
                o,
                a = this._listeners[t],
                h = 0;
              for (
                this !== p || d || p.wake(),
                  null == a && (this._listeners[t] = a = []),
                  o = a.length;
                --o > -1;

              )
                (s = a[o]),
                  s.c === e && s.s === i
                    ? a.splice(o, 1)
                    : 0 === h && s.pr < r && (h = o + 1);
              a.splice(h, 0, { c: e, s: i, up: n, pr: r });
            }),
            (c.removeEventListener = function (t, e) {
              var i,
                n = this._listeners[t];
              if (n)
                for (i = n.length; --i > -1; )
                  if (n[i].c === e) return void n.splice(i, 1);
            }),
            (c.dispatchEvent = function (t) {
              var e,
                i,
                n,
                r = this._listeners[t];
              if (r)
                for (
                  e = r.length,
                    e > 1 && (r = r.slice(0)),
                    i = this._eventTarget;
                  --e > -1;

                )
                  (n = r[e]),
                    n &&
                      (n.up
                        ? n.c.call(n.s || i, { type: t, target: i })
                        : n.c.call(n.s || i));
            });
          var A = i.requestAnimationFrame,
            R = i.cancelAnimationFrame,
            L =
              Date.now ||
              function () {
                return new Date().getTime();
              },
            I = L();
          for (l = ["ms", "moz", "webkit", "o"], u = l.length; --u > -1 && !A; )
            (A = i[l[u] + "RequestAnimationFrame"]),
              (R =
                i[l[u] + "CancelAnimationFrame"] ||
                i[l[u] + "CancelRequestAnimationFrame"]);
          T("Ticker", function (t, e) {
            var i,
              n,
              r,
              s,
              o,
              h = this,
              l = L(),
              u = !(e === !1 || !A) && "auto",
              c = 500,
              f = 33,
              m = "tick",
              g = function (t) {
                var e,
                  a,
                  u = L() - I;
                u > c && (l += u - f),
                  (I += u),
                  (h.time = (I - l) / 1e3),
                  (e = h.time - o),
                  (!i || e > 0 || t === !0) &&
                    (h.frame++, (o += e + (e >= s ? 0.004 : s - e)), (a = !0)),
                  t !== !0 && (r = n(g)),
                  a && h.dispatchEvent(m);
              };
            P.call(h),
              (h.time = h.frame = 0),
              (h.tick = function () {
                g(!0);
              }),
              (h.lagSmoothing = function (t, e) {
                return arguments.length
                  ? ((c = t || 1 / _), void (f = Math.min(e, c, 0)))
                  : c < 1 / _;
              }),
              (h.sleep = function () {
                null != r &&
                  (u && R ? R(r) : clearTimeout(r),
                  (n = v),
                  (r = null),
                  h === p && (d = !1));
              }),
              (h.wake = function (t) {
                null !== r
                  ? h.sleep()
                  : t
                  ? (l += -I + (I = L()))
                  : h.frame > 10 && (I = L() - c + 5),
                  (n =
                    0 === i
                      ? v
                      : u && A
                      ? A
                      : function (t) {
                          return setTimeout(t, (1e3 * (o - h.time) + 1) | 0);
                        }),
                  h === p && (d = !0),
                  g(2);
              }),
              (h.fps = function (t) {
                return arguments.length
                  ? ((i = t),
                    (s = 1 / (i || 60)),
                    (o = this.time + s),
                    void h.wake())
                  : i;
              }),
              (h.useRAF = function (t) {
                return arguments.length
                  ? (h.sleep(), (u = t), void h.fps(i))
                  : u;
              }),
              h.fps(t),
              setTimeout(function () {
                "auto" === u &&
                  h.frame < 5 &&
                  "hidden" !== (a || {}).visibilityState &&
                  h.useRAF(!1);
              }, 1500);
          }),
            (c = m.Ticker.prototype = new m.events.EventDispatcher()),
            (c.constructor = m.Ticker);
          var O = T("core.Animation", function (t, e) {
            if (
              ((this.vars = e = e || {}),
              (this._duration = this._totalDuration = t || 0),
              (this._delay = Number(e.delay) || 0),
              (this._timeScale = 1),
              (this._active = e.immediateRender === !0),
              (this.data = e.data),
              (this._reversed = e.reversed === !0),
              K)
            ) {
              d || p.wake();
              var i = this.vars.useFrames ? Q : K;
              i.add(this, i._time), this.vars.paused && this.paused(!0);
            }
          });
          (p = O.ticker = new m.Ticker()),
            (c = O.prototype),
            (c._dirty = c._gc = c._initted = c._paused = !1),
            (c._totalTime = c._time = 0),
            (c._rawPrevTime = -1),
            (c._next = c._last = c._onUpdate = c._timeline = c.timeline = null),
            (c._paused = !1);
          var D = function () {
            d &&
              L() - I > 2e3 &&
              ("hidden" !== (a || {}).visibilityState || !p.lagSmoothing()) &&
              p.wake();
            var t = setTimeout(D, 2e3);
            t.unref && t.unref();
          };
          D(),
            (c.play = function (t, e) {
              return null != t && this.seek(t, e), this.reversed(!1).paused(!1);
            }),
            (c.pause = function (t, e) {
              return null != t && this.seek(t, e), this.paused(!0);
            }),
            (c.resume = function (t, e) {
              return null != t && this.seek(t, e), this.paused(!1);
            }),
            (c.seek = function (t, e) {
              return this.totalTime(Number(t), e !== !1);
            }),
            (c.restart = function (t, e) {
              return this.reversed(!1)
                .paused(!1)
                .totalTime(t ? -this._delay : 0, e !== !1, !0);
            }),
            (c.reverse = function (t, e) {
              return (
                null != t && this.seek(t || this.totalDuration(), e),
                this.reversed(!0).paused(!1)
              );
            }),
            (c.render = function (t, e, i) {}),
            (c.invalidate = function () {
              return (
                (this._time = this._totalTime = 0),
                (this._initted = this._gc = !1),
                (this._rawPrevTime = -1),
                (!this._gc && this.timeline) || this._enabled(!0),
                this
              );
            }),
            (c.isActive = function () {
              var t,
                e = this._timeline,
                i = this._startTime;
              return (
                !e ||
                (!this._gc &&
                  !this._paused &&
                  e.isActive() &&
                  (t = e.rawTime(!0)) >= i &&
                  t < i + this.totalDuration() / this._timeScale - 1e-7)
              );
            }),
            (c._enabled = function (t, e) {
              return (
                d || p.wake(),
                (this._gc = !t),
                (this._active = this.isActive()),
                e !== !0 &&
                  (t && !this.timeline
                    ? this._timeline.add(this, this._startTime - this._delay)
                    : !t && this.timeline && this._timeline._remove(this, !0)),
                !1
              );
            }),
            (c._kill = function (t, e) {
              return this._enabled(!1, !1);
            }),
            (c.kill = function (t, e) {
              return this._kill(t, e), this;
            }),
            (c._uncache = function (t) {
              for (var e = t ? this : this.timeline; e; )
                (e._dirty = !0), (e = e.timeline);
              return this;
            }),
            (c._swapSelfInParams = function (t) {
              for (var e = t.length, i = t.concat(); --e > -1; )
                "{self}" === t[e] && (i[e] = this);
              return i;
            }),
            (c._callback = function (t) {
              var e = this.vars,
                i = e[t],
                n = e[t + "Params"],
                r = e[t + "Scope"] || e.callbackScope || this,
                s = n ? n.length : 0;
              switch (s) {
                case 0:
                  i.call(r);
                  break;
                case 1:
                  i.call(r, n[0]);
                  break;
                case 2:
                  i.call(r, n[0], n[1]);
                  break;
                default:
                  i.apply(r, n);
              }
            }),
            (c.eventCallback = function (t, e, i, n) {
              if ("on" === (t || "").substr(0, 2)) {
                var r = this.vars;
                if (1 === arguments.length) return r[t];
                null == e
                  ? delete r[t]
                  : ((r[t] = e),
                    (r[t + "Params"] =
                      y(i) && i.join("").indexOf("{self}") !== -1
                        ? this._swapSelfInParams(i)
                        : i),
                    (r[t + "Scope"] = n)),
                  "onUpdate" === t && (this._onUpdate = e);
              }
              return this;
            }),
            (c.delay = function (t) {
              return arguments.length
                ? (this._timeline.smoothChildTiming &&
                    this.startTime(this._startTime + t - this._delay),
                  (this._delay = t),
                  this)
                : this._delay;
            }),
            (c.duration = function (t) {
              return arguments.length
                ? ((this._duration = this._totalDuration = t),
                  this._uncache(!0),
                  this._timeline.smoothChildTiming &&
                    this._time > 0 &&
                    this._time < this._duration &&
                    0 !== t &&
                    this.totalTime(this._totalTime * (t / this._duration), !0),
                  this)
                : ((this._dirty = !1), this._duration);
            }),
            (c.totalDuration = function (t) {
              return (
                (this._dirty = !1),
                arguments.length ? this.duration(t) : this._totalDuration
              );
            }),
            (c.time = function (t, e) {
              return arguments.length
                ? (this._dirty && this.totalDuration(),
                  this.totalTime(t > this._duration ? this._duration : t, e))
                : this._time;
            }),
            (c.totalTime = function (t, e, i) {
              if ((d || p.wake(), !arguments.length)) return this._totalTime;
              if (this._timeline) {
                if (
                  (t < 0 && !i && (t += this.totalDuration()),
                  this._timeline.smoothChildTiming)
                ) {
                  this._dirty && this.totalDuration();
                  var n = this._totalDuration,
                    r = this._timeline;
                  if (
                    (t > n && !i && (t = n),
                    (this._startTime =
                      (this._paused ? this._pauseTime : r._time) -
                      (this._reversed ? n - t : t) / this._timeScale),
                    r._dirty || this._uncache(!1),
                    r._timeline)
                  )
                    for (; r._timeline; )
                      r._timeline._time !==
                        (r._startTime + r._totalTime) / r._timeScale &&
                        r.totalTime(r._totalTime, !0),
                        (r = r._timeline);
                }
                this._gc && this._enabled(!0, !1),
                  (this._totalTime === t && 0 !== this._duration) ||
                    (H.length && et(), this.render(t, e, !1), H.length && et());
              }
              return this;
            }),
            (c.progress = c.totalProgress =
              function (t, e) {
                var i = this.duration();
                return arguments.length
                  ? this.totalTime(i * t, e)
                  : i
                  ? this._time / i
                  : this.ratio;
              }),
            (c.startTime = function (t) {
              return arguments.length
                ? (t !== this._startTime &&
                    ((this._startTime = t),
                    this.timeline &&
                      this.timeline._sortChildren &&
                      this.timeline.add(this, t - this._delay)),
                  this)
                : this._startTime;
            }),
            (c.endTime = function (t) {
              return (
                this._startTime +
                (0 != t ? this.totalDuration() : this.duration()) /
                  this._timeScale
              );
            }),
            (c.timeScale = function (t) {
              if (!arguments.length) return this._timeScale;
              var e, i;
              for (
                t = t || _,
                  this._timeline &&
                    this._timeline.smoothChildTiming &&
                    ((e = this._pauseTime),
                    (i = e || 0 === e ? e : this._timeline.totalTime()),
                    (this._startTime =
                      i - ((i - this._startTime) * this._timeScale) / t)),
                  this._timeScale = t,
                  i = this.timeline;
                i && i.timeline;

              )
                (i._dirty = !0), i.totalDuration(), (i = i.timeline);
              return this;
            }),
            (c.reversed = function (t) {
              return arguments.length
                ? (t != this._reversed &&
                    ((this._reversed = t),
                    this.totalTime(
                      this._timeline && !this._timeline.smoothChildTiming
                        ? this.totalDuration() - this._totalTime
                        : this._totalTime,
                      !0
                    )),
                  this)
                : this._reversed;
            }),
            (c.paused = function (t) {
              if (!arguments.length) return this._paused;
              var e,
                i,
                n = this._timeline;
              return (
                t != this._paused &&
                  n &&
                  (d || t || p.wake(),
                  (e = n.rawTime()),
                  (i = e - this._pauseTime),
                  !t &&
                    n.smoothChildTiming &&
                    ((this._startTime += i), this._uncache(!1)),
                  (this._pauseTime = t ? e : null),
                  (this._paused = t),
                  (this._active = this.isActive()),
                  !t &&
                    0 !== i &&
                    this._initted &&
                    this.duration() &&
                    ((e = n.smoothChildTiming
                      ? this._totalTime
                      : (e - this._startTime) / this._timeScale),
                    this.render(e, e === this._totalTime, !0))),
                this._gc && !t && this._enabled(!0, !1),
                this
              );
            });
          var k = T("core.SimpleTimeline", function (t) {
            O.call(this, 0, t),
              (this.autoRemoveChildren = this.smoothChildTiming = !0);
          });
          (c = k.prototype = new O()),
            (c.constructor = k),
            (c.kill()._gc = !1),
            (c._first = c._last = c._recent = null),
            (c._sortChildren = !1),
            (c.add = c.insert =
              function (t, e, i, n) {
                var r, s;
                if (
                  ((t._startTime = Number(e || 0) + t._delay),
                  t._paused &&
                    this !== t._timeline &&
                    (t._pauseTime =
                      this.rawTime() - (t._timeline.rawTime() - t._pauseTime)),
                  t.timeline && t.timeline._remove(t, !0),
                  (t.timeline = t._timeline = this),
                  t._gc && t._enabled(!0, !0),
                  (r = this._last),
                  this._sortChildren)
                )
                  for (s = t._startTime; r && r._startTime > s; ) r = r._prev;
                return (
                  r
                    ? ((t._next = r._next), (r._next = t))
                    : ((t._next = this._first), (this._first = t)),
                  t._next ? (t._next._prev = t) : (this._last = t),
                  (t._prev = r),
                  (this._recent = t),
                  this._timeline && this._uncache(!0),
                  this
                );
              }),
            (c._remove = function (t, e) {
              return (
                t.timeline === this &&
                  (e || t._enabled(!1, !0),
                  t._prev
                    ? (t._prev._next = t._next)
                    : this._first === t && (this._first = t._next),
                  t._next
                    ? (t._next._prev = t._prev)
                    : this._last === t && (this._last = t._prev),
                  (t._next = t._prev = t.timeline = null),
                  t === this._recent && (this._recent = this._last),
                  this._timeline && this._uncache(!0)),
                this
              );
            }),
            (c.render = function (t, e, i) {
              var n,
                r = this._first;
              for (this._totalTime = this._time = this._rawPrevTime = t; r; )
                (n = r._next),
                  (r._active || (t >= r._startTime && !r._paused && !r._gc)) &&
                    (r._reversed
                      ? r.render(
                          (r._dirty ? r.totalDuration() : r._totalDuration) -
                            (t - r._startTime) * r._timeScale,
                          e,
                          i
                        )
                      : r.render((t - r._startTime) * r._timeScale, e, i)),
                  (r = n);
            }),
            (c.rawTime = function () {
              return d || p.wake(), this._totalTime;
            });
          var N = T(
              "TweenLite",
              function (t, e, n) {
                if (
                  (O.call(this, e, n),
                  (this.render = N.prototype.render),
                  null == t)
                )
                  throw "Cannot tween a null target.";
                this.target = t = "string" != typeof t ? t : N.selector(t) || t;
                var r,
                  s,
                  o,
                  a =
                    t.jquery ||
                    (t.length &&
                      t !== i &&
                      t[0] &&
                      (t[0] === i ||
                        (t[0].nodeType && t[0].style && !t.nodeType))),
                  h = this.vars.overwrite;
                if (
                  ((this._overwrite = h =
                    null == h
                      ? J[N.defaultOverwrite]
                      : "number" == typeof h
                      ? h >> 0
                      : J[h]),
                  (a || t instanceof Array || (t.push && y(t))) &&
                    "number" != typeof t[0])
                )
                  for (
                    this._targets = o = g(t),
                      this._propLookup = [],
                      this._siblings = [],
                      r = 0;
                    r < o.length;
                    r++
                  )
                    (s = o[r]),
                      s
                        ? "string" != typeof s
                          ? s.length &&
                            s !== i &&
                            s[0] &&
                            (s[0] === i ||
                              (s[0].nodeType && s[0].style && !s.nodeType))
                            ? (o.splice(r--, 1),
                              (this._targets = o = o.concat(g(s))))
                            : ((this._siblings[r] = it(s, this, !1)),
                              1 === h &&
                                this._siblings[r].length > 1 &&
                                rt(s, this, null, 1, this._siblings[r]))
                          : ((s = o[r--] = N.selector(s)),
                            "string" == typeof s && o.splice(r + 1, 1))
                        : o.splice(r--, 1);
                else
                  (this._propLookup = {}),
                    (this._siblings = it(t, this, !1)),
                    1 === h &&
                      this._siblings.length > 1 &&
                      rt(t, this, null, 1, this._siblings);
                (this.vars.immediateRender ||
                  (0 === e &&
                    0 === this._delay &&
                    this.vars.immediateRender !== !1)) &&
                  ((this._time = -_), this.render(Math.min(0, -this._delay)));
              },
              !0
            ),
            z = function (t) {
              return (
                t &&
                t.length &&
                t !== i &&
                t[0] &&
                (t[0] === i || (t[0].nodeType && t[0].style && !t.nodeType))
              );
            },
            F = function (t, e) {
              var i,
                n = {};
              for (i in t)
                $[i] ||
                  (i in e &&
                    "transform" !== i &&
                    "x" !== i &&
                    "y" !== i &&
                    "width" !== i &&
                    "height" !== i &&
                    "className" !== i &&
                    "border" !== i) ||
                  !(!q[i] || (q[i] && q[i]._autoCSS)) ||
                  ((n[i] = t[i]), delete t[i]);
              t.css = n;
            };
          (c = N.prototype = new O()),
            (c.constructor = N),
            (c.kill()._gc = !1),
            (c.ratio = 0),
            (c._firstPT = c._targets = c._overwrittenProps = c._startAt = null),
            (c._notifyPluginsOfEnabled = c._lazy = !1),
            (N.version = "1.20.5"),
            (N.defaultEase = c._ease = new S(null, null, 1, 1)),
            (N.defaultOverwrite = "auto"),
            (N.ticker = p),
            (N.autoSleep = 120),
            (N.lagSmoothing = function (t, e) {
              p.lagSmoothing(t, e);
            }),
            (N.selector =
              i.$ ||
              i.jQuery ||
              function (t) {
                var e = i.$ || i.jQuery;
                return e
                  ? ((N.selector = e), e(t))
                  : (a || (a = i.document),
                    a
                      ? a.querySelectorAll
                        ? a.querySelectorAll(t)
                        : a.getElementById(
                            "#" === t.charAt(0) ? t.substr(1) : t
                          )
                      : t);
              });
          var H = [],
            B = {},
            U = /(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,
            G = /[\+-]=-?[\.\d]/,
            V = function (t) {
              for (var e, i = this._firstPT, n = 1e-6; i; )
                (e = i.blob
                  ? 1 === t && null != this.end
                    ? this.end
                    : t
                    ? this.join("")
                    : this.start
                  : i.c * t + i.s),
                  i.m
                    ? (e = i.m.call(
                        this._tween,
                        e,
                        this._target || i.t,
                        this._tween
                      ))
                    : e < n && e > -n && !i.blob && (e = 0),
                  i.f
                    ? i.fp
                      ? i.t[i.p](i.fp, e)
                      : i.t[i.p](e)
                    : (i.t[i.p] = e),
                  (i = i._next);
            },
            j = function (t, e, i, n) {
              var r,
                s,
                o,
                a,
                h,
                l,
                u,
                c = [],
                p = 0,
                d = "",
                f = 0;
              for (
                c.start = t,
                  c.end = e,
                  t = c[0] = t + "",
                  e = c[1] = e + "",
                  i && (i(c), (t = c[0]), (e = c[1])),
                  c.length = 0,
                  r = t.match(U) || [],
                  s = e.match(U) || [],
                  n &&
                    ((n._next = null),
                    (n.blob = 1),
                    (c._firstPT = c._applyPT = n)),
                  h = s.length,
                  a = 0;
                a < h;
                a++
              )
                (u = s[a]),
                  (l = e.substr(p, e.indexOf(u, p) - p)),
                  (d += l || !a ? l : ","),
                  (p += l.length),
                  f ? (f = (f + 1) % 5) : "rgba(" === l.substr(-5) && (f = 1),
                  u === r[a] || r.length <= a
                    ? (d += u)
                    : (d && (c.push(d), (d = "")),
                      (o = parseFloat(r[a])),
                      c.push(o),
                      (c._firstPT = {
                        _next: c._firstPT,
                        t: c,
                        p: c.length - 1,
                        s: o,
                        c:
                          ("=" === u.charAt(1)
                            ? parseInt(u.charAt(0) + "1", 10) *
                              parseFloat(u.substr(2))
                            : parseFloat(u) - o) || 0,
                        f: 0,
                        m: f && f < 4 ? Math.round : 0,
                      })),
                  (p += u.length);
              return (
                (d += e.substr(p)),
                d && c.push(d),
                (c.setRatio = V),
                G.test(e) && (c.end = null),
                c
              );
            },
            W = function (t, e, i, n, r, s, o, a, h) {
              "function" == typeof n && (n = n(h || 0, t));
              var l,
                u = typeof t[e],
                c =
                  "function" !== u
                    ? ""
                    : e.indexOf("set") ||
                      "function" != typeof t["get" + e.substr(3)]
                    ? e
                    : "get" + e.substr(3),
                p = "get" !== i ? i : c ? (o ? t[c](o) : t[c]()) : t[e],
                d = "string" == typeof n && "=" === n.charAt(1),
                f = {
                  t: t,
                  p: e,
                  s: p,
                  f: "function" === u,
                  pg: 0,
                  n: r || e,
                  m: s ? ("function" == typeof s ? s : Math.round) : 0,
                  pr: 0,
                  c: d
                    ? parseInt(n.charAt(0) + "1", 10) * parseFloat(n.substr(2))
                    : parseFloat(n) - p || 0,
                };
              if (
                (("number" != typeof p || ("number" != typeof n && !d)) &&
                  (o ||
                  isNaN(p) ||
                  (!d && isNaN(n)) ||
                  "boolean" == typeof p ||
                  "boolean" == typeof n
                    ? ((f.fp = o),
                      (l = j(
                        p,
                        d
                          ? parseFloat(f.s) +
                              f.c +
                              (f.s + "").replace(/[0-9\-\.]/g, "")
                          : n,
                        a || N.defaultStringFilter,
                        f
                      )),
                      (f = {
                        t: l,
                        p: "setRatio",
                        s: 0,
                        c: 1,
                        f: 2,
                        pg: 0,
                        n: r || e,
                        pr: 0,
                        m: 0,
                      }))
                    : ((f.s = parseFloat(p)),
                      d || (f.c = parseFloat(n) - f.s || 0))),
                f.c)
              )
                return (
                  (f._next = this._firstPT) && (f._next._prev = f),
                  (this._firstPT = f),
                  f
                );
            },
            X = (N._internals = {
              isArray: y,
              isSelector: z,
              lazyTweens: H,
              blobDif: j,
            }),
            q = (N._plugins = {}),
            Y = (X.tweenLookup = {}),
            Z = 0,
            $ = (X.reservedProps = {
              ease: 1,
              delay: 1,
              overwrite: 1,
              onComplete: 1,
              onCompleteParams: 1,
              onCompleteScope: 1,
              useFrames: 1,
              runBackwards: 1,
              startAt: 1,
              onUpdate: 1,
              onUpdateParams: 1,
              onUpdateScope: 1,
              onStart: 1,
              onStartParams: 1,
              onStartScope: 1,
              onReverseComplete: 1,
              onReverseCompleteParams: 1,
              onReverseCompleteScope: 1,
              onRepeat: 1,
              onRepeatParams: 1,
              onRepeatScope: 1,
              easeParams: 1,
              yoyo: 1,
              immediateRender: 1,
              repeat: 1,
              repeatDelay: 1,
              data: 1,
              paused: 1,
              reversed: 1,
              autoCSS: 1,
              lazy: 1,
              onOverwrite: 1,
              callbackScope: 1,
              stringFilter: 1,
              id: 1,
              yoyoEase: 1,
            }),
            J = {
              none: 0,
              all: 1,
              auto: 2,
              concurrent: 3,
              allOnStart: 4,
              preexisting: 5,
              true: 1,
              false: 0,
            },
            Q = (O._rootFramesTimeline = new k()),
            K = (O._rootTimeline = new k()),
            tt = 30,
            et = (X.lazyRender = function () {
              var t,
                e = H.length;
              for (B = {}; --e > -1; )
                (t = H[e]),
                  t &&
                    t._lazy !== !1 &&
                    (t.render(t._lazy[0], t._lazy[1], !0), (t._lazy = !1));
              H.length = 0;
            });
          (K._startTime = p.time),
            (Q._startTime = p.frame),
            (K._active = Q._active = !0),
            setTimeout(et, 1),
            (O._updateRoot = N.render =
              function () {
                var t, e, i;
                if (
                  (H.length && et(),
                  K.render((p.time - K._startTime) * K._timeScale, !1, !1),
                  Q.render((p.frame - Q._startTime) * Q._timeScale, !1, !1),
                  H.length && et(),
                  p.frame >= tt)
                ) {
                  tt = p.frame + (parseInt(N.autoSleep, 10) || 120);
                  for (i in Y) {
                    for (e = Y[i].tweens, t = e.length; --t > -1; )
                      e[t]._gc && e.splice(t, 1);
                    0 === e.length && delete Y[i];
                  }
                  if (
                    ((i = K._first),
                    (!i || i._paused) &&
                      N.autoSleep &&
                      !Q._first &&
                      1 === p._listeners.tick.length)
                  ) {
                    for (; i && i._paused; ) i = i._next;
                    i || p.sleep();
                  }
                }
              }),
            p.addEventListener("tick", O._updateRoot);
          var it = function (t, e, i) {
              var n,
                r,
                s = t._gsTweenID;
              if (
                (Y[s || (t._gsTweenID = s = "t" + Z++)] ||
                  (Y[s] = { target: t, tweens: [] }),
                e && ((n = Y[s].tweens), (n[(r = n.length)] = e), i))
              )
                for (; --r > -1; ) n[r] === e && n.splice(r, 1);
              return Y[s].tweens;
            },
            nt = function (t, e, i, n) {
              var r,
                s,
                o = t.vars.onOverwrite;
              return (
                o && (r = o(t, e, i, n)),
                (o = N.onOverwrite),
                o && (s = o(t, e, i, n)),
                r !== !1 && s !== !1
              );
            },
            rt = function (t, e, i, n, r) {
              var s, o, a, h;
              if (1 === n || n >= 4) {
                for (h = r.length, s = 0; s < h; s++)
                  if ((a = r[s]) !== e)
                    a._gc || (a._kill(null, t, e) && (o = !0));
                  else if (5 === n) break;
                return o;
              }
              var l,
                u = e._startTime + _,
                c = [],
                p = 0,
                d = 0 === e._duration;
              for (s = r.length; --s > -1; )
                (a = r[s]) === e ||
                  a._gc ||
                  a._paused ||
                  (a._timeline !== e._timeline
                    ? ((l = l || st(e, 0, d)),
                      0 === st(a, l, d) && (c[p++] = a))
                    : a._startTime <= u &&
                      a._startTime + a.totalDuration() / a._timeScale > u &&
                      (((d || !a._initted) && u - a._startTime <= 2e-10) ||
                        (c[p++] = a)));
              for (s = p; --s > -1; )
                if (
                  ((a = c[s]),
                  2 === n && a._kill(i, t, e) && (o = !0),
                  2 !== n || (!a._firstPT && a._initted))
                ) {
                  if (2 !== n && !nt(a, e)) continue;
                  a._enabled(!1, !1) && (o = !0);
                }
              return o;
            },
            st = function (t, e, i) {
              for (
                var n = t._timeline, r = n._timeScale, s = t._startTime;
                n._timeline;

              ) {
                if (((s += n._startTime), (r *= n._timeScale), n._paused))
                  return -100;
                n = n._timeline;
              }
              return (
                (s /= r),
                s > e
                  ? s - e
                  : (i && s === e) || (!t._initted && s - e < 2 * _)
                  ? _
                  : (s += t.totalDuration() / t._timeScale / r) > e + _
                  ? 0
                  : s - e - _
              );
            };
          (c._init = function () {
            var t,
              e,
              i,
              n,
              r,
              s,
              o = this.vars,
              a = this._overwrittenProps,
              h = this._duration,
              l = !!o.immediateRender,
              u = o.ease;
            if (o.startAt) {
              this._startAt &&
                (this._startAt.render(-1, !0), this._startAt.kill()),
                (r = {});
              for (n in o.startAt) r[n] = o.startAt[n];
              if (
                ((r.data = "isStart"),
                (r.overwrite = !1),
                (r.immediateRender = !0),
                (r.lazy = l && o.lazy !== !1),
                (r.startAt = r.delay = null),
                (r.onUpdate = o.onUpdate),
                (r.onUpdateParams = o.onUpdateParams),
                (r.onUpdateScope = o.onUpdateScope || o.callbackScope || this),
                (this._startAt = N.to(this.target || {}, 0, r)),
                l)
              )
                if (this._time > 0) this._startAt = null;
                else if (0 !== h) return;
            } else if (o.runBackwards && 0 !== h)
              if (this._startAt)
                this._startAt.render(-1, !0),
                  this._startAt.kill(),
                  (this._startAt = null);
              else {
                0 !== this._time && (l = !1), (i = {});
                for (n in o) ($[n] && "autoCSS" !== n) || (i[n] = o[n]);
                if (
                  ((i.overwrite = 0),
                  (i.data = "isFromStart"),
                  (i.lazy = l && o.lazy !== !1),
                  (i.immediateRender = l),
                  (this._startAt = N.to(this.target, 0, i)),
                  l)
                ) {
                  if (0 === this._time) return;
                } else
                  this._startAt._init(),
                    this._startAt._enabled(!1),
                    this.vars.immediateRender && (this._startAt = null);
              }
            if (
              ((this._ease = u =
                u
                  ? u instanceof S
                    ? u
                    : "function" == typeof u
                    ? new S(u, o.easeParams)
                    : M[u] || N.defaultEase
                  : N.defaultEase),
              o.easeParams instanceof Array &&
                u.config &&
                (this._ease = u.config.apply(u, o.easeParams)),
              (this._easeType = this._ease._type),
              (this._easePower = this._ease._power),
              (this._firstPT = null),
              this._targets)
            )
              for (s = this._targets.length, t = 0; t < s; t++)
                this._initProps(
                  this._targets[t],
                  (this._propLookup[t] = {}),
                  this._siblings[t],
                  a ? a[t] : null,
                  t
                ) && (e = !0);
            else
              e = this._initProps(
                this.target,
                this._propLookup,
                this._siblings,
                a,
                0
              );
            if (
              (e && N._onPluginEvent("_onInitAllProps", this),
              a &&
                (this._firstPT ||
                  ("function" != typeof this.target && this._enabled(!1, !1))),
              o.runBackwards)
            )
              for (i = this._firstPT; i; )
                (i.s += i.c), (i.c = -i.c), (i = i._next);
            (this._onUpdate = o.onUpdate), (this._initted = !0);
          }),
            (c._initProps = function (t, e, n, r, s) {
              var o, a, h, l, u, c;
              if (null == t) return !1;
              B[t._gsTweenID] && et(),
                this.vars.css ||
                  (t.style &&
                    t !== i &&
                    t.nodeType &&
                    q.css &&
                    this.vars.autoCSS !== !1 &&
                    F(this.vars, t));
              for (o in this.vars)
                if (((c = this.vars[o]), $[o]))
                  c &&
                    (c instanceof Array || (c.push && y(c))) &&
                    c.join("").indexOf("{self}") !== -1 &&
                    (this.vars[o] = c = this._swapSelfInParams(c, this));
                else if (
                  q[o] &&
                  (l = new q[o]())._onInitTween(t, this.vars[o], this, s)
                ) {
                  for (
                    this._firstPT = u =
                      {
                        _next: this._firstPT,
                        t: l,
                        p: "setRatio",
                        s: 0,
                        c: 1,
                        f: 1,
                        n: o,
                        pg: 1,
                        pr: l._priority,
                        m: 0,
                      },
                      a = l._overwriteProps.length;
                    --a > -1;

                  )
                    e[l._overwriteProps[a]] = this._firstPT;
                  (l._priority || l._onInitAllProps) && (h = !0),
                    (l._onDisable || l._onEnable) &&
                      (this._notifyPluginsOfEnabled = !0),
                    u._next && (u._next._prev = u);
                } else
                  e[o] = W.call(
                    this,
                    t,
                    o,
                    "get",
                    c,
                    o,
                    0,
                    null,
                    this.vars.stringFilter,
                    s
                  );
              return r && this._kill(r, t)
                ? this._initProps(t, e, n, r, s)
                : this._overwrite > 1 &&
                  this._firstPT &&
                  n.length > 1 &&
                  rt(t, this, e, this._overwrite, n)
                ? (this._kill(e, t), this._initProps(t, e, n, r, s))
                : (this._firstPT &&
                    ((this.vars.lazy !== !1 && this._duration) ||
                      (this.vars.lazy && !this._duration)) &&
                    (B[t._gsTweenID] = !0),
                  h);
            }),
            (c.render = function (t, e, i) {
              var n,
                r,
                s,
                o,
                a = this._time,
                h = this._duration,
                l = this._rawPrevTime;
              if (t >= h - 1e-7 && t >= 0)
                (this._totalTime = this._time = h),
                  (this.ratio = this._ease._calcEnd
                    ? this._ease.getRatio(1)
                    : 1),
                  this._reversed ||
                    ((n = !0),
                    (r = "onComplete"),
                    (i = i || this._timeline.autoRemoveChildren)),
                  0 === h &&
                    (this._initted || !this.vars.lazy || i) &&
                    (this._startTime === this._timeline._duration && (t = 0),
                    (l < 0 ||
                      (t <= 0 && t >= -1e-7) ||
                      (l === _ && "isPause" !== this.data)) &&
                      l !== t &&
                      ((i = !0), l > _ && (r = "onReverseComplete")),
                    (this._rawPrevTime = o = !e || t || l === t ? t : _));
              else if (t < 1e-7)
                (this._totalTime = this._time = 0),
                  (this.ratio = this._ease._calcEnd
                    ? this._ease.getRatio(0)
                    : 0),
                  (0 !== a || (0 === h && l > 0)) &&
                    ((r = "onReverseComplete"), (n = this._reversed)),
                  t < 0 &&
                    ((this._active = !1),
                    0 === h &&
                      (this._initted || !this.vars.lazy || i) &&
                      (l >= 0 &&
                        (l !== _ || "isPause" !== this.data) &&
                        (i = !0),
                      (this._rawPrevTime = o = !e || t || l === t ? t : _))),
                  (!this._initted ||
                    (this._startAt && this._startAt.progress())) &&
                    (i = !0);
              else if (((this._totalTime = this._time = t), this._easeType)) {
                var u = t / h,
                  c = this._easeType,
                  p = this._easePower;
                (1 === c || (3 === c && u >= 0.5)) && (u = 1 - u),
                  3 === c && (u *= 2),
                  1 === p
                    ? (u *= u)
                    : 2 === p
                    ? (u *= u * u)
                    : 3 === p
                    ? (u *= u * u * u)
                    : 4 === p && (u *= u * u * u * u),
                  1 === c
                    ? (this.ratio = 1 - u)
                    : 2 === c
                    ? (this.ratio = u)
                    : t / h < 0.5
                    ? (this.ratio = u / 2)
                    : (this.ratio = 1 - u / 2);
              } else this.ratio = this._ease.getRatio(t / h);
              if (this._time !== a || i) {
                if (!this._initted) {
                  if ((this._init(), !this._initted || this._gc)) return;
                  if (
                    !i &&
                    this._firstPT &&
                    ((this.vars.lazy !== !1 && this._duration) ||
                      (this.vars.lazy && !this._duration))
                  )
                    return (
                      (this._time = this._totalTime = a),
                      (this._rawPrevTime = l),
                      H.push(this),
                      void (this._lazy = [t, e])
                    );
                  this._time && !n
                    ? (this.ratio = this._ease.getRatio(this._time / h))
                    : n &&
                      this._ease._calcEnd &&
                      (this.ratio = this._ease.getRatio(
                        0 === this._time ? 0 : 1
                      ));
                }
                for (
                  this._lazy !== !1 && (this._lazy = !1),
                    this._active ||
                      (!this._paused &&
                        this._time !== a &&
                        t >= 0 &&
                        (this._active = !0)),
                    0 === a &&
                      (this._startAt &&
                        (t >= 0
                          ? this._startAt.render(t, !0, i)
                          : r || (r = "_dummyGS")),
                      this.vars.onStart &&
                        ((0 === this._time && 0 !== h) ||
                          e ||
                          this._callback("onStart"))),
                    s = this._firstPT;
                  s;

                )
                  s.f
                    ? s.t[s.p](s.c * this.ratio + s.s)
                    : (s.t[s.p] = s.c * this.ratio + s.s),
                    (s = s._next);
                this._onUpdate &&
                  (t < 0 &&
                    this._startAt &&
                    t !== -1e-4 &&
                    this._startAt.render(t, !0, i),
                  e ||
                    ((this._time !== a || n || i) &&
                      this._callback("onUpdate"))),
                  r &&
                    ((this._gc && !i) ||
                      (t < 0 &&
                        this._startAt &&
                        !this._onUpdate &&
                        t !== -1e-4 &&
                        this._startAt.render(t, !0, i),
                      n &&
                        (this._timeline.autoRemoveChildren &&
                          this._enabled(!1, !1),
                        (this._active = !1)),
                      !e && this.vars[r] && this._callback(r),
                      0 === h &&
                        this._rawPrevTime === _ &&
                        o !== _ &&
                        (this._rawPrevTime = 0)));
              }
            }),
            (c._kill = function (t, e, i) {
              if (
                ("all" === t && (t = null),
                null == t && (null == e || e === this.target))
              )
                return (this._lazy = !1), this._enabled(!1, !1);
              e =
                "string" != typeof e
                  ? e || this._targets || this.target
                  : N.selector(e) || e;
              var n,
                r,
                s,
                o,
                a,
                h,
                l,
                u,
                c,
                p =
                  i &&
                  this._time &&
                  i._startTime === this._startTime &&
                  this._timeline === i._timeline;
              if ((y(e) || z(e)) && "number" != typeof e[0])
                for (n = e.length; --n > -1; )
                  this._kill(t, e[n], i) && (h = !0);
              else {
                if (this._targets) {
                  for (n = this._targets.length; --n > -1; )
                    if (e === this._targets[n]) {
                      (a = this._propLookup[n] || {}),
                        (this._overwrittenProps = this._overwrittenProps || []),
                        (r = this._overwrittenProps[n] =
                          t ? this._overwrittenProps[n] || {} : "all");
                      break;
                    }
                } else {
                  if (e !== this.target) return !1;
                  (a = this._propLookup),
                    (r = this._overwrittenProps =
                      t ? this._overwrittenProps || {} : "all");
                }
                if (a) {
                  if (
                    ((l = t || a),
                    (u =
                      t !== r &&
                      "all" !== r &&
                      t !== a &&
                      ("object" != typeof t || !t._tempKill)),
                    i && (N.onOverwrite || this.vars.onOverwrite))
                  ) {
                    for (s in l) a[s] && (c || (c = []), c.push(s));
                    if ((c || !t) && !nt(this, i, e, c)) return !1;
                  }
                  for (s in l)
                    (o = a[s]) &&
                      (p && (o.f ? o.t[o.p](o.s) : (o.t[o.p] = o.s), (h = !0)),
                      o.pg && o.t._kill(l) && (h = !0),
                      (o.pg && 0 !== o.t._overwriteProps.length) ||
                        (o._prev
                          ? (o._prev._next = o._next)
                          : o === this._firstPT && (this._firstPT = o._next),
                        o._next && (o._next._prev = o._prev),
                        (o._next = o._prev = null)),
                      delete a[s]),
                      u && (r[s] = 1);
                  !this._firstPT && this._initted && this._enabled(!1, !1);
                }
              }
              return h;
            }),
            (c.invalidate = function () {
              return (
                this._notifyPluginsOfEnabled &&
                  N._onPluginEvent("_onDisable", this),
                (this._firstPT =
                  this._overwrittenProps =
                  this._startAt =
                  this._onUpdate =
                    null),
                (this._notifyPluginsOfEnabled = this._active = this._lazy = !1),
                (this._propLookup = this._targets ? {} : []),
                O.prototype.invalidate.call(this),
                this.vars.immediateRender &&
                  ((this._time = -_), this.render(Math.min(0, -this._delay))),
                this
              );
            }),
            (c._enabled = function (t, e) {
              if ((d || p.wake(), t && this._gc)) {
                var i,
                  n = this._targets;
                if (n)
                  for (i = n.length; --i > -1; )
                    this._siblings[i] = it(n[i], this, !0);
                else this._siblings = it(this.target, this, !0);
              }
              return (
                O.prototype._enabled.call(this, t, e),
                !(!this._notifyPluginsOfEnabled || !this._firstPT) &&
                  N._onPluginEvent(t ? "_onEnable" : "_onDisable", this)
              );
            }),
            (N.to = function (t, e, i) {
              return new N(t, e, i);
            }),
            (N.from = function (t, e, i) {
              return (
                (i.runBackwards = !0),
                (i.immediateRender = 0 != i.immediateRender),
                new N(t, e, i)
              );
            }),
            (N.fromTo = function (t, e, i, n) {
              return (
                (n.startAt = i),
                (n.immediateRender =
                  0 != n.immediateRender && 0 != i.immediateRender),
                new N(t, e, n)
              );
            }),
            (N.delayedCall = function (t, e, i, n, r) {
              return new N(e, 0, {
                delay: t,
                onComplete: e,
                onCompleteParams: i,
                callbackScope: n,
                onReverseComplete: e,
                onReverseCompleteParams: i,
                immediateRender: !1,
                lazy: !1,
                useFrames: r,
                overwrite: 0,
              });
            }),
            (N.set = function (t, e) {
              return new N(t, 0, e);
            }),
            (N.getTweensOf = function (t, e) {
              if (null == t) return [];
              t = "string" != typeof t ? t : N.selector(t) || t;
              var i, n, r, s;
              if ((y(t) || z(t)) && "number" != typeof t[0]) {
                for (i = t.length, n = []; --i > -1; )
                  n = n.concat(N.getTweensOf(t[i], e));
                for (i = n.length; --i > -1; )
                  for (s = n[i], r = i; --r > -1; )
                    s === n[r] && n.splice(i, 1);
              } else if (t._gsTweenID)
                for (n = it(t).concat(), i = n.length; --i > -1; )
                  (n[i]._gc || (e && !n[i].isActive())) && n.splice(i, 1);
              return n || [];
            }),
            (N.killTweensOf = N.killDelayedCallsTo =
              function (t, e, i) {
                "object" == typeof e && ((i = e), (e = !1));
                for (var n = N.getTweensOf(t, e), r = n.length; --r > -1; )
                  n[r]._kill(i, t);
              });
          var ot = T(
            "plugins.TweenPlugin",
            function (t, e) {
              (this._overwriteProps = (t || "").split(",")),
                (this._propName = this._overwriteProps[0]),
                (this._priority = e || 0),
                (this._super = ot.prototype);
            },
            !0
          );
          if (
            ((c = ot.prototype),
            (ot.version = "1.19.0"),
            (ot.API = 2),
            (c._firstPT = null),
            (c._addTween = W),
            (c.setRatio = V),
            (c._kill = function (t) {
              var e,
                i = this._overwriteProps,
                n = this._firstPT;
              if (null != t[this._propName]) this._overwriteProps = [];
              else
                for (e = i.length; --e > -1; )
                  null != t[i[e]] && i.splice(e, 1);
              for (; n; )
                null != t[n.n] &&
                  (n._next && (n._next._prev = n._prev),
                  n._prev
                    ? ((n._prev._next = n._next), (n._prev = null))
                    : this._firstPT === n && (this._firstPT = n._next)),
                  (n = n._next);
              return !1;
            }),
            (c._mod = c._roundProps =
              function (t) {
                for (var e, i = this._firstPT; i; )
                  (e =
                    t[this._propName] ||
                    (null != i.n &&
                      t[i.n.split(this._propName + "_").join("")])),
                    e &&
                      "function" == typeof e &&
                      (2 === i.f ? (i.t._applyPT.m = e) : (i.m = e)),
                    (i = i._next);
              }),
            (N._onPluginEvent = function (t, e) {
              var i,
                n,
                r,
                s,
                o,
                a = e._firstPT;
              if ("_onInitAllProps" === t) {
                for (; a; ) {
                  for (o = a._next, n = r; n && n.pr > a.pr; ) n = n._next;
                  (a._prev = n ? n._prev : s) ? (a._prev._next = a) : (r = a),
                    (a._next = n) ? (n._prev = a) : (s = a),
                    (a = o);
                }
                a = e._firstPT = r;
              }
              for (; a; )
                a.pg && "function" == typeof a.t[t] && a.t[t]() && (i = !0),
                  (a = a._next);
              return i;
            }),
            (ot.activate = function (t) {
              for (var e = t.length; --e > -1; )
                t[e].API === ot.API && (q[new t[e]()._propName] = t[e]);
              return !0;
            }),
            (b.plugin = function (t) {
              if (!(t && t.propName && t.init && t.API))
                throw "illegal plugin definition.";
              var e,
                i = t.propName,
                n = t.priority || 0,
                r = t.overwriteProps,
                s = {
                  init: "_onInitTween",
                  set: "setRatio",
                  kill: "_kill",
                  round: "_mod",
                  mod: "_mod",
                  initAll: "_onInitAllProps",
                },
                o = T(
                  "plugins." +
                    i.charAt(0).toUpperCase() +
                    i.substr(1) +
                    "Plugin",
                  function () {
                    ot.call(this, i, n), (this._overwriteProps = r || []);
                  },
                  t.global === !0
                ),
                a = (o.prototype = new ot(i));
              (a.constructor = o), (o.API = t.API);
              for (e in s) "function" == typeof t[e] && (a[s[e]] = t[e]);
              return (o.version = t.version), ot.activate([o]), o;
            }),
            (l = i._gsQueue))
          ) {
            for (u = 0; u < l.length; u++) l[u]();
            for (c in x)
              x[c].func ||
                i.console.log("GSAP encountered missing dependency: " + c);
          }
          d = !1;
        })(
          "undefined" != typeof t && t.exports && "undefined" != typeof i
            ? i
            : this || window,
          "TweenMax"
        );
    }).call(
      e,
      (function () {
        return this;
      })()
    );
  },
  function (t, e, i) {
    var n,
      r,
      s = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      };
    (r = i(52)),
      (n = (function () {
        function t(t) {
          (this.get = s(this.get, this)),
            (this._init = s(this._init, this)),
            (this._el = t.el),
            (this._detail = t.detail),
            (this.item = []),
            (this.isTop = t.isTop),
            this._init();
        }
        return (
          (t.prototype._init = function () {
            return this._el.each(
              (function (t) {
                return function (e, i) {
                  var n;
                  return (
                    (n = new r({
                      isTop: t.isTop,
                      el: $(i),
                      detail: t._detail,
                    })),
                    t.item.push(n)
                  );
                };
              })(this)
            );
          }),
          (t.prototype.get = function (t) {
            var e, i, n, r, s;
            for (r = this.item, e = i = 0, n = r.length; i < n; e = ++i)
              if (((s = r[e]), s.workId === t)) return s;
            return null;
          }),
          t
        );
      })()),
      (t.exports = n);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _,
      g,
      v,
      y,
      x,
      w,
      b = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      T = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) E.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      E = {}.hasOwnProperty;
    (v = i(3)),
      (g = i(9)),
      (a = i(8)),
      (d = i(7)),
      (y = i(13)),
      (o = i(1)),
      (p = i(4)),
      (m = i(5)),
      (h = i(2)),
      (_ = i(6)),
      (c = i(14)),
      (r = i(21)),
      (s = i(20)),
      (f = i(27)),
      (l = i(15)),
      (x = i(34)),
      (w = i(35)),
      (n = i(37)),
      (u = (function (t) {
        function e(t) {
          (this.getItemMgr = b(this.getItemMgr, this)),
            (this.getDetail = b(this.getDetail, this)),
            (this.isPage = b(this.isPage, this)),
            (this.isNowRenderFrame = b(this.isNowRenderFrame, this)),
            (this._resize = b(this._resize, this)),
            (this.render = b(this.render, this)),
            (this._update = b(this._update, this)),
            (this.show = b(this.show, this)),
            (this.closeDetail = b(this.closeDetail, this)),
            (this.setDetail = b(this.setDetail, this)),
            (this.resetDetail = b(this.resetDetail, this)),
            (this._eSwipe = b(this._eSwipe, this)),
            (this._eMouseUp = b(this._eMouseUp, this)),
            (this._eMouseDown = b(this._eMouseDown, this)),
            (this._eClickToDetail = b(this._eClickToDetail, this)),
            (this._eClickWork = b(this._eClickWork, this)),
            (this.init = b(this.init, this)),
            e.__super__.constructor.call(this, t),
            (this._page = t.page),
            (this._data = t.data),
            (this._pageId = -1),
            this._blurScene,
            (this._blur = []),
            this._blurDest,
            this._mask,
            this._maskCon,
            (this._maskItem = []),
            this._works,
            this._worksCon,
            (this._worksItem = []),
            this._maskEtc,
            this._maskEtcCon,
            (this._area = new THREE.Vector2()),
            (this._btns = []),
            (this._itemMgr = []),
            this._dest,
            this._destEtc,
            (this._showRate = new y(0)),
            (this._moveVal = new y(0)),
            (this._allAlpha = new y(1)),
            (this._isDetail = !1),
            (this._bgColor = 16777215),
            this._detail,
            (this._isTop = !1);
        }
        return (
          T(e, t),
          (e.prototype.init = function () {
            var t, r, a, h, l, u, p, d, m, _, g, v, y;
            for (
              e.__super__.init.call(this),
                this.camera = this._makeCamera({ isOrthographic: !1 }),
                this.updateCamera(this.camera),
                y = this._data.length,
                g = o.ETC_RAND_NUM,
                _ = y * g,
                this._blurScene = new s(),
                this._blurScene.init(),
                h = 0;
              h < 1;

            )
              (a = new n()), a.init(), this._blur.push(a), h++;
            for (
              this._works = new s(),
                this._works.init(),
                this._worksCon = new THREE.Object3D(),
                this._works.add(this._worksCon),
                this._isTop = this._data[0].isTop,
                h = 0;
              h < _;

            )
              (v = ~~(h / g)),
                (u = new x({
                  isTop: this._data[v].isTop,
                  itemId: h,
                  workId: v,
                  no: h % g,
                  image: this._data[v].image,
                  color: this._data[v].color,
                })),
                u.init(),
                u.isEtc() || this._worksCon.add(u),
                this._worksItem.push(u),
                h++;
            for (
              this._mask = new s(),
                this._mask.init(),
                this._maskCon = new THREE.Object3D(),
                this._mask.add(this._maskCon),
                this._maskEtc = new s(),
                this._maskEtc.init(),
                this._maskEtcCon = new THREE.Object3D(),
                this._maskEtc.add(this._maskEtcCon),
                h = 0;
              h < this._worksItem.length;

            )
              (t = this._worksItem[h]),
                (d = new f({
                  baseMask: h > 0 ? this._maskItem[0] : null,
                  item: t,
                })),
                d.init(),
                t.isEtc() ? this._maskEtcCon.add(d) : this._maskCon.add(d),
                this._maskItem.push(d),
                h++;
            for (h = 0, _ = this._worksItem.length / g; h < _; ) {
              for (p = h * g, t = [], r = [], l = 0; l < g; )
                t.push(this._worksItem[p + l]),
                  r.push(this._maskItem[p + l]),
                  l++;
              (m = new w({
                item: t,
                mask: r,
                btn: this._btns[h],
                pageId: this._pageId,
                parent: this,
                data: this._data[h],
              })),
                m.init(),
                (m.onClick = this._eClickWork),
                (m.onClickToDetail = this._eClickToDetail),
                this._itemMgr.push(m),
                h++;
            }
            return (
              (this._destEtc = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(1, 1),
                new THREE.ShaderMaterial({
                  vertexShader: i(19),
                  fragmentShader: i(41),
                  transparent: !0,
                  depthTest: !0,
                  side: THREE.DoubleSide,
                  uniforms: {
                    tDiffuse: { value: null },
                    tMask: { value: this._maskEtc.texture() },
                    isEtc: { value: !0 },
                    time: { value: 0 },
                    useMask: { value: !0 },
                    resolution: { value: new THREE.Vector2() },
                    ripCenter: { value: new THREE.Vector2() },
                    wave: { value: 1 },
                    range: { value: 1 },
                    power: { value: 1 },
                    isRipple: { value: !1 },
                  },
                })
              )),
              this._blurScene.add(this._destEtc),
              (this._destEtc.position.z = 0),
              (this._dest = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(1, 1),
                new THREE.ShaderMaterial({
                  vertexShader: i(19),
                  fragmentShader: i(41),
                  transparent: !0,
                  depthTest: !0,
                  side: THREE.DoubleSide,
                  uniforms: {
                    tDiffuse: { value: this._works.texture() },
                    tMask: { value: this._mask.texture() },
                    isEtc: { value: !1 },
                    time: { value: 0 },
                    useMask: { value: !0 },
                    resolution: { value: new THREE.Vector2() },
                    ripCenter: { value: new THREE.Vector2() },
                    wave: { value: 1 },
                    range: { value: 1 },
                    power: { value: 1 },
                    isRipple: { value: !1 },
                  },
                })
              )),
              this._blurScene.add(this._dest),
              (this._dest.position.z = 0),
              (this._blurDest = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(1, 1),
                new THREE.ShaderMaterial({
                  vertexShader: i(19),
                  fragmentShader: i(115),
                  transparent: !0,
                  depthTest: !0,
                  side: THREE.DoubleSide,
                  uniforms: {
                    tDiffuse: { value: this._blurScene.texture(0) },
                    tBlur: {
                      value: this._blur[this._blur.length - 1].getTexture(),
                    },
                    alpha: { value: 1 },
                    bAlpha: { value: 1 },
                  },
                })
              )),
              this.mainScene.add(this._blurDest),
              o.IS_PC
                ? (c.onMouseDown.push(this._eMouseDown),
                  c.onMouseUp.push(this._eMouseUp))
                : (c.onTouchStart.push(this._eMouseDown),
                  c.onTouchEnd.push(this._eMouseUp),
                  c.onSwipe.push(this._eSwipe))
            );
          }),
          (e.prototype._eClickWork = function (t) {}),
          (e.prototype._eClickToDetail = function (t) {}),
          (e.prototype._eMouseDown = function () {}),
          (e.prototype._eMouseUp = function () {}),
          (e.prototype._eSwipe = function (t) {}),
          (e.prototype.resetDetail = function () {
            var t, e, i, n, r;
            for (
              this._isClick = !1, n = this._itemMgr, t = e = 0, i = n.length;
              e < i;
              t = ++e
            )
              (r = n[t]), r.setNormal();
            return this._detail.hide(), this.closeDetail();
          }),
          (e.prototype.setDetail = function (t) {
            return (
              (this._isDetail = !0),
              (this._dest.material.uniforms.useMask.value = !1),
              (this._destEtc.visible = !1)
            );
          }),
          (e.prototype.closeDetail = function () {
            return (
              (this._isDetail = !1),
              (this._dest.material.uniforms.useMask.value = !0),
              (this._destEtc.visible = !0)
            );
          }),
          (e.prototype.show = function (t) {}),
          (e.prototype._update = function () {
            var t, e, i, n, r, s;
            if (
              ((e = h.ratio()),
              (s = h.sw()),
              (t = h.sh()),
              (n = this._dest.material.uniforms),
              (n.time.value += 0.001 * p.top.imgNoiseSpeed.value),
              n.resolution.value.set(s * e, t * e),
              (n.wave.value = 0.01 * p.top.rippleW.value),
              h.useScreen()
                ? (n.ripCenter.value.y = (t / this._renderSize.y) * 1)
                : (n.ripCenter.value.y = 0),
              this._pageId === _.PAGE.TOP
                ? (n.range.value =
                    p.top.rippleR.value *
                    (1 - v.mix(this._showRate.val, 0, this._moveVal.val)) *
                    h.val(0.5, 1))
                : (n.range.value =
                    100 *
                    (1 - v.mix(this._showRate.val, 0, this._moveVal.val))),
              (n.power.value = 0.001 * p.top.rippleP.value),
              (n.isRipple.value =
                this._showRate.val < 1 || this._moveVal.val > 0),
              (r = this._destEtc.material.uniforms),
              (r.time.value = n.time.value),
              r.resolution.value.set(h.sw() * e, h.sh() * e),
              (r.wave.value = n.wave.value),
              (r.range.value = n.range.value),
              (r.power.value = n.power.value),
              (r.isRipple.value = n.isRipple.value),
              r.ripCenter.value.copy(n.ripCenter.value),
              (i = this._blurDest.material.uniforms),
              (i.alpha.value =
                v.map(this._showRate.val, 0, 1, 0, 1) * this._allAlpha.val),
              (i.bAlpha.value =
                0.01 *
                p.top.bAlpha.value *
                (1 - v.map(this._showRate.val, 0, 1, 0, 1))),
              this.isNowRenderFrame() && this.isPage() && !p.openMenu)
            )
              return this.render();
          }),
          (e.prototype.render = function () {
            var t, e, i, n, r, s, o, a, h, l, u;
            if (
              ((u = this._renderSize.x),
              (n = this._renderSize.y),
              this.renderer.setClearColor(this._bgColor, 1),
              this.updateCamera(this.camera, u, n),
              this._dest.visible &&
                this._works.render(this.renderer, this.camera),
              this._isDetail || this._mask.render(this.renderer, this.camera),
              this._isTop ||
                null == this._maskEtc ||
                this._isDetail ||
                this._maskEtc.render(this.renderer, this.camera),
              this._blurScene.render(this.renderer, this.camera),
              this._showRate.val < 1)
            )
              for (a = this._blur, r = s = 0, o = a.length; s < o; r = ++s)
                (l = a[r]),
                  (t = 0.25),
                  (i = u * t),
                  (e = n * t),
                  (h =
                    0 === r
                      ? this._blurScene.texture(0)
                      : this._blur[r - 1].getTexture()),
                  this.updateCamera(this.camera, i, e),
                  l.render({
                    texture: h,
                    renderer: this.renderer,
                    camera: this.camera,
                    w: i,
                    h: e,
                    value: 100,
                  });
            return (
              this.updateCamera(this.camera, u, n),
              this.renderer.render(this.mainScene, this.camera),
              this.renderCnt++
            );
          }),
          (e.prototype._resize = function () {
            var t, e;
            return (
              (e = h.sw()),
              (t = h.sh()),
              h.useScreen() && (t = screen.height),
              this._renderSize.set(e, t),
              this.updateCamera(this.camera, e, t),
              this.renderer.setPixelRatio(h.ratio()),
              this.renderer.setSize(e, t),
              this.renderer.clear(),
              this._mask.size(e, t),
              this._works.size(e, t),
              this._blurScene.size(e, t),
              this._maskEtc.size(e, t),
              this._dest.scale.set(e, t, 1),
              this._destEtc.scale.set(e, t, 1),
              this._blurDest.scale.set(e, t, 1)
            );
          }),
          (e.prototype.isNowRenderFrame = function () {
            return (
              !!this.isRender &&
              (h.isXS()
                ? !p.isFixDetailInfo
                : p.isDetail
                ? g.cnt % 3 === 0
                : g.cnt % 2 === 0)
            );
          }),
          (e.prototype.isPage = function () {
            return router.isPage(this._pageId);
          }),
          (e.prototype.getDetail = function () {
            return this._detail;
          }),
          (e.prototype.getItemMgr = function (t) {
            var e, i, n, r, s;
            for (r = this._itemMgr, e = i = 0, n = r.length; i < n; e = ++i)
              if (((s = r[e]), s.workId === t)) return { mgr: s, key: e };
            return null;
          }),
          e
        );
      })(r)),
      (t.exports = u);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      m = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) _.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      _ = {}.hasOwnProperty;
    (h = i(4)),
      (n = i(1)),
      (r = i(2)),
      (c = i(5)),
      (o = i(14)),
      (p = i(3)),
      (d = i(13)),
      (a = i(16)),
      (s = i(15)),
      (u = i(65)),
      (l = (function (t) {
        function e(t) {
          (this.getNow = f(this.getNow, this)),
            (this.getNext = f(this.getNext, this)),
            (this.getPrev = f(this.getPrev, this)),
            (this._resize = f(this._resize, this)),
            (this._update = f(this._update, this)),
            (this._updateWorkData = f(this._updateWorkData, this)),
            (this._eChanged = f(this._eChanged, this)),
            (this.change = f(this.change, this)),
            (this.firstSetUp = f(this.firstSetUp, this)),
            (this.hide = f(this.hide, this)),
            (this.show = f(this.show, this)),
            (this.init = f(this.init, this)),
            e.__super__.constructor.call(this, t),
            (this._item = []),
            (this._workData = t.data),
            this.onChanged;
        }
        return (
          m(e, t),
          (e.prototype.init = function () {
            var t, i, n, r;
            for (e.__super__.init.call(this), r = [2, 0, 1], t = 0; t < 3; )
              (n = r[t]),
                (i = new u({
                  isPrev: 0 === n,
                  isNow: 2 === n,
                  isNext: 1 === n,
                  camera: this.opt.camera,
                  renderer: this.opt.renderer,
                  dom: this.opt.dom,
                  data: this._workData,
                })),
                i.init(),
                this.add(i),
                (this._item[n] = i),
                t++;
            return (this.visible = !1), this._resize();
          }),
          (e.prototype.show = function (t) {
            var e, i, n, r, s, o;
            for (
              this.visible = !0,
                this._updateWorkData(t.mgr.data.workId),
                r = this._item,
                s = [],
                e = i = 0,
                n = r.length;
              i < n;
              e = ++i
            )
              (o = r[e]), s.push(o.show(t));
            return s;
          }),
          (e.prototype.hide = function (t) {
            var e, i, n, r, s, o;
            for (
              this.visible = !1,
                r = this._item,
                s = [],
                e = i = 0,
                n = r.length;
              i < n;
              e = ++i
            )
              (o = r[e]), s.push(o.hide());
            return s;
          }),
          (e.prototype.firstSetUp = function (t) {
            return (this.getNow().visible = !0), this.getNow().render();
          }),
          (e.prototype.change = function (t) {
            return (
              r.clickable(!1),
              this._item[t.key].showImg({
                onComplete: this._eChanged,
                delay: r.val(1, 0),
              }),
              0 === t.key ? this.getNext().hide() : this.getPrev().hide()
            );
          }),
          (e.prototype._eChanged = function (t) {
            var e;
            if (
              ((e = t.workId),
              this._updateWorkData(t.workId),
              this.getPrev().show(),
              this.getNext().show(),
              r.clickable(!0),
              null != this.onChanged)
            )
              return this.onChanged({ workId: e });
          }),
          (e.prototype._updateWorkData = function (t) {
            var e, i, n;
            return (
              (i = this._workData.get(t)),
              this.getNow().setData(i),
              (e = this._workData.get(i.nextWorkId)),
              this.getNext().setData(e),
              (n = this._workData.get(i.prevWorkId)),
              this.getPrev().setData(n)
            );
          }),
          (e.prototype._update = function () {
            var t, i;
            if ((e.__super__._update.call(this), this.visible))
              return (
                r.useScreen() &&
                  (this.position.y = 0.5 * (screen.height - r.sh())),
                (i = o.three.x),
                (t = r.sw()),
                this.getPrev().addPower(p.map(i, 1, 0, 0.5 * -t, 0)),
                this.getNext().addPower(p.map(i, 0, 1, 0, 0.5 * t))
              );
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this);
          }),
          (e.prototype.getPrev = function () {
            return this._item[0];
          }),
          (e.prototype.getNext = function () {
            return this._item[1];
          }),
          (e.prototype.getNow = function () {
            return this._item[2];
          }),
          e
        );
      })(a)),
      (t.exports = l);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      _ = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) g.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      g = {}.hasOwnProperty;
    (l = i(4)),
      (n = i(1)),
      (r = i(2)),
      (c = i(5)),
      (o = i(14)),
      (p = i(3)),
      (d = i(13)),
      (a = i(16)),
      (s = i(15)),
      (h = i(23)),
      (u = i(17)),
      (f = (function (t) {
        function e(t) {
          (this._resize = m(this._resize, this)),
            (this._update = m(this._update, this)),
            (this.rollout = m(this.rollout, this)),
            (this.rollover = m(this.rollover, this)),
            (this.checkCenter = m(this.checkCenter, this)),
            (this.getBasePosition = m(this.getBasePosition, this)),
            (this.setItemSize = m(this.setItemSize, this)),
            (this.fadeOut = m(this.fadeOut, this)),
            (this.setNormal = m(this.setNormal, this)),
            (this.toDetail = m(this.toDetail, this)),
            (this.show = m(this.show, this)),
            (this.isEtc = m(this.isEtc, this)),
            (this.init = m(this.init, this)),
            e.__super__.constructor.call(this, t),
            (this._isTop = t.isTop),
            this._con,
            this._img,
            this._plane,
            this.useTex,
            this.useTexSrc,
            (this.baseScale = 1),
            (this._noize = p.random(0, 1)),
            (this._offset = new THREE.Vector2()),
            this.keyColor,
            (this.workId = t.workId),
            (this._conScaleTg = 1),
            (this._conScaleTg2 = 1),
            (this._detailRate = new d(0)),
            (this._imgSize = 0.1),
            (this._ease = p.random(0.075, 0.2)),
            (this._showScale = new d(0));
        }
        return (
          _(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              (this._con = new THREE.Object3D()),
              this.add(this._con),
              0 === this.opt.no
                ? ((this.baseScale = 1),
                  (this.useTexSrc = this.opt.image),
                  (this.useTex = u.get(this.useTexSrc)),
                  (this._img = new h({ tex: this.useTex })),
                  this._img.init(),
                  this._con.add(this._img),
                  (this.opt.isEtc = !1))
                : ((this.keyColor = p.randomArr(this.opt.color)),
                  (this._plane = new THREE.Mesh(
                    new THREE.CircleBufferGeometry(0.5, 32),
                    new THREE.MeshBasicMaterial({ color: this.keyColor })
                  )),
                  this._con.add(this._plane),
                  this._isTop
                    ? ((this.opt.isEtc = !1),
                      (this.baseScale = p.random(0.1, 0.2)))
                    : ((this.opt.isEtc = !0),
                      (this.baseScale = p.random(0.035, 0.2)))),
              this._resize()
            );
          }),
          (e.prototype.isEtc = function () {
            return this.opt.isEtc;
          }),
          (e.prototype.show = function (t) {
            var e;
            return (
              (e = 1.6),
              t.isFast && (e = 0.1),
              c.a(this._showScale, { val: [2, 1] }, e, t.delay, Power3.easeOut)
            );
          }),
          (e.prototype.toDetail = function (t) {
            var e, i;
            if (
              ((i = 1.5),
              t.isFast && (i = 0),
              c.a(
                this._detailRate,
                { val: [0, 1] },
                i,
                t.delay,
                Power2.easeInOut
              ),
              null != this._img)
            )
              return (
                c.a(
                  this._img.uni().noise,
                  { value: [0, 2] },
                  0.5,
                  t.delay,
                  Power2.easeIn,
                  null,
                  null,
                  (function (t) {
                    return function () {
                      return c.a(
                        t._img.uni().noise,
                        { value: 0 },
                        1.5,
                        0,
                        Power2.easeOut
                      );
                    };
                  })(this)
                ),
                (e = t.delayB || 0),
                c.a(
                  this._img.uni().showRate,
                  { value: [0, 1] },
                  0.5 * i,
                  e,
                  Power2.easeIn
                )
              );
          }),
          (e.prototype.setNormal = function () {
            if (
              (c.kill(this._detailRate),
              (this._detailRate.val = 0),
              null != this._plane && (this._plane.material.opacity = 1),
              null != this._img)
            )
              return (
                (this._img.uni().alpha.value = 1),
                c.a(
                  this._img.uni().showRate,
                  { value: 0 },
                  0.5,
                  0,
                  Power2.easeIn
                )
              );
          }),
          (e.prototype.fadeOut = function (t) {
            var e, i, n;
            if (
              ((t = t || {}),
              (n = 1),
              (e = t.delay || 0),
              (i = Power2.easeOut),
              null != this._plane &&
                c.a(this._plane.material, { opacity: [1, 0] }, n, e, i),
              null != this._img)
            )
              return c.a(this._img.uni().alpha, { value: [1, 0] }, n, e, i);
          }),
          (e.prototype.setItemSize = function (t) {
            var e, i;
            return (
              (t *= this.baseScale * this._showScale.val),
              (i = 0.9 * t),
              (e = Math.max(r.sw(), r.sh())),
              r.useScreen() && (e = Math.max(r.sw(), screen.height)),
              (i = Math.max(n.SCALE_MIN, p.mix(i, e, this._detailRate.val))),
              (this._imgSize += (i - this._imgSize) * this._ease),
              null != this._img && this._img.size(this._imgSize),
              null != this._plane &&
                this._plane.scale.set(this._imgSize, this._imgSize, 1),
              (this.opt.imgSize = this._imgSize),
              (this.opt.radius = 0.5 * t)
            );
          }),
          (e.prototype.getBasePosition = function () {
            return this._con.position;
          }),
          (e.prototype.checkCenter = function (t) {
            return (this._conScaleTg2 = t ? n.CENTER_SCALE : 1);
          }),
          (e.prototype.rollover = function () {
            return (this._conScaleTg = n.HOVER_SCALE);
          }),
          (e.prototype.rollout = function () {
            return (this._conScaleTg = 1);
          }),
          (e.prototype._update = function () {
            var t, i, n, r, s, o, a;
            if ((e.__super__._update.call(this), this.visible))
              return (
                (t =
                  this._noize +
                  0.02 * this.updateCnt * l.shape.speed.value * 0.01 * 3),
                (i = 0.01 * this.sw),
                this._isTop || (i *= 0.5),
                (r =
                  Math.sin(1.12 * t) * l.shape.yura.value * 0.01 * i +
                  this._offset.x),
                (o =
                  Math.cos(0.85 * t) * l.shape.yura.value * 0.01 * i +
                  this._offset.y),
                (s = 0),
                (a = 0),
                (this._con.position.x = p.mix(r, s, this._detailRate.val)),
                (this._con.position.y = p.mix(o, a, this._detailRate.val)),
                (n = p.mix(
                  this._conScaleTg * this._conScaleTg2,
                  1,
                  this._detailRate.val
                )),
                (this._con.scale.x += 0.1 * (n - this._con.scale.x)),
                (this._con.scale.y = this._con.scale.x)
              );
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this);
          }),
          e
        );
      })(a)),
      (t.exports = f);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      };
    (h = i(4)),
      (n = i(1)),
      (r = i(2)),
      (l = i(5)),
      (o = i(14)),
      (u = i(6)),
      (c = i(3)),
      (a = i(16)),
      (s = i(15)),
      (p = (function () {
        function t(t) {
          (this.resize = d(this.resize, this)),
            (this._eRollout = d(this._eRollout, this)),
            (this._eRollover = d(this._eRollover, this)),
            (this.checkCenter = d(this.checkCenter, this)),
            (this._eClick = d(this._eClick, this)),
            (this.showImage = d(this.showImage, this)),
            (this.getItemData = d(this.getItemData, this)),
            (this._eShowedDetail = d(this._eShowedDetail, this)),
            (this.toDetail = d(this.toDetail, this)),
            (this.hideFast = d(this.hideFast, this)),
            (this.setNormal = d(this.setNormal, this)),
            (this.hide = d(this.hide, this)),
            (this.show = d(this.show, this)),
            (this.init = d(this.init, this)),
            (this.pageId = t.pageId),
            (this.item = t.item),
            (this.mask = t.mask),
            (this.parent = t.parent),
            (this.data = t.data),
            this.workId,
            (this.position = new THREE.Vector3()),
            (this.radius = -1),
            (this.offset = []),
            (this.offsetNoise = []),
            (this.noise = new THREE.Vector2()),
            (this.mainEase = 1),
            (this.btn = t.btn),
            (this.workId = this.data.workId),
            (this.isClick = !1),
            (this.isShow = !1),
            this.onClick,
            this.onClickToDetail;
        }
        return (
          (t.prototype.init = function () {
            var t;
            for (
              this.noise.x = c.random2(0.1, 0.2),
                this.noise.y = c.random2(0.1, 0.2),
                this.mainEase = c.random(0.05, 0.3),
                t = 0;
              t < n.ETC_RAND_NUM;

            )
              this.offset.push(new THREE.Vector3()),
                this.data.isTop
                  ? this.offsetNoise.push(
                      new THREE.Vector3(
                        c.random2(0.7, 1.3),
                        c.random2(0.7, 1.3),
                        0.5 * c.random(0.075, 0.2)
                      )
                    )
                  : this.offsetNoise.push(
                      new THREE.Vector3(
                        c.random2(0.7, 1.8),
                        c.random2(0.7, 1.8),
                        0.5 * c.random(0.075, 0.2)
                      )
                    ),
                t++;
            if (null != this.btn)
              return this.btn
                .on("mouseover", this._eRollover)
                .on("mouseout", this._eRollout)
                .on("click", this._eClick);
          }),
          (t.prototype.show = function (t) {
            var e, i, n, r, s, o, a, h, l;
            if ((t.isFirst && (this.isShow = !1), !this.isShow)) {
              for (
                this.isShow = !0,
                  i = t.interval || 0.2,
                  t.isFast && (i = 0),
                  a = this.mask,
                  e = n = 0,
                  s = a.length;
                n < s;
                e = ++n
              )
                (l = a[e]),
                  l.offsetColor(0),
                  l.show({ delay: t.delay + 0 + e * i, isFast: t.isFast });
              for (h = this.item, e = r = 0, o = h.length; r < o; e = ++r)
                (l = h[e]),
                  l.show({ delay: t.delay + 0 + e * i, isFast: t.isFast });
              return null != this.btn
                ? this.btn.removeClass("is-none")
                : void 0;
            }
          }),
          (t.prototype.hide = function (t) {
            var e, i, n, r, s;
            if (this.isShow) {
              for (
                this.isShow = !1, r = this.mask, e = i = 0, n = r.length;
                i < n;
                e = ++i
              )
                (s = r[e]), s.offsetColor(1);
              return null != this.btn ? this.btn.addClass("is-none") : void 0;
            }
          }),
          (t.prototype.setNormal = function () {
            var t, e, i, n, r, s, o, a, h;
            for (
              this.isClick = !1,
                this.isShow = !0,
                null != this.btn && this.btn.removeClass("is-none"),
                s = this.mask,
                t = e = 0,
                n = s.length;
              e < n;
              t = ++e
            )
              (h = s[t]), (h.visible = !0), h.setNormal();
            for (o = this.item, a = [], t = i = 0, r = o.length; i < r; t = ++i)
              (h = o[t]), (h.visible = !0), a.push(h.setNormal());
            return a;
          }),
          (t.prototype.hideFast = function () {
            var t, e, i, n, r, s, o, a;
            for (s = this.mask, t = e = 0, n = s.length; e < n; t = ++e)
              (a = s[t]), (a.visible = !1);
            for (o = this.item, t = i = 0, r = o.length; i < r; t = ++i)
              (a = o[t]), (a.visible = !1);
            if (null != this.btn) return this.btn.removeClass("is-none");
          }),
          (t.prototype.toDetail = function (t) {
            var e, i, n, r, s, o, a, h, l, u, c, p;
            for (
              t = t || {},
                null != this.btn && this.btn.addClass("is-none"),
                e = 0,
                i = t.delay2 || 0.4,
                i = e + i,
                l = this.mask,
                r = s = 0,
                a = l.length;
              s < a;
              r = ++s
            )
              (p = l[r]),
                0 === r
                  ? p.toDetail({
                      isFast: t.isFast,
                      delay: i,
                      onComplete: this._eShowedDetail,
                    })
                  : p.fadeOut({ delay: i });
            for (
              n = t.delayB || e, u = this.item, c = [], r = o = 0, h = u.length;
              o < h;
              r = ++o
            )
              (p = u[r]),
                0 === r
                  ? c.push(
                      p.toDetail({ isFast: t.isFast, delay: e, delayB: n })
                    )
                  : c.push(void 0);
            return c;
          }),
          (t.prototype._eShowedDetail = function () {
            return this.parent.setDetail(this);
          }),
          (t.prototype.getItemData = function () {
            return { imgSrc: this.item[0].useTexSrc };
          }),
          (t.prototype.showImage = function () {
            return this.item[0].showImage();
          }),
          (t.prototype._eClick = function (t) {
            return this.isClick
              ? void (
                  null != this.onClickToDetail && this.onClickToDetail(this)
                )
              : ((this.isClick = !0),
                null != this.onClick ? this.onClick(this) : void 0);
          }),
          (t.prototype.checkCenter = function (t) {
            var e, i, n, r, s, o, a, h, l;
            for (o = this.item, e = i = 0, r = o.length; i < r; e = ++i)
              (l = o[e]), l.checkCenter(t);
            for (a = this.mask, h = [], e = n = 0, s = a.length; n < s; e = ++n)
              (l = a[e]), h.push(l.checkCenter(t));
            return h;
          }),
          (t.prototype._eRollover = function (t) {
            var e, i, n, r, s, o;
            if (this.isClick) return void router.mouse.setMode(u.MOUSE.VIEW);
            if (
              (this.pageId === u.PAGE.TOP &&
                (router.mouse.setMode(u.MOUSE.VIEW), (h.isHover = !1)),
              this.pageId !== u.PAGE.TOP)
            ) {
              for (
                r = this.item, s = [], e = i = 0, n = r.length;
                i < n;
                e = ++i
              )
                (o = r[e]), o.rollover(), s.push(this.mask[e].rollover());
              return s;
            }
          }),
          (t.prototype._eRollout = function (t) {
            var e, i, n, r, s, o;
            if (
              (router.mouse.setMode(u.MOUSE.NORMAL),
              !this.isClick && this.pageId !== u.PAGE.TOP)
            ) {
              for (
                r = this.item, s = [], e = i = 0, n = r.length;
                i < n;
                e = ++i
              )
                (o = r[e]), o.rollout(), s.push(this.mask[e].rollout());
              return s;
            }
          }),
          (t.prototype.resize = function (t, e, i, n, r, s) {
            var o, a, h, l, u, c, p, d, f, m, _, g, v, y, x, w, b, T, E;
            if (
              (null == s && (s = !1),
              null == r && (r = !1),
              (y = 0.8 * this.item[0].opt.radius),
              isNaN(y) && (y = 50),
              this.position.set(t, e, 0),
              r
                ? ((this.item[0].position.x = t), (this.item[0].position.y = e))
                : ((a = this.mainEase),
                  (this.item[0].position.x +=
                    (t - this.item[0].position.x) * a),
                  (this.item[0].position.y +=
                    (e - this.item[0].position.y) * a)),
              this.radius !== y)
            )
              for (
                this.radius = y,
                  g = 0.75,
                  _ = 1,
                  x = this.offset,
                  l = u = 0,
                  d = x.length;
                u < d;
                l = ++u
              )
                (E = x[l]),
                  this.item[l].isEtc()
                    ? ((g = 0.75), (_ = 1.5))
                    : ((g = 0.75), (_ = 1)),
                  (E.x = y * this.offsetNoise[l].x),
                  (E.y = y * this.offsetNoise[l].y),
                  (E.z = this.offsetNoise[l].z);
            for (w = this.item, l = c = 0, f = w.length; c < f; l = ++c)
              (E = w[l]),
                l >= 1 &&
                  ((v = this.offset[l]),
                  r
                    ? ((E.position.x = t + v.x), (E.position.y = e + v.y))
                    : ((E.position.x += (t + v.x - E.position.x) * v.z),
                      (E.position.y += (e + v.y - E.position.y) * v.z)));
            for (b = this.mask, T = [], l = p = 0, m = b.length; p < m; l = ++p)
              (E = b[l]),
                (v = this.offset[l]),
                (h = v.z),
                (h = 0.2),
                (o = this.item[l].position),
                s
                  ? ((E.position.x = o.x), T.push((E.position.y = o.y)))
                  : ((E.position.x += (o.x - E.position.x) * h),
                    T.push((E.position.y += (o.y - E.position.y) * h)));
            return T;
          }),
          t
        );
      })()),
      (t.exports = p);
  },
  function (t, e) {
    var i,
      n = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      };
    (i = (function () {
      function t() {
        (this.inOutSine = n(this.inOutSine, this)),
          (this.inOutQuint = n(this.inOutQuint, this)),
          (this.inOutQuart = n(this.inOutQuart, this)),
          (this.inOutQuad = n(this.inOutQuad, this)),
          (this.inOutExpo = n(this.inOutExpo, this)),
          (this.inOutCubic = n(this.inOutCubic, this)),
          (this.inOutCirc = n(this.inOutCirc, this)),
          (this.inOutBounce = n(this.inOutBounce, this)),
          (this.inOutBack = n(this.inOutBack, this)),
          (this.outSine = n(this.outSine, this)),
          (this.outQuint = n(this.outQuint, this)),
          (this.outQuart = n(this.outQuart, this)),
          (this.outQuad = n(this.outQuad, this)),
          (this.outExpo = n(this.outExpo, this)),
          (this.outElastic = n(this.outElastic, this)),
          (this.outCubic = n(this.outCubic, this)),
          (this.outCirc = n(this.outCirc, this)),
          (this.outBounce = n(this.outBounce, this)),
          (this.outBack = n(this.outBack, this)),
          (this.inSine = n(this.inSine, this)),
          (this.inQuint = n(this.inQuint, this)),
          (this.inQuart = n(this.inQuart, this)),
          (this.inQuad = n(this.inQuad, this)),
          (this.inExpo = n(this.inExpo, this)),
          (this.inElastic = n(this.inElastic, this)),
          (this.inCubic = n(this.inCubic, this)),
          (this.inCirc = n(this.inCirc, this)),
          (this.inBounce = n(this.inBounce, this)),
          (this.inBack = n(this.inBack, this)),
          (this.linear = n(this.linear, this));
      }
      return (
        (t.prototype.linear = function (t) {
          return t;
        }),
        (t.prototype.inBack = function (t) {
          var e;
          return (e = 1.70158), t * t * ((e + 1) * t - e);
        }),
        (t.prototype.inBounce = function (t) {
          return (
            (t = 1 - t),
            t < 1 / 2.75
              ? 1 - 7.5625 * t * t
              : t < 2 / 2.75
              ? ((t -= 1.5 / 2.75), 1 - (7.5625 * t * t + 0.75))
              : t < 2.5 / 2.75
              ? ((t -= 2.25 / 2.75), 1 - (7.5625 * t * t + 0.9375))
              : ((t -= 2.625 / 2.75), 1 - (7.5625 * t * t + 0.984375))
          );
        }),
        (t.prototype.inCirc = function (t) {
          return t >= 1 ? 1 : -(Math.sqrt(1 - t * t) - 1);
        }),
        (t.prototype.inCubic = function (t) {
          return t * t * t;
        }),
        (t.prototype.inElastic = function (t) {
          var e, i, n;
          return (
            (i = 0.3),
            (e = 1),
            (n = 1.70158),
            0 === t
              ? 0
              : 1 === t
              ? 1
              : (e < 1
                  ? ((e = 1), (n = i / 4))
                  : (n = (i / 6.2838) * Math.asin(1 / e)),
                --t,
                -(e * Math.pow(2, 10 * t) * Math.sin((6.2838 * (t - n)) / i)))
          );
        }),
        (t.prototype.inExpo = function (t) {
          return 0 === t ? 0 : Math.pow(2, 10 * (t - 1));
        }),
        (t.prototype.inQuad = function (t) {
          return t * t;
        }),
        (t.prototype.inQuart = function (t) {
          return t * t * t * t;
        }),
        (t.prototype.inQuint = function (t) {
          return t * t * t * t * t;
        }),
        (t.prototype.inSine = function (t) {
          return -Math.cos(t * (Math.PI / 2)) + 1;
        }),
        (t.prototype.outBack = function (t, e) {
          return (e = e || 1.70158), --t, t * t * ((e + 1) * t + e) + 1;
        }),
        (t.prototype.outBounce = function (t) {
          return t < 1 / 2.75
            ? 7.5625 * t * t
            : t < 2 / 2.75
            ? ((t -= 1.5 / 2.75), 7.5625 * t * t + 0.75)
            : t < 2.5 / 2.75
            ? ((t -= 2.25 / 2.75), 7.5625 * t * t + 0.9375)
            : ((t -= 2.625 / 2.75), 7.5625 * t * t + 0.984375);
        }),
        (t.prototype.outCirc = function (t) {
          return --t, Math.sqrt(1 - t * t);
        }),
        (t.prototype.outCubic = function (t) {
          return --t, t * t * t + 1;
        }),
        (t.prototype.outElastic = function (t, e) {
          var i, n;
          return (
            (n = e || 0.3),
            (i = 1),
            0 === t
              ? 0
              : 1 === t
              ? 1
              : (i < 1
                  ? ((i = 1), (e = n / 4))
                  : (e = (n / 6.2838) * Math.asin(1 / i)),
                i * Math.pow(2, -10 * t) * Math.sin((6.2838 * (t - e)) / n) + 1)
          );
        }),
        (t.prototype.outExpo = function (t) {
          return 1 === t ? 1 : -Math.pow(2, -10 * t) + 1;
        }),
        (t.prototype.outQuad = function (t) {
          return -t * (t - 2);
        }),
        (t.prototype.outQuart = function (t) {
          return --t, 1 - t * t * t * t;
        }),
        (t.prototype.outQuint = function (t) {
          return --t, t * t * t * t * t + 1;
        }),
        (t.prototype.outSine = function (t) {
          return Math.sin(t * (Math.PI / 2));
        }),
        (t.prototype.inOutBack = function (t, e) {
          var i;
          return (
            (e = e || 1.70158),
            (i = 1.525),
            (t *= 2),
            (e *= i),
            t < 1
              ? 0.5 * (t * t * ((e + 1) * t - e))
              : ((t -= 2), 0.5 * (t * t * ((e + 1) * t + e) + 2))
          );
        }),
        (t.prototype.inOutBounce = function (t) {
          return t < 0.5
            ? 0.5 * this.inBounce(2 * t)
            : 0.5 * this.outBounce(2 * t - 1) + 0.5;
        }),
        (t.prototype.inOutCirc = function (t) {
          return (
            (t *= 2),
            t < 1
              ? -0.5 * (Math.sqrt(1 - t * t) - 1)
              : ((t -= 2), 0.5 * (Math.sqrt(1 - t * t) + 1))
          );
        }),
        (t.prototype.inOutCubic = function (t) {
          return (
            (t *= 2),
            t < 1 ? 0.5 * t * t * t : ((t -= 2), 0.5 * (t * t * t + 2))
          );
        }),
        (t.prototype.inOutExpo = function (t) {
          return 0 === t
            ? 0
            : 1 === t
            ? 1
            : ((t *= 2),
              t < 1
                ? 0.5 * Math.pow(2, 10 * (t - 1))
                : (--t, 0.5 * (-Math.pow(2, -10 * t) + 2)));
        }),
        (t.prototype.inOutQuad = function (t) {
          return (
            (t *= 2),
            t < 1 ? 0.5 * t * t * t * t : ((t -= 2), -0.5 * (t * t * t * t - 2))
          );
        }),
        (t.prototype.inOutQuart = function (t) {
          return (
            (t *= 2),
            t < 1 ? 0.5 * t * t * t * t : ((t -= 2), -0.5 * (t * t * t * t - 2))
          );
        }),
        (t.prototype.inOutQuint = function (t) {
          return (
            (t *= 2),
            t < 1
              ? 0.5 * t * t * t * t * t
              : ((t -= 2), 0.5 * (t * t * t * t * t + 2))
          );
        }),
        (t.prototype.inOutSine = function (t) {
          return -0.5 * (Math.cos(Math.PI * t) - 1);
        }),
        t
      );
    })()),
      (t.exports = i);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      };
    (h = i(4)),
      (s = i(1)),
      (a = i(2)),
      (l = i(6)),
      (u = i(3)),
      (o = i(8)),
      (r = i(20)),
      (n = (function () {
        function t() {
          (this.render = c(this.render, this)),
            (this.getTexture = c(this.getTexture, this)),
            (this.init = c(this.init, this)),
            this._capture,
            this._mesh,
            (this._num = 10);
        }
        return (
          (t.prototype.init = function () {
            return (
              (this._capture = new r({ num: 2 })),
              this._capture.init(),
              (this._mesh = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(1, 1),
                new THREE.ShaderMaterial({
                  vertexShader: i(109),
                  fragmentShader: i(111),
                  transparent: !0,
                  uniforms: {
                    tDiffuse: { value: null },
                    horizontal: { value: !0 },
                    ratio: { value: 1 },
                    weight: new THREE.Uniform(new Array(this._num)),
                    resolution: { value: new THREE.Vector2(0, 0) },
                    bg: { value: new THREE.Color() },
                  },
                })
              )),
              this._capture.add(this._mesh)
            );
          }),
          (t.prototype.getTexture = function () {
            return this._capture.texture(1);
          }),
          (t.prototype.render = function (t) {
            var e, i, n, r, s, o, h, l, u, c;
            for (
              l = t.w,
                i = t.h,
                this._capture.size(l, i),
                this._mesh.scale.set(l, i, 1),
                h = this._mesh.material.uniforms,
                h.resolution.value.set(l * a.ratio(), i * a.ratio()),
                h.ratio.value = a.ratio(),
                h.bg.value = t.bg,
                c = [],
                r = h.weight.value.length,
                n = 0,
                o = 0,
                e = t.value;
              n < r;

            )
              (s = 1 + 2 * n),
                (u = Math.exp((-0.5 * (s * s)) / e)),
                c.push(u),
                n > 0 && (u *= 2),
                (o += u),
                n++;
            for (n = 0; n < r; ) (c[n] /= o), n++;
            return (
              (h.weight.value = c),
              (h.tDiffuse.value = t.texture),
              (h.horizontal.value = !0),
              this._capture.render(t.renderer, t.camera, 0),
              (h.tDiffuse.value = this._capture.texture(0)),
              (h.horizontal.value = !1),
              this._capture.render(t.renderer, t.camera, 1)
            );
          }),
          t
        );
      })()),
      (t.exports = n);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _,
      g,
      v = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      y = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) x.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      x = {}.hasOwnProperty;
    (d = i(5)),
      (a = i(12)),
      (h = i(4)),
      (n = i(1)),
      (s = i(2)),
      (f = i(6)),
      (_ = i(3)),
      (u = i(7)),
      (m = i(9)),
      (r = i(8)),
      (l = i(11)),
      (p = i(10)),
      (g = i(13)),
      (o = i(28)),
      (c = (function (t) {
        function e(t) {
          (this._resize = v(this._resize, this)),
            (this._update = v(this._update, this)),
            (this.hide = v(this.hide, this)),
            (this._eShowed = v(this._eShowed, this)),
            (this.show = v(this.show, this)),
            (this.init = v(this.init, this)),
            (t.update = !0),
            e.__super__.constructor.call(this, t),
            this._text,
            this._icon,
            (this._line = []),
            (this._lineInner = []),
            this._textInner,
            this._iconInner,
            (this._loopVal = new g(0)),
            (this._isShow = !1);
        }
        return (
          y(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              (this._text = this.find(".text")),
              (this._icon = this.find(".icon > .mouse")),
              this._line.push(this.find(".icon > .line.is-left")),
              this._line.push(this.find(".icon > .line.is-right")),
              (this._textInner = this.find(".text > .inner")),
              (this._iconInner = this.find(".icon > .mouse > .inner")),
              this.find(".icon > .line > .inner").each(
                (function (t) {
                  return function (e, i) {
                    var n;
                    return (
                      (n = new o({ el: $(i), delay: 1, time: 2 })),
                      n.init(),
                      t._lineInner.push(n)
                    );
                  };
                })(this)
              ),
              this.setVisible(!1)
            );
          }),
          (e.prototype.show = function (t) {
            var e, i, n, r, s, o, a;
            for (
              this.setVisible(!0),
                e = t.delay,
                d.a(
                  this._text,
                  { opacity: [0, 1], letterSpacing: ["0.5em", "0.1em"] },
                  2,
                  e,
                  Power3.easeInOut
                ),
                d.a(
                  this._icon,
                  { opacity: [0, 1], y: [10, 0] },
                  1,
                  e + 0.25,
                  Power1.easeOut
                ),
                s = this._line,
                o = [],
                i = n = 0,
                r = s.length;
              n < r;
              i = ++n
            )
              (a = s[i]),
                o.push(
                  d.a(
                    a,
                    { scaleX: [0, 1] },
                    3,
                    e,
                    Power4.easeInOut,
                    null,
                    null,
                    i === this._line.length - 1 ? this._eShowed : null
                  )
                );
            return o;
          }),
          (e.prototype._eShowed = function () {
            var t, e, i, n, r, s;
            for (
              this._isShow = !0,
                n = this._lineInner,
                r = [],
                t = e = 0,
                i = n.length;
              e < i;
              t = ++e
            )
              (s = n[t]), r.push(s.startLoop({ delay: 0 }));
            return r;
          }),
          (e.prototype.hide = function (t) {
            var e, i, n, r, s, o, a;
            for (
              e = t.delay || 0,
                d.a(
                  this._text,
                  { opacity: 0, letterSpacing: ["0.1em", "0.2em"] },
                  1,
                  e,
                  Power3.easeIn
                ),
                d.a(this._icon, { opacity: 0 }, 1, e + 0.25, Power1.easeOut),
                s = this._line,
                o = [],
                i = n = 0,
                r = s.length;
              n < r;
              i = ++n
            )
              (a = s[i]), o.push(d.a(a, { scaleX: 0 }, 1.5, e, Power4.easeIn));
            return o;
          }),
          (e.prototype._update = function () {
            var t;
            return (
              e.__super__._update.call(this),
              (t = _.map(Math.sin(0.05 * m.cnt), 0, 1, -1, 1)),
              (this._loopVal.val += 0.1 * (t - this._loopVal.val)),
              d.set(this._iconInner, {
                y: _.map(this._loopVal.val, -3, 3, 0, 1),
              }),
              d.set(this._textInner, {
                opacity: _.map(this._loopVal.val, 1, 0.25, 0, 1),
              })
            );
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this);
          }),
          e
        );
      })(a)),
      (t.exports = c);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _,
      g,
      v,
      y,
      x,
      w,
      b,
      T = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      E = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) S.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      S = {}.hasOwnProperty;
    (v = i(5)),
      (h = i(12)),
      (l = i(4)),
      (n = i(1)),
      (a = i(14)),
      (s = i(2)),
      (y = i(6)),
      (_ = i(18)),
      (w = i(3)),
      (m = i(7)),
      (x = i(9)),
      (r = i(8)),
      (f = i(11)),
      (g = i(10)),
      (b = i(13)),
      (o = i(24)),
      (p = i(29)),
      (c = i(89)),
      (d = i(92)),
      (u = (function (t) {
        function e(t) {
          (this._resize = T(this._resize, this)),
            (this.nowItem = T(this.nowItem, this)),
            (this._updateScroll = T(this._updateScroll, this)),
            (this._update = T(this._update, this)),
            (this.resetDetail = T(this.resetDetail, this)),
            (this._eHidedDetail = T(this._eHidedDetail, this)),
            (this.hideItem = T(this.hideItem, this)),
            (this.showItem = T(this.showItem, this)),
            (this._eClickPager = T(this._eClickPager, this)),
            (this._eClickPager2 = T(this._eClickPager2, this)),
            (this._eMouseOutPager = T(this._eMouseOutPager, this)),
            (this._eMouseOverPager = T(this._eMouseOverPager, this)),
            (this._eClickClose = T(this._eClickClose, this)),
            (this._eMouseOutAllArea = T(this._eMouseOutAllArea, this)),
            (this._eMouseOverAllArea = T(this._eMouseOverAllArea, this)),
            (this._eTouchEnd = T(this._eTouchEnd, this)),
            (this._eTouchStart = T(this._eTouchStart, this)),
            (this.init = T(this.init, this)),
            (t.update = !0),
            (t.resize = !0),
            e.__super__.constructor.call(this, t),
            (this._usedata = t.usedata),
            (this._pageId = t.page),
            this._itemParent,
            (this._itemParentPos = new f()),
            (this._item = []),
            (this._touchStartItemPos = new f()),
            (this._showRate = new b(0)),
            (this._showRate2 = new b(0)),
            (this._mv = t.mv),
            this._closeBtn,
            this._scrollIcon,
            this._allarea,
            (this._isScroll = !1),
            this._domHeight,
            (this._bufHeight = 0),
            (this._totalItemHeight = 100),
            (this._nowItemKey = 0);
        }
        return (
          E(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              this.find(".p-pf_detail_pager > .item")
                .on("mouseover", this._eMouseOverPager)
                .on("mouseout", this._eMouseOutPager)
                .on("click", this._eClickPager2),
              (this._closeBtn = new o({
                el: this.find(".p-pf_detail_close"),
                isLoop: !0,
              })),
              this._closeBtn.init(),
              this._closeBtn.el().on("click", this._eClickClose),
              (this._allarea = this.find(".p-pf_detail_allarea")),
              this._allarea
                .on("click", this._eClickClose)
                .on("mouseover", this._eMouseOverAllArea)
                .on("mouseout", this._eMouseOutAllArea),
              (this._scrollIcon = new d({
                el: this.find(".p-pf_detail_scroll"),
              })),
              this._scrollIcon.init(),
              this.find(".p-pf_detail_items > .item").each(
                (function (t) {
                  return function (e, i) {
                    var n;
                    return (
                      (n = new c({ el: $(i) })),
                      n.init(),
                      (n.onClickClose = t._eClickClose),
                      (n.onClickPager = t._eClickPager),
                      t._item.push(n)
                    );
                  };
                })(this)
              ),
              (this._itemParent = this.find(".p-pf_detail_items")),
              (this._domHeight = $(".js-height")),
              this.setActive(!1),
              a.onTouchStart.push(this._eTouchStart),
              a.onTouchEnd.push(this._eTouchEnd),
              this._resize()
            );
          }),
          (e.prototype._eTouchStart = function () {
            return (this._touchStartItemPos.y = this._itemParentPos.y);
          }),
          (e.prototype._eTouchEnd = function () {}),
          (e.prototype._eMouseOverAllArea = function (t) {
            return router.mouse.setMode(y.MOUSE.PF);
          }),
          (e.prototype._eMouseOutAllArea = function (t) {
            return router.mouse.setMode(y.MOUSE.NORMAL);
          }),
          (e.prototype._eClickClose = function (t) {
            return this._closeBtn.el().hasClass("is-movepf")
              ? router.move({ nextPageId: y.PAGE.PORTFOLIO })
              : (s.clickable(!1),
                router.setURL({ pageId: y.PAGE.PORTFOLIO }),
                router.transition.start({
                  delay: 0,
                  onComplete: (function (t) {
                    return function () {
                      return (
                        t.setActive(!1),
                        t._closeBtn.hide(),
                        t._mv.closeDetail(),
                        (l.isDetail = !1),
                        router.transition.end({
                          time: 1,
                          delay: 0.5,
                          onComplete: function () {
                            return s.clickable(!0);
                          },
                        })
                      );
                    };
                  })(this),
                }));
          }),
          (e.prototype._eMouseOverPager = function (t) {}),
          (e.prototype._eMouseOutPager = function (t) {}),
          (e.prototype._eClickPager2 = function (t) {
            var e;
            return (
              (e = Number($(t.currentTarget).attr("data-id"))),
              this._eClickPager({ key: e })
            );
          }),
          (e.prototype._eClickPager = function (t) {
            return (
              s.clickable(!1),
              this._mv.getDetail().change({ key: t.key }),
              this.hideItem({ onComplete: this._eHidedDetail })
            );
          }),
          (e.prototype.showItem = function (t) {
            var e, i, r, o, a, h;
            for (
              n.IS_SIMPLE && $("body").addClass("is-useDefaultScroll"),
                router.setURL({
                  pageId: y.PAGE.PORTFOLIO_DETAIL,
                  workId: t.workId,
                  title:
                    this._usedata.get(t.workId).title +
                    " | Rand |  逾櫁ｰｷ 逶ｴ蠎� / NAOHIRO KAMIYA",
                }),
                router.setHeaderType(y.HEADER.DETAIL),
                l.isDetail = !0,
                a = this._item,
                e = r = 0,
                o = a.length;
              r < o;
              e = ++r
            )
              (h = a[e]),
                h.workId === t.workId
                  ? (h.show(), (this._nowItemKey = e))
                  : h.hide();
            return (
              (this._itemParentPos.y = 0),
              (this._isScroll = !0),
              this._domHeight.removeClass("is-none"),
              s.clickable(!0),
              this.setActive(!0),
              (i = s.isXS() && n.IS_SP && !n.IS_SIMPLE),
              i && (this._itemParentPos.y = 0.2 * s.sh()),
              v.a(this._showRate, { val: [0, 1] }, 0.5, 0, Power4.easeInOut),
              v.a(this._showRate2, { val: [0, 1] }, 1, 0, Power3.easeInOut),
              this._updateScroll(),
              this._closeBtn.show({ delay: 0 }),
              s.isXS()
                ? _.move({ tg: s.sh() - s.r(160), delay: 0 })
                : _.move({ tg: 0.5 * s.sh(), delay: 0, duration: 0.5 })
            );
          }),
          (e.prototype.hideItem = function (t) {
            return v.a(
              this._showRate,
              { val: [1, 0] },
              0.5,
              0,
              Power2.easeInOut,
              null,
              null,
              t.onComplete
            );
          }),
          (e.prototype._eHidedDetail = function () {
            return (
              $("body").removeClass("is-useDefaultScroll"),
              (l.isDetail = !1),
              (l.isFixDetailInfo = !1),
              (this._isScroll = !1),
              _.set(0),
              this._domHeight.addClass("is-none")
            );
          }),
          (e.prototype.resetDetail = function () {
            return this.setActive(!1), this._eHidedDetail();
          }),
          (e.prototype._update = function () {
            if (
              (e.__super__._update.call(this),
              this._isScroll && !l.isTransition)
            )
              return this._updateScroll();
          }),
          (e.prototype._updateScroll = function () {
            var t, e, i, r, o, h, u;
            return (
              (o = s.sh()),
              (t = s.isXS() && n.IS_SP && !n.IS_SIMPLE),
              x.cnt % 10 === 0 &&
                (w.isIE()
                  ? (this._totalItemHeight = this.nowItem().el().height() + o)
                  : (this._totalItemHeight = this._itemParent.height() + o)),
              this._bufHeight !== o &&
                ((this._bufHeight = o),
                t
                  ? this._itemParent.css({ marginTop: 0 })
                  : this._itemParent.css({ marginTop: o })),
              t
                ? this._domHeight.css({ top: 0 })
                : this._domHeight.css({ top: this._totalItemHeight }),
              (r = _.val),
              (u = (r / this._totalItemHeight) * -this._totalItemHeight),
              s.isXS() && r >= s.r(30)
                ? (l.isFixDetailInfo = !0)
                : (l.isFixDetailInfo = !1),
              t ||
                (n.IS_SIMPLE
                  ? (this._itemParentPos.y = 0)
                  : (this._itemParentPos.y +=
                      0.2 * (u - this._itemParentPos.y))),
              t &&
                ((i = -this._totalItemHeight + 2 * o),
                (e = 0.2 * o),
                a.isTouch === !1
                  ? (this._itemParentPos.y += 1 * a.moveFollow.y)
                  : (this._itemParentPos.y =
                      this._touchStartItemPos.y - a.moveDist.y),
                (h = 0.125),
                this._itemParentPos.y > e &&
                  (this._itemParentPos.y += (e - this._itemParentPos.y) * h),
                this._itemParentPos.y < i &&
                  (this._itemParentPos.y += (i - this._itemParentPos.y) * h),
                (this._itemParentPos.y += w.mix(
                  0.75 * o,
                  0,
                  this._showRate2.val
                ))),
              v.set(this._itemParent, {
                y: this._itemParentPos.y,
                opacity: w.mix(0, 1, this._showRate.val),
              }),
              this.nowItem().updateRate(
                Math.abs(this._itemParentPos.y) / (this._totalItemHeight - o)
              ),
              r > 0.25 * o
                ? this._scrollIcon.hide({})
                : this._scrollIcon.show({})
            );
          }),
          (e.prototype.nowItem = function () {
            return this._item[this._nowItemKey];
          }),
          (e.prototype._resize = function () {
            var t;
            return (
              e.__super__._resize.call(this),
              (t = s.isXS() && n.IS_SP && !n.IS_SIMPLE),
              t
                ? this._itemParent.css({ marginTop: 0 })
                : this._itemParent.css({ marginTop: s.sh() }),
              this._closeBtn.el().css({ top: s.sh() - s.r(50) }),
              (this._scrollIcon.isUpdate = s.isLG())
            );
          }),
          e
        );
      })(h)),
      (t.exports = u);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _ = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      g = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) v.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      v = {}.hasOwnProperty;
    (p = i(5)),
      (o = i(12)),
      (a = i(4)),
      (n = i(1)),
      (s = i(2)),
      (d = i(6)),
      (f = i(3)),
      (l = i(7)),
      (r = i(8)),
      (h = i(11)),
      (u = i(10)),
      (m = i(13)),
      (c = (function (t) {
        function e(t) {
          (this._resize = _(this._resize, this)),
            (this._update = _(this._update, this)),
            (this.setTypeDeactive = _(this.setTypeDeactive, this)),
            (this.setTypeActive = _(this.setTypeActive, this)),
            (this.hide = _(this.hide, this)),
            (this.show = _(this.show, this)),
            (this._eClick = _(this._eClick, this)),
            (this._eRollOut = _(this._eRollOut, this)),
            (this._eRollOver = _(this._eRollOver, this)),
            (this.init = _(this.init, this)),
            (t.update = !0),
            e.__super__.constructor.call(this, t),
            (this.pageId = d.PAGE.TOP),
            (this.itemId = t.itemId),
            this._text,
            (this.rate = 0),
            (this._lineSize = 0),
            (this._isOver = !1),
            (this._hoverRate = new m(0)),
            this.onClick,
            this.onRollOver,
            this.onRollOut;
        }
        return (
          g(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              (this._text = this.find("> .text")),
              n.IS_PC
                ? this.el()
                    .on("mouseover", this._eRollOver)
                    .on("mouseout", this._eRollOut)
                    .on("click", this._eClick)
                : this.el().on("click", this._eClick),
              p.set(this.el(), { opacity: 0 })
            );
          }),
          (e.prototype._eRollOver = function (t) {
            if (
              ((this._isOver = !0),
              p.a(this._hoverRate, { val: 1 }, 0.5, 0, Power1.easeOut),
              null != this.onRollOver)
            )
              return this.onRollOver(this);
          }),
          (e.prototype._eRollOut = function (t) {
            if (
              ((this._isOver = !1),
              p.a(this._hoverRate, { val: 0 }, 0.5, 0, Power1.easeOut),
              null != this.onRollOut)
            )
              return this.onRollOut(this);
          }),
          (e.prototype._eClick = function (t) {
            if (null != this.onClick) return this.onClick(this);
          }),
          (e.prototype.show = function (t) {
            var e, i;
            return (
              (e = t.delay),
              (i = Power2.easeInOut),
              p.a(this.el(), { opacity: [0, 1], x: [s.r(-20), 0] }, 1, e, i)
            );
          }),
          (e.prototype.hide = function (t) {}),
          (e.prototype.setTypeActive = function (t) {
            if ((this.addClass("is-active"), null != t.onComplete))
              return t.onComplete();
          }),
          (e.prototype.setTypeDeactive = function (t) {
            return this.removeClass("is-active");
          }),
          (e.prototype._update = function () {
            var t;
            if ((e.__super__._update.call(this), router.isPage(this.pageId)))
              return (
                (t = f.map(this.rate, 0, 1, 0, 1)),
                (this._lineSize += 0.1 * (t - this._lineSize)),
                p.set(this._text, {
                  x: f.map(this._lineSize, 0, s.r(-10), 0, 1),
                  opacity: f.mix(
                    f.map(this._lineSize, 0.3, 1, 0, 1),
                    1,
                    this._hoverRate.val
                  ),
                })
              );
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this);
          }),
          e
        );
      })(o)),
      (t.exports = c);
  },
  function (t, e) {
    t.exports =
      "#define GLSLIFY 1\n//\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_1_0(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289_1_0(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute_1_1(vec3 x) {\n  return mod289_1_0(((x*34.0)+1.0)*x);\n}\n\nfloat snoise_1_2(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289_1_0(i); // Avoid truncation effects in permutation\n  vec3 p = permute_1_1( permute_1_1( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\n\n\n\nuniform sampler2D tDiffuse;\nuniform sampler2D tMask;\nuniform bool isEtc;\nuniform float time;\nuniform bool useMask;\nuniform float noise;\nuniform vec2 resolution;\nuniform vec2 ripCenter;\nuniform float wave;\nuniform float range;\nuniform float power;\nuniform bool isRipple;\n\nvarying vec2 vUv;\n\n\nfloat map(float value, float beforeMin, float beforeMax, float afterMin, float afterMax) {\n  return afterMin + (afterMax - afterMin) * ((value - beforeMin) / (beforeMax - beforeMin));\n}\n\n\n// 豕｢邏欺nvec2 ripple(vec2 center, float wave, float range, float strength) {\n\n  vec2 cPos = vec2(gl_FragCoord) - resolution * 0.5;\n  cPos -= center * resolution * 0.5;\n\n  float cLength = distance(cPos, vec2(0.0));\n\n  float v = min(resolution.x, resolution.y) * 1.0;\n  float k = map(cLength, wave * v, 0.0, 0.0, range * v);\n  vec2 offset = cPos / cLength * sin(cLength * strength - time * 0.1) * k;\n\n  return vUv + offset * (1.0 / resolution);\n\n}\n\n\nvoid main(void) {\n\n  // float n = snoise2(time + vUv * offset.x) * offset.y;\n  // vec2 uv = vUv + vec2(n * addNoise.x, n * addNoise.y) * noisePower;\n  // vec2 uv = vUv;\n\n\n  vec2 uv;\n  if(isRipple) {\n    uv = ripple(ripCenter, wave * 0.0001, range * 0.0000001 * power, power * 0.1);\n  } else {\n    uv = vUv;\n  }\n\n  vec4 dest = texture2D(tDiffuse, uv);\n\n\n  if(useMask) {\n    vec4 mask = texture2D(tMask, uv);\n    if(isEtc) {\n      dest = mask;\n    } else {\n      mask.rgb *= 1.01;\n      dest.a *= 1.0 - mask.r;\n      // dest.a *= mask.a;\n    }\n  }\n\n  gl_FragColor = dest;\n\n}\n";
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _,
      g,
      v,
      y,
      x,
      w,
      b,
      T,
      E,
      S = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      M = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) C.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      C = {}.hasOwnProperty;
    (x = i(5)),
      (f = i(12)),
      (_ = i(4)),
      (u = i(1)),
      (p = i(2)),
      (w = i(6)),
      (d = i(14)),
      (y = i(18)),
      (m = i(25)),
      (l = i(79)),
      (T = i(3)),
      (v = i(7)),
      (b = i(9)),
      (c = i(8)),
      (g = i(11)),
      (r = i(53)),
      (E = i(13)),
      (s = i(43)),
      (o = i(44)),
      (a = i(45)),
      (n = (function (t) {
        function e(t) {
          (this._resize = S(this._resize, this)),
            (this._updateScroll = S(this._updateScroll, this)),
            (this._eWheel = S(this._eWheel, this)),
            (this._update = S(this._update, this)),
            (this.end = S(this.end, this)),
            (this.show = S(this.show, this)),
            (this.init = S(this.init, this)),
            (t.pageId = w.PAGE.ABOUT),
            e.__super__.constructor.call(this, t),
            this._itemParent,
            (this._itemParentPos = new g()),
            (this._showRate = new E(0)),
            (this._isScroll = !1),
            this._domHeight,
            this._gl,
            (this._block = []),
            this._map,
            this._morph,
            this._skew,
            this._ps,
            (this.y = 0);
        }
        return (
          M(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              (this._itemParent = $(".p-about__content")),
              (this._domHeight = $(".js-height")),
              (this._isScroll = !0),
              (this._gl = new r({
                page: this,
                el: this.find("#contact_link"),
              })),
              $(".js-block").each(
                (function (t) {
                  return function (e, i) {
                    return (
                      (t._block[e] = new l({ el: $(i) })), t._block[e].init()
                    );
                  };
                })(this)
              ),
              (this._map = new s({ el: $("#js-access_map") })),
              this._map.init(),
              (this._skew = new a({ el: $(".js-skew") }))
            );
          }),
          (e.prototype.show = function (t) {
            var i, n, r, s;
            for (
              e.__super__.show.call(this, t),
                d.isForceCancel = !1,
                null == this._ps ||
                  T.isSafari() ||
                  T.isSP() ||
                  (this._ps.destroy(), (this._ps = null)),
                $(".p-about").addClass("is-loaded"),
                T.isSafari() ||
                  T.isSP() ||
                  (this._ps = new PerfectScrollbar("html", {
                    minScrollbarLength: 360,
                  })),
                this._itemParentPos.y = 0,
                y.set(0),
                T.isSafari() ||
                  T.isSP() ||
                  $(".ps__rail-y").removeClass("is-end"),
                d.useSwipe = !1,
                null != t.onStart && t.onStart(),
                null != t.onComplete && t.onComplete(),
                this._skew.init(),
                this._gl.init(),
                s = [],
                i = n = 0,
                r = this._block.length - 1;
              0 <= r ? n <= r : n >= r;
              i = 0 <= r ? ++n : --n
            )
              s.push(this._block[i].show());
            return s;
          }),
          (e.prototype.end = function () {
            if (
              (e.__super__.end.call(this),
              $(".ps__rail-y").addClass("is-end"),
              null != this._ps)
            )
              return this._ps.destroy(), (this._ps = null);
          }),
          (e.prototype._update = function () {
            return e.__super__._update.call(this), this._skew._update();
          }),
          (e.prototype._eWheel = function (t) {
            if (router.isPage(this.pageId) && !_.openMenu)
              return (
                (this.y = t.originalEvent.deltaY),
                T.isWin() && T.isFF() && (this.y *= 10),
                (this.y = this.y / 150)
              );
          }),
          (e.prototype._updateScroll = function () {
            var t, e;
            return (
              (t = y.val),
              (e = (t / (h - 0 * p.sh())) * -h),
              (this._itemParentPos.y += 0.055 * (e - this._itemParentPos.y)),
              x.set(this._itemParent, { y: this._itemParentPos.y })
            );
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this), this._skew._resize();
          }),
          e
        );
      })(m)),
      (t.exports = n);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _ = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      g = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) v.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      v = {}.hasOwnProperty;
    (d = i(5)),
      (a = i(12)),
      (h = i(4)),
      (r = i(1)),
      (o = i(2)),
      (f = i(6)),
      (m = i(3)),
      (u = i(7)),
      (s = i(8)),
      (l = i(11)),
      (c = i(10)),
      (p = i(22)),
      (n = (function (t) {
        function e(t) {
          (this._resize = _(this._resize, this)),
            (this._update = _(this._update, this)),
            (this.show = _(this.show, this)),
            (this.init = _(this.init, this)),
            (t.resize = !0),
            e.__super__.constructor.call(this, t),
            this._map,
            this._iconUrl,
            this._marker;
        }
        return (
          g(e, t),
          (e.prototype.init = function () {
            var t, i, n, r, s, a, h;
            return (
              e.__super__.init.call(this),
              (t = this.el().attr("data-latlng").split(",")),
              (i = new google.maps.LatLng(Number(t[0]), Number(t[1]))),
              (r = new google.maps.LatLng(Number(t[0]) - 0.0045, Number(t[1]))),
              (h = this.el().attr("data-zoom")),
              (h = null == h ? 14 : Number(h)),
              (this._map = new google.maps.Map(
                document.getElementById("js-access_map"),
                { center: i, scrollwheel: !1, zoom: h, disableDefaultUI: !0 }
              )),
              (n = o.isXS() ? 1.6 : 1),
              (s = new google.maps.Size(127 * n, 125 * n)),
              (this._iconUrl = this.el().attr("data-icon")),
              (this._marker = new google.maps.Marker({
                position: r,
                map: this._map,
                icon: { url: this._iconUrl, scaledSize: s },
              })),
              this._marker.addListener(
                "click",
                (function (t) {
                  return function () {
                    return window.open(
                      "https://goo.gl/maps/2EUD7q2Kr1YKrJXy7",
                      "_blank"
                    );
                  };
                })(this)
              ),
              (a = [
                {
                  elementType: "geometry.fill",
                  stylers: [{ saturation: -100 }],
                },
                {
                  featureType: "administrative.country",
                  elementType: "geometry.fill",
                  stylers: [{ visibility: "simplified" }],
                },
                {
                  featureType: "administrative.land_parcel",
                  stylers: [{ visibility: "off" }],
                },
                {
                  featureType: "administrative.land_parcel",
                  elementType: "geometry.fill",
                  stylers: [{ color: "#ffeb3b" }],
                },
                {
                  featureType: "administrative.land_parcel",
                  elementType: "labels.text.stroke",
                  stylers: [{ color: "#ffeb3b" }, { visibility: "on" }],
                },
                {
                  featureType: "administrative.locality",
                  elementType: "labels.text.fill",
                  stylers: [{ color: "#636363" }],
                },
                {
                  featureType: "administrative.locality",
                  elementType: "labels.text.stroke",
                  stylers: [{ visibility: "off" }],
                },
                {
                  featureType: "administrative.neighborhood",
                  stylers: [{ visibility: "off" }],
                },
                {
                  featureType: "administrative.province",
                  elementType: "labels.text.fill",
                  stylers: [{ color: "#5c5c5c" }],
                },
                {
                  featureType: "administrative.province",
                  elementType: "labels.text.stroke",
                  stylers: [{ visibility: "off" }],
                },
                {
                  featureType: "landscape.man_made",
                  elementType: "geometry.fill",
                  stylers: [{ color: "#f4f4f4" }],
                },
                {
                  featureType: "landscape.man_made",
                  elementType: "geometry.stroke",
                  stylers: [{ color: "#f4f4f4" }],
                },
                {
                  featureType: "poi",
                  elementType: "labels.text",
                  stylers: [{ visibility: "off" }],
                },
                {
                  featureType: "poi.business",
                  stylers: [{ visibility: "off" }],
                },
                {
                  featureType: "poi.medical",
                  elementType: "labels.icon",
                  stylers: [{ visibility: "off" }],
                },
                {
                  featureType: "poi.park",
                  elementType: "geometry.fill",
                  stylers: [{ color: "#e1e1e1" }],
                },
                {
                  featureType: "poi.park",
                  elementType: "labels.icon",
                  stylers: [{ visibility: "off" }],
                },
                {
                  featureType: "poi.park",
                  elementType: "labels.text",
                  stylers: [{ visibility: "off" }],
                },
                {
                  featureType: "poi.school",
                  elementType: "labels.icon",
                  stylers: [{ visibility: "off" }],
                },
                {
                  featureType: "road",
                  elementType: "labels",
                  stylers: [{ visibility: "off" }],
                },
                {
                  featureType: "road.arterial",
                  elementType: "geometry.stroke",
                  stylers: [{ visibility: "off" }],
                },
                {
                  featureType: "road.highway",
                  elementType: "geometry.fill",
                  stylers: [{ color: "#d4d4d4" }],
                },
                {
                  featureType: "road.highway",
                  elementType: "geometry.stroke",
                  stylers: [{ color: "#d4d4d4" }],
                },
                {
                  featureType: "road.local",
                  elementType: "geometry.fill",
                  stylers: [{ visibility: "off" }],
                },
                {
                  featureType: "road.local",
                  elementType: "geometry.stroke",
                  stylers: [{ visibility: "off" }],
                },
                {
                  featureType: "transit.line",
                  elementType: "geometry.fill",
                  stylers: [{ color: "#dcdcdc" }],
                },
                {
                  featureType: "transit.line",
                  elementType: "geometry.stroke",
                  stylers: [{ color: "#e1e1e1" }],
                },
                {
                  featureType: "transit.line",
                  elementType: "labels.text.fill",
                  stylers: [{ color: "#616161" }],
                },
                {
                  featureType: "transit.line",
                  elementType: "labels.text.stroke",
                  stylers: [{ visibility: "off" }],
                },
                {
                  featureType: "transit.station",
                  elementType: "labels.text",
                  stylers: [{ color: "#515151" }, { visibility: "simplified" }],
                },
                {
                  featureType: "transit.station.rail",
                  elementType: "labels.icon",
                  stylers: [{ saturation: 45 }, { lightness: 15 }],
                },
                {
                  featureType: "transit.station.rail",
                  elementType: "labels.text.fill",
                  stylers: [{ color: "#636363" }],
                },
                {
                  featureType: "water",
                  elementType: "geometry.fill",
                  stylers: [{ color: "#c7c7c7" }],
                },
                {
                  featureType: "water",
                  elementType: "geometry.stroke",
                  stylers: [{ visibility: "off" }],
                },
                {
                  featureType: "water",
                  elementType: "labels.text",
                  stylers: [{ visibility: "off" }],
                },
              ]),
              this._map.setOptions({ styles: a }),
              this._resize()
            );
          }),
          (e.prototype.show = function (t) {
            return e.__super__.show.call(this, t);
          }),
          (e.prototype._update = function () {
            return e.__super__._update.call(this);
          }),
          (e.prototype._resize = function () {
            var t;
            if (
              (e.__super__._resize.call(this),
              o.isLG()
                ? (this._map.panTo(
                    new google.maps.LatLng(35.169846, 136.963397)
                  ),
                  this._map.setZoom(14))
                : (this._map.panTo(
                    new google.maps.LatLng(35.163509, 136.98971)
                  ),
                  this._map.setZoom(14)),
              null != this._marker)
            )
              return (
                (t = o.isXS() ? 1.6 : 1),
                this._marker.setIcon({
                  url: this._iconUrl,
                  scaledSize: new google.maps.Size(
                    o.r(o.val(125 * t, 125 * t)),
                    o.r(o.val(125 * t, 125 * t))
                  ),
                })
              );
          }),
          e
        );
      })(a)),
      (t.exports = n);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _ = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      g = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) v.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      v = {}.hasOwnProperty;
    (d = i(5)),
      (a = i(12)),
      (h = i(4)),
      (r = i(1)),
      (o = i(2)),
      (f = i(6)),
      (m = i(3)),
      (u = i(7)),
      (s = i(8)),
      (l = i(11)),
      (c = i(10)),
      (p = i(22)),
      (n = (function (t) {
        function e(t) {
          (this._resize = _(this._resize, this)),
            (this._update = _(this._update, this)),
            (this._eMouseOut = _(this._eMouseOut, this)),
            (this._eMouseOver = _(this._eMouseOver, this)),
            (this._pause = _(this._pause, this)),
            (this._start = _(this._start, this)),
            (this.init = _(this.init, this)),
            (t.resize = !0),
            e.__super__.constructor.call(this, t),
            (this._tl1 = new TimelineMax({
              repeat: -1,
              repeatDelay: 0,
              yoyo: !0,
            })),
            (this._wave1 = document.getElementById("wave_bg")),
            (this._wave1End = document.getElementById("wave_end_bg")),
            (this._wave1Hover = document.getElementById("wave_hover_bg")),
            (this._tl2 = new TimelineMax({
              repeat: -1,
              repeatDelay: 0,
              yoyo: !0,
            })),
            (this._wave2 = document.getElementById("wave_bg-2")),
            (this._wave2End = document.getElementById("wave_end_bg-2")),
            (this._wave2Hover = document.getElementById("wave_hover_bg-2")),
            (this._tl3 = new TimelineMax({
              repeat: -1,
              repeatDelay: 0,
              yoyo: !0,
            })),
            (this._wave3 = document.getElementById("wave_bg-3")),
            (this._wave3End = document.getElementById("wave_end_bg-3")),
            (this._wave3Hover = document.getElementById("wave_hover_bg-3")),
            this._tl1
              .to(this._wave1, 3, { morphSVG: this._wave1End })
              .to(this._wave1, 5, { morphSVG: this._wave1 }),
            this._tl2
              .to(this._wave2, 2, { morphSVG: this._wave2End })
              .to(this._wave2, 6, { morphSVG: this._wave2 }),
            this._tl3
              .to(this._wave3, 6, { morphSVG: this._wave3End })
              .to(this._wave3, 4, { morphSVG: this._wave3 }),
            this._pause(),
            (this._status = { mouseOn: !1 });
        }
        return (
          g(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              this._resize(),
              this.el()
                .on("mouseenter", this._eMouseOver)
                .on("mouseleave", this._eMouseOut)
            );
          }),
          (e.prototype._start = function (t) {
            if (!this._status.mouseOn)
              return (
                this._tl1.paused() && this._tl1.resume(),
                this._tl2.paused() && this._tl2.resume(),
                this._tl3.paused() ? this._tl3.resume() : void 0
              );
          }),
          (e.prototype._pause = function (t) {
            if (
              (this._tl1.isActive() && this._tl1.pause(),
              this._tl2.isActive() && this._tl2.pause(),
              this._tl3.isActive())
            )
              return this._tl3.pause();
          }),
          (e.prototype._eMouseOver = function (t) {
            if (((this._status.mouseOn = !0), !o.isXS()))
              return (
                TweenMax.to(this._wave1, 1, {
                  morphSVG: this._wave1Hover,
                  ease: Power2.easeInOut,
                  onComplete: (function (t) {
                    return function () {
                      if (t._tl1.isActive()) return t._tl1.pause();
                    };
                  })(this),
                }),
                TweenMax.to(this._wave2, 0.85, {
                  morphSVG: this._wave2Hover,
                  ease: Power2.easeInOut,
                  onComplete: (function (t) {
                    return function () {
                      if (t._tl2.isActive()) return t._tl2.pause();
                    };
                  })(this),
                }),
                TweenMax.to(this._wave3, 0.7, {
                  morphSVG: this._wave3Hover,
                  ease: Power2.easeInOut,
                  onComplete: (function (t) {
                    return function () {
                      if (t._tl3.isActive()) return t._tl3.pause();
                    };
                  })(this),
                })
              );
          }),
          (e.prototype._eMouseOut = function (t) {
            return (
              TweenLite.to(this._wave1, 1, {
                morphSVG: this._wave1,
                ease: Power2.easeInOut,
                onComplete: (function (t) {
                  return function () {
                    if (t._tl1.paused()) return t._tl1.time(0), t._tl1.resume();
                  };
                })(this),
              }),
              TweenLite.to(this._wave2, 0.85, {
                morphSVG: this._wave2,
                ease: Power2.easeInOut,
                onComplete: (function (t) {
                  return function () {
                    if (t._tl2.paused()) return t._tl2.time(0), t._tl2.resume();
                  };
                })(this),
              }),
              TweenLite.to(this._wave3, 0.7, {
                morphSVG: this._wave3,
                ease: Power2.easeInOut,
                onComplete: (function (t) {
                  return function () {
                    if (t._tl3.paused()) return t._tl3.time(0), t._tl3.resume();
                  };
                })(this),
              }),
              (this._status.mouseOn = !1)
            );
          }),
          (e.prototype._update = function () {
            return e.__super__._update.call(this);
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this);
          }),
          e
        );
      })(a)),
      (t.exports = n);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _ = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      g = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) v.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      v = {}.hasOwnProperty;
    (d = i(5)),
      (a = i(12)),
      (h = i(4)),
      (r = i(1)),
      (o = i(2)),
      (f = i(6)),
      (m = i(3)),
      (u = i(7)),
      (s = i(8)),
      (l = i(11)),
      (c = i(10)),
      (p = i(22)),
      (n = (function (t) {
        function e(t) {
          (this._fpsrate = _(this._fpsrate, this)),
            (this._resize = _(this._resize, this)),
            (this._update = _(this._update, this)),
            (this._scroll = _(this._scroll, this)),
            (this.show = _(this.show, this)),
            (this.init = _(this.init, this)),
            e.__super__.constructor.call(this, t),
            (this._skewObj = t.el),
            (this._skewPoint = []),
            (this._skewCount = 0),
            (this._inc = 0),
            (this._nowInc = 0),
            (this._prevInc = 0),
            (this._dir = "next"),
            (this._add = 0.1),
            (this._progress = 0),
            (this._scrolling = !1),
            (this._time = 0),
            (this._lastTime = 0),
            (this._timeRatio = 0),
            (this._dTime = 0),
            (this._FPS_60_SEC = 1e3 / 60),
            (this._skew = 200),
            (this._skewInc = 0),
            (this._loaded = !1);
        }
        return (
          g(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              (this._skewPoint = []),
              (this._skewCount = 0),
              (this._inc = 0),
              (this._nowInc = 0),
              (this._prevInc = -1),
              (this._dir = "next"),
              (this._add = 0.08),
              (this._progress = 0),
              (this._scrolling = !1),
              (this._time = 0),
              (this._lastTime = 0),
              (this._timeRatio = 0),
              (this._dTime = 0),
              (this._FPS_60_SEC = 1e3 / 60),
              (this._skew = 200),
              (this._skewInc = 0),
              (this._delay = 0),
              this._resize(),
              (this._loaded = !0),
              (this._y = 0),
              $(window).on("scroll", this._scroll)
            );
          }),
          (e.prototype.show = function (t) {
            return e.__super__.show.call(this, t);
          }),
          (e.prototype._scroll = function (t) {
            return (
              (this._y = window.pageYOffset),
              (this._inc = this._y),
              (this._scrolling = !0)
            );
          }),
          (e.prototype._update = function () {
            var t, i, n, r;
            if (
              (e.__super__._update.call(this),
              this._loaded && void 0 !== this._inc)
            ) {
              for (
                this._inc > this._prevInc
                  ? (this._dir = "next")
                  : (this._dir = "prev"),
                  this._nowInc += this._add * (this._inc - this._nowInc),
                  this._inc > 10
                    ? "next" === this._dir
                      ? ((this._progress = Math.abs(this._nowInc / this._inc)),
                        (this._skew = Math.min(30 * (1 - this._progress), 15)))
                      : ((this._progress = Math.abs(this._inc / this._nowInc)),
                        (this._skew = -Math.min(30 * (1 - this._progress), 15)))
                    : "prev" === this._dir && this._scrolling
                    ? this._nowInc < 1e3 &&
                      TweenLite.to(this._skewObj, 2, { skewY: 0 })
                    : ((this._progress = 1), (this._skew = 0)),
                  ((this._prevInc > this._nowInc - 0.1 &&
                    "next" === this._dir) ||
                    (this._prevInc < this._nowInc + 0.1 &&
                      "prev" === this._dir)) &&
                    (this._scrolling = !1),
                  this._prevInc = this._nowInc,
                  r = [],
                  t = i = 0,
                  n = this._skewCount;
                0 <= n ? i <= n : i >= n;
                t = 0 <= n ? ++i : --i
              )
                (this._delay = 0),
                  this._skewPoint[t].start < this._inc &&
                  this._skewPoint[t].end > this._inc
                    ? (TweenMax.set(this._skewObj.eq(t), {
                        visibility: "visible",
                      }),
                      this._inc > 10
                        ? r.push(
                            TweenLite.set(this._skewObj.eq(t), {
                              skewY: this._skew,
                            })
                          )
                        : r.push(void 0))
                    : r.push(
                        TweenMax.set(this._skewObj.eq(t), {
                          visibility: "hidden",
                          skewY: 0,
                        })
                      );
              return r;
            }
          }),
          (e.prototype._resize = function () {
            var t, i, n, r, s, o;
            for (
              e.__super__._resize.call(this),
                t = 0,
                o = this._skewObj,
                r = 0,
                s = o.length;
              r < s;
              r++
            )
              (n = o[r]),
                (i = n.getBoundingClientRect()),
                (this._skewPoint[t] = {
                  base: i.top,
                  start: Math.min(0, i.top + this._inc - window.innerHeight),
                  end: i.top + this._inc + window.innerHeight,
                }),
                (t += 1);
            return (this._skewCount = this._skewPoint.length - 1);
          }),
          (e.prototype._fpsrate = function () {
            return (
              (this._lastTime = this._time),
              (this._timeRatio = 1),
              this._lastTime > 0 &&
                ((this._dTime = new Date().getTime() - this._lastTime),
                (this._timeRatio = this._dTime / this._FPS_60_SEC)),
              (this._time = new Date().getTime()),
              this._timeRatio
            );
          }),
          e
        );
      })(a)),
      (t.exports = n);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      };
    (window.$ = i(105)),
      (window.requestAnimationFrame = i(108)),
      (window.THREE = i(123)),
      (window.TweenMax = i(30).TweenMax),
      (window.CustomEase = i(30).CustomEase),
      (window.TimelineMax = i(30).TimelineMax),
      (window.isMobile = i(104)),
      (a = i(4)),
      (h = i(26)),
      (o = i(2)),
      (n = i(1)),
      (r = i(8)),
      (c = i(3)),
      (l = i(7)),
      (u = i(9)),
      (s = (function () {
        function t() {
          (this._resize = p(this._resize, this)),
            (this._update = p(this._update, this)),
            (this.init = p(this.init, this)),
            (this.isJp =
              "ja" ===
              (
                window.navigator.userLanguage ||
                window.navigator.language ||
                window.navigator.browserLanguage
              ).substr(0, 2));
        }
        return (
          (t.prototype.init = function () {
            return (
              (window.main = this),
              (console.warn = (function (t) {
                return function () {};
              })(this)),
              (Number.isNaN =
                Number.isNaN ||
                function (t) {
                  return "number" == typeof t && isNaN(t);
                }),
              isMobile.any
                ? ($("body").addClass("is-sp"),
                  $(".is-hover").removeClass("is-hover"),
                  isMobile.android.device && $("body").addClass("is-android"))
                : $("body").addClass("is-pc"),
              c.isIE() && $("body").addClass("is-ie"),
              c.isFF() && $("body").addClass("is-ff"),
              n.IS_SIMPLE && $("body").addClass("is-simple"),
              $(".js-svgload").each(
                (function (t) {
                  return function (t, e) {
                    var i, n;
                    return (
                      (i = $(e)), (n = i.attr("data-svg")), i.load(n + " svg")
                    );
                  };
                })(this)
              ),
              $(".js-bgimg").each(
                (function (t) {
                  return function (t, e) {
                    var i;
                    return (
                      (i = $(e)),
                      i.css({
                        backgroundImage: "url(" + i.attr("data-img") + ")",
                      })
                    );
                  };
                })(this)
              ),
              "undefined" != typeof history &&
                null !== history &&
                (history.scrollRestoration = "manual"),
              n.IS_WEBGL || $("body").addClass("is-nowebgl"),
              l.add(this._resize, !0),
              u.add(this._update)
            );
          }),
          (t.prototype._update = function () {}),
          (t.prototype._resize = function () {
            var t;
            return (
              (t = window.innerWidth),
              o.setFixSize(),
              o.setEleSize(),
              $(".js-resImg").each(
                (function (t) {
                  return function (t, e) {
                    var i;
                    return (
                      (i = $(e)),
                      o.isXS()
                        ? i.attr("src", i.attr("data-xs"))
                        : i.attr("src", i.attr("data-lg"))
                    );
                  };
                })(this)
              )
            );
          }),
          t
        );
      })()),
      (t.exports = s);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      };
    (p = i(3)),
      (c = i(9)),
      (u = i(6)),
      (s = i(2)),
      (r = i(1)),
      (a = i(4)),
      (l = i(95)),
      (h = i(88)),
      (n = i(42)),
      (o = (function () {
        function t() {
          (this.makePage = d(this.makePage, this)),
            (this.isMakedPage = d(this.isMakedPage, this)),
            (this.init = d(this.init, this)),
            (this.data = []);
        }
        return (
          (t.prototype.init = function () {}),
          (t.prototype.isMakedPage = function (t) {
            return null != this.data[t];
          }),
          (t.prototype.makePage = function (t) {
            var e;
            if (!this.isMakedPage(t)) {
              switch (t) {
                case u.PAGE.TOP:
                  e = new l({ el: $(".p-top") });
                  break;
                case u.PAGE.PORTFOLIO:
                  e = new h({ el: $(".p-pf") });
                  break;
                case u.PAGE.ABOUT:
                  e = new n({ el: $(".p-about") });
              }
              return null != e ? (e.init(), (this.data[t] = e)) : void 0;
            }
          }),
          t
        );
      })()),
      (t.exports = o);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      };
    (n = i(1)),
      (r = i(2)),
      (s = (function () {
        function t(t) {
          (this.getData = o(this.getData, this)),
            (this.init = o(this.init, this)),
            (this._opt = t),
            (this.el = this._opt.el),
            (this.data = []);
        }
        return (
          (t.prototype.init = function () {}),
          (t.prototype.getData = function (t) {}),
          t
        );
      })()),
      (t.exports = s);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _,
      g,
      v,
      y,
      x = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      };
    (y = i(3)),
      (p = i(7)),
      (n = i(1)),
      (r = i(2)),
      (v = i(6)),
      (u = i(4)),
      (f = i(18)),
      (g = i(5)),
      (c = i(48)),
      (o = i(83)),
      (a = i(84)),
      (s = i(81)),
      (m = i(86)),
      (l = i(47)),
      (h = i(73)),
      (_ = i(70)),
      (d = (function () {
        function t() {
          (this.setHeaderType = x(this.setHeaderType, this)),
            (this.getPageUrl = x(this.getPageUrl, this)),
            (this.isPage = x(this.isPage, this)),
            (this.makePfDetail = x(this.makePfDetail, this)),
            (this.getPfDetailId = x(this.getPfDetailId, this)),
            (this.getDefaultPage = x(this.getDefaultPage, this)),
            (this.forceCloseMenu = x(this.forceCloseMenu, this)),
            (this.closeMenu = x(this.closeMenu, this)),
            (this.openMenu = x(this.openMenu, this)),
            (this.endLoading = x(this.endLoading, this)),
            (this.startLoading = x(this.startLoading, this)),
            (this._eError = x(this._eError, this)),
            (this._eHidedTransition = x(this._eHidedTransition, this)),
            (this._eLoadHtmlSuccess = x(this._eLoadHtmlSuccess, this)),
            (this._eCompleteTransition = x(this._eCompleteTransition, this)),
            (this.move = x(this.move, this)),
            (this.setURL = x(this.setURL, this)),
            (this._ePopState = x(this._ePopState, this)),
            (this.endPage = x(this.endPage, this)),
            (this.showPage = x(this.showPage, this)),
            (this.startPage = x(this.startPage, this)),
            (this.makePage = x(this.makePage, this)),
            (this.setDefaultPage = x(this.setDefaultPage, this)),
            (this.setDefaultPfDetailPage = x(
              this.setDefaultPfDetailPage,
              this
            )),
            (this.init = x(this.init, this)),
            (this.nowPage = -1),
            this._page,
            (this._title = []),
            (this._pfDetailData = {}),
            this._mouseIcon,
            this.transition,
            this._loading,
            this._menu,
            this._header,
            this._moveOpt,
            this.mouse;
        }
        return (
          (t.prototype.init = function () {
            return (
              (this._loading = new o({ el: $(".l-loading") })),
              this._loading.init(),
              (this._header = new s({ el: $(".l-header") })),
              (this._header.onClickMenuBtn = this.openMenu),
              this._header.init(),
              (this._mouseIcon = new h({ el: $(".l-mouseIcon") })),
              this._mouseIcon.init(),
              (this.mouse = this._mouseIcon),
              (this._menu = new a({ el: $(".l-menu") })),
              this._menu.init(),
              (this._page = new l()),
              this._page.init(),
              (window.onpopstate = this._ePopState),
              (this.transition = new m({ el: $(".l-transition") })),
              this.transition.init()
            );
          }),
          (t.prototype.setDefaultPfDetailPage = function () {
            return (
              (this.nowPage = v.PAGE.PORTFOLIO),
              $(".l-detaildata").addClass("is-none"),
              this.startLoading({
                isSub: !1,
                onComplete: (function (t) {
                  return function () {
                    return $.ajax(t.getPageUrl(v.PAGE.PORTFOLIO), {
                      type: "GET",
                      timeout: 1e4,
                      datatype: "html",
                      success: function (e) {
                        var i, n, r;
                        return (
                          (i = $($.parseHTML(e))),
                          (r = i.filter("title")[0].innerHTML),
                          (n = i.filter(".l-page")[0].innerHTML),
                          (t._title[v.PAGE.PORTFOLIO] = r),
                          $(".l-page").append(n),
                          t.makePage({ pageId: v.PAGE.PORTFOLIO }),
                          t.startPage({ pageId: v.PAGE.PORTFOLIO }),
                          t._header.show({ delay: 0 }),
                          t.endLoading({
                            isSub: !1,
                            onComplete: function () {
                              return (
                                t.mouse.addHoverEvent(),
                                t.showPage({
                                  pageId: v.PAGE.PORTFOLIO,
                                  delay: 0,
                                  isFastDetail: !0,
                                  detailId: t.getPfDetailId(),
                                  onStart: function () {
                                    return (
                                      t._mouseIcon.show({ delay: 1 }),
                                      t.transition.end({
                                        isFast: !1,
                                        delay: 0.75,
                                        time: 1.5,
                                      })
                                    );
                                  },
                                })
                              );
                            },
                          })
                        );
                      },
                      error: t._eError,
                    });
                  };
                })(this),
              })
            );
          }),
          (t.prototype.setDefaultPage = function () {
            var t, e;
            return (
              (e = this.getDefaultPage()),
              e === v.PAGE.PORTFOLIO_DETAIL
                ? (null == this._title[e] && (this._title[e] = {}),
                  (t = this.getPfDetailId()),
                  (this._title[e][t] = $("title").html()),
                  this.makePfDetail(t, $(".l-detaildata > .item")),
                  void this.setDefaultPfDetailPage())
                : ((this._title[e] = $("title").html()),
                  this.makePage({ pageId: e }),
                  this.startPage({ pageId: e }),
                  this.startLoading({
                    onComplete: (function (t) {
                      return function () {
                        return (
                          $("body").addClass("is-loaded"),
                          t.endLoading({
                            isSub: !1,
                            onComplete: function () {
                              var i;
                              return (
                                (i = 0),
                                e === v.PAGE.TOP && (i = 0.1),
                                t._header.show({ delay: i + 1 }),
                                t.showPage({
                                  pageId: e,
                                  delay: i,
                                  onStart: function () {
                                    return (
                                      t._mouseIcon.show({ delay: 1 }),
                                      t.transition.end({
                                        time: e === v.PAGE.ABOUT ? 0 : 1,
                                        delay: (e === v.PAGE.ABOUT, 0),
                                        isFast: e !== v.PAGE.ABOUT,
                                      })
                                    );
                                  },
                                })
                              );
                            },
                          })
                        );
                      };
                    })(this),
                  }))
            );
          }),
          (t.prototype.makePage = function (t) {
            return this._page.makePage(t.pageId);
          }),
          (t.prototype.startPage = function (t) {
            var e;
            if (
              ((this.nowPage = t.pageId),
              (e = this._page.data[t.pageId]),
              null != e)
            )
              return e.start(t);
          }),
          (t.prototype.showPage = function (t) {
            var e;
            if (
              ((this.nowPage = t.pageId),
              (e = this._page.data[t.pageId]),
              null != e)
            )
              return e.show(t);
          }),
          (t.prototype.endPage = function (t) {
            var e, i, n, r, s, o;
            for (
              r = this._page.data, s = [], e = i = 0, n = r.length;
              i < n;
              e = ++i
            )
              (o = r[e]), null != o ? s.push(o.end(t)) : s.push(void 0);
            return s;
          }),
          (t.prototype._ePopState = function (t) {
            return location.reload(!1);
          }),
          (t.prototype.setURL = function (t) {
            var e;
            if (
              "undefined" != typeof history &&
              null !== history &&
              (t.pageId === v.PAGE.PORTFOLIO_DETAIL
                ? ((document.title = t.title),
                  (e = this.getPageUrl(v.PAGE.PORTFOLIO).replace(
                    "index.html",
                    ""
                  )),
                  (e += t.workId + "/"),
                  history.pushState(e, null, e))
                : ((document.title = this._title[t.pageId]),
                  (e = this.getPageUrl(t.pageId).replace("index.html", "")),
                  history.pushState(e, null, e)),
              "undefined" != typeof gtag && null !== gtag)
            )
              return gtag("config", "UA-120885413-1", {
                page_path: location.pathname,
                page_title: document.title + (n.RELEASE ? "" : "___preview"),
              });
          }),
          (t.prototype.move = function (t) {
            return (
              (this._moveOpt = t),
              r.clickable(!1),
              this.transition.start({
                onComplete: this._eCompleteTransition,
                delay: 0,
              })
            );
          }),
          (t.prototype._eCompleteTransition = function () {
            var t;
            return (
              null != this._moveOpt.onStartLoad && this._moveOpt.onStartLoad(),
              this.forceCloseMenu(),
              this.endPage({ pageId: this.nowPage }),
              (this.nowPage = -1),
              this._mouseIcon.setMode(v.MOUSE.LOADING),
              this._page.isMakedPage(this._moveOpt.nextPageId)
                ? this._eLoadHtmlSuccess()
                : ((t = this.getPageUrl(this._moveOpt.nextPageId)),
                  $.ajax(t, {
                    type: "GET",
                    timeout: 1e4,
                    datatype: "html",
                    success: this._eLoadHtmlSuccess,
                    error: this._eError,
                  }))
            );
          }),
          (t.prototype._eLoadHtmlSuccess = function (t) {
            var e, i, n, s;
            return (
              null != this._moveOpt.onCompleteLoad &&
                this._moveOpt.onCompleteLoad(),
              null != t &&
                ((i = $($.parseHTML(t))),
                (s = i.filter("title")[0].innerHTML),
                (n = i.filter(".l-page")[0].innerHTML),
                (this._title[this._moveOpt.nextPageId] = s),
                $(".l-page").append(n)),
              this._mouseIcon.setMode(v.MOUSE.NORMAL),
              (this.nowPage = this._moveOpt.nextPageId),
              this.mouse.addHoverEvent(),
              (e = 0),
              this._moveOpt.nextPageId !== v.PAGE.ABOUT && (e = 0.2),
              this.makePage({ pageId: this._moveOpt.nextPageId }),
              this.startPage({ pageId: this._moveOpt.nextPageId }),
              this.showPage({
                isPageMove: !0,
                delay: e,
                pageId: this._moveOpt.nextPageId,
                pageOpt: this._moveOpt.pageOpt,
                onStart: (function (t) {
                  return function () {
                    return t.transition.end({
                      time: t._moveOpt.nextPageId !== v.PAGE.ABOUT ? 1 : 2,
                      pageId: t._moveOpt.nextPageId,
                      onComplete: t._eHidedTransition,
                      isFast: t._moveOpt.nextPageId !== v.PAGE.ABOUT,
                    });
                  };
                })(this),
                onComplete: (function (t) {
                  return function () {
                    return r.clickable(!0);
                  };
                })(this),
              }),
              this.setURL({ pageId: this._moveOpt.nextPageId })
            );
          }),
          (t.prototype._eHidedTransition = function () {}),
          (t.prototype._eError = function () {
            return console.log("_eError");
          }),
          (t.prototype.startLoading = function (t) {
            return this._loading.start(t);
          }),
          (t.prototype.endLoading = function (t) {
            return this._loading.end(t);
          }),
          (t.prototype.openMenu = function (t) {
            return u.openMenu
              ? this.closeMenu()
              : (this._menu.show({}), this._header.setMode(v.HEADER.MENU));
          }),
          (t.prototype.closeMenu = function (t) {
            return (
              this._menu.hide({}),
              u.isDetail
                ? this._header.setMode(v.HEADER.DETAIL)
                : this._header.setMode(v.HEADER.NORMAL)
            );
          }),
          (t.prototype.forceCloseMenu = function (t) {
            return this._menu.hideFast(), this._header.setMode(v.HEADER.NORMAL);
          }),
          (t.prototype.getDefaultPage = function () {
            var t;
            return (t = Number($("body").attr("data-page")));
          }),
          (t.prototype.getPfDetailId = function () {
            var t;
            return (t = Number($("body").attr("data-pfdetailid")));
          }),
          (t.prototype.makePfDetail = function (t, e) {
            var i;
            return (
              (i = new c({ detailId: t, el: e })),
              i.init(),
              (this._pfDetailData[t] = i)
            );
          }),
          (t.prototype.isPage = function (t) {
            return this.nowPage === t;
          }),
          (t.prototype.getPageUrl = function (t) {
            return n.URL_PAGE[t];
          }),
          (t.prototype.setHeaderType = function (t) {
            return this._header.setMode(t);
          }),
          t
        );
      })()),
      (t.exports = d);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _,
      g = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      };
    (d = i(5)),
      (o = i(12)),
      (a = i(4)),
      (n = i(1)),
      (s = i(2)),
      (f = i(6)),
      (u = i(18)),
      (_ = i(3)),
      (l = i(7)),
      (m = i(9)),
      (r = i(8)),
      (h = i(11)),
      (c = i(10)),
      (p = (function () {
        function t(t) {
          (this.getNowProgress = g(this.getNowProgress, this)),
            (this._resize = g(this._resize, this)),
            (this.flash = g(this.flash, this)),
            (this._update = g(this._update, this)),
            (this.updateHeight = g(this.updateHeight, this)),
            (this.setTg = g(this.setTg, this)),
            (this.init = g(this.init, this)),
            (this._use = !0),
            this._scrollTg,
            this._heightGuide,
            (this._pos = new h()),
            (this.conData = { width: 0, height: 0 }),
            (this._offset = new h()),
            (this._updateParam = { allHeight: 0, cnt: 0 }),
            (this._elBody = $("body")),
            (this._elWindow = $(window)),
            (this._buffer = 0),
            this.init();
        }
        return (
          (t.prototype.init = function () {
            return (
              (this._use = !n.IS_SIMPLE && n.IS_PC),
              ($(".l-layout_check").length > 0 ||
                "no" === _.getQuery("smooth")) &&
                (this._use = !1),
              this._use &&
                (this._elBody.append('<div class="js-height"></div>'),
                (this._heightGuide = $(".js-height"))),
              m.add(this._update),
              l.add(this._resize, !0)
            );
          }),
          (t.prototype.setTg = function (t) {
            if (this._use)
              return (
                null != this._scrollTg && this._scrollTg.css({ position: "" }),
                (this._scrollTg = t),
                null != this._scrollTg
                  ? (this._scrollTg.css({ position: "fixed" }),
                    this._heightGuide.css({ display: "" }),
                    (this._pos.y = 0),
                    d.set(this._scrollTg, { y: this._pos.y }))
                  : this._heightGuide.css({ display: "none" }),
                this._resize()
              );
          }),
          (t.prototype.updateHeight = function () {
            if (null != this._scrollTg)
              return (this._updateParam.allHeight = this._scrollTg.height());
          }),
          (t.prototype._update = function () {
            var t, e, i, n, r;
            if (((i = u.val), null != this._scrollTg))
              return (
                (n = s.sw()),
                (e = s.sh()),
                this._updateParam.cnt >= 0 &&
                  (this.updateHeight(),
                  this._updateParam.cnt--,
                  (this.conData.height = this._updateParam.allHeight),
                  this._heightGuide.css({ top: this.conData.height })),
                (r = _.map(
                  i,
                  0,
                  -(this.conData.height - e),
                  0,
                  this.conData.height - e
                )),
                (t = 0.1),
                (this._pos.y += (r - this._pos.y) * t),
                d.set(this._scrollTg, { y: this._pos.y })
              );
          }),
          (t.prototype.flash = function () {
            if ((this._resize(), (this._pos.y = 0), null != this._scrollTg))
              return d.set(this._scrollTg, { y: this._pos.y });
          }),
          (t.prototype._resize = function () {
            return (this._updateParam.cnt = 10);
          }),
          (t.prototype.getNowProgress = function () {
            var t;
            return (
              (t = window.innerHeight),
              _.map(u.val, 0, 1, 0, this.conData.height - t)
            );
          }),
          t
        );
      })()),
      (t.exports = new p());
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      };
    (n = i(1)),
      (a = i(5)),
      (r = i(2)),
      (h = i(9)),
      (s = i(7)),
      (o = i(10)),
      (l = i(3)),
      (u = (function () {
        function t() {
          (this._update = c(this._update, this)),
            (this._eWheel = c(this._eWheel, this)),
            (this._init = c(this._init, this)),
            (this.use = !1),
            (this.x = 0),
            (this.y = 0),
            this._init();
        }
        return (
          (t.prototype._init = function () {
            if (n.IS_PC)
              return h.add(this._update), $(window).on("wheel", this._eWheel);
          }),
          (t.prototype._eWheel = function (t) {
            if (this.use && !r.isXS())
              return (
                t.preventDefault(),
                (this.x = t.originalEvent.deltaX),
                (this.y = t.originalEvent.deltaY),
                l.isWin() && l.isFF()
                  ? ((this.x *= 10), (this.y *= 10))
                  : void 0
              );
          }),
          (t.prototype._update = function () {
            var t;
            if (
              ((t = 0.15),
              (this.x += (0 - this.x) * t),
              (this.y += (0 - this.y) * t),
              Math.abs(0 - this.x) < 0.1 && (this.x = 0),
              Math.abs(0 - this.y) < 0.1)
            )
              return (this.y = 0);
          }),
          t
        );
      })()),
      (t.exports = new u());
  },
  function (t, e) {
    var i,
      n = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      };
    (i = (function () {
      function t(t) {
        (this._getColor = n(this._getColor, this)),
          (this._init = n(this._init, this)),
          (this._el = t.el),
          (this._detail = t.detail),
          (this.isTop = t.isTop),
          this.btn,
          this.image,
          this.color,
          this.workId,
          this.title,
          this.detalItemEl,
          this.nextWorkId,
          this.prevWorkId,
          this._init();
      }
      return (
        (t.prototype._init = function () {
          return (
            (this.btn = this._el),
            (this.image = this._el.attr("data-image")),
            (this.color = this._getColor(this._el)),
            (this.workId = Number(this._el.attr("data-id"))),
            this._detail.find(".p-pf_detail_items > .item").each(
              (function (t) {
                return function (e, i) {
                  var n, r;
                  if (
                    ((n = $(i)),
                    (r = Number(n.attr("data-id"))),
                    r === t.workId)
                  )
                    return (
                      (t.detalItemEl = n),
                      (t.nextWorkId = Number(
                        t.detalItemEl
                          .find("> .next > .link > .item.is-next")
                          .attr("data-id")
                      )),
                      (t.prevWorkId = Number(
                        t.detalItemEl
                          .find("> .next > .link > .item.is-prev")
                          .attr("data-id")
                      ))
                    );
                };
              })(this)
            ),
            (this.title = this.detalItemEl
              .find("> .info > .box.is-a > .ttl")
              .html())
          );
        }),
        (t.prototype._getColor = function (t) {
          var e, i, n, r, s;
          for (
            s = [], i = t.attr("data-color").split(","), n = 0, r = i.length;
            n < r;

          )
            (e = new THREE.Color()), e.setStyle(i[n]), s.push(e), n++;
          return s;
        }),
        t
      );
    })()),
      (t.exports = i);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _,
      g,
      v = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      y = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) x.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      x = {}.hasOwnProperty;
    (_ = i(3)),
      (m = i(9)),
      (o = i(8)),
      (p = i(7)),
      (s = i(1)),
      (c = i(4)),
      (d = i(5)),
      (h = i(2)),
      (f = i(6)),
      (l = i(14)),
      (g = i(13)),
      (a = i(36)),
      (u = i(16)),
      (r = i(21)),
      (n = (function (t) {
        function e(t) {
          (this._resize = v(this._resize, this)),
            (this.getShapeGeo = v(this.getShapeGeo, this)),
            (this._update = v(this._update, this)),
            (this._onMouseOut = v(this._onMouseOut, this)),
            (this._onMouseOver = v(this._onMouseOver, this)),
            (this.setAngle = v(this.setAngle, this)),
            (this.rate = v(this.rate, this)),
            (this._scroll = v(this._scroll, this)),
            (this.init = v(this.init, this)),
            e.__super__.constructor.call(this, t),
            (this.useData = t.data),
            this.mainScene,
            this.camera,
            (this._color = 15658734),
            (this._opacity = [0.8, 0.5, 0.3]),
            (this._speed = [0.6, 0.4, 0.2]),
            (this._shape = []),
            (this._shapePoint = []),
            (this._nowAngle = 90),
            (this._showRate = new g(0)),
            (this._ease = new a()),
            (this._hover = !1),
            (this._y = 0),
            (this._inc = 0),
            (this._rendering = !1),
            (this.el = t.el),
            (this._text = $("#contact_link .text>*")),
            (this._contantPoint = 0),
            (this._count = 0),
            (this._isInited = !1);
        }
        return (
          y(e, t),
          (e.prototype.init = function () {
            var t, i, n, r, s;
            if ((e.__super__.init.call(this), !this._isInited)) {
              for (
                this._isInited = !0,
                  this.mainScene = new THREE.Scene(),
                  this.camera = new THREE.PerspectiveCamera(30, 1, 0.1, 5e4),
                  s = window.innerWidth,
                  t = window.innerHeight,
                  this.camera.aspect = s / t,
                  this.camera.updateProjectionMatrix(),
                  this.camera.position.z =
                    t / Math.tan((this.camera.fov * Math.PI) / 360) / 2,
                  n = 10,
                  i = 0;
                i < n;

              )
                this._shapePoint.push(new THREE.Vector3()), i++;
              for (i = 0; i < 3; )
                (r = new THREE.Mesh(
                  this.getShapeGeo(
                    1,
                    new THREE.Vector2(0, 0),
                    this._nowAngle,
                    this._shapePoint
                  ),
                  new THREE.MeshBasicMaterial({
                    color: this._color,
                    transparent: !0,
                    opacity: this._opacity[i],
                  })
                )),
                  this.mainScene.add(r),
                  this._shape.push({
                    mesh: r,
                    angle: 60 * i,
                    speed: _.random2(2, 6),
                  }),
                  i++;
              return (
                (this.renderer = new THREE.WebGLRenderer({
                  canvas: document.getElementById("contact_link-cvs"),
                  alpha: !0,
                  antialias: !1,
                  stencil: !1,
                  depth: !0,
                  powerPreference: "low-power",
                })),
                (this.renderer.autoClear = !0),
                this._resize(),
                this.el
                  .children("a")
                  .on("mouseenter", this._onMouseOver)
                  .on("mouseleave", this._onMouseOut),
                $(window).on("scroll", this._scroll)
              );
            }
          }),
          (e.prototype._scroll = function (t) {
            return (this._y = window.pageYOffset), (this._inc = this._y);
          }),
          (e.prototype.rate = function () {
            var t;
            return (t = 33.5), t < 0 && (t = 360 + t), t;
          }),
          (e.prototype.setAngle = function (t) {
            return (this._nowAngle = t);
          }),
          (e.prototype._onMouseOver = function () {
            return (
              (this._hover = !0),
              TweenMax.staggerTo(
                this._text,
                0.3,
                { y: -10, opacity: 0 },
                0.02,
                (function (t) {
                  return function () {
                    return TweenMax.staggerFromTo(
                      t._text,
                      0.4,
                      { y: 10 },
                      { y: 0, opacity: 1 },
                      0.02
                    );
                  };
                })(this)
              ),
              TweenMax.to(this.renderer.domElement, 0.6, {
                scale: 1.1,
                opacity: 0,
              })
            );
          }),
          (e.prototype._onMouseOut = function () {
            return (
              (this._hover = !1),
              TweenMax.to(this.renderer.domElement, 0.6, {
                delay: 0.2,
                scale: 1,
                opacity: 1,
              })
            );
          }),
          (e.prototype._update = function () {
            var t, i, n, r, s, o, a, l, u, c, p;
            if (
              (e.__super__._update.call(this),
              router.nowPage === f.PAGE.ABOUT &&
                this.visible &&
                !(this._contantPoint.start > this._inc))
            ) {
              for (
                this._count += 0.01,
                  c = h.sw(),
                  u = h.sh(),
                  l = this._shape,
                  t = i = 0,
                  n = l.length;
                i < n;
                t = ++i
              )
                (p = l[t]),
                  (r = p.mesh),
                  (a = _.map(Math.sin(_.radian(p.angle)), 8, 10, -1, 1)),
                  (s = 0.05 * _.map(Math.cos(_.radian(p.angle)), -1, 1, -1, 1)),
                  (o =
                    0.05 *
                    _.map(Math.sin(_.radian(1.2 * p.angle)), -3, 3, -1, 1)),
                  m.cnt % 2 === 0 &&
                    (r.geometry.dispose(),
                    (r.geometry = this.getShapeGeo(
                      a,
                      new THREE.Vector2(s, o),
                      this._nowAngle,
                      this._shapePoint
                    ))),
                  (p.angle += p.speed * this._speed[t]);
              return this.renderer.render(this.mainScene, this.camera);
            }
          }),
          (e.prototype.getShapeGeo = function (t, e, i, n) {
            var r,
              s,
              o,
              a,
              h,
              l,
              u,
              c,
              p,
              d,
              f,
              g,
              v,
              y,
              x,
              w,
              b,
              T,
              E,
              S,
              M,
              C,
              P,
              A,
              R;
            for (
              null == n && (n = this._shapePoint),
                null == i && (i = this._nowAngle),
                b = i,
                e = e || new THREE.Vector2(0, 0),
                C = _.radian(b),
                s = [],
                g = n.length,
                c = 0,
                h = 0.1,
                x = 0,
                w = 0;
              c < g;

            )
              (r = c * (360 / g)),
                (r = _.radian(r)),
                (a = Math.abs(C - r)),
                (M = _.map(a, 1, 0, 0, 1)),
                M > w && ((w = M), (x = c)),
                (E = 1),
                (A = new THREE.Vector3(c / (g - 1) + e.x, M * E + e.y, 0)),
                s.push(A),
                c++;
            for (c = p = 0, v = s.length; p < v; c = ++p)
              (R = s[c]),
                (a = Math.abs(x - c)),
                (u =
                  _.map(a, 1, 0, 0, s.length - 1) *
                  _.map(
                    Math.sin(0.08 * m.cnt + c),
                    this._hover ? 0.985 : 0.15,
                    this._hover ? 1.015 : 1.475,
                    -1,
                    1
                  )),
                (R.y -= u * (_.isSP() ? 50 : 100) * 0.01),
                (R.y *= 0.52),
                (R.y *= this._showRate.val - 0.1),
                (T = n[c]),
                (T.x = R.x * -1),
                (T.y += (R.y - T.y) * h),
                (T.z = R.z),
                R.set(T.x, T.y, T.z);
            for (
              f = s[s.length - 1],
                s.push(new THREE.Vector3(f.x, f.y - 1.5, 0)),
                s.push(new THREE.Vector3(0, f.y - 1.5, 0)),
                s.push(new THREE.Vector3(0, 0, 0)),
                o = new THREE.CatmullRomCurve3(s),
                o.closed = !0,
                S = o.getPoints(100),
                P = new THREE.Shape(),
                c = d = 0,
                y = S.length;
              d < y;
              c = ++d
            )
              (R = S[c]), 0 === c ? P.moveTo(R.x, R.y) : P.lineTo(R.x, R.y);
            return (l = new THREE.ShapeBufferGeometry(P));
          }),
          (e.prototype._resize = function () {
            var t, e, i, n, r, o, a, l, u, c;
            for (
              c = _.isSP() ? 4 * h.sw() : h.sw(),
                e = h.sh(),
                t = $("#contact_link").outerHeight(),
                this.camera.aspect = c / e,
                this.camera.updateProjectionMatrix(),
                l = this._shape,
                i = n = 0,
                r = l.length;
              n < r;
              i = ++n
            )
              (u = l[i]), (o = u.mesh), o.scale.set(h.r(1.5 * c), e, 1);
            return (
              (this.mainScene.position.x = _.isSP()
                ? 0.1 * c
                : 0.5 * c + c / 5),
              (this.mainScene.position.y = 0.5 * e - e / 10),
              (a = h.ratio()),
              s.IS_SP && (a = 1),
              this.renderer.setPixelRatio(a),
              this.renderer.setSize(c, e, !0),
              this.renderer.clear(),
              (this._contantPoint = {
                start: this.el.offset().top - window.innerHeight,
              })
            );
          }),
          e
        );
      })(u)),
      (t.exports = n);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      };
    (r = i(1)),
      (s = i(2)),
      (n = (function () {
        function t() {
          (this.load = o(this.load, this)), this._cvs, this._con, this.tex;
        }
        return (
          (t.prototype.load = function (t, e) {
            return (
              (this._cvs = document.createElement("canvas")),
              (this._cvs.width = this._cvs.height = 2048),
              (this._con = this._cvs.getContext("2d")),
              (this.tex = new THREE.CanvasTexture(this._cvs)),
              (this.tex.aspect = new THREE.Vector2(1, 1)),
              (this._img = new Image()),
              (this._img.onload = (function (t) {
                return function () {
                  if (
                    null != t._img &&
                    (t._con.drawImage(
                      t._img,
                      0,
                      0,
                      t._cvs.width,
                      t._cvs.height
                    ),
                    (t.tex.needsUpdate = !0),
                    t.tex.aspect.set(t._img.width, t._img.height),
                    null != e)
                  )
                    return e();
                };
              })(this)),
              (this._img.src = t),
              this.tex
            );
          }),
          t
        );
      })()),
      (t.exports = n);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      f = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) m.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      m = {}.hasOwnProperty;
    (h = i(4)),
      (r = i(1)),
      (s = i(2)),
      (u = i(5)),
      (c = i(3)),
      (p = i(13)),
      (a = i(16)),
      (o = i(15)),
      (l = i(17)),
      (n = (function (t) {
        function e(t) {
          (this._resize = d(this._resize, this)),
            (this._update = d(this._update, this)),
            (this.hide = d(this.hide, this)),
            (this.show = d(this.show, this)),
            (this.init = d(this.init, this)),
            e.__super__.constructor.call(this, t),
            this._mesh,
            (this._showVal = new p(0));
        }
        return (
          f(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              (this._mesh = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(1, 1),
                new THREE.ShaderMaterial({
                  vertexShader: i(19),
                  fragmentShader: i(110),
                  transparent: !0,
                  uniforms: {
                    tNoise: { value: l.get(r.PATH_IMG + "gl/noise.jpg") },
                    strength: { value: 1 },
                    alpha: { value: 1 },
                    time: { value: 0 },
                  },
                })
              )),
              this.add(this._mesh),
              this._resize()
            );
          }),
          (e.prototype.show = function (t) {
            var e;
            return (
              (e = t.delay || 0),
              u.a(this._showVal, { val: 1 }, 1, e, Power2.easeInOut)
            );
          }),
          (e.prototype.hide = function (t) {
            var e;
            return (
              (e = t.delay || 0),
              u.a(this._showVal, { val: 0 }, 1, e, Power2.easeInOut)
            );
          }),
          (e.prototype._update = function () {
            var t, i;
            if (
              (e.__super__._update.call(this), router.isPage(this.opt.pageId))
            )
              return (
                (i = this._mesh.material.uniforms),
                (t = h.cloud),
                (i.strength.value = 0.01 * t.strength.value),
                (i.alpha.value =
                  0.01 * t.alpha.value * this._showVal.val * s.val(0.5, 1)),
                (i.time.value += 0.001 * t.speed.value)
              );
          }),
          (e.prototype._resize = function () {
            var t, i, n;
            return (
              e.__super__._resize.call(this),
              (n = s.sw()),
              (t = s.sh()),
              s.useScreen() && (t = screen.height),
              (i = Math.max(n, t)),
              this._mesh.scale.set(i, i, 1)
            );
          }),
          e
        );
      })(a)),
      (t.exports = n);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      p = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) d.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      d = {}.hasOwnProperty;
    (a = i(4)),
      (n = i(1)),
      (r = i(2)),
      (h = i(5)),
      (l = i(3)),
      (u = i(13)),
      (o = i(16)),
      (s = (function (t) {
        function e(t) {
          (this._resize = c(this._resize, this)),
            (this._update = c(this._update, this)),
            (this.hide = c(this.hide, this)),
            (this.show = c(this.show, this)),
            (this.init = c(this.init, this)),
            e.__super__.constructor.call(this, t),
            this._mesh;
        }
        return (
          p(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              (this._mesh = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(1, 1),
                new THREE.ShaderMaterial({
                  vertexShader: i(19),
                  fragmentShader: i(112),
                  transparent: !0,
                  depthTest: !0,
                  uniforms: {
                    colorB: { value: new THREE.Color(16711680) },
                    colorA: { value: new THREE.Color(16777215) },
                  },
                })
              )),
              this.add(this._mesh),
              this._resize()
            );
          }),
          (e.prototype.show = function (t) {}),
          (e.prototype.hide = function (t) {}),
          (e.prototype._update = function () {
            return e.__super__._update.call(this);
          }),
          (e.prototype._resize = function () {
            var t, i;
            return (
              e.__super__._resize.call(this),
              (i = r.sw()),
              (t = r.sh()),
              r.useScreen() && (t = screen.height),
              this._mesh.scale.set(i, t, 1)
            );
          }),
          e
        );
      })(o)),
      (t.exports = s);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _,
      g = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      v = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) y.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      y = {}.hasOwnProperty;
    (m = i(3)),
      (f = i(9)),
      (s = i(8)),
      (u = i(7)),
      (_ = i(13)),
      (r = i(1)),
      (l = i(4)),
      (p = i(5)),
      (o = i(2)),
      (d = i(6)),
      (h = i(14)),
      (n = i(21)),
      (c = i(17)),
      (a = (function (t) {
        function e(t) {
          (this.isNowRenderFrame = g(this.isNowRenderFrame, this)),
            (this._resize = g(this._resize, this)),
            (this.render = g(this.render, this)),
            (this._update = g(this._update, this)),
            (this.hide = g(this.hide, this)),
            (this.show = g(this.show, this)),
            (this.rollOut = g(this.rollOut, this)),
            (this.rollOver = g(this.rollOver, this)),
            (this.init = g(this.init, this)),
            e.__super__.constructor.call(this, t),
            this._mesh,
            (this._showVal = new _(0)),
            (this._hoverVal = new _(0));
        }
        return (
          v(e, t),
          (e.prototype.init = function () {
            return (
              (this.renderParam = {
                canvas: this.el().get(0),
                alpha: !0,
                premultipliedAlpha: !0,
                preserveDrawingBuffer: !0,
                antialias: !1,
                stencil: !1,
                depth: !0,
                powerPreference: "low-power",
              }),
              e.__super__.init.call(this),
              (this.camera = this._makeCamera({ isOrthographic: !1 })),
              this.updateCamera(this.camera),
              (this._mesh = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(1, 1),
                new THREE.ShaderMaterial({
                  vertexShader: i(19),
                  fragmentShader: i(113),
                  transparent: !0,
                  uniforms: {
                    tDiffuse: { value: c.get(r.PATH_IMG + "gl/logo.png") },
                    offset: { value: new THREE.Vector2() },
                    time: { value: 0 },
                    alpha: { value: 0 },
                    rate: { value: 0 },
                    kake: { value: 0 },
                  },
                })
              )),
              this.mainScene.add(this._mesh),
              this._resize()
            );
          }),
          (e.prototype.rollOver = function (t) {
            return p.a(this._hoverVal, { val: 1 }, 0.5, 0, Power2.easeOut);
          }),
          (e.prototype.rollOut = function (t) {
            return p.a(this._hoverVal, { val: 0 }, 0.5, 0, Power2.easeOut);
          }),
          (e.prototype.show = function (t) {
            return p.a(this._showVal, { val: 1 }, 2, t.delay, Power2.easeOut);
          }),
          (e.prototype.hide = function (t) {
            return p.a(this._showVal, { val: 0 }, 2, t.delay, Power2.easeOut);
          }),
          (e.prototype._update = function () {
            var t;
            if (
              ((t = this._mesh.material.uniforms),
              (t.offset.value.x = 0.01 * l.header.offsetA.value),
              (t.offset.value.y = 1e-5 * l.header.offsetB.value),
              (t.time.value += 0.001 * l.header.speed.value),
              (t.kake.value = l.header.kake.value),
              (t.rate.value =
                m.mix(1, 0, this._showVal.val) +
                m.mix(0, 1, this._hoverVal.val)),
              (t.alpha.value = this._showVal.val),
              this.isNowRenderFrame())
            )
              return this.render();
          }),
          (e.prototype.render = function () {
            var t, e;
            return (
              (e = this._renderSize.x),
              (t = this._renderSize.y),
              this.updateCamera(this.camera, e, t),
              this.renderer.setClearColor(16777215, 0),
              this.renderer.render(this.mainScene, this.camera),
              this.renderCnt++
            );
          }),
          (e.prototype._resize = function () {
            var t, e, i;
            return (
              (i = t = o.val(o.r(190), 100)),
              this._renderSize.set(i, t),
              (e = o.val(o.r(142), 80)),
              this._mesh.scale.set(e, e, 1),
              this.updateCamera(this.camera, i, t),
              this.renderer.setPixelRatio(o.ratio()),
              this.renderer.setSize(i, t),
              this.renderer.clear(),
              this.render()
            );
          }),
          (e.prototype.isNowRenderFrame = function () {
            return f.cnt % 2 === 0 && this.isRender;
          }),
          e
        );
      })(n)),
      (t.exports = a);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      };
    (n = i(1)),
      (r = i(2)),
      (s = (function () {
        function t() {
          this.load = o(this.load, this);
        }
        return (
          (t.prototype.load = function (t, e) {
            var i, n;
            return (
              (n = new THREE.Texture()),
              (i = new Image()),
              (i.onload = (function (r) {
                return function () {
                  var r;
                  if (
                    ((n.image = i),
                    (r = t.indexOf(".jpg") > 0),
                    (n.format = r ? THREE.RGBFormat : THREE.RGBAFormat),
                    (n.needsUpdate = !0),
                    null != e)
                  )
                    return e();
                };
              })(this)),
              (i.src = t),
              n
            );
          }),
          t
        );
      })()),
      (t.exports = s);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _,
      g,
      v,
      y,
      x = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      w = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) b.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      b = {}.hasOwnProperty;
    (p = i(4)),
      (r = i(1)),
      (o = i(2)),
      (m = i(5)),
      (l = i(14)),
      (d = i(18)),
      (_ = i(6)),
      (v = i(3)),
      (g = i(9)),
      (y = i(13)),
      (s = i(36)),
      (u = i(16)),
      (a = i(15)),
      (n = i(20)),
      (c = i(23)),
      (f = i(17)),
      (h = (function (t) {
        function e(t) {
          (this.getShapeGeo = x(this.getShapeGeo, this)),
            (this._resize = x(this._resize, this)),
            (this._update = x(this._update, this)),
            (this.hide = x(this.hide, this)),
            (this.show = x(this.show, this)),
            (this.hideHoverItem = x(this.hideHoverItem, this)),
            (this.showHoverItem = x(this.showHoverItem, this)),
            (this.setAngle = x(this.setAngle, this)),
            (this.init = x(this.init, this)),
            e.__super__.constructor.call(this, t),
            (this.useData = t.data),
            (this._color = []),
            (this._nowColor = [
              new THREE.Color(7584632),
              new THREE.Color(15986260),
            ]),
            (this._tgColor = [
              new THREE.Color(7584632),
              new THREE.Color(15986260),
            ]),
            (this._shape = []),
            (this._shapeHover = []),
            (this._shapePoint = []),
            (this._shapeHoverPoint = []),
            (this._nowAngle = 0),
            (this._hoverAngle = 0),
            (this._tgHoverAngle = 0),
            (this._hoverRate = 0),
            (this._tgHoverRate = 0),
            (this._hoverColor = [new THREE.Color(), new THREE.Color()]),
            (this._tgHoverColor = [new THREE.Color(), new THREE.Color()]),
            (this._showRate = new y(0)),
            (this._ease = new s());
        }
        return (
          w(e, t),
          (e.prototype.init = function () {
            var t, i, n, r, s, o, a, h;
            for (
              e.__super__.init.call(this),
                s = this.useData.item,
                t = i = 0,
                r = s.length;
              i < r;
              t = ++i
            )
              (h = s[t]), this._color.push(h.color);
            for (n = 20, t = 0; t < n; )
              this._shapePoint.push(new THREE.Vector3()),
                this._shapeHoverPoint.push(new THREE.Vector3()),
                t++;
            for (t = 0; t < 2; )
              (o = new THREE.Mesh(
                this.getShapeGeo(
                  1,
                  new THREE.Vector2(0, 0),
                  this._nowAngle,
                  this._shapePoint
                ),
                new THREE.MeshBasicMaterial({
                  color: this._color[0][t],
                  transparent: !0,
                  opacity: 0.3,
                })
              )),
                this.add(o),
                this._shape.push({
                  mesh: o,
                  angle: 60 * t,
                  speed: v.random2(2, 4),
                }),
                (a = new THREE.Mesh(
                  this.getShapeGeo(
                    1,
                    new THREE.Vector2(0, 0),
                    this._hoverAngle,
                    this._shapeHoverPoint
                  ),
                  new THREE.MeshBasicMaterial({
                    color: this._color[0][t],
                    transparent: !0,
                    opacity: 0.3,
                  })
                )),
                this.add(a),
                this._shapeHover.push({
                  mesh: a,
                  angle: 60 * t,
                  speed: v.random2(2, 4),
                }),
                t++;
            return this._resize();
          }),
          (e.prototype.setAngle = function (t) {
            var e, i, n, r, s, o, a, h, l, u, c, p;
            for (
              this._nowAngle = t,
                c = v.radian(t),
                h = 0,
                o = 0,
                r = this._color.length,
                u = this._color,
                i = n = 0,
                s = u.length;
              n < s;
              i = ++n
            )
              (p = u[i]),
                (e = i * (360 / r)),
                (e = v.radian(e)),
                (l = v.map(Math.abs(c - e), 1, 0, 0, 1)),
                o < l && ((o = l), (h = i));
            return (
              (a = this._color[h]),
              this._tgColor[0].copy(a[0]),
              this._tgColor[1].copy(a[1])
            );
          }),
          (e.prototype.showHoverItem = function (t) {
            return (
              (this._tgHoverAngle = t * (420 / r.TOP_WORKS_NUM)),
              (this._tgHoverRate = 1),
              (this._tgHoverColor[0] = this._color[t][0]),
              (this._tgHoverColor[1] = this._color[t][1])
            );
          }),
          (e.prototype.hideHoverItem = function (t) {
            return (this._tgHoverRate = 0);
          }),
          (e.prototype.show = function (t) {
            var e;
            return (
              (t = t || {}),
              (e = t.delay || 0),
              m.a(
                this._showRate,
                { val: [0, 1] },
                4,
                e,
                Elastic.easeOut.config(1, 0.75)
              )
            );
          }),
          (e.prototype.hide = function (t) {
            var e;
            return (
              (t = t || {}),
              (e = t.delay || 0),
              m.a(this._showRate, { val: [1, 0] }, 2, e, Power2.easeInOut)
            );
          }),
          (e.prototype._update = function () {
            var t,
              i,
              n,
              s,
              a,
              h,
              l,
              u,
              c,
              d,
              f,
              m,
              y,
              x,
              w,
              b,
              T,
              E,
              S,
              M,
              C,
              P;
            if (
              (e.__super__._update.call(this),
              router.nowPage === _.PAGE.TOP && this.visible)
            ) {
              for (
                M = o.sw(),
                  S = o.sh(),
                  w = this._nowColor,
                  s = a = 0,
                  u = w.length;
                a < u;
                s = ++a
              )
                (P = w[s]),
                  (C = this._tgColor[s]),
                  (t = 0.075),
                  (P.r += (C.r - P.r) * t),
                  (P.g += (C.g - P.g) * t),
                  (P.b += (C.b - P.b) * t),
                  (n = this._tgHoverColor[s]),
                  (i = this._hoverColor[s]),
                  (i.r += 0.1 * (n.r - i.r)),
                  (i.g += 0.1 * (n.g - i.g)),
                  (i.b += 0.1 * (n.b - i.b));
              for (b = this._shape, s = h = 0, c = b.length; h < c; s = ++h)
                (P = b[s]),
                  (f = P.mesh),
                  f.scale.set(o.r(p.list.w.value), p.list.h.value, 1),
                  f.material.color.copy(this._nowColor[s]),
                  (x = v.map(Math.sin(v.radian(P.angle)), 8, 10, -1, 1)),
                  (m = 0.05 * v.map(Math.cos(v.radian(P.angle)), 0, 2, -1, 1)),
                  (y =
                    0.05 *
                    v.map(Math.sin(v.radian(1.2 * P.angle)), -0.4, 0.4, -1, 1)),
                  g.cnt % 2 === 0 &&
                    (f.geometry.dispose(),
                    (f.geometry = this.getShapeGeo(
                      x,
                      new THREE.Vector2(m, y),
                      this._nowAngle,
                      this._shapePoint
                    ))),
                  (P.angle += 0.5 * P.speed);
              for (
                this._hoverRate += 0.05 * (this._tgHoverRate - this._hoverRate),
                  this._hoverAngle +=
                    0.1 * (this._tgHoverAngle - this._hoverAngle),
                  T = this._shapeHover,
                  E = [],
                  s = l = 0,
                  d = T.length;
                l < d;
                s = ++l
              )
                (P = T[s]),
                  (f = P.mesh),
                  f.scale.set(
                    Math.max(
                      r.SCALE_MIN,
                      0.75 * o.r(p.list.w.value) * this._hoverRate
                    ),
                    p.list.h.value,
                    1
                  ),
                  f.material.color.copy(this._hoverColor[s]),
                  (x = v.map(Math.sin(v.radian(P.angle)), 8, 10, -1, 1)),
                  (m = 0.1 * v.map(Math.cos(v.radian(P.angle)), 0, 2, -1, 1)),
                  (y =
                    0.075 *
                    v.map(Math.sin(v.radian(1.2 * P.angle)), -0.4, 0.4, -1, 1)),
                  g.cnt % 2 !== 0 &&
                    (f.geometry.dispose(),
                    (f.geometry = this.getShapeGeo(
                      x,
                      new THREE.Vector2(m, y),
                      this._hoverAngle,
                      this._shapeHoverPoint
                    ))),
                  E.push((P.angle += 0.5 * P.speed));
              return E;
            }
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this);
          }),
          (e.prototype.getShapeGeo = function (t, e, i, n) {
            var r,
              s,
              o,
              a,
              h,
              l,
              u,
              c,
              d,
              f,
              m,
              _,
              y,
              x,
              w,
              b,
              T,
              E,
              S,
              M,
              C,
              P,
              A,
              R,
              L;
            for (
              null == n && (n = this._shapePoint),
                null == i && (i = this._nowAngle),
                T = i,
                e = e || new THREE.Vector2(0, 0),
                P = v.radian(T),
                s = [],
                _ = n.length,
                c = 0,
                h = 0.1,
                w = 0,
                b = 0;
              c < _;

            )
              (r = c * (360 / _)),
                (r = v.radian(r)),
                (a = Math.abs(P - r)),
                (C = v.map(a, 1, 0, 0, 1)),
                C > b && ((b = C), (w = c)),
                (S = 1),
                (R = new THREE.Vector3(C * S + e.x, c / (_ - 1) + e.y, 0)),
                s.push(R),
                c++;
            for (c = d = 0, y = s.length; d < y; c = ++d)
              (L = s[c]),
                (a = Math.abs(w - c)),
                (u =
                  v.map(a, 1, 0, 0, s.length - 1) *
                  v.map(Math.sin(0.08 * g.cnt + c), 0.925, 1.075, -1, 1)),
                (L.x += u * p.list.hosei.value * 0.01),
                (L.x *= 0.01 * p.list.herasu.value),
                (L.x *= this._showRate.val),
                (E = n[c]),
                (E.x += (L.x - E.x) * h),
                (E.y = L.y * -1),
                (E.z = L.z),
                L.set(E.x, E.y, E.z);
            for (
              m = s[s.length - 1],
                s.push(new THREE.Vector3(m.x - 1.5, m.y, 0)),
                s.push(new THREE.Vector3(m.x - 1.5, 0, 0)),
                s.push(new THREE.Vector3(0, 0, 0)),
                o = new THREE.CatmullRomCurve3(s),
                o.closed = !0,
                M = o.getPoints(100),
                A = new THREE.Shape(),
                c = f = 0,
                x = M.length;
              f < x;
              c = ++f
            )
              (L = M[c]), 0 === c ? A.moveTo(L.x, L.y) : A.lineTo(L.x, L.y);
            return (l = new THREE.ShapeBufferGeometry(A));
          }),
          e
        );
      })(u)),
      (t.exports = h);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _,
      g = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      v = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) y.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      y = {}.hasOwnProperty;
    (_ = i(3)),
      (m = i(9)),
      (o = i(8)),
      (p = i(7)),
      (s = i(1)),
      (c = i(4)),
      (d = i(5)),
      (a = i(2)),
      (f = i(6)),
      (u = i(14)),
      (n = i(21)),
      (r = i(20)),
      (l = i(61)),
      (h = (function (t) {
        function e(t) {
          (this.isNowRenderFrame = g(this.isNowRenderFrame, this)),
            (this._resize = g(this._resize, this)),
            (this.render = g(this.render, this)),
            (this._update = g(this._update, this)),
            (this.end = g(this.end, this)),
            (this.start = g(this.start, this)),
            (this.init = g(this.init, this)),
            e.__super__.constructor.call(this, t),
            this._img,
            this._startOpt;
        }
        return (
          v(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              (this.camera = this._makeCamera({ isOrthographic: !1 })),
              this.updateCamera(this.camera),
              (this._img = new l({ parent: this })),
              this._img.init(),
              this.mainScene.add(this._img),
              this._resize(),
              this.render(),
              (this.isRender = !1)
            );
          }),
          (e.prototype.start = function (t) {
            return (this.isRender = !0), this._img.show(t);
          }),
          (e.prototype.end = function (t) {
            return this._img.hide({
              time: t.time,
              delay: 0,
              onComplete: (function (e) {
                return function () {
                  if (((e.isRender = !1), null != t.onComplete))
                    return t.onComplete();
                };
              })(this),
            });
          }),
          (e.prototype._update = function () {
            var t, e;
            if (this.isNowRenderFrame())
              return (
                (e = this._renderSize.x),
                (t = this._renderSize.y),
                this._img.render(),
                this.updateCamera(this.camera, e, t),
                this.render()
              );
          }),
          (e.prototype.render = function () {
            var t, e;
            return (
              (e = this._renderSize.x),
              (t = this._renderSize.y),
              this.renderer.setClearColor(15658734, 1),
              this.renderer.render(this.mainScene, this.camera),
              this.renderCnt++
            );
          }),
          (e.prototype._resize = function () {
            var t, e, i;
            return (
              (i = a.sw()),
              (t = a.sh()),
              (this._renderSize.x = i),
              (this._renderSize.y = t),
              this.updateCamera(this.camera, i, t),
              (e = 1),
              s.IS_SP && (e = 1),
              this.renderer.setPixelRatio(e),
              this.renderer.setSize(i, t),
              this.renderer.clear()
            );
          }),
          (e.prototype.isNowRenderFrame = function () {
            return m.cnt % 3 === 0 && this.isRender;
          }),
          e
        );
      })(n)),
      (t.exports = h);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      _ = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) g.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      g = {}.hasOwnProperty;
    (u = i(4)),
      (s = i(1)),
      (o = i(2)),
      (p = i(5)),
      (d = i(3)),
      (f = i(13)),
      (l = i(16)),
      (a = i(15)),
      (c = i(17)),
      (r = i(20)),
      (n = i(37)),
      (h = (function (t) {
        function e(t) {
          (this._resize = m(this._resize, this)),
            (this.render = m(this.render, this)),
            (this._update = m(this._update, this)),
            (this.hide = m(this.hide, this)),
            (this._eShowed = m(this._eShowed, this)),
            (this.show = m(this.show, this)),
            (this.init = m(this.init, this)),
            e.__super__.constructor.call(this, t),
            (this._img = []),
            this._dest,
            (this._blur = []),
            this._showOpt;
        }
        return (
          _(e, t),
          (e.prototype.init = function () {
            var t, o, a, h, l;
            for (
              e.__super__.init.call(this),
                this._preScene = new r(),
                this._preScene.init(),
                o = 0,
                h = 1;
              o < h;

            )
              (t = new n()), t.init(), this._blur.push(t), o++;
            for (o = 0; o < 4; )
              (l = c.get(s.PATH_IMG + "gl/loading_" + o + ".png")),
                (l.magFilter = THREE.NearestFilter),
                (l.minFilter = THREE.NearestFilter),
                (a = new THREE.Mesh(
                  new THREE.PlaneBufferGeometry(1, 1),
                  new THREE.ShaderMaterial({
                    vertexShader: i(19),
                    fragmentShader: i(116),
                    transparent: !0,
                    depthTest: !1,
                    uniforms: {
                      tDiffuse: { value: l },
                      rate: { value: 0 },
                      resolution: { value: new THREE.Vector2() },
                      cen: {
                        value: new THREE.Vector2(d.range(0.2), d.range(0.2)),
                      },
                      wave: { value: 1 },
                      range: { value: 1 },
                      power: { value: 1 },
                      time: { value: d.random(0, 100) },
                    },
                  })
                )),
                this._preScene.add(a),
                this._img.push({ mesh: a, isShow: !1 }),
                o++;
            return (
              (this._dest = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(1, 1),
                new THREE.ShaderMaterial({
                  vertexShader: i(19),
                  fragmentShader: i(117),
                  transparent: !0,
                  depthTest: !1,
                  uniforms: {
                    tDiffuse: { value: this._preScene.texture(0) },
                    tBlur: {
                      value: this._blur[this._blur.length - 1].getTexture(),
                    },
                    blurAlpha: { value: 0 },
                    alpha: { value: 1 },
                    offset: { value: new THREE.Vector2() },
                    addNoise: { value: new THREE.Vector2() },
                    time: { value: 0 },
                    noise: { value: 1 },
                  },
                })
              )),
              this.add(this._dest),
              this._resize()
            );
          }),
          (e.prototype.show = function (t) {
            var e, i, n, r, s, o, a, h, l, u, c;
            for (
              this._showOpt = t,
                u = this._dest.material.uniforms,
                u.blurAlpha.value = 0,
                u.alpha.value = 1,
                this.scale.set(1, 1, 1),
                l = t.time || 2,
                r = 0.2,
                e = 0.5,
                i = Power1.easeInOut,
                a = this._img,
                h = [],
                n = s = 0,
                o = a.length;
              s < o;
              n = ++s
            )
              (c = a[n]),
                (c.isShow = !1),
                h.push(
                  p.a(
                    c.mesh.material.uniforms.rate,
                    { value: [0, 1] },
                    l,
                    e + r * n,
                    i,
                    null,
                    null,
                    n === this._img.length - 1 ? this._eShowed : null
                  )
                );
            return h;
          }),
          (e.prototype._eShowed = function () {
            if (null != this._showOpt.onComplete)
              return this._showOpt.onComplete();
          }),
          (e.prototype.hide = function (t) {
            var e, i, n;
            return (
              (e = t.delay || 0),
              (n = t.time || 2),
              p.a(
                this._dest.material.uniforms.blurAlpha,
                { value: [0, 1] },
                n,
                e,
                Power1.easeInOut
              ),
              p.a(
                this._dest.material.uniforms.alpha,
                { value: [1, 0] },
                n,
                e,
                Power1.easeInOut,
                null,
                null,
                t.onComplete
              ),
              (i = 1.05),
              p.a(this.scale, { x: [1, i], y: [1, i] }, n, e, Power1.easeInOut)
            );
          }),
          (e.prototype._update = function () {
            return e.__super__._update.call(this);
          }),
          (e.prototype.render = function () {
            var t, e, i, n, r, s, a, h, l, c, p, d, f, m, _, g, v;
            for (
              v = o.sw(),
                n = o.sh(),
                c = o.ratio(),
                p = this._img,
                r = s = 0,
                h = p.length;
              s < h;
              r = ++s
            )
              (g = p[r]),
                (_ = g.mesh.material.uniforms),
                _.resolution.value.set(o.sw() * c, o.sh() * c),
                (_.wave.value = 0.4),
                (_.range.value = 300 * (1 - _.rate.value)),
                (_.power.value = 0.17),
                (_.time.value += 0.2);
            for (
              _ = this._dest.material.uniforms,
                _.offset.value.x = 0.01 * u.detail.imgNoiseOffsetA.value * 0.25,
                _.offset.value.y = 1e-5 * u.detail.imgNoiseOffsetB.value,
                _.time.value += 0.001 * u.detail.imgNoiseSpeed.value * 0.1,
                _.addNoise.value.x = 0.01 * u.detail.imgNoiseAddX.value,
                _.addNoise.value.y = 0.01 * u.detail.imgNoiseAddY.value,
                this.opt.parent.updateCamera(this.opt.parent.camera, v, n),
                this._preScene.render(
                  this.opt.parent.renderer,
                  this.opt.parent.camera,
                  0
                ),
                d = this._blur,
                f = [],
                r = a = 0,
                l = d.length;
              a < l;
              r = ++a
            )
              (g = d[r]),
                (t = 0.5),
                (i = v * t),
                (e = n * t),
                (m =
                  0 === r
                    ? this._preScene.texture(0)
                    : this._blur[r - 1].getTexture()),
                this.opt.parent.updateCamera(this.opt.parent.camera, i, e),
                f.push(
                  g.render({
                    texture: m,
                    renderer: this.opt.parent.renderer,
                    camera: this.opt.parent.camera,
                    w: i,
                    h: e,
                    value: 100,
                  })
                );
            return f;
          }),
          (e.prototype._resize = function () {
            var t, i, n, r, s, a, h, l;
            for (
              e.__super__._resize.call(this),
                l = o.sw(),
                t = o.sh(),
                a = o.val(0.65 * l, o.r(830)),
                s = this._img,
                i = n = 0,
                r = s.length;
              n < r;
              i = ++n
            )
              (h = s[i]), h.mesh.scale.set(a, a, 1);
            return this._dest.scale.set(l, t, 1), this._preScene.size(l, t);
          }),
          e
        );
      })(l)),
      (t.exports = h);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      _ = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) g.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      g = {}.hasOwnProperty;
    (u = i(4)),
      (r = i(1)),
      (c = i(5)),
      (o = i(2)),
      (p = i(6)),
      (f = i(3)),
      (d = i(9)),
      (s = i(8)),
      (n = i(20)),
      (h = i(16)),
      (l = i(23)),
      (a = (function (t) {
        function e(t) {
          (this._resize = m(this._resize, this)),
            (this._update = m(this._update, this)),
            (this.hide = m(this.hide, this)),
            (this.show = m(this.show, this)),
            (this.load = m(this.load, this)),
            (this.init = m(this.init, this)),
            e.__super__.constructor.call(this),
            (this.opt = t),
            this._video,
            this._tex,
            this._mesh,
            (this._isLoaded = !1),
            (this._isShow = !1),
            (this._isSetedTex = !1),
            (this._isPlay = !1),
            this.onLoad;
        }
        return (
          _(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              (this._video = document.createElement("video")),
              (this._video.preload = "none"),
              (this._video.autoplay = !1),
              (this._video.loop = !0),
              (this._video.muted = !0),
              (this._video.playsinline = !0),
              (this._tex = new THREE.VideoTexture(this._video)),
              (this._tex.format = THREE.RGBFormat),
              (this._tex.needsUpdate = !0),
              (this._tex.minFilter = THREE.LinearFilter),
              (this._tex.magFilter = THREE.LinearFilter),
              (this._mesh = new l({ tex: null })),
              this._mesh.init(),
              (this._mesh.speed = 0.25),
              (this._mesh.uni().alpha.value = 0),
              (this._mesh.uni().showRate.value = 2),
              this.add(this._mesh),
              this._video.addEventListener(
                "loadeddata",
                (function (t) {
                  return function (e) {
                    if (((t._isLoaded = !0), null != t.onLoad))
                      return t.onLoad();
                  };
                })(this)
              ),
              (this._video.src = this.opt.src),
              this._video.addEventListener(
                "play",
                (function (t) {
                  return function (e) {
                    if (!t._isSetedTex)
                      return (
                        s.add(function () {
                          return (
                            (t._tex.needsUpdate = !0), t._mesh.setTex(t._tex)
                          );
                        }, 10),
                        (t._isSetedTex = !0)
                      );
                  };
                })(this)
              ),
              (this.visible = !1),
              this._resize()
            );
          }),
          (e.prototype.load = function (t) {
            return (
              (this._mesh.uni().alpha.value = 0),
              (this.onLoad = t.onComplete),
              this._isLoaded
                ? void (null != this.onLoad && this.onLoad())
                : this._video.load()
            );
          }),
          (e.prototype.show = function (t) {
            var e, i;
            if (!this._isShow)
              return (
                (this._isShow = !0),
                (this.visible = !0),
                (i = 2),
                (e = 0.5),
                c.a(
                  this._mesh.uni().noise,
                  { value: [1, 0] },
                  i,
                  e,
                  Power2.easeOut,
                  (function (t) {
                    return function () {
                      if (null != t._video && ((t._isPlay = !0), r.IS_PC))
                        return t._video.play();
                    };
                  })(this)
                ),
                c.a(
                  this._mesh.uni().alpha,
                  { value: [0, 1] },
                  i,
                  e + 0.25,
                  Power2.easeOut
                )
              );
          }),
          (e.prototype.hide = function (t) {
            var e, i;
            if (this._isShow)
              return (
                (this._isShow = !1),
                (this._isPlay = !1),
                (i = 0.5),
                (e = t.delay || 0),
                this._isLoaded && this._video.pause(),
                c.a(this._mesh.uni().noise, { value: 1 }, i, e, Power2.easeOut),
                c.a(
                  this._mesh.uni().alpha,
                  { value: 0 },
                  i,
                  e,
                  Power2.easeOut,
                  null,
                  null,
                  (function (t) {
                    return function () {
                      return (t.visible = !1);
                    };
                  })(this)
                )
              );
          }),
          (e.prototype._update = function () {
            if (
              (e.__super__._update.call(this),
              null != this._video &&
                this._isPlay &&
                r.IS_SP &&
                null != this._video.duration &&
                this._video.duration > 0 &&
                ((this._video.currentTime += 0.02),
                this._video.currentTime >= this._video.duration &&
                  (this._video.currentTime = 0),
                (this._tex.needsUpdate = !0),
                this._video.currentTime > 0.1 && !this._isSetedTex))
            )
              return this._mesh.setTex(this._tex), (this._isSetedTex = !0);
          }),
          (e.prototype._resize = function () {
            var t, i, n, r, s, a;
            if (
              (e.__super__._resize.call(this),
              (a = o.sw()),
              (t = o.sh()),
              o.useScreen() && (t = screen.height),
              null != this._video)
            )
              return (
                (s = 1600),
                (r = 900),
                o.isXS()
                  ? ((n = t),
                    (i = r * (n / s)),
                    i < a && ((i = a), (n = s * (i / r))))
                  : ((n = a),
                    (i = r * (n / s)),
                    i < t && ((i = t), (n = s * (i / r)))),
                this._mesh.size2(n, i),
                o.isXS()
                  ? (this._mesh.rotation.z = f.radian(-90))
                  : (this._mesh.rotation.z = f.radian(0))
              );
          }),
          e
        );
      })(h)),
      (t.exports = a);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _,
      g,
      v,
      y,
      x,
      w = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      b = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) T.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      T = {}.hasOwnProperty;
    (x = i(3)),
      (y = i(9)),
      (o = i(8)),
      (m = i(7)),
      (s = i(1)),
      (f = i(4)),
      (g = i(5)),
      (a = i(2)),
      (v = i(6)),
      (p = i(14)),
      (n = i(21)),
      (r = i(20)),
      (h = i(15)),
      (d = i(23)),
      (c = i(64)),
      (_ = i(17)),
      (l = i(62)),
      (u = (function (t) {
        function e(t) {
          (this.isNowRenderFrame = w(this.isNowRenderFrame, this)),
            (this._resize = w(this._resize, this)),
            (this.render = w(this.render, this)),
            (this._update = w(this._update, this)),
            (this.hide = w(this.hide, this)),
            (this.show = w(this.show, this)),
            (this.init = w(this.init, this)),
            e.__super__.constructor.call(this, t),
            this._plane,
            this._bg,
            this._navCon,
            (this._nav = []),
            (this._isShow = !1);
        }
        return (
          b(e, t),
          (e.prototype.init = function () {
            var t, i;
            for (
              this.renderParam = {
                canvas: this.el().get(0),
                alpha: !0,
                premultipliedAlpha: !0,
                preserveDrawingBuffer: !0,
                antialias: !1,
                stencil: !1,
                depth: !0,
                powerPreference: "low-power",
              },
                e.__super__.init.call(this),
                this.camera = this._makeCamera({ isOrthographic: !1 }),
                this.updateCamera(this.camera),
                s.IS_SIMPLE ||
                  ((this._plane = new THREE.Mesh(
                    new THREE.PlaneBufferGeometry(1, 1),
                    new THREE.MeshBasicMaterial({
                      color: s.BG_COLOR,
                      transparent: !0,
                      opacity: 0,
                    })
                  )),
                  this.mainScene.add(this._plane),
                  (this._bg = new l({ src: s.PATH_IMG + "gl/menu_bg.mp4" })),
                  this._bg.init(),
                  this.mainScene.add(this._bg)),
                this._navCon = new THREE.Object3D(),
                this.mainScene.add(this._navCon),
                t = 0;
              t < 3;

            )
              (i = new c({
                navId: t,
                tex: _.get(s.PATH_IMG + "gl/menu_link_" + t + ".png"),
                btn: $(".l-menu_btn > .item.is-" + t),
                pageId: [v.PAGE.TOP, v.PAGE.ABOUT, v.PAGE.PORTFOLIO][t],
              })),
                i.init(),
                this._navCon.add(i),
                this._nav.push(i),
                t++;
            return this._resize();
          }),
          (e.prototype.show = function (t) {
            var e, i, n, r, s;
            for (
              this._isShow = !0,
                null != this._plane &&
                  g.a(
                    this._plane.material,
                    { opacity: [0, 1] },
                    0.35,
                    0,
                    Power1.easeInOut,
                    null,
                    null,
                    (function (t) {
                      return function () {
                        if (null != t._bg && t._isShow)
                          return t._bg.load({
                            onComplete: function () {
                              if (t._isShow) return t._bg.show();
                            },
                          });
                      };
                    })(this)
                  ),
                r = this._nav,
                e = i = 0,
                n = r.length;
              i < n;
              e = ++i
            )
              (s = r[e]),
                s.show({ delay: 0.1 * e }),
                s.pageId === router.nowPage
                  ? s.setNavActive(!0)
                  : s.setNavActive(!1);
            return this.render();
          }),
          (e.prototype.hide = function (t) {
            var e, i, n, r, s, o, a, h;
            for (
              this._isShow = !1,
                a = 0.35,
                e = 0,
                null != this._bg &&
                  (this._bg.hide({ delay: 0.5 }),
                  g.a(
                    this._plane.material,
                    { opacity: [1, 0] },
                    0.5,
                    0.5,
                    Power1.easeInOut,
                    null,
                    null,
                    t.onComplete
                  )),
                s = this._nav,
                o = [],
                i = n = 0,
                r = s.length;
              n < r;
              i = ++n
            )
              (h = s[i]),
                o.push(h.hide({ delay: 0.1 * (this._nav.length - 1 - i) }));
            return o;
          }),
          (e.prototype._update = function () {
            var t;
            if (f.renderMenu)
              return (
                (t = a.sh()),
                null != this._bg &&
                  (this._bg.position.y = a.val(
                    0.5 * (this._renderSize.y - t),
                    0
                  )),
                (this._navCon.position.y = a.val(
                  0.5 * (this._renderSize.y - t),
                  0
                )),
                this.isNowRenderFrame() ? this.render() : void 0
              );
          }),
          (e.prototype.render = function () {
            var t, e;
            return (
              (e = this._renderSize.x),
              (t = this._renderSize.y),
              this.renderer.setClearColor(16777215, 0),
              this.renderer.render(this.mainScene, this.camera),
              this.renderCnt++
            );
          }),
          (e.prototype._resize = function () {
            var t, e, i, n, r, o, h, l, u;
            for (
              u = a.sw(),
                t = a.sh(),
                a.useScreen() && (t = screen.height),
                this._renderSize.set(u, t),
                this.updateCamera(this.camera, u, t),
                r = a.ratio(),
                s.IS_SP && (r = 1.5),
                this.renderer.setPixelRatio(r),
                this.renderer.setSize(u, t),
                this.renderer.clear(),
                null != this._plane && this._plane.scale.set(u, t, 1),
                o = this._nav,
                h = [],
                e = i = 0,
                n = o.length;
              i < n;
              e = ++i
            )
              (l = o[e]),
                a.isXS()
                  ? h.push(
                      (l.position.y = e * a.r(-160) + 0.5 * a.r(356) - a.r(17))
                    )
                  : h.push((l.position.y = e * a.r(-100) + a.r(100)));
            return h;
          }),
          (e.prototype.isNowRenderFrame = function () {
            return s.IS_SP
              ? y.cnt % 3 === 0 && this.isRender
              : y.cnt % 2 === 0 && this.isRender;
          }),
          e
        );
      })(n)),
      (t.exports = u);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      f = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) m.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      m = {}.hasOwnProperty;
    (h = i(4)),
      (n = i(1)),
      (r = i(2)),
      (u = i(5)),
      (c = i(3)),
      (p = i(13)),
      (a = i(16)),
      (s = i(15)),
      (l = i(17)),
      (o = (function (t) {
        function e(t) {
          (this._resize = d(this._resize, this)),
            (this._update = d(this._update, this)),
            (this.hide = d(this.hide, this)),
            (this.show = d(this.show, this)),
            (this._eRollOut = d(this._eRollOut, this)),
            (this._eRollOver = d(this._eRollOver, this)),
            (this.setNavActive = d(this.setNavActive, this)),
            (this.init = d(this.init, this)),
            e.__super__.constructor.call(this, t),
            this._dest,
            (this._btn = t.btn),
            (this._showRate = new p(0)),
            (this._hoverRate = new p(0)),
            (this.pageId = t.pageId),
            (this._isActiveNav = !1);
        }
        return (
          f(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              (this._dest = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(1, 1),
                new THREE.ShaderMaterial({
                  vertexShader: i(19),
                  fragmentShader: i(118),
                  transparent: !0,
                  side: THREE.DoubleSide,
                  uniforms: {
                    tDiffuse: { value: this.opt.tex },
                    offset: { value: new THREE.Vector2() },
                    time: { value: 0 },
                    alpha: { value: 0 },
                    rate: { value: 0 },
                  },
                })
              )),
              this.add(this._dest),
              this._btn
                .on("mouseover", this._eRollOver)
                .on("mouseout", this._eRollOut),
              this._resize()
            );
          }),
          (e.prototype.setNavActive = function (t) {
            return (
              (this._isActiveNav = t),
              this._isActiveNav
                ? (this._btn.addClass("is-noPointer"),
                  (this._hoverRate.val = 1))
                : (this._btn.removeClass("is-noPointer"),
                  (this._hoverRate.val = 0))
            );
          }),
          (e.prototype._eRollOver = function (t) {
            if (!this._isActiveNav && !n.IS_SP)
              return u.a(this._hoverRate, { val: 1 }, 0.25, 0, Power2.easeOut);
          }),
          (e.prototype._eRollOut = function (t) {
            if (!this._isActiveNav && !n.IS_SP)
              return u.a(this._hoverRate, { val: 0 }, 0.25, 0, Power2.easeOut);
          }),
          (e.prototype.show = function (t) {
            return (
              u.a(
                this._showRate,
                { val: [0, 1] },
                0.75,
                t.delay,
                Power2.easeInOut
              ),
              this._update()
            );
          }),
          (e.prototype.hide = function (t) {
            return u.a(
              this._showRate,
              { val: 0 },
              0.5,
              t.delay,
              Power2.easeInOut
            );
          }),
          (e.prototype._update = function () {
            var t;
            if ((e.__super__._update.call(this), h.renderMenu))
              return (
                (t = this._dest.material.uniforms),
                (t.offset.value.x = 0.01 * h.menu.offsetA.value * 1),
                (t.offset.value.y = 1e-5 * h.menu.offsetB.value * 1),
                (t.time.value += 0.001 * h.menu.speed.value),
                (t.rate.value =
                  this._hoverRate.val + 1.5 * (1 - this._showRate.val)),
                (t.alpha.value = this._showRate.val)
              );
          }),
          (e.prototype._resize = function () {
            var t;
            return (
              e.__super__._resize.call(this),
              (t = r.r(r.val(530, 512))),
              this._dest.scale.set(t, t, 1)
            );
          }),
          e
        );
      })(a)),
      (t.exports = o);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _,
      g,
      v = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      y = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) x.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      x = {}.hasOwnProperty;
    (u = i(4)),
      (r = i(1)),
      (s = i(2)),
      (f = i(5)),
      (a = i(14)),
      (p = i(18)),
      (_ = i(3)),
      (m = i(9)),
      (g = i(13)),
      (h = i(16)),
      (o = i(15)),
      (n = i(20)),
      (l = i(23)),
      (d = i(17)),
      (c = (function (t) {
        function e(t) {
          (this.isNow = v(this.isNow, this)),
            (this.isNext = v(this.isNext, this)),
            (this.isPrev = v(this.isPrev, this)),
            (this.getMaskShapeGeo = v(this.getMaskShapeGeo, this)),
            (this._resize = v(this._resize, this)),
            (this.render = v(this.render, this)),
            (this._update = v(this._update, this)),
            (this.addPower = v(this.addPower, this)),
            (this.showImg = v(this.showImg, this)),
            (this.hide = v(this.hide, this)),
            (this.show = v(this.show, this)),
            (this.getData = v(this.getData, this)),
            (this.copyItem = v(this.copyItem, this)),
            (this.setData = v(this.setData, this)),
            (this.init = v(this.init, this)),
            e.__super__.constructor.call(this, t),
            (this.workId = 0),
            (this.useData = t.data),
            this._imgCon,
            this._img,
            this._plane,
            this._imgScene,
            (this._power = new THREE.Vector2(0, 0)),
            (this._showParam = new g(0)),
            (this._mask = []),
            this._maskScene,
            (this._rate = new g(0)),
            (this._scrollNoise = 0),
            this._dest,
            (this.useColor = new THREE.Color());
        }
        return (
          y(e, t),
          (e.prototype.init = function () {
            var t, r;
            for (
              e.__super__.init.call(this),
                this._imgScene = new n(),
                this._imgScene.init(),
                this._imgCon = new THREE.Object3D(),
                this._imgScene.add(this._imgCon),
                this._plane = new THREE.Mesh(
                  new THREE.PlaneBufferGeometry(1, 1),
                  new THREE.MeshBasicMaterial({
                    color: 4242126,
                    transparent: !0,
                    opacity: 1,
                  })
                ),
                this._imgCon.add(this._plane),
                this._img = new l({ tex: null, speed: 0.25 }),
                this._img.init(),
                this._imgCon.add(this._img),
                this._img.uni().showRate.value = 1,
                this._maskScene = new n(),
                this._maskScene.init(),
                t = 0;
              t < 1;

            )
              (r = new THREE.Mesh(
                this.getMaskShapeGeo(),
                new THREE.MeshBasicMaterial({
                  color: 16711680,
                  transparent: !0,
                  opacity: 1,
                })
              )),
                this._maskScene.add(r),
                this._mask.push({
                  mesh: r,
                  angle: 60 * t,
                  noise: 1,
                  noise2: 0 * _.range(0.2),
                }),
                t++;
            return (
              (this._dest = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(1, 1),
                new THREE.ShaderMaterial({
                  vertexShader: i(19),
                  fragmentShader: i(120),
                  transparent: !0,
                  depthTest: !0,
                  side: THREE.DoubleSide,
                  uniforms: {
                    tDiffuse: { value: this._imgScene.texture() },
                    tMask: { value: this._maskScene.texture() },
                    useMask: { value: !this.isNow() },
                  },
                })
              )),
              this.add(this._dest),
              (this.visible = !1),
              this._resize()
            );
          }),
          (e.prototype.setData = function (t) {
            var e, i, n, r, s;
            for (
              this.workId = t.workId,
                this.useColor = t.color[0],
                this._plane.material.color = this.useColor,
                this._img.setTex(d.get(t.image)),
                r = this._mask,
                e = i = 0,
                n = r.length;
              i < n;
              e = ++i
            )
              (s = r[e]), (s.mesh.material.color = this.useColor);
            return this.render();
          }),
          (e.prototype.copyItem = function (t) {
            var e, i, n, r, s, o, a;
            for (
              i = t.getData(),
                this._img.setTex(i.tex),
                e = t.useColor,
                this._plane.material.color = e,
                o = this._mask,
                n = r = 0,
                s = o.length;
              r < s;
              n = ++r
            )
              (a = o[n]), (a.mesh.material.color = e);
            return this.render();
          }),
          (e.prototype.getData = function () {
            return { tex: this._img.getTex() };
          }),
          (e.prototype.show = function (t) {
            var e;
            if (((t = t || {}), !this.isNow()))
              return (
                (e = t.delay || 0),
                (this.visible = !0),
                (this._rate.val = 0),
                f.a(
                  this._showParam,
                  { val: [0, 1] },
                  3,
                  e,
                  Elastic.easeOut.config(1, 0.75)
                ),
                this._update(),
                this.render()
              );
          }),
          (e.prototype.hide = function (t) {
            return this.isNow()
              ? ((this.visible = !1), void p.set(0))
              : f.a(
                  this._showParam,
                  { val: [1, 0] },
                  1,
                  0,
                  Power3.easeOut,
                  null,
                  null,
                  (function (t) {
                    return function () {
                      return (t.visible = !1), (t._rate.val = 0);
                    };
                  })(this)
                );
          }),
          (e.prototype.showImg = function (t) {
            var e;
            return (
              (t = t || {}),
              (e = t.delay || 0),
              f.a(
                this._rate,
                { val: [0, 1] },
                1,
                e,
                Power3.easeInOut,
                null,
                null,
                (function (e) {
                  return function () {
                    if (null != t.onComplete) return t.onComplete(e);
                  };
                })(this)
              )
            );
          }),
          (e.prototype.addPower = function (t) {
            var e;
            return (
              (e = 0.1),
              this._showParam.val >= 1
                ? (this._power.x += (t - this._power.x) * e)
                : (this._power.x += (0 - this._power.x) * e)
            );
          }),
          (e.prototype._update = function () {
            var t, i, n, o, h, l, c, d, f, g, v, y, x, w;
            if (
              (e.__super__._update.call(this), this.visible && !u.isTransition)
            ) {
              for (
                x = s.sw(),
                  y = s.sh(),
                  s.useScreen() && (y = screen.height),
                  o = s.isLG()
                    ? m.cnt % 3 === 0 && this.visible
                    : m.cnt % 1 === 0 && this.visible && !u.isFixDetailInfo,
                  o &&
                    ((g =
                      _.map(
                        Math.sin(_.radian(this._mask[0].angle)),
                        8,
                        10,
                        -1,
                        1
                      ) *
                      _.map(this._power.x, 1, 2, 0, 1) *
                      this._showParam.val),
                    (d =
                      _.map(
                        Math.cos(_.radian(this._mask[0].angle)),
                        8,
                        10,
                        -1,
                        1
                      ) + _.map(this._power.x, 0, 20, 0, 1)),
                    (f =
                      _.map(
                        Math.sin(_.radian(1.2 * this._mask[0].angle)),
                        -0.1,
                        0.1,
                        -1,
                        1
                      ) + _.map(this._power.y, -0.3, 0.3, 0.5 * -y, 0.5 * y)),
                    (d *=
                      this._showParam.val *
                      _.map(this._showParam.val, 20, 1, 0, 1)),
                    (f *= this._showParam.val),
                    (f = 0),
                    (g *= s.val(6, 1)),
                    u.isFixDetailInfo ||
                      (i = this.getMaskShapeGeo(g, new THREE.Vector2(d, f)))),
                  this._power.y += 0.2 * (a.three.y - this._power.y),
                  v = this._mask,
                  n = h = 0,
                  l = v.length;
                h < l;
                n = ++h
              )
                (w = v[n]),
                  (c = w.mesh),
                  c.scale.set(x, y * w.noise, 1),
                  (c.position.y = w.noise2 * (0.1 * y)),
                  this.isPrev() &&
                    (c.position.x =
                      _.mix(1 * -x, 0, this._rate.val) + w.noise2 * (0.01 * x)),
                  this.isNext() &&
                    ((c.scale.x *= -1),
                    (c.position.x =
                      _.mix(1 * x, 0, this._rate.val) + w.noise2 * (0.01 * x))),
                  null != i && (c.geometry.dispose(), (c.geometry = i)),
                  (c.material.opacity = _.map(this._rate.val, 0.5, 1, 0, 1)),
                  (w.angle += 2);
              return (
                this.isNow()
                  ? (this._img.alpha(1),
                    s.isLG()
                      ? (this._img.uni().bright.value +=
                          0.1 *
                          (_.map(p.val, 0, 0.5, 0, 0.75 * y) -
                            this._img.uni().bright.value))
                      : (this._img.uni().bright.value = 0),
                    !r.IS_SIMPLE && s.isLG()
                      ? ((t = 0.05 * p.d + 0.2),
                        (this._scrollNoise += 0.1 * (t - this._scrollNoise)))
                      : (this._scrollNoise = 0),
                    (this._img.uni().noise.value = this._scrollNoise))
                  : ((this._img.uni().bright.value = 0),
                    this._img.alpha(this._rate.val),
                    (this._img.uni().noise.value = _.map(
                      this._rate.val,
                      1,
                      0,
                      0,
                      1
                    ))),
                o ? this.render() : void 0
              );
            }
          }),
          (e.prototype.render = function () {
            var t, e;
            return (
              (e = this.opt.renderer),
              (t = this.opt.camera),
              e.setClearColor(16777215, 0),
              this._imgScene.render(e, t),
              this._maskScene.render(e, t)
            );
          }),
          (e.prototype._resize = function () {
            var t, i;
            return (
              e.__super__._resize.call(this),
              (i = s.sw()),
              (t = s.sh()),
              s.useScreen() && (t = screen.height),
              this._plane.scale.set(i, t, 1),
              this._img.size(Math.max(i, t)),
              (this._plane.material.opacity = s.isLG() ? 1 : 0),
              s.isLG() ? this._imgScene.size(i, t) : this._imgScene.size(i, t),
              this._maskScene.size(i, t),
              this._dest.scale.set(i, t, 1),
              this.render()
            );
          }),
          (e.prototype.getMaskShapeGeo = function (t, e) {
            var i, n, r, s, o, a, h;
            return (
              (t = t || 1),
              (e = e || new THREE.Vector2(0, 0)),
              (s = new THREE.Shape()),
              (o = 1),
              (a = 0.5 * o),
              (h = 0.5 * o),
              (i = n = 0.01 * e.x),
              (r = 0),
              (t *= 0.01),
              (i *= t),
              (n *= t),
              (r *= t),
              t < 0 ? (i *= 2) : (n *= 2),
              (r = Math.abs(r)),
              s.moveTo(-a, h),
              s.quadraticCurveTo(-a, e.y, -a, -h),
              s.moveTo(-a, -h),
              s.quadraticCurveTo(0, -h + r, a, -h),
              s.moveTo(a, -h),
              s.quadraticCurveTo(a + n, e.y, a, h),
              s.moveTo(a, h),
              s.quadraticCurveTo(0, h - r, -a, h),
              s.moveTo(-a, h),
              new THREE.ShapeBufferGeometry(s)
            );
          }),
          (e.prototype.isPrev = function () {
            return this.opt.isPrev;
          }),
          (e.prototype.isNext = function () {
            return this.opt.isNext;
          }),
          (e.prototype.isNow = function () {
            return this.opt.isNow;
          }),
          e
        );
      })(h)),
      (t.exports = c);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _,
      g,
      v,
      y = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      x = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) w.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      w = {}.hasOwnProperty;
    (v = i(3)),
      (g = i(9)),
      (o = i(8)),
      (f = i(7)),
      (s = i(1)),
      (c = i(4)),
      (m = i(5)),
      (a = i(2)),
      (_ = i(6)),
      (u = i(14)),
      (n = i(21)),
      (l = i(32)),
      (p = i(33)),
      (r = i(55)),
      (h = i(56)),
      (d = (function (t) {
        function e(t) {
          (this.isPreDetail = y(this.isPreDetail, this)),
            (this.getCenterItem = y(this.getCenterItem, this)),
            (this.getMapInfo = y(this.getMapInfo, this)),
            (this.resetDetail = y(this.resetDetail, this)),
            (this.resetMgrPos = y(this.resetMgrPos, this)),
            (this._resize = y(this._resize, this)),
            (this._updateBtn = y(this._updateBtn, this)),
            (this._update = y(this._update, this)),
            (this.show = y(this.show, this)),
            (this._eMouseUp = y(this._eMouseUp, this)),
            (this._eMouseDown = y(this._eMouseDown, this)),
            (this._eCloseAreaClick = y(this._eCloseAreaClick, this)),
            (this._eCloseAreaMouseOut = y(this._eCloseAreaMouseOut, this)),
            (this._eCloseAreaMouseOver = y(this._eCloseAreaMouseOver, this)),
            (this._eChangedDetail = y(this._eChangedDetail, this)),
            (this._eClickToDetail = y(this._eClickToDetail, this)),
            (this._eClickWorkForXS = y(this._eClickWorkForXS, this)),
            (this._eClickWork = y(this._eClickWork, this)),
            (this.closeDetail = y(this.closeDetail, this)),
            (this.setFastDetail = y(this.setFastDetail, this)),
            (this.setDetail = y(this.setDetail, this)),
            (this.showItemInfo = y(this.showItemInfo, this)),
            (this.init = y(this.init, this)),
            e.__super__.constructor.call(this, t),
            (this._mouse = {
              start: new THREE.Vector2(),
              tg: new THREE.Vector2(),
              isDown: !1,
              dragCnt: 0,
            }),
            (this._posTable = []),
            (this._offsetScale = { val: 1 }),
            (this._basePos = new THREE.Vector3()),
            (this._isClick = !1),
            this._closearea,
            this._cloud,
            this.map,
            (this.centerItem = null),
            this.onClickItem,
            this.onCloseItem,
            this.onToDetail,
            this.onShowedDetail,
            this.onCloseDetail;
        }
        return (
          x(e, t),
          (e.prototype.init = function () {
            var t, i, n, s, o;
            for (
              this._bgColor = 16513786,
                this._pageId = _.PAGE.PORTFOLIO,
                s = this._data,
                t = i = 0,
                n = s.length;
              i < n;
              t = ++i
            )
              (o = s[t]), this._btns.push(o.btn);
            return (
              e.__super__.init.call(this),
              (this._detail = new p({
                camera: this.camera,
                renderer: this.renderer,
                data: pfdata,
                parent: this,
              })),
              this._detail.init(),
              (this._detail.onChanged = this._eChangedDetail),
              this.mainScene.add(this._detail),
              (this._cloud = new r({ pageId: this._pageId })),
              this._cloud.init(),
              this.mainScene.add(this._cloud),
              (this._closearea = $(".p-pf_closearea")),
              this._closearea
                .addClass("is-none")
                .on("mouseover", this._eCloseAreaMouseOver)
                .on("mouseout", this._eCloseAreaMouseOut)
                .on("click", this._eCloseAreaClick),
              this._resize(),
              this._update()
            );
          }),
          (e.prototype.showItemInfo = function (t) {
            var e, i, n, r, s;
            for (
              a.clickable(!1),
                this._cloud.hide({ delay: 0 }),
                r = this._itemMgr,
                e = i = 0,
                n = r.length;
              i < n;
              e = ++i
            )
              (s = r[e]), s.workId !== t.mgr.workId && s.hideFast();
            if (
              (t.mgr.toDetail(),
              m.a(this._offsetScale, { val: 1 }, 1, 0, Power3.easeInOut),
              this._detail.show({ mgr: t.mgr, delay: 2.5 }),
              null != this.onToDetail)
            )
              return this.onToDetail(t);
          }),
          (e.prototype.setDetail = function (t) {
            if (
              (e.__super__.setDetail.call(this, t),
              a.clickable(!0),
              this._detail.firstSetUp(t),
              (this._dest.visible = !1),
              null != this.onShowedDetail)
            )
              return this.onShowedDetail({ workId: t.workId });
          }),
          (e.prototype.setFastDetail = function (t) {
            var e, i, n, r, s, o, h, l, u;
            for (
              a.clickable(!1),
                this.show(t),
                this._isClick = !0,
                s = this.getItemMgr(t.detailId),
                r = this._itemMgr[s.key],
                l = r.position.x * -1,
                u = r.position.y * -1,
                this._basePos.x = this._mouse.tg.x = l,
                this._basePos.y = this._mouse.tg.y = u,
                this._offsetScale.val = 1,
                o = this._itemMgr,
                e = i = 0,
                n = o.length;
              i < n;
              e = ++i
            )
              (h = o[e]), h.workId !== r.workId && h.hideFast();
            return (
              this._closearea.addClass("is-none"),
              this._cloud.hide({ delay: 0 }),
              r.toDetail({ isFast: !0 }),
              this._detail.show({ mgr: r, delay: 0 })
            );
          }),
          (e.prototype.closeDetail = function () {
            var t, i, n, r, s;
            for (
              e.__super__.closeDetail.call(this),
                this._isClick = !1,
                r = this._itemMgr,
                t = i = 0,
                n = r.length;
              i < n;
              t = ++i
            )
              (s = r[t]), s.setNormal();
            if (
              ((this._dest.visible = !0),
              this._detail.hide(),
              this._cloud.show({ delay: 0 }),
              null != this.onCloseDetail)
            )
              return this.onCloseDetail();
          }),
          (e.prototype._eClickWork = function (t) {
            var i, n, r, s, o, h, l, u, c, p;
            if ((e.__super__._eClickWork.call(this, t), !this._isClick)) {
              if (((this._isClick = !0), a.isXS()))
                return void this._eClickWorkForXS(t);
              for (o = this._itemMgr, n = r = 0, s = o.length; r < s; n = ++r)
                (u = o[n]), u.workId !== t.workId && u.hide({ delay: 0 });
              return (
                (c = t.position.x * -1),
                (p = t.position.y * -1),
                (h = 1.75),
                (l = 1.5),
                (i = Power3.easeInOut),
                m.a(
                  this._basePos,
                  { x: this._basePos.x + c, y: this._basePos.y + p },
                  l,
                  0,
                  i
                ),
                m.a(this._offsetScale, { val: h }, l, 0, i),
                this._closearea.removeClass("is-none"),
                null != this.onClickItem ? this.onClickItem(t) : void 0
              );
            }
          }),
          (e.prototype._eClickWorkForXS = function (t) {
            var e, i, n, r, s, o, h, l, u;
            for (
              this._closearea.addClass("is-none"),
                a.clickable(!1),
                this._cloud.hide({ delay: 0 }),
                s = this._itemMgr,
                i = n = 0,
                r = s.length;
              n < r;
              i = ++n
            )
              (h = s[i]), h.workId !== t.workId && h.hide({ delay: 0 });
            if (
              (t.toDetail(),
              (l = t.position.x * -1),
              (u = t.position.y * -1),
              (o = 1.5),
              (e = Power3.easeInOut),
              m.a(
                this._basePos,
                { x: this._basePos.x + l, y: this._basePos.y + u },
                o,
                0,
                e
              ),
              m.a(this._offsetScale, { val: 1 }, o, 0, e),
              this._detail.show({ mgr: t, delay: 1.5 }),
              null != this.onToDetail)
            )
              return this.onToDetail({ mgr: t });
          }),
          (e.prototype._eClickToDetail = function (t) {
            return (
              e.__super__._eClickToDetail.call(this, t),
              this._closearea.addClass("is-none"),
              this.showItemInfo({ mgr: t })
            );
          }),
          (e.prototype._eChangedDetail = function (t) {
            if (null != this.onShowedDetail)
              return this.onShowedDetail({ workId: t.workId });
          }),
          (e.prototype._eCloseAreaMouseOver = function (t) {
            return router.mouse.setMode(_.MOUSE.CLOSE);
          }),
          (e.prototype._eCloseAreaMouseOut = function (t) {
            return router.mouse.setMode(_.MOUSE.NORMAL);
          }),
          (e.prototype._eCloseAreaClick = function (t) {
            var e, i, n, r, s, o, a;
            if (this._isClick) {
              for (
                this._isClick = !1, s = this._itemMgr, i = n = 0, r = s.length;
                n < r;
                i = ++n
              )
                (a = s[i]), (a.isClick = !1), a.show({ delay: 0 });
              return (
                (o = 2),
                (e = Power3.easeOut),
                m.a(this._offsetScale, { val: 1 }, o, 0, e),
                this._closearea.addClass("is-none"),
                null != this.onCloseItem ? this.onCloseItem() : void 0
              );
            }
          }),
          (e.prototype._eMouseDown = function () {
            if ((e.__super__._eMouseDown.call(this), !this._isClick))
              return (
                (this._mouse.dragCnt = 10),
                (this._mouse.isDown = !0),
                this._mouse.start.set(this._basePos.x, this._basePos.y),
                null != this.map ? this.map.setSelected() : void 0
              );
          }),
          (e.prototype._eMouseUp = function () {
            var t;
            if ((e.__super__._eMouseUp.call(this), !this._isClick))
              return (
                (this._mouse.isDown = !1),
                (t = 0.5),
                (this._mouse.tg.x += u.follow.x),
                null != this.map ? this.map.setNormal() : void 0
              );
          }),
          (e.prototype.show = function (t) {
            var i, n, r, s, o, a, h, l, u, c, p;
            for (
              e.__super__.show.call(this, t),
                null == t.isPageMove && (t.isPageMove = !1),
                this.fps = _.FPS.HIGH,
                this.isRender = !0,
                l = 2,
                i = t.isPageMove ? t.delay + 0.5 : t.delay + 0,
                n = Power1.easeInOut,
                t.isFastDetail && ((l = 0.1), (i = 0)),
                h = this._itemMgr,
                r = s = 0,
                o = h.length;
              s < o;
              r = ++s
            )
              (u = h[r]),
                u.show({
                  delay: i,
                  interval: 0.375,
                  isFirst: !0,
                  isFast: t.isFastDetail,
                });
            return (
              m.a(this._offsetScale, { val: [0.5, 1] }, l, i, n, t.onStart),
              this._update(),
              this.resetMgrPos(),
              (a = this._itemMgr[0]),
              (c = a.position.x * -1),
              (p = a.position.y * -1),
              (this._basePos.x = c),
              (this._basePos.y = p),
              (this._mouse.tg.x = this._basePos.x),
              (this._mouse.tg.y = this._basePos.y),
              this._cloud.show({ delay: i }),
              m.a(
                this._showRate,
                { val: [0, 1] },
                l,
                i,
                n,
                null,
                null,
                (function (e) {
                  return function () {
                    if (((e.fps = _.FPS.MID), null != t.onComplete))
                      return t.onComplete();
                  };
                })(this)
              )
            );
          }),
          (e.prototype._update = function () {
            var t,
              i,
              n,
              r,
              o,
              h,
              l,
              p,
              d,
              f,
              m,
              _,
              v,
              y,
              x,
              w,
              b,
              T,
              E,
              S,
              M,
              C,
              P,
              A,
              R,
              L;
            if (this.isPage()) {
              for (
                L = a.sw(),
                  o = a.sh(),
                  A = 100,
                  this._mouse.isDown && !this._isClick
                    ? ((f = 1),
                      s.IS_SP && (f = 3),
                      (this._mouse.tg.x =
                        this._mouse.start.x - u.moveDist.x * f),
                      (this._mouse.tg.y =
                        this._mouse.start.y + u.moveDist.y * f),
                      (b = 0.1),
                      (c.dragPower.x += (u.moveDist.x - c.dragPower.x) * b),
                      (c.dragPower.y += (u.moveDist.y - c.dragPower.y) * b),
                      this._mouse.dragCnt < 0
                        ? (A = 75)
                        : this._mouse.dragCnt--)
                    : ((c.dragPower.x += 0.1 * (0 - c.dragPower.x)),
                      (c.dragPower.y += 0.1 * (0 - c.dragPower.y))),
                  c.portfolio.allScale.value +=
                    0.075 * (A - c.portfolio.allScale.value),
                  n = 0.6,
                  s.IS_SP && (n = 1),
                  T = -(this._area.x - L) * n,
                  x = (this._area.x - L) * n,
                  E = -(this._area.y - o) * n,
                  w = (this._area.y - o) * n,
                  r = 0.7,
                  this._mouse.tg.x > x &&
                    !this._isClick &&
                    (this._mouse.tg.x =
                      this._mouse.tg.x - (this._mouse.tg.x - x) * r),
                  this._mouse.tg.x < T &&
                    !this._isClick &&
                    (this._mouse.tg.x =
                      this._mouse.tg.x - (this._mouse.tg.x - T) * r),
                  this._mouse.tg.y > w &&
                    !this._isClick &&
                    (this._mouse.tg.y =
                      this._mouse.tg.y - (this._mouse.tg.y - w) * r),
                  this._mouse.tg.y < E &&
                    !this._isClick &&
                    (this._mouse.tg.y =
                      this._mouse.tg.y - (this._mouse.tg.y - E) * r),
                  this._isClick ||
                    ((i = a.val(0.15, 0.075)),
                    (this._basePos.x +=
                      (this._mouse.tg.x - this._basePos.x) * i),
                    (this._basePos.y +=
                      (this._mouse.tg.y - this._basePos.y) * i)),
                  a.useScreen()
                    ? ((this._worksCon.position.y = 0.5 * (screen.height - o)),
                      (this._maskCon.position.y = this._worksCon.position.y),
                      (this._maskEtcCon.position.y = this._worksCon.position.y))
                    : (this._worksCon.position.y =
                        this._maskCon.position.y =
                        this._maskEtcCon.position.y =
                          0),
                  g.cnt % 10 === 0 && (this.centerItem = this.getCenterItem()),
                  t = Math.max(
                    s.SCALE_MIN,
                    0.01 * c.portfolio.allScale.value * this._offsetScale.val
                  ),
                  this._worksCon.scale.set(t, t, 1),
                  this._maskCon.scale.set(t, t, 1),
                  this._maskEtcCon.scale.set(t, t, 1),
                  l = a.isXS() ? 0.8 * L : L * c.portfolio.scale.value * 0.01,
                  M = this._worksItem,
                  h = p = 0,
                  _ = M.length;
                p < _;
                h = ++p
              )
                (R = M[h]), R.setItemSize(l);
              for (C = this._maskItem, h = d = 0, v = C.length; d < v; h = ++d)
                (R = C[h]), R.setSize(l);
              for (P = this._itemMgr, h = m = 0, y = P.length; m < y; h = ++m)
                (R = P[h]),
                  (S = this._posTable[h]),
                  null != S &&
                    R.resize(
                      this._basePos.x + S.x,
                      this._basePos.y + S.y,
                      S.w,
                      S.h
                    ),
                  null != this.centerItem &&
                    R.checkCenter(
                      R.workId === this.centerItem.workId && a.isXS()
                    );
              return this._updateBtn(), e.__super__._update.call(this);
            }
          }),
          (e.prototype._updateBtn = function () {
            var t, e, i, n, r, s, o, h, l, u, p, d, f;
            if (g.cnt % 10 === 0 && this._dest.visible) {
              for (
                d = a.sw(),
                  r = a.sh(),
                  t = 0.01 * c.portfolio.allScale.value * this._offsetScale.val,
                  l = this._itemMgr,
                  u = [],
                  s = o = 0,
                  h = l.length;
                o < h;
                s = ++o
              )
                (p = l[s]),
                  (e = this._btns[s]),
                  (n = p.radius * t * 2),
                  (i = p.radius * t * 2),
                  (f = a.useScreen()
                    ? p.position.y * t * -1 + 0.5 * r - 0.5 * i
                    : p.position.y * t * -1 + 0.5 * r - 0.5 * i),
                  u.push(
                    m.set(e, {
                      x: p.position.x * t + 0.5 * d - 0.5 * n,
                      y: f,
                      width: n,
                      height: i,
                    })
                  );
              return u;
            }
          }),
          (e.prototype._resize = function () {
            var t, i, n, r, s, o, h, l;
            for (
              e.__super__._resize.call(this),
                l = a.sw(),
                r = a.sh(),
                this.isPreDetail() && this.resetDetail(),
                a.isXS()
                  ? (n = 1.25 * l)
                  : ((n = l * c.portfolio.scale.value * 0.01), (n += 1.25 * n)),
                i = ~~Math.sqrt(this._itemMgr.length) + 1,
                t = new THREE.Vector2(n * i, n * i),
                this._posTable = [],
                s = 0;
              s < i;

            ) {
              for (o = 0; o < i; )
                (h = {
                  x: s * n - 0.5 * t.x + 0.5 * n,
                  y: o * -n + 0.5 * t.y - 0.5 * n,
                  w: n,
                  h: n,
                }),
                  s % 2 === 0 && (h.y -= 0.5 * n),
                  (h.x += v.range(0.1 * n)),
                  this._posTable.push(h),
                  o++;
              s++;
            }
            return (
              v.shuffle(this._posTable),
              this.resetMgrPos(),
              (this._area.x = t.x),
              (this._area.y = t.y),
              this.render()
            );
          }),
          (e.prototype.resetMgrPos = function () {
            var t, e, i, n, r, s, o;
            for (
              r = this._itemMgr, s = [], t = e = 0, i = r.length;
              e < i;
              t = ++e
            )
              (o = r[t]),
                (n = this._posTable[t]),
                s.push(o.resize(n.x, n.y, n.w, n.h, !0));
            return s;
          }),
          (e.prototype.resetDetail = function () {
            return (
              e.__super__.resetDetail.call(this),
              this._closearea.addClass("is-none"),
              this._page._info.clear(),
              m.set(this._offsetScale, { val: 1 })
            );
          }),
          (e.prototype.getMapInfo = function () {
            return {
              area: this._area,
              basePos: this._basePos,
              items: this._posTable,
            };
          }),
          (e.prototype.getCenterItem = function () {
            var t, e, i, n, r, s, o, h, l, u;
            for (
              o = 99999,
                n = null,
                t = new THREE.Vector3(0, 0, 0),
                h = this._itemMgr,
                i = r = 0,
                s = h.length;
              r < s;
              i = ++r
            )
              (u = h[i]),
                (l = u.position.clone()),
                (l.x *= -1),
                (l.y *= -1),
                (e = t.distanceTo(l)),
                e < o && ((o = e), (n = u));
            return null != n && o < 0.3 * Math.min(a.sw(), a.sh()) ? n : null;
          }),
          (e.prototype.isPreDetail = function () {
            return !this._closearea.hasClass("is-none");
          }),
          e
        );
      })(l)),
      (t.exports = d);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _,
      g,
      v,
      y,
      x,
      w,
      b,
      T,
      E,
      S = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      M = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) C.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      C = {}.hasOwnProperty;
    (w = i(3)),
      (x = i(9)),
      (o = i(8)),
      (f = i(7)),
      (b = i(13)),
      (s = i(1)),
      (p = i(4)),
      (v = i(5)),
      (a = i(2)),
      (y = i(6)),
      (c = i(14)),
      (n = i(21)),
      (r = i(20)),
      (m = i(27)),
      (h = i(15)),
      (T = i(34)),
      (E = i(35)),
      (l = i(32)),
      (d = i(33)),
      (u = i(59)),
      (g = i(68)),
      (_ = (function (t) {
        function e(t) {
          (this.getListIndicator = S(this.getListIndicator, this)),
            (this.isShow = S(this.isShow, this)),
            (this._resize = S(this._resize, this)),
            (this.resizeTop = S(this.resizeTop, this)),
            (this._eUpdateIndicatorMove = S(this._eUpdateIndicatorMove, this)),
            (this._eClickXsIndicator = S(this._eClickXsIndicator, this)),
            (this._updateItemPosForXS = S(this._updateItemPosForXS, this)),
            (this._eCompleteSwipe = S(this._eCompleteSwipe, this)),
            (this._moveItemForXS = S(this._moveItemForXS, this)),
            (this._updateBtn = S(this._updateBtn, this)),
            (this._update = S(this._update, this)),
            (this.moveDist = S(this.moveDist, this)),
            (this.rate = S(this.rate, this)),
            (this.nowItemId = S(this.nowItemId, this)),
            (this.show = S(this.show, this)),
            (this.closeDetail = S(this.closeDetail, this)),
            (this._eChangedDetail = S(this._eChangedDetail, this)),
            (this.setDetail = S(this.setDetail, this)),
            (this._eClickWork = S(this._eClickWork, this)),
            (this._eSwipe = S(this._eSwipe, this)),
            (this._eMouseUp = S(this._eMouseUp, this)),
            (this._eMouseDown = S(this._eMouseDown, this)),
            (this.setItem = S(this.setItem, this)),
            (this.startScroll = S(this.startScroll, this)),
            (this._eWheel = S(this._eWheel, this)),
            (this.init = S(this.init, this)),
            e.__super__.constructor.call(this, t),
            (this._mouse = {
              start: new THREE.Vector2(),
              tg: new THREE.Vector2(),
              isDown: !1,
              cnt: 0,
              bufferTg: new THREE.Vector2(),
            }),
            (this._topParam = {
              nowItemId: 0,
              radius: 0.2 * a.sw(),
              angle: 0,
              oldAngle: 0,
              speed: 0,
              tgSpeed: 0,
              offsetAngle: new b(0),
              isMove: !1,
              wheelCnt: 0,
            }),
            (this._showScale = new b(0)),
            (this._showMaskScale = new b(0)),
            (this._detailRate = new b(0)),
            this._dtActItem,
            this._listIndicator,
            (this._itemShowRate = []),
            (this._isDetail = !1),
            (this._isShow = !1),
            (this._isReadyDetail = !1),
            (this._detailDom = t.detailDom),
            (this._xsParam = {
              now: 0,
              prev: 4,
              next: 1,
              nextId: -1,
              basePos: new THREE.Vector2(),
              basePosBuf: new THREE.Vector2(),
              downPos: new THREE.Vector2(),
              swipeDist: 0,
              isSwiping: !1,
              isMoveIndicator: !1,
              offsetForIndicator: new THREE.Vector2(),
            }),
            (this._allScaleOffset = new b(0)),
            (this._clickBlock = new b(0)),
            this._xsIndicator,
            (this.isHoverList = !1),
            this.onStartDetail,
            this.onShowedDetail,
            this.onCloseDetail,
            this.onClickIndicator,
            this.onMoveStart;
        }
        return (
          M(e, t),
          (e.prototype.init = function () {
            var t, i, n, r, o, a, h, l;
            for (
              this._pageId = y.PAGE.TOP,
                a = this._data,
                t = i = 0,
                r = a.length;
              i < r;
              t = ++i
            )
              (l = a[t]), this._btns.push(l.btn);
            for (
              e.__super__.init.call(this),
                h = this._itemMgr,
                t = n = 0,
                o = h.length;
              n < o;
              t = ++n
            )
              (l = h[t]), this._itemShowRate.push(new b(0));
            if (
              ((this._detail = new d({
                camera: this.camera,
                renderer: this.renderer,
                dom: this._detailDom,
                data: topdata,
                parent: this,
              })),
              this._detail.init(),
              (this._detail.onChanged = this._eChangedDetail),
              this.mainScene.add(this._detail),
              (this._listIndicator = new u({ data: topdata })),
              this._listIndicator.init(),
              this.mainScene.add(this._listIndicator),
              (this._xsIndicator = new g()),
              this._xsIndicator.init(),
              (this._xsIndicator.onClick = this._eClickXsIndicator),
              this.mainScene.add(this._xsIndicator),
              this._resize(),
              this._update(),
              (this.isRender = !1),
              s.IS_PC)
            )
              return window.addEventListener("wheel", this._eWheel, {
                passive: !1,
              });
          }),
          (e.prototype._eWheel = function (t) {
            var e, i;
            if (
              !p.isHover &&
              this.isPage() &&
              !this._isDetail &&
              this._isShow &&
              !a.isXS() &&
              !p.openMenu &&
              (event.preventDefault(),
              !(this._topParam.isMove || this._topParam.wheelCnt++ < 0))
            )
              return (
                (i =
                  Math.abs(t.deltaY) > Math.abs(t.deltaX)
                    ? t.deltaY
                    : t.deltaX * -1),
                (e = Math.abs(i)),
                e >= 10
                  ? i > 0
                    ? this.startScroll(!0)
                    : this.startScroll(!1)
                  : void 0
              );
          }),
          (e.prototype.startScroll = function (t, e) {
            var i, n, r, s, o;
            if (!this._topParam.isMove && !a.isXS())
              return (
                null != this.onMoveStart &&
                  ((r = this.nowItemId()),
                  t
                    ? ((r += 1), r >= this._itemMgr.length && (r = 0))
                    : ((r -= 1), r < 0 && (r = this._itemMgr.length - 1)),
                  this.onMoveStart({ now: r })),
                (this._topParam.isMove = !0),
                null == e && (e = !1),
                (i = 360 / this._itemMgr.length),
                (o = 0.65),
                (n = Power4.easeInOut),
                e
                  ? ((s = t
                      ? this._mouse.bufferTg.x + i
                      : this._mouse.bufferTg.x - i),
                    (o = 0.5),
                    (n = Power4.easeOut))
                  : (s = t ? this._mouse.tg.x + i : this._mouse.tg.x - i),
                $(".p-top_itemBtn").addClass("is-noPointer"),
                v.a(
                  this._mouse.tg,
                  { x: s },
                  o,
                  0,
                  n,
                  null,
                  null,
                  (function (t) {
                    return function () {
                      return (
                        (t._topParam.isMove = !1),
                        (t._topParam.wheelCnt = -10),
                        $(".p-top_itemBtn").removeClass("is-noPointer")
                      );
                    };
                  })(this)
                ),
                e
                  ? void 0
                  : v.a(
                      this._allScaleOffset,
                      { val: [0, 1] },
                      0.5 * o,
                      0,
                      Power2.easeIn,
                      null,
                      null,
                      (function (t) {
                        return function () {
                          return v.a(
                            t._allScaleOffset,
                            { val: [1, 0] },
                            0.5 * o,
                            0,
                            Power2.easeOut
                          );
                        };
                      })(this)
                    )
              );
          }),
          (e.prototype.setItem = function (t) {
            var e, i, n;
            if (!this._topParam.isMove)
              return (
                (this._topParam.isMove = !0),
                (this._topParam.nowItemId = t),
                (i = t * (360 / this._itemMgr.length)),
                (n = Math.round(this._mouse.tg.x / 360)),
                (e = 360 * n + i),
                v.a(
                  this._mouse.tg,
                  { x: e },
                  0.65,
                  0,
                  Power4.easeInOut,
                  null,
                  null,
                  (function (t) {
                    return function () {
                      return (t._topParam.isMove = !1);
                    };
                  })(this)
                )
              );
          }),
          (e.prototype._eMouseDown = function () {
            if (
              !p.isHover &&
              !this._isDetail &&
              this._isShow &&
              !this._topParam.isMove &&
              this.isPage()
            )
              return (
                (this._mouse.isDown = !0),
                (this._mouse.cnt = 10),
                this._mouse.start.set(
                  this._topParam.angle,
                  this._topParam.angle
                ),
                this._xsParam.downPos.set(c.three.x, c.three.y),
                this._xsParam.basePosBuf.copy(this._xsParam.basePos),
                this._mouse.bufferTg.copy(this._mouse.tg),
                v.a(
                  this._clickBlock,
                  { val: [0, 1] },
                  0.2,
                  0,
                  Power0.easeNone,
                  null,
                  null,
                  (function (t) {
                    return function () {
                      return $(".p-top_itemBtn").addClass("is-noPointer");
                    };
                  })(this)
                )
              );
          }),
          (e.prototype._eMouseUp = function () {
            var t;
            if (
              !this._isDetail &&
              this._isShow &&
              !this._topParam.isMove &&
              this.isPage() &&
              this._mouse.isDown &&
              ((this._mouse.isDown = !1),
              v.kill(this._clickBlock),
              $(".p-top_itemBtn").removeClass("is-noPointer"),
              !this._isReadyDetail)
            )
              return (
                (t = Math.abs(c.follow.x)),
                t >= 2
                  ? (s.IS_SP && a.isLG() && (c.follow.x *= -1),
                    c.follow.x < 0
                      ? this.startScroll(!0, !0)
                      : this.startScroll(!1, !0))
                  : !this.isHoverList && s.IS_PC
                  ? ((this._topParam.isMove = !0),
                    v.a(
                      this._mouse.tg,
                      { x: this._mouse.bufferTg.x },
                      0.25,
                      0,
                      Power4.easeOut,
                      null,
                      null,
                      (function (t) {
                        return function () {
                          return (t._topParam.isMove = !1);
                        };
                      })(this)
                    ))
                  : void 0
              );
          }),
          (e.prototype._eSwipe = function (t) {
            if (
              (e.__super__._eSwipe.call(this, t),
              !this._xsParam.isSwiping &&
                !a.isLG() &&
                this.isPage() &&
                !this._xsParam.isMoveIndicator)
            )
              return (this._xsParam.isSwiping = !0), this._moveItemForXS(t.x);
          }),
          (e.prototype._eClickWork = function (t) {
            var i, n, r, s, o, h;
            if (
              !$(".p-top_itemBtn").hasClass("is-noPointer") &&
              (e.__super__._eClickWork.call(this, t), !this._isReadyDetail)
            ) {
              for (
                this._isReadyDetail = !0,
                  this._dtActItem = t,
                  a.clickable(!1),
                  s = this._itemMgr,
                  i = n = 0,
                  r = s.length;
                n < r;
                i = ++n
              )
                (h = s[i]), h.workId !== t.workId && h.hide({ delay: 0 });
              return (
                this._listIndicator.hide({ delay: 0 }),
                this._xsIndicator.hide({}),
                (o = a.val(1, 1.5)),
                v.a(this._detailRate, { val: [0, 1] }, o, 0, Power2.easeInOut),
                t.toDetail({ delay2: 0.5, delayB: 0 }),
                this._detail.show({ mgr: t, delay: a.val(1, 1) }),
                null != this.onStartDetail ? this.onStartDetail(t) : void 0
              );
            }
          }),
          (e.prototype.setDetail = function (t) {
            if (
              (e.__super__.setDetail.call(this, t),
              a.clickable(!0),
              this._detail.firstSetUp(t),
              (this._dest.visible = !1),
              null != this.onShowedDetail)
            )
              return this.onShowedDetail({ workId: t.workId });
          }),
          (e.prototype._eChangedDetail = function (t) {
            if (null != this.onShowedDetail)
              return this.onShowedDetail({ workId: t.workId });
          }),
          (e.prototype.closeDetail = function () {
            var t, i, n, r, s, o;
            for (
              e.__super__.closeDetail.call(this),
                this._isClick = !1,
                s = this._itemMgr,
                i = n = 0,
                r = s.length;
              n < r;
              i = ++n
            )
              (o = s[i]), o.setNormal();
            if (
              ((this._dest.visible = !0),
              this._detail.hide(),
              (this._dtActItem = null),
              (this._detailRate.val = 0),
              (this._topParam.angle = this._mouse.tg.x = 0),
              (t = 1),
              this._listIndicator.show({ delay: t }),
              this._xsIndicator.show({ delay: t }),
              null != this.onCloseDetail)
            )
              return this.onCloseDetail();
          }),
          (e.prototype.show = function (t) {
            var i, n, r, s, o, h, l, u;
            for (
              e.__super__.show.call(this, t),
                this._isDetail = !1,
                this._isReadyDetail = !1,
                this.isRender = !0,
                a.clickable(!1),
                this._mouse.tg.x = 0,
                this._topParam.angle = 0,
                this._showScale.val = this._showMaskScale.val = 1,
                l = 2,
                i = t.delay,
                n = Power1.easeInOut,
                h = this._itemMgr,
                r = s = 0,
                o = h.length;
              s < o;
              r = ++s
            )
              (u = h[r]), u.show({ delay: i, interval: 0.2, isFirst: !0 });
            return (
              v.a(
                this._showRate,
                { val: [0, 1] },
                l,
                i,
                n,
                t.onStart,
                null,
                (function (e) {
                  return function () {
                    if (
                      ((e.fps = y.FPS.MID),
                      a.clickable(!0),
                      (e._isShow = !0),
                      null != t.onComplete)
                    )
                      return t.onComplete();
                  };
                })(this)
              ),
              this._listIndicator.show({ delay: i + 0.5 * l }),
              v.a(this._topParam.offsetAngle, { val: [-3, 0] }, 0.75 * l, i, n),
              this._xsIndicator.show({ delay: i + 0.5 * l })
            );
          }),
          (e.prototype.nowItemId = function () {
            var t, e;
            return this._topParam.isMove
              ? -1
              : ((t = ~~(360 / this._itemMgr.length)),
                (e =
                  this._topParam.angle < 0
                    ? ~~(((Math.abs(this._topParam.angle) + 0.5 * t) % 360) / t)
                    : ~~(
                        ((Math.abs(this._topParam.angle) + 0.5 * t) % 360) /
                        t
                      )),
                this._topParam.angle < 0 && (e = this._itemMgr.length - 0 - e),
                e % this._itemMgr.length);
          }),
          (e.prototype.rate = function () {
            var t;
            return (
              (t = (this._topParam.angle + 33.5) % 360),
              t < 0 && (t = 360 + t),
              t
            );
          }),
          (e.prototype.moveDist = function () {
            return Math.abs(this._mouse.tg.x - this._topParam.angle);
          }),
          (e.prototype._update = function () {
            var t,
              i,
              n,
              r,
              o,
              h,
              l,
              u,
              d,
              f,
              m,
              _,
              g,
              v,
              y,
              x,
              b,
              T,
              E,
              S,
              M,
              C,
              P;
            if (((C = a.sw()), (u = a.sh()), this.isPage())) {
              for (
                this._listIndicator.position.x =
                  0.5 * -C - a.r(p.list.posX.value),
                  this._listIndicator.position.y = 0.5 * -u + p.list.posY.value,
                  this._listIndicator.setAngle(this.rate()),
                  h =
                    1 * this._topParam.radius - C * p.top.offsetX.value * 0.01,
                  l =
                    this._topParam.radius * -1 + u * p.top.offsetY.value * 0.01,
                  a.isXS() && (h = l = 0),
                  a.useScreen() && (l = 0.5 * (screen.height - u)),
                  i = 0,
                  n = 0,
                  null != this._dtActItem &&
                    ((i = this._dtActItem.position.x * -1),
                    (n = this._dtActItem.position.y * -1),
                    a.useScreen() &&
                      (n =
                        0.5 * (screen.height - u) +
                        this._dtActItem.position.y * -1)),
                  h = w.mix(h, i, this._detailRate.val),
                  l = w.mix(l, n, this._detailRate.val),
                  this._worksCon.position.x = h,
                  this._worksCon.position.y = l,
                  r = 0.075,
                  o = 0.175,
                  this._maskCon.position.x +=
                    (this._worksCon.position.x - this._maskCon.position.x) * r,
                  this._maskCon.position.y +=
                    (this._worksCon.position.y - this._maskCon.position.y) * r,
                  this._maskEtcCon.position.x +=
                    (this._worksCon.position.x - this._maskEtcCon.position.x) *
                    o,
                  this._maskEtcCon.position.y +=
                    (this._worksCon.position.y - this._maskEtcCon.position.y) *
                    o,
                  t = 0.01 * p.top.allScale.value,
                  P = 1.5 * C * 0.8,
                  x = this._worksItem,
                  d = m = 0,
                  g = x.length;
                m < g;
                d = ++m
              )
                (M = x[d]),
                  M.setItemSize(a.val(P, C * p.img.scale.value * 0.01)),
                  (f = t * this._showScale.val),
                  (T = w.mix(
                    Math.max(s.SCALE_MIN, f),
                    1,
                    this._detailRate.val
                  )),
                  M.scale.set(T, T, 1);
              for (b = this._maskItem, d = _ = 0, v = b.length; _ < v; d = ++_)
                (M = b[d]),
                  M.setSize(a.val(P, C * p.img.scale.value * 0.01)),
                  (y = t * this._showMaskScale.val),
                  (E = w.mix(
                    Math.max(s.SCALE_MIN, y),
                    1,
                    this._detailRate.val
                  )),
                  M.scale.set(E, E, 1);
              return (
                this._mouse.isDown
                  ? ((this._mouse.tg.x =
                      this._mouse.start.x -
                      c.moveDist.x * p.top.dragSpeed.value * 0.001),
                    (S = --this._mouse.cnt < 0 ? 80 : 100))
                  : (S = 100),
                a.isLG()
                  ? (this._moveVal.val = w.map(
                      this._allScaleOffset.val,
                      0,
                      0.75,
                      0,
                      1
                    ))
                  : (this._moveVal.val = 0),
                (S *= w.map(this._allScaleOffset.val, 1, 0.5, 0, 1)),
                (p.top.allScale.value += 0.075 * (S - p.top.allScale.value)),
                (this._topParam.angle +=
                  0.15 * (this._mouse.tg.x - this._topParam.angle)),
                (this._xsIndicator.position.x = 0),
                a.useScreen()
                  ? (this._xsIndicator.position.y =
                      0.5 * (screen.height - u) - 0.5 * u + a.r(70))
                  : (this._xsIndicator.position.y = 0.5 * -u + a.r(70)),
                this.resizeTop(!1),
                this._updateBtn(),
                this._updateItemPosForXS(),
                e.__super__._update.call(this)
              );
            }
          }),
          (e.prototype._updateBtn = function () {
            var t, e, i, n, r, s, o, h, l, u, c, d, f;
            if (x.cnt % 4 === 0) {
              for (
                d = a.sw(),
                  r = a.sh(),
                  t = 0.01 * p.top.allScale.value,
                  l = this._itemMgr,
                  u = [],
                  s = o = 0,
                  h = l.length;
                o < h;
                s = ++o
              )
                (c = l[s]),
                  (e = this._btns[s]),
                  (n = c.radius * t * 2),
                  (i = c.radius * t * 2),
                  (f =
                    c.position.y * t * -1 +
                    0.5 * r -
                    0.5 * i -
                    this._worksCon.position.y),
                  a.useScreen() && (f += 0.5 * (screen.height - r)),
                  u.push(
                    v.set(e, {
                      x:
                        c.position.x * t +
                        0.5 * d -
                        0.5 * n +
                        this._worksCon.position.x,
                      y: f,
                      width: n,
                      height: i,
                    })
                  );
              return u;
            }
          }),
          (e.prototype._moveItemForXS = function (t) {
            var e, i;
            return (
              (this._xsParam.isSwiping = !0),
              (i = a.sw() * s.TOP_XS_INTERVAL),
              t < 0
                ? ((this._xsParam.nextId = this._xsParam.now + 1),
                  this._xsParam.nextId >= this._itemMgr.length &&
                    (this._xsParam.nextId = 0),
                  (e = -i))
                : ((this._xsParam.nextId = this._xsParam.now - 1),
                  this._xsParam.nextId < 0 &&
                    (this._xsParam.nextId = this._itemMgr.length - 1),
                  (e = i)),
              v.a(
                this._xsParam.basePos,
                { x: e },
                s.TOP_SWIPE_PARAM.time,
                0,
                s.TOP_SWIPE_PARAM.ease,
                null,
                null,
                this._eCompleteSwipe
              )
            );
          }),
          (e.prototype._eCompleteSwipe = function () {
            return (
              (this._xsParam.isSwiping = !1),
              (this._xsParam.now = this._xsParam.nextId),
              (this._xsParam.prev = this._xsParam.now - 1),
              this._xsParam.prev < 0 &&
                (this._xsParam.prev = this._itemMgr.length - 1),
              (this._xsParam.next = this._xsParam.now + 1),
              this._xsParam.next >= this._itemMgr.length &&
                (this._xsParam.next = 0),
              (this._xsParam.swipeDist = 0),
              (this._xsParam.basePosBuf.x = 0),
              this._updateItemPosForXS()
            );
          }),
          (e.prototype._updateItemPosForXS = function (t) {
            var e, i, n, r, o, h, l, u, p;
            if (!a.isLG() && !this._xsParam.isMoveIndicator) {
              for (
                null == t && (t = !1),
                  p = a.sw() * s.TOP_XS_INTERVAL,
                  n = a.sh(),
                  i = this._mouse.isDown
                    ? 0.7 * (c.three.x - this._xsParam.downPos.x)
                    : 0,
                  this._xsParam.swipeDist +=
                    0.7 * (i - this._xsParam.swipeDist),
                  this._xsParam.isSwiping ||
                    (this._xsParam.basePos.x =
                      this._xsParam.basePosBuf.x + this._xsParam.swipeDist),
                  e = 3 * Math.min(p, n),
                  l = this._itemMgr,
                  r = o = 0,
                  h = l.length;
                o < h;
                r = ++o
              )
                (u = l[r]),
                  r === this._xsParam.now
                    ? u.resize(this._xsParam.basePos.x, 0, e, e, !0, !0)
                    : r === this._xsParam.prev
                    ? u.resize(this._xsParam.basePos.x - p, 0, e, e, !0, !0)
                    : r === this._xsParam.next
                    ? u.resize(this._xsParam.basePos.x + p, 0, e, e, !0, !0)
                    : u.resize(0, -9999, e, e, !0, !0);
              return this._xsIndicator.setNow(this._xsParam.now);
            }
          }),
          (e.prototype._eClickXsIndicator = function (t) {
            var e, i, n, r, o, h, l, u, c, p, d, f;
            if (!this._xsParam.isMoveIndicator && !this._xsParam.isSwiping) {
              for (
                this._xsParam.isMoveIndicator = !0,
                  f = t.workId,
                  l = this.getItemMgr(f),
                  u = l.key,
                  d = a.sw() * s.TOP_XS_INTERVAL,
                  i = a.sh(),
                  e = 3 * Math.min(d, i),
                  h = this._itemMgr,
                  n = r = 0,
                  o = h.length;
                r < o;
                n = ++r
              )
                (p = h[n]),
                  p.resize(e * n - this._xsParam.now * e, 0, e, e, !0);
              return (
                (this._xsParam.offsetForIndicator.x = this._xsParam.now * e),
                (c = u * e),
                v.a(
                  this._xsParam.offsetForIndicator,
                  { x: c },
                  1,
                  0,
                  Power4.easeInOut,
                  null,
                  this._eUpdateIndicatorMove,
                  (function (t) {
                    return function () {
                      return (
                        (t._xsParam.isMoveIndicator = !1),
                        (t._xsParam.nextId = u),
                        t._eCompleteSwipe()
                      );
                    };
                  })(this)
                ),
                null != this.onClickIndicator
                  ? this.onClickIndicator({ workId: f })
                  : void 0
              );
            }
          }),
          (e.prototype._eUpdateIndicatorMove = function () {
            var t, e, i, n, r, o, h, l, u;
            if (this._xsParam.isMoveIndicator) {
              for (
                u = a.sw() * s.TOP_XS_INTERVAL,
                  e = a.sh(),
                  t = 3 * Math.min(u, e),
                  o = this._itemMgr,
                  h = [],
                  i = n = 0,
                  r = o.length;
                n < r;
                i = ++n
              )
                (l = o[i]),
                  h.push(
                    l.resize(
                      t * i - this._xsParam.offsetForIndicator.x,
                      0,
                      t,
                      t,
                      !0,
                      !0
                    )
                  );
              return h;
            }
          }),
          (e.prototype.resizeTop = function (t) {
            var e, i, n, r, s, o, h, l, u, c, d, f, m, _, g, v, y;
            if (!a.isXS()) {
              for (
                g = a.sw(),
                  n = a.sh(),
                  i = g * p.img.scale.value * 0.01,
                  i += 1 * i,
                  e = Math.max(g, n) * p.top.radius.value * 0.01,
                  l = 0.2 * e,
                  h = e,
                  this._topParam.radius = h,
                  u = (360 / this._itemMgr.length) * -0.35,
                  c = [0, 4, 3, 2, 1],
                  m = [],
                  r = s = 0,
                  o = c.length;
                s < o;
                r = ++s
              )
                (_ = c[r]),
                  (f = h),
                  (d = w.radian(
                    this._topParam.angle +
                      this._topParam.offsetAngle.val +
                      u +
                      (360 / this._itemMgr.length) * r
                  )),
                  (v = Math.sin(d) * f),
                  (y = Math.cos(d) * f),
                  m.push(this._itemMgr[_].resize(v, y, i, i, t));
              return m;
            }
          }),
          (e.prototype._resize = function () {
            var t, i, n, r;
            return (
              e.__super__._resize.call(this),
              (r = a.sw()),
              (i = a.sh()),
              (t = r * p.img.scale.value * 0.01),
              (t += 1 * t),
              (n = 0.2 * r),
              (this._topParam.radius = n),
              this.resizeTop(!0),
              (this._listIndicator.visible = a.isLG()),
              (this._xsIndicator.visible = a.isXS())
            );
          }),
          (e.prototype.isShow = function () {
            return this._isShow;
          }),
          (e.prototype.getListIndicator = function () {
            return this._listIndicator;
          }),
          e
        );
      })(l)),
      (t.exports = _);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      m = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) _.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      _ = {}.hasOwnProperty;
    (o = i(4)),
      (n = i(1)),
      (r = i(2)),
      (l = i(5)),
      (u = i(6)),
      (p = i(3)),
      (c = i(9)),
      (d = i(13)),
      (s = i(16)),
      (h = i(69)),
      (a = (function (t) {
        function e(t) {
          (this._resize = f(this._resize, this)),
            (this._update = f(this._update, this)),
            (this.setNow = f(this.setNow, this)),
            (this.hide = f(this.hide, this)),
            (this.show = f(this.show, this)),
            (this._eClickItem = f(this._eClickItem, this)),
            (this.init = f(this.init, this)),
            e.__super__.constructor.call(this, t),
            (this._item = []),
            this.onClick;
        }
        return (
          m(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              $(".p-top_indicator > .btn > .item").each(
                (function (t) {
                  return function (e, i) {
                    var n, r, s, o;
                    return (
                      (r = $(i)),
                      (o = Number(r.attr("data-id"))),
                      (n = topdata.get(o)),
                      (s = new h({
                        data: { color: n.color, workId: o },
                        btn: r,
                        itemId: e,
                      })),
                      (s.onClick = t._eClickItem),
                      s.init(),
                      t.add(s),
                      t._item.push(s)
                    );
                  };
                })(this)
              ),
              this._resize()
            );
          }),
          (e.prototype._eClickItem = function (t) {
            if (null != this.onClick) return this.onClick({ workId: t.workId });
          }),
          (e.prototype.show = function (t) {
            var e, i, n, r, s, o, a, h;
            for (
              e = t.delay || 0,
                a = 1,
                l.a(
                  $(
                    ".p-top_indicator .js-line_left, .p-top_indicator .js-line_right"
                  ),
                  { scaleX: [0, 1] },
                  a,
                  e,
                  Power3.easeInOut
                ),
                s = this._item,
                o = [],
                i = n = 0,
                r = s.length;
              n < r;
              i = ++n
            )
              (h = s[i]), o.push(h.show({ delay: e + 0.5 + 0.1 * i }));
            return o;
          }),
          (e.prototype.hide = function (t) {
            var e, i, n, r, s, o, a, h;
            for (
              e = t.delay || 0,
                a = 2,
                l.a(
                  $(
                    ".p-top_indicator .js-line_left, .p-top_indicator .js-line_right"
                  ),
                  { scaleX: 0 },
                  a,
                  e,
                  Power3.easeInOut
                ),
                s = this._item,
                o = [],
                i = n = 0,
                r = s.length;
              n < r;
              i = ++n
            )
              (h = s[i]), o.push(h.hide({ delay: e + 1 + 0.2 * i }));
            return o;
          }),
          (e.prototype.setNow = function (t) {
            var e, i, n, r, s, o;
            for (
              r = this._item, s = [], e = i = 0, n = r.length;
              i < n;
              e = ++i
            )
              (o = r[e]),
                e === t
                  ? s.push(o.setActiveItem(!0))
                  : s.push(o.setActiveItem(!1));
            return s;
          }),
          (e.prototype._update = function () {
            return e.__super__._update.call(this);
          }),
          (e.prototype._resize = function () {
            var t, i, n, s, o, a, h, l, u;
            for (
              e.__super__._resize.call(this),
                i = r.r(18),
                o = r.r(30),
                u = (i + o) * (this._item.length - 1) + i,
                a = this._item,
                h = [],
                t = n = 0,
                s = a.length;
              n < s;
              t = ++n
            )
              (l = a[t]),
                l.scale.set(i, i, i),
                h.push((l.position.x = (i + o) * t - 0.5 * u + 0.5 * i));
            return h;
          }),
          e
        );
      })(s)),
      (t.exports = a);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      _ = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) g.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      g = {}.hasOwnProperty;
    (a = i(4)),
      (n = i(1)),
      (r = i(2)),
      (u = i(5)),
      (c = i(6)),
      (d = i(3)),
      (p = i(9)),
      (f = i(13)),
      (o = i(16)),
      (s = i(15)),
      (h = i(17)),
      (l = (function (t) {
        function e(t) {
          (this.makeGeo = m(this.makeGeo, this)),
            (this._resize = m(this._resize, this)),
            (this._update = m(this._update, this)),
            (this.setActiveItem = m(this.setActiveItem, this)),
            (this.hide = m(this.hide, this)),
            (this.show = m(this.show, this)),
            (this._eClick = m(this._eClick, this)),
            (this.init = m(this.init, this)),
            e.__super__.constructor.call(this, t),
            (this._btn = t.btn),
            (this._data = t.data),
            (this._item = []),
            (this._time = 0),
            (this._noise = d.random(0.95, 1)),
            (this._isActiveItem = !1),
            (this._showVal = new f(0)),
            (this._scale = 1),
            this.onClick;
        }
        return (
          _(e, t),
          (e.prototype.init = function () {
            var t, i, n;
            for (
              e.__super__.init.call(this), this._time = d.random(0, 100), t = 0;
              t < 2;

            )
              (i = new THREE.Mesh(
                this.makeGeo(this._time),
                new THREE.MeshBasicMaterial({
                  color: this._data.color[t],
                  depthTest: !0,
                  side: THREE.DoubleSide,
                  transparent: !0,
                  opacity: 0.3,
                })
              )),
                this.add(i),
                (i.rotation.z = d.radian(d.range(180))),
                (n = 0.01 * d.random(90, 110)),
                i.scale.set(n, n, n),
                this._item.push(i),
                t++;
            return this._btn.on("click", this._eClick);
          }),
          (e.prototype._eClick = function (t) {
            if (null != this.onClick)
              return this.onClick({ workId: this._data.workId });
          }),
          (e.prototype.show = function (t) {
            var e;
            return (
              (e = t.delay || 0),
              u.a(
                this._showVal,
                { val: [0, 1] },
                1,
                e,
                Elastic.easeOut.config(1, 0.75)
              )
            );
          }),
          (e.prototype.hide = function (t) {
            var e;
            return (
              (e = t.delay || 0),
              u.a(
                this._showVal,
                { val: 0 },
                1,
                e,
                Elastic.easeOut.config(1, 0.75)
              )
            );
          }),
          (e.prototype.setActiveItem = function (t) {
            return (
              (this._isActiveItem = t),
              this._isActiveItem
                ? this._btn.addClass("is-noPointer")
                : this._btn.removeClass("is-noPointer")
            );
          }),
          (e.prototype._update = function () {
            var t, i, s, o, a, h, l, u, d;
            if (
              (e.__super__._update.call(this),
              !r.isLG() && router.nowPage === c.PAGE.TOP)
            ) {
              for (
                u = this._isActiveItem ? 1.75 : 1,
                  this._scale += 0.1 * (u - this._scale),
                  p.cnt % 2 === 0 &&
                    ((t = this.makeGeo(this._time)), (this._time += 2)),
                  a = this._item,
                  h = [],
                  i = s = 0,
                  o = a.length;
                s < o;
                i = ++s
              )
                (d = a[i]),
                  null != t && (d.geometry.dispose(), (d.geometry = t)),
                  (l = Math.max(n.SCALE_MIN, this._scale * this._showVal.val)),
                  h.push(d.scale.set(l, l, l));
              return h;
            }
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this);
          }),
          (e.prototype.makeGeo = function (t) {
            var e,
              i,
              n,
              s,
              o,
              a,
              h,
              l,
              u,
              c,
              p,
              f,
              m,
              _,
              g,
              v,
              y,
              x,
              w,
              b,
              T,
              E,
              S;
            for (
              w = 0.02 * t,
                u = 0,
                y = 140 * 0.01,
                x = 1.7,
                E = 525 * 1e-4,
                S = 0.0492,
                e = [],
                c = 1,
                p = 1,
                o = 0,
                _ = 0.5,
                n = 36,
                l = ~~(360 / n);
              o < 360;

            )
              (m = d.radian(o)),
                (g = _),
                (g += d.map(r.sin2(w + m * y), -E, E, -1, 1)),
                (g += d.map(r.sin2(w + m * x), -S, S, -1, 1)),
                (g *= 1),
                (b = new THREE.Vector3(
                  Math.sin(m) * g * c,
                  Math.cos(m) * g * p,
                  0
                )),
                e.push(b),
                (o += n);
            for (
              i = new THREE.CatmullRomCurve3(e),
                i.closed = !0,
                f = i.getPoints(100),
                v = new THREE.Shape(),
                o = a = 0,
                h = f.length;
              a < h;
              o = ++a
            )
              (T = f[o]), 0 === o ? v.moveTo(T.x, T.y) : v.lineTo(T.x, T.y);
            return (s = new THREE.ShapeBufferGeometry(v));
          }),
          e
        );
      })(o)),
      (t.exports = l);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _,
      g,
      v,
      y = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      x = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) w.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      w = {}.hasOwnProperty;
    (v = i(3)),
      (g = i(9)),
      (o = i(8)),
      (c = i(7)),
      (s = i(1)),
      (u = i(4)),
      (m = i(5)),
      (a = i(2)),
      (_ = i(6)),
      (l = i(14)),
      (n = i(21)),
      (r = i(20)),
      (p = i(27)),
      (h = i(15)),
      (f = i(71)),
      (d = (function (t) {
        function e(t) {
          (this.isNowRenderFrame = y(this.isNowRenderFrame, this)),
            (this._resize = y(this._resize, this)),
            (this.render = y(this.render, this)),
            (this._update = y(this._update, this)),
            (this.end = y(this.end, this)),
            (this.start = y(this.start, this)),
            (this.init = y(this.init, this)),
            e.__super__.constructor.call(this, t),
            this._bg,
            this._mesh,
            this._loading;
        }
        return (
          x(e, t),
          (e.prototype.init = function () {
            return (
              (this.renderParam = {
                canvas: this.el().find(".mv").get(0),
                alpha: !0,
                premultipliedAlpha: !0,
                preserveDrawingBuffer: !0,
                antialias: !1,
                stencil: !1,
                depth: !0,
                powerPreference: "low-power",
              }),
              e.__super__.init.call(this),
              (this.camera = this._makeCamera({ isOrthographic: !1 })),
              this.updateCamera(this.camera),
              (this._mesh = new f({ parent: this })),
              this._mesh.init(),
              this.mainScene.add(this._mesh),
              (this._bg = this.el().find(".bg")),
              m.set(this._bg, { opacity: 0 }),
              this._resize(),
              this.render(),
              (this.isRender = !1)
            );
          }),
          (e.prototype.start = function (t) {
            var e;
            return (
              (u.isTransition = !0),
              (e = 0.75),
              m.a(
                this._bg,
                { opacity: [0, 1] },
                e * a.val(0.9, 1),
                t.delay,
                Power2.easeInOut,
                null,
                null,
                t.onComplete
              ),
              (this.isRender = !0),
              this.setVisible(!0),
              this._mesh.start({ delay: 0, time: e }),
              this.render()
            );
          }),
          (e.prototype.end = function (t) {}),
          (e.prototype._update = function () {
            if (this.isNowRenderFrame()) return this.render();
          }),
          (e.prototype.render = function () {
            var t, e;
            return (
              (e = this._renderSize.x),
              (t = this._renderSize.y),
              this.updateCamera(this.camera, e, t),
              this.renderer.setClearColor(16777215, 0),
              this.renderer.render(this.mainScene, this.camera),
              this.renderCnt++
            );
          }),
          (e.prototype._resize = function () {
            var t, e;
            return (
              (e = a.sw()),
              (t = a.sh()),
              a.useScreen() && (t = screen.height),
              this._renderSize.set(e, t),
              this.updateCamera(this.camera, e, t),
              this.renderer.setPixelRatio(a.ratio()),
              this.renderer.setSize(e, t),
              this.renderer.clear()
            );
          }),
          (e.prototype.isNowRenderFrame = function () {
            return g.cnt % 2 === 0 && this.isRender;
          }),
          e
        );
      })(n)),
      (t.exports = d);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _ = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      g = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) v.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      v = {}.hasOwnProperty;
    (u = i(4)),
      (r = i(1)),
      (o = i(2)),
      (d = i(5)),
      (h = i(14)),
      (f = i(3)),
      (s = i(8)),
      (m = i(13)),
      (l = i(16)),
      (a = i(15)),
      (n = i(20)),
      (c = i(17)),
      (p = (function (t) {
        function e(t) {
          (this._resize = _(this._resize, this)),
            (this._update = _(this._update, this)),
            (this.start = _(this.start, this)),
            (this.end = _(this.end, this)),
            (this.init = _(this.init, this)),
            e.__super__.constructor.call(this, t),
            (this._showVal = new m(0)),
            this._dest;
        }
        return (
          g(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              (this._dest = new THREE.Mesh(
                new THREE.PlaneBufferGeometry(1, 1),
                new THREE.ShaderMaterial({
                  vertexShader: i(19),
                  fragmentShader: i(121),
                  transparent: !0,
                  depthTest: !1,
                  uniforms: {
                    tNoise: { value: c.get(r.PATH_IMG + "gl/noise.jpg") },
                    strength: { value: 1 },
                    alpha: { value: 1 },
                    time: { value: 0 },
                    rate: { value: 0 },
                  },
                })
              )),
              this.add(this._dest),
              this._resize()
            );
          }),
          (e.prototype.end = function (t) {
            var e, i;
            return (
              (t = t || {}),
              (i = t.time || 1.5),
              (e = t.delay || 0),
              (this._dest.material.uniforms.time.value = 0),
              d.a(
                this._showVal,
                { val: [1, 0] },
                i,
                e,
                Power2.easeInOut,
                null,
                null,
                t.onComplete
              ),
              this._update()
            );
          }),
          (e.prototype.start = function (t) {
            var e, i;
            return (
              (t = t || {}),
              (i = t.time || 1.5),
              (e = t.delay || 0),
              (this._dest.material.uniforms.time.value = 0),
              d.a(this._showVal, { val: [0, 1] }, i, e, Power2.easeInOut),
              this._update()
            );
          }),
          (e.prototype._update = function () {
            var t, i;
            return (
              e.__super__._update.call(this),
              (i = this._dest.material.uniforms),
              (t = u.cloud),
              (i.strength.value = 0.4),
              (i.alpha.value = this._showVal.val),
              (i.rate.value = this._showVal.val),
              (i.time.value -= 1)
            );
          }),
          (e.prototype._resize = function () {
            var t, i, n;
            return (
              e.__super__._resize.call(this),
              (n = o.sw()),
              (t = o.sh()),
              o.useScreen() && (t = screen.height),
              (i = Math.max(n, t)),
              this._dest.scale.set(i, i, 1)
            );
          }),
          e
        );
      })(l)),
      (t.exports = p);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      _ = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) g.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      g = {}.hasOwnProperty;
    (h = i(4)),
      (n = i(1)),
      (r = i(2)),
      (u = i(5)),
      (c = i(6)),
      (d = i(3)),
      (f = i(13)),
      (p = i(9)),
      (a = i(16)),
      (s = i(15)),
      (l = i(17)),
      (o = (function (t) {
        function e(t) {
          (this.makeGeo = m(this.makeGeo, this)),
            (this._resize = m(this._resize, this)),
            (this._update = m(this._update, this)),
            (this.show = m(this.show, this)),
            (this.setSize = m(this.setSize, this)),
            (this.updateImg = m(this.updateImg, this)),
            (this.init = m(this.init, this)),
            e.__super__.constructor.call(this, t),
            (this._line = []),
            (this._img = []),
            (this._nowImg = 0),
            (this._alpha = 0),
            (this._size = 1),
            (this.mode = c.MOUSE.NORMAL);
        }
        return (
          _(e, t),
          (e.prototype.init = function () {
            var t, i, r, o;
            if ((e.__super__.init.call(this), n.IS_SP))
              for (t = 0; t < 2; )
                (o = d.random(0, 100)),
                  (r = new THREE.Mesh(
                    this.makeGeo(o, !1),
                    new THREE.MeshBasicMaterial({
                      color: 11184810,
                      depthTest: !0,
                      side: THREE.DoubleSide,
                      transparent: !0,
                      opacity: 1,
                    })
                  )),
                  this.add(r),
                  this._line.push({ mesh: r, time: o }),
                  t++;
            for (t = 0; t < 4; )
              (i = new s({
                tex: l.get(n.PATH_IMG + "gl/mouse_icon_loading_" + t + ".png"),
              })),
                i.init(),
                this.add(i),
                i.size(1.6),
                this._img.push(i),
                t++;
            return this.updateImg();
          }),
          (e.prototype.updateImg = function () {
            var t, e, i, n, r, s;
            for (
              p.cnt % 4 === 0 &&
                (this._nowImg++,
                this._nowImg >= this._img.length && (this._nowImg = 0)),
                n = this._img,
                r = [],
                t = e = 0,
                i = n.length;
              e < i;
              t = ++e
            )
              (s = n[t]),
                (s.visible = t === this._nowImg),
                t === this._nowImg
                  ? r.push(s.alpha(this._alpha))
                  : r.push(void 0);
            return r;
          }),
          (e.prototype.setSize = function (t) {
            return this.scale.set(t, t, 1);
          }),
          (e.prototype.show = function (t) {}),
          (e.prototype._update = function () {
            var t, i, n, s, o, a, h, l, u;
            if ((e.__super__._update.call(this), this.visible)) {
              for (
                i = r.val(0.3, 0.15),
                  l = r.val(r.r(240), 84),
                  t = 0,
                  this.mode === c.MOUSE.LOADING &&
                    ((l = r.val(r.r(240), 84)), (t = 1)),
                  this._alpha += (t - this._alpha) * i,
                  this._size += (l - this._size) * i,
                  this.setSize(this._size),
                  h = this._line,
                  n = s = 0,
                  o = h.length;
                s < o;
                n = ++s
              )
                (u = h[n]),
                  (a = u.mesh),
                  p.cnt % 2 === 0 &&
                    this.mode === c.MOUSE.LOADING &&
                    (a.geometry.dispose(),
                    (a.geometry = this.makeGeo(u.time, !1))),
                  (a.material.opacity = this._alpha),
                  (u.time += 1);
              return this.updateImg();
            }
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this);
          }),
          (e.prototype.makeGeo = function (t, e) {
            var i,
              n,
              s,
              o,
              a,
              h,
              l,
              u,
              c,
              p,
              f,
              m,
              _,
              g,
              v,
              y,
              x,
              w,
              b,
              T,
              E,
              S,
              M;
            for (
              b = 0.05 * t,
                c = 0,
                x = 140 * 0.01,
                w = 1.7,
                S = 525 * 1e-4 * 0.8,
                M = 0.0492 * 0.8,
                i = [],
                p = 1,
                f = 1,
                a = 0,
                g = 0.5,
                s = 36,
                u = ~~(360 / s);
              a < 360;

            )
              (_ = d.radian(a)),
                (v = g),
                (v += d.map(r.sin2(b + _ * x), -S, S, -1, 1)),
                (v += d.map(r.sin2(b + _ * w), -M, M, -1, 1)),
                (v *= 1),
                (T = new THREE.Vector3(
                  Math.sin(_) * v * p,
                  Math.cos(_) * v * f,
                  0
                )),
                i.push(T),
                (a += s);
            if (e) {
              for (
                n = new THREE.CatmullRomCurve3(i),
                  n.closed = !0,
                  m = n.getPoints(100),
                  y = new THREE.Shape(),
                  a = h = 0,
                  l = m.length;
                h < l;
                a = ++h
              )
                (E = m[a]), 0 === a ? y.moveTo(E.x, E.y) : y.lineTo(E.x, E.y);
              o = new THREE.ShapeBufferGeometry(y);
            } else
              (n = new THREE.CatmullRomCurve3(i)),
                (n.closed = !0),
                (o = new THREE.TubeBufferGeometry(
                  n,
                  64,
                  r.val(0.003, 0.0075),
                  6,
                  !0
                ));
            return o;
          }),
          e
        );
      })(a)),
      (t.exports = o);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _,
      g,
      v,
      y,
      x,
      w,
      b,
      T = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      E = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) S.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      S = {}.hasOwnProperty;
    (w = i(3)),
      (x = i(9)),
      (o = i(8)),
      (_ = i(7)),
      (s = i(1)),
      (f = i(4)),
      (v = i(5)),
      (g = i(18)),
      (a = i(2)),
      (y = i(6)),
      (c = i(14)),
      (h = i(82)),
      (n = i(21)),
      (r = i(20)),
      (l = i(15)),
      (d = i(74)),
      (b = i(76)),
      (u = i(72)),
      (m = i(75)),
      (p = (function (t) {
        function e(t) {
          (this.isNowRenderFrame = T(this.isNowRenderFrame, this)),
            (this._resize = T(this._resize, this)),
            (this.render = T(this.render, this)),
            (this._update = T(this._update, this)),
            (this.show = T(this.show, this)),
            (this._eMouseOut = T(this._eMouseOut, this)),
            (this._eMouseOver = T(this._eMouseOver, this)),
            (this.setMode = T(this.setMode, this)),
            (this.addHoverEvent = T(this.addHoverEvent, this)),
            (this.init = T(this.init, this)),
            e.__super__.constructor.call(this, t),
            (this._pos = new THREE.Vector2()),
            (this._item = []),
            (this._hoverTg = []),
            (this._mode = y.MOUSE.NORMAL);
        }
        return (
          E(e, t),
          (e.prototype.init = function () {
            var t, i, n, r, o, a;
            if (
              ((this.renderParam = {
                canvas: this.el().get(0),
                alpha: !0,
                premultipliedAlpha: !0,
                preserveDrawingBuffer: !0,
                antialias: !1,
                stencil: !1,
                depth: !0,
                powerPreference: "low-power",
              }),
              e.__super__.init.call(this),
              (this.camera = this._makeCamera({ isOrthographic: !1 })),
              this.updateCamera(this.camera),
              s.IS_PC)
            ) {
              for (t = 0; t < 2; )
                (i = new d({ isLine: !0 })),
                  i.init(),
                  this._item.push(i),
                  this.mainScene.add(i),
                  (o = new d({ isLine: !1 })),
                  o.init(),
                  this._item.push(o),
                  this.mainScene.add(o),
                  t++;
              (a = new b()),
                a.init(),
                this._item.push(a),
                this.mainScene.add(a),
                (r = new m()),
                r.init(),
                this._item.push(r),
                this.mainScene.add(r);
            }
            return (
              (n = new u()),
              n.init(),
              this._item.push(n),
              this.mainScene.add(n),
              v.set(this.el(), { opacity: 0 }),
              this.addHoverEvent(),
              this._resize()
            );
          }),
          (e.prototype.addHoverEvent = function () {
            return $(".js-mouse_hover").each(
              (function (t) {
                return function (e, i) {
                  var n;
                  if (null == $(i).attr("data-tgId"))
                    return (
                      (n = new h({ el: $(i), tgId: t._hoverTg.length })),
                      n.init(),
                      (n.onRollOver = t._eMouseOver),
                      (n.onRollOut = t._eMouseOut),
                      t._hoverTg.push(n)
                    );
                };
              })(this)
            );
          }),
          (e.prototype.setMode = function (t) {
            var e, i, n, r, s;
            for (r = this._item, e = i = 0, n = r.length; i < n; e = ++i)
              (s = r[e]), (s.mode = t);
            return (f.isHover = t !== y.MOUSE.NORMAL);
          }),
          (e.prototype._eMouseOver = function (t) {
            return (f.isHover = !0), this.setMode(y.MOUSE.HOVER);
          }),
          (e.prototype._eMouseOut = function (t) {
            return (f.isHover = !1), this.setMode(y.MOUSE.NORMAL);
          }),
          (e.prototype.show = function (t) {
            return v.a(
              this.el(),
              { opacity: [0, 1] },
              1,
              t.delay,
              Power1.easeOut
            );
          }),
          (e.prototype._update = function () {
            var t, e, i;
            if (
              (s.IS_PC
                ? ((e = c.x - a.val(a.r(140), 50)),
                  (i = c.y - a.val(a.r(140), 50)),
                  s.IS_SIMPLE
                    ? ((this._pos.x = e), (this._pos.y = i))
                    : ((t = 0.1),
                      (this._pos.x += (e - this._pos.x) * t),
                      (this._pos.y += (i - this._pos.y) * t)))
                : ((this._pos.x = 0.5 * a.sw() - a.val(a.r(140), 50)),
                  (this._pos.y = 0.5 * a.sh() - a.val(a.r(140), 50))),
              v.set(this.el(), { x: this._pos.x, y: this._pos.y }),
              this.isNowRenderFrame())
            )
              return this.render();
          }),
          (e.prototype.render = function () {
            return (
              this.renderer.setClearColor(16777215, 0),
              this.renderer.render(this.mainScene, this.camera),
              this.renderCnt++
            );
          }),
          (e.prototype._resize = function () {
            var t, e, i;
            return (
              (i = a.val(a.r(280), 100)),
              (t = i),
              this.updateCamera(this.camera, i, t),
              (e = a.ratio()),
              s.IS_SP && (e = 1.5),
              this.renderer.setPixelRatio(e),
              this.renderer.setSize(i, t),
              this.renderer.clear()
            );
          }),
          (e.prototype.isNowRenderFrame = function () {
            return s.IS_SP ? x.cnt % 3 === 0 : x.cnt % 2 === 0;
          }),
          e
        );
      })(n)),
      (t.exports = p);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      _ = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) g.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      g = {}.hasOwnProperty;
    (h = i(4)),
      (n = i(1)),
      (r = i(2)),
      (u = i(5)),
      (c = i(6)),
      (d = i(3)),
      (p = i(9)),
      (f = i(13)),
      (a = i(16)),
      (s = i(15)),
      (l = i(17)),
      (o = (function (t) {
        function e(t) {
          (this.makeGeo = m(this.makeGeo, this)),
            (this._resize = m(this._resize, this)),
            (this._update = m(this._update, this)),
            (this.show = m(this.show, this)),
            (this.setSize = m(this.setSize, this)),
            (this.init = m(this.init, this)),
            e.__super__.constructor.call(this, t),
            this._time,
            this._mesh,
            (this._noise = d.random(0.95, 1)),
            (this._size = 1),
            (this._alpha = 0),
            (this.mode = c.MOUSE.NORMAL);
        }
        return (
          _(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              (this._time = d.random(0, 100)),
              (this._mesh = new THREE.Mesh(
                this.makeGeo(this._time, this.opt.isLine),
                new THREE.MeshBasicMaterial({
                  color: 2299925,
                  depthTest: !0,
                  side: THREE.DoubleSide,
                  transparent: !0,
                  opacity: 0.2,
                })
              )),
              this.add(this._mesh),
              this._resize()
            );
          }),
          (e.prototype.setSize = function (t) {
            return (t *= this._noise), this.scale.set(t, t, 1);
          }),
          (e.prototype.show = function (t) {}),
          (e.prototype._update = function () {
            var t, i, n;
            if ((e.__super__._update.call(this), this.visible)) {
              switch (
                (p.cnt % 2 === 0 &&
                  (this._mesh.geometry.dispose(),
                  (this._mesh.geometry = this.makeGeo(
                    this._time,
                    !this.opt.isLine
                  ))),
                (this._time += 1),
                (i = 0.15),
                (n = 15),
                (t = 0),
                this.mode)
              ) {
                case c.MOUSE.NORMAL:
                  (n = 15), (t = this.opt.isLine ? 0 : 0.2);
                  break;
                case c.MOUSE.HOVER:
                  (n = 84), (t = this.opt.isLine ? 0.2 : 0);
                  break;
                case c.MOUSE.LOADING:
                  (n = r.val(r.r(240), 80)), (t = this.opt.isLine ? 0.2 : 0);
                  break;
                case c.MOUSE.VIEW:
                  (n = 80), (t = 0);
                  break;
                case c.MOUSE.PF:
                  (n = 80), (t = 0);
                  break;
                case c.MOUSE.CLOSE:
                  (n = 80), (t = 0);
              }
              return (
                (this._size += (n - this._size) * i),
                (this._alpha += (t - this._alpha) * i),
                this.setSize(this._size),
                (this._mesh.material.opacity = this._alpha)
              );
            }
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this);
          }),
          (e.prototype.makeGeo = function (t, e) {
            var i,
              n,
              s,
              o,
              a,
              h,
              l,
              u,
              c,
              p,
              f,
              m,
              _,
              g,
              v,
              y,
              x,
              w,
              b,
              T,
              E,
              S,
              M;
            for (
              b = 0.04 * t,
                c = 0,
                x = 140 * 0.01,
                w = 1.7,
                S = 525 * 1e-4 * 0.8,
                M = 0.0492 * 0.8,
                i = [],
                p = 1,
                f = 1,
                a = 0,
                g = 0.5,
                s = 36,
                u = ~~(360 / s);
              a < 360;

            )
              (_ = d.radian(a)),
                (v = g),
                (v += d.map(r.sin2(b + _ * x), -S, S, -1, 1)),
                (v += d.map(r.sin2(b + _ * w), -M, M, -1, 1)),
                (v *= 1),
                (T = new THREE.Vector3(
                  Math.sin(_) * v * p,
                  Math.cos(_) * v * f,
                  0
                )),
                i.push(T),
                (a += s);
            if (e) {
              for (
                n = new THREE.CatmullRomCurve3(i),
                  n.closed = !0,
                  m = n.getPoints(100),
                  y = new THREE.Shape(),
                  a = h = 0,
                  l = m.length;
                h < l;
                a = ++h
              )
                (E = m[a]), 0 === a ? y.moveTo(E.x, E.y) : y.lineTo(E.x, E.y);
              o = new THREE.ShapeBufferGeometry(y);
            } else
              (n = new THREE.CatmullRomCurve3(i)),
                (n.closed = !0),
                (o = new THREE.TubeBufferGeometry(n, 64, 0.01, 2, !0));
            return o;
          }),
          e
        );
      })(a)),
      (t.exports = o);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      _ = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) g.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      g = {}.hasOwnProperty;
    (a = i(4)),
      (n = i(1)),
      (r = i(2)),
      (u = i(5)),
      (c = i(6)),
      (d = i(3)),
      (f = i(13)),
      (p = i(9)),
      (o = i(16)),
      (s = i(15)),
      (l = i(17)),
      (h = (function (t) {
        function e(t) {
          (this.makeGeo = m(this.makeGeo, this)),
            (this._resize = m(this._resize, this)),
            (this._update = m(this._update, this)),
            (this.show = m(this.show, this)),
            (this.setSize = m(this.setSize, this)),
            (this.makeImg = m(this.makeImg, this)),
            (this.init = m(this.init, this)),
            e.__super__.constructor.call(this, t),
            (this._line = []),
            this._imgIcon,
            (this._alpha = 0),
            (this._size = 1),
            (this.mode = c.MOUSE.NORMAL);
        }
        return (
          _(e, t),
          (e.prototype.init = function () {
            var t, i, r;
            for (e.__super__.init.call(this), t = 0; t < 3; )
              (r = d.random(0, 100)),
                (i = new THREE.Mesh(
                  this.makeGeo(r, 0 === t),
                  new THREE.MeshBasicMaterial({
                    color: 0 === t ? 16777215 : 11184810,
                    depthTest: !0,
                    side: THREE.DoubleSide,
                    transparent: !0,
                    opacity: 1,
                  })
                )),
                this.add(i),
                this._line.push({ mesh: i, time: r }),
                t++;
            return (
              (this._imgIcon = this.makeImg(
                n.PATH_IMG + "gl/mouse_icon_pf.png",
                1.6
              )),
              (this._imgIcon.position.y = 0)
            );
          }),
          (e.prototype.makeImg = function (t, e) {
            var i, n;
            return (
              (n = l.get(t)),
              (n.minFilter = n.magFilter = THREE.LinearFilter),
              (i = new s({ tex: n })),
              i.init(),
              this.add(i),
              i.size(e),
              i
            );
          }),
          (e.prototype.setSize = function (t) {
            return this.scale.set(t, t, 1);
          }),
          (e.prototype.show = function (t) {}),
          (e.prototype._update = function () {
            var t, i, n, r, s, o, a, h, l, u;
            if ((e.__super__._update.call(this), this.visible)) {
              switch (((i = 0.15), (l = 15), (t = 0), this.mode)) {
                case c.MOUSE.PF:
                  (l = 84), (t = 1);
                  break;
                default:
                  (l = 15), (t = 0);
              }
              for (
                this._size += (l - this._size) * i,
                  this._alpha += (t - this._alpha) * i,
                  this.setSize(this._size),
                  this._imgIcon.alpha(this._alpha),
                  a = this._line,
                  h = [],
                  n = r = 0,
                  s = a.length;
                r < s;
                n = ++r
              )
                (u = a[n]),
                  (o = u.mesh),
                  p.cnt % 2 === 0 &&
                    this.mode === c.MOUSE.PF &&
                    (o.geometry.dispose(),
                    (o.geometry = this.makeGeo(u.time, 0 === n))),
                  (o.material.opacity = this._alpha),
                  h.push((u.time += 1));
              return h;
            }
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this);
          }),
          (e.prototype.makeGeo = function (t, e) {
            var i,
              n,
              s,
              o,
              a,
              h,
              l,
              u,
              c,
              p,
              f,
              m,
              _,
              g,
              v,
              y,
              x,
              w,
              b,
              T,
              E,
              S,
              M;
            for (
              b = 0.05 * t,
                c = 0,
                x = 140 * 0.01,
                w = 1.7,
                S = 525 * 1e-4 * 0.8,
                M = 0.0492 * 0.8,
                i = [],
                p = 1,
                f = 1,
                a = 0,
                g = 0.5,
                s = 36,
                u = ~~(360 / s);
              a < 360;

            )
              (_ = d.radian(a)),
                (v = g),
                (v += d.map(r.sin2(b + _ * x), -S, S, -1, 1)),
                (v += d.map(r.sin2(b + _ * w), -M, M, -1, 1)),
                (v *= 1),
                (T = new THREE.Vector3(
                  Math.sin(_) * v * p,
                  Math.cos(_) * v * f,
                  0
                )),
                i.push(T),
                (a += s);
            if (e) {
              for (
                n = new THREE.CatmullRomCurve3(i),
                  n.closed = !0,
                  m = n.getPoints(100),
                  y = new THREE.Shape(),
                  a = h = 0,
                  l = m.length;
                h < l;
                a = ++h
              )
                (E = m[a]), 0 === a ? y.moveTo(E.x, E.y) : y.lineTo(E.x, E.y);
              o = new THREE.ShapeBufferGeometry(y);
            } else
              (n = new THREE.CatmullRomCurve3(i)),
                (n.closed = !0),
                (o = new THREE.TubeBufferGeometry(n, 64, 0.0075, 6, !0));
            return o;
          }),
          e
        );
      })(o)),
      (t.exports = h);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      _ = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) g.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      g = {}.hasOwnProperty;
    (a = i(4)),
      (n = i(1)),
      (r = i(2)),
      (l = i(5)),
      (u = i(6)),
      (p = i(3)),
      (d = i(13)),
      (c = i(9)),
      (o = i(16)),
      (s = i(15)),
      (h = i(17)),
      (f = (function (t) {
        function e(t) {
          (this.makeGeo = m(this.makeGeo, this)),
            (this._resize = m(this._resize, this)),
            (this._update = m(this._update, this)),
            (this.show = m(this.show, this)),
            (this.setSize = m(this.setSize, this)),
            (this.makeImg = m(this.makeImg, this)),
            (this.init = m(this.init, this)),
            e.__super__.constructor.call(this, t),
            (this._line = []),
            this._imgView,
            this._imgClose,
            this._imgIcon,
            (this._alphaView = 0),
            (this._alphaClose = 0),
            (this._alphaIcon = 0),
            (this._size = 1),
            (this._alphaShape = 0),
            (this._alphaLine = 0),
            (this.mode = u.MOUSE.NORMAL);
        }
        return (
          _(e, t),
          (e.prototype.init = function () {
            var t, i, r;
            for (e.__super__.init.call(this), t = 0; t < 3; )
              (r = p.random(0, 100)),
                (i = new THREE.Mesh(
                  this.makeGeo(r, 0 === t),
                  new THREE.MeshBasicMaterial({
                    color: 0 === t ? 16777215 : 11184810,
                    depthTest: !0,
                    side: THREE.DoubleSide,
                    transparent: !0,
                    opacity: 1,
                  })
                )),
                this.add(i),
                this._line.push({ mesh: i, time: r }),
                t++;
            return (
              (this._imgView = this.makeImg(
                n.PATH_IMG + "gl/mouse_icon_view.png",
                0.8
              )),
              (this._imgView.position.y = 0.1),
              (this._imgClose = this.makeImg(
                n.PATH_IMG + "gl/mouse_icon_close.png",
                0.8
              )),
              (this._imgClose.position.y = this._imgView.position.y),
              (this._imgIcon = this.makeImg(
                n.PATH_IMG + "gl/mouse_icon_mark.png",
                0.2
              )),
              (this._imgIcon.position.y = -0.12)
            );
          }),
          (e.prototype.makeImg = function (t, e) {
            var i, n;
            return (
              (n = h.get(t)),
              (n.minFilter = n.magFilter = THREE.LinearFilter),
              (i = new s({ tex: n })),
              i.init(),
              this.add(i),
              i.size(e),
              i
            );
          }),
          (e.prototype.setSize = function (t) {
            return this.scale.set(t, t, 1);
          }),
          (e.prototype.show = function (t) {}),
          (e.prototype._update = function () {
            var t, i, n, r, s, o, a, h, l, d, f, m, _, g, v;
            if ((e.__super__._update.call(this), this.visible)) {
              switch (
                ((o = 0.15),
                (g = 15),
                (s = 0),
                (t = 0),
                (i = 0),
                (r = 0),
                (n = 0),
                (h = 0),
                this.mode)
              ) {
                case u.MOUSE.LOADING:
                  (g = 84), (n = 1);
                  break;
                case u.MOUSE.NORMAL:
                  g = 15;
                  break;
                case u.MOUSE.PF:
                  g = 84;
                  break;
                case u.MOUSE.HOVER:
                  (g = 84), (n = 1);
                  break;
                case u.MOUSE.VIEW:
                  (g = 80), (s = 1), (i = 1), (r = 1), (n = 1);
                  break;
                case u.MOUSE.CLOSE:
                  (g = 80), (t = 1), (i = 1), (r = 1), (n = 1), (h = 45);
              }
              for (
                this._size += (g - this._size) * o,
                  this._alphaView += (s - this._alphaView) * o,
                  this._alphaClose += (t - this._alphaClose) * o,
                  this._alphaIcon += (i - this._alphaIcon) * o,
                  this._alphaShape += (r - this._alphaShape) * o,
                  this._alphaLine += (n - this._alphaLine) * o,
                  this._imgIcon.rotation.z +=
                    (p.radian(h) - this._imgIcon.rotation.z) * o,
                  this.setSize(this._size),
                  this._imgView.alpha(this._alphaView),
                  this._imgClose.alpha(this._alphaClose),
                  this._imgIcon.alpha(this._alphaIcon),
                  m = this._line,
                  _ = [],
                  a = l = 0,
                  d = m.length;
                l < d;
                a = ++l
              )
                (v = m[a]),
                  (f = v.mesh),
                  c.cnt % 2 === 0 &&
                    (f.geometry.dispose(),
                    (f.geometry = this.makeGeo(v.time, 0 === a))),
                  0 === a
                    ? (f.material.opacity = this._alphaShape)
                    : (f.material.opacity = this._alphaLine),
                  _.push((v.time += 1));
              return _;
            }
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this);
          }),
          (e.prototype.makeGeo = function (t, e) {
            var i,
              n,
              s,
              o,
              a,
              h,
              l,
              u,
              c,
              d,
              f,
              m,
              _,
              g,
              v,
              y,
              x,
              w,
              b,
              T,
              E,
              S,
              M;
            for (
              b = 0.05 * t,
                c = 0,
                x = 140 * 0.01,
                w = 1.7,
                S = 525 * 1e-4 * 0.8,
                M = 0.0492 * 0.8,
                i = [],
                d = 1,
                f = 1,
                a = 0,
                g = 0.5,
                s = 36,
                u = ~~(360 / s);
              a < 360;

            )
              (_ = p.radian(a)),
                (v = g),
                (v += p.map(r.sin2(b + _ * x), -S, S, -1, 1)),
                (v += p.map(r.sin2(b + _ * w), -M, M, -1, 1)),
                (v *= 1),
                (T = new THREE.Vector3(
                  Math.sin(_) * v * d,
                  Math.cos(_) * v * f,
                  0
                )),
                i.push(T),
                (a += s);
            if (e) {
              for (
                n = new THREE.CatmullRomCurve3(i),
                  n.closed = !0,
                  m = n.getPoints(100),
                  y = new THREE.Shape(),
                  a = h = 0,
                  l = m.length;
                h < l;
                a = ++h
              )
                (E = m[a]), 0 === a ? y.moveTo(E.x, E.y) : y.lineTo(E.x, E.y);
              o = new THREE.ShapeBufferGeometry(y);
            } else
              (n = new THREE.CatmullRomCurve3(i)),
                (n.closed = !0),
                (o = new THREE.TubeBufferGeometry(n, 64, 0.0075, 6, !0));
            return o;
          }),
          e
        );
      })(o)),
      (t.exports = f);
  },
  function (t, e) {
    var i,
      n = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      };
    (i = (function () {
      function t(t) {
        (this._isChange = n(this._isChange, this)),
          (this.render = n(this.render, this)),
          (this.css = n(this.css, this)),
          (this.mask = n(this.mask, this)),
          (this.opacity = n(this.opacity, this)),
          (this.color = n(this.color, this)),
          (this.bgColor = n(this.bgColor, this)),
          (this.right = n(this.right, this)),
          (this.bottom = n(this.bottom, this)),
          (this.left = n(this.left, this)),
          (this.top = n(this.top, this)),
          (this.cssProp = n(this.cssProp, this)),
          (this.br = n(this.br, this)),
          (this.tl = n(this.tl, this)),
          (this.pos = n(this.pos, this)),
          (this.copySize = n(this.copySize, this)),
          (this.size = n(this.size, this)),
          (this.height2 = n(this.height2, this)),
          (this.width2 = n(this.width2, this)),
          (this.height = n(this.height, this)),
          (this.width = n(this.width, this)),
          (this.unshift = n(this.unshift, this)),
          (this.add = n(this.add, this)),
          (this.hasChild = n(this.hasChild, this)),
          (this.lastChild = n(this.lastChild, this)),
          (this.firstChild = n(this.firstChild, this)),
          (this.children = n(this.children, this)),
          (this.parent = n(this.parent, this)),
          (this.removeClass = n(this.removeClass, this)),
          (this.addClass = n(this.addClass, this)),
          (this.find = n(this.find, this)),
          (this.el = n(this.el, this)),
          (this._createId = n(this._createId, this)),
          (this.dispose = n(this.dispose, this)),
          (this.init = n(this.init, this)),
          (this._opt = t || {}),
          null == this._opt.tag && (this._opt.tag = "div"),
          (this._css = {}),
          (this._tmpCss = {}),
          (this._children = []),
          this._parent;
      }
      return (
        (t.prototype.init = function () {
          var t;
          if (
            (null == this._opt.el &&
              ((t = this._createId()),
              $("body").append(
                "<" + this._opt.tag + ' id="' + t + '"></' + this._opt.tag + ">"
              ),
              (this._opt.el = $("#" + t)),
              (this._opt.id = t)),
            null != this._opt.attr)
          )
            return this._opt.el.attr(this._opt.attr);
        }),
        (t.prototype.dispose = function () {
          var t, e, i, n, r;
          if (null != this._children) {
            for (n = this._children, t = e = 0, i = n.length; e < i; t = ++e)
              (r = n[t]), null != r && r.dispose();
            this._children = null;
          }
          return (
            null != this._opt &&
              null != this._opt.el &&
              (this._opt.el.off(),
              this._opt.el.remove(),
              (this._opt.el = null)),
            (this._opt = null),
            (this._css = null),
            (this._tmpCss = null),
            (this._parent = null)
          );
        }),
        (t.prototype._createId = function () {
          return (
            null == window.MY_DISPLAY_ID && (window.MY_DISPLAY_ID = 0),
            "display" + String(window.MY_DISPLAY_ID++)
          );
        }),
        (t.prototype.el = function () {
          return this._opt.el;
        }),
        (t.prototype.find = function (t) {
          return this.el().find(t);
        }),
        (t.prototype.addClass = function (t) {
          return this.el().addClass(t), this;
        }),
        (t.prototype.removeClass = function (t) {
          return this.el().removeClass(t), this;
        }),
        (t.prototype.parent = function (t) {
          return null != t ? (this._parent = t) : this._parent;
        }),
        (t.prototype.children = function (t) {
          return null == t || this.hasChild(t)
            ? this._children
            : this._children.push(t);
        }),
        (t.prototype.firstChild = function () {
          return this._children[0];
        }),
        (t.prototype.lastChild = function () {
          return this._children[this._children.length - 1];
        }),
        (t.prototype.hasChild = function (t) {
          var e, i, n, r, s;
          for (r = this._children, e = i = 0, n = r.length; i < n; e = ++i)
            if (((s = r[e]), s === t)) return !0;
          return !1;
        }),
        (t.prototype.add = function (t) {}),
        (t.prototype.unshift = function (t) {
          return (
            t.el().prependTo(this.el()), this.children(t), t.parent(this), t
          );
        }),
        (t.prototype.width = function (t) {
          return null != t
            ? ((this._css.width = t), this)
            : null != this._css.width
            ? this._css.width
            : this.el().width();
        }),
        (t.prototype.height = function (t) {
          return null != t
            ? ((this._css.height = t), this)
            : null != this._css.height
            ? this._css.height
            : this.el().height();
        }),
        (t.prototype.width2 = function (t) {
          return t ? ~~(0.5 * this.width()) : 0.5 * this.width();
        }),
        (t.prototype.height2 = function (t) {
          return t ? ~~(0.5 * this.height()) : 0.5 * this.height();
        }),
        (t.prototype.size = function (t, e) {
          return (this._css.width = t), (this._css.height = e), this;
        }),
        (t.prototype.copySize = function (t) {
          return (
            (this._css.width = t.width()), (this._css.height = t.height()), this
          );
        }),
        (t.prototype.pos = function (t) {
          return null == t && (t = "absolute"), (this._css.position = t), this;
        }),
        (t.prototype.tl = function (t, e) {
          return (this._css.top = t), (this._css.left = e), this;
        }),
        (t.prototype.br = function (t, e) {
          return (this._css.bottom = t), (this._css.right = e), this;
        }),
        (t.prototype.cssProp = function (t, e) {
          return null == e ? this._css[t] : ((this._css[t] = e), this);
        }),
        (t.prototype.top = function (t) {
          return this.cssProp("top", t);
        }),
        (t.prototype.left = function (t) {
          return this.cssProp("left", t);
        }),
        (t.prototype.bottom = function (t) {
          return this.cssProp("bottom", t);
        }),
        (t.prototype.right = function (t) {
          return this.cssProp("right", t);
        }),
        (t.prototype.bgColor = function (t) {
          return this.cssProp("backgroundColor", t);
        }),
        (t.prototype.color = function (t) {
          return this.cssProp("color", t);
        }),
        (t.prototype.opacity = function (t) {
          return this.cssProp("opacity", t);
        }),
        (t.prototype.mask = function (t) {
          return (this._css.overflow = t ? "hidden" : "visible"), this;
        }),
        (t.prototype.css = function () {
          return this._css;
        }),
        (t.prototype.render = function () {
          var t, e, i;
          if (this._isChange()) {
            TweenMax.set(this.el(), { css: this._css }), (e = this._css);
            for (t in e) (i = e[t]), (this._tmpCss[t] = i);
          }
          return this;
        }),
        (t.prototype._isChange = function () {
          var t, e, i;
          e = this._css;
          for (t in e) if (((i = e[t]), i !== this._tmpCss[t])) return !0;
          return !1;
        }),
        t
      );
    })()),
      (t.exports = i);
  },
  function (t, e, i) {
    var n,
      r,
      s = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      o = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) a.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      a = {}.hasOwnProperty;
    (n = i(77)),
      (r = (function (t) {
        function e(t) {
          (this._getScaleVal = s(this._getScaleVal, this)),
            (this._getRotateVal = s(this._getRotateVal, this)),
            (this._getTranslateVal = s(this._getTranslateVal, this)),
            (this._getVendorCss = s(this._getVendorCss, this)),
            (this.perspective = s(this.perspective, this)),
            (this.pivot = s(this.pivot, this)),
            (this._isChangeTransform = s(this._isChangeTransform, this)),
            (this.render = s(this.render, this)),
            (this.rotateZ = s(this.rotateZ, this)),
            (this.rotateY = s(this.rotateY, this)),
            (this.rotateX = s(this.rotateX, this)),
            (this.rotate2 = s(this.rotate2, this)),
            (this.scaleZ = s(this.scaleZ, this)),
            (this.scaleY = s(this.scaleY, this)),
            (this.scaleX = s(this.scaleX, this)),
            (this.scale2 = s(this.scale2, this)),
            (this.translateZ = s(this.translateZ, this)),
            (this.translateY = s(this.translateY, this)),
            (this.translateX = s(this.translateX, this)),
            (this.transformProp = s(this.transformProp, this)),
            (this.reset = s(this.reset, this)),
            (this.dispose = s(this.dispose, this)),
            (this.init = s(this.init, this)),
            e.__super__.constructor.call(this, t),
            (this._transform = {}),
            (this._tmpTransform = {});
        }
        return (
          o(e, t),
          (e.prototype.init = function () {
            return e.__super__.init.call(this), this.reset();
          }),
          (e.prototype.dispose = function () {
            return (
              (this._tmpTransform = null),
              (this._transform = null),
              e.__super__.dispose.call(this)
            );
          }),
          (e.prototype.reset = function () {
            return (
              (this._transform = {
                translateX: 0,
                translateY: 0,
                translateZ: 0,
                scaleX: 1,
                scaleY: 1,
                scaleZ: 1,
                rotateX: 0,
                rotateY: 0,
                rotateZ: 0,
              }),
              (this._tmpTransform = {})
            );
          }),
          (e.prototype.transformProp = function (t, e) {
            return null == e
              ? this._transform[t]
              : ((this._transform[t] = e), this);
          }),
          (e.prototype.translateX = function (t) {
            return this.transformProp("translateX", t);
          }),
          (e.prototype.translateY = function (t) {
            return this.transformProp("translateY", t);
          }),
          (e.prototype.translateZ = function (t) {
            return this.transformProp("translateZ", t);
          }),
          (e.prototype.scale2 = function (t) {
            return this.scaleX(t), this.scaleY(t), this;
          }),
          (e.prototype.scaleX = function (t) {
            return this.transformProp("scaleX", t);
          }),
          (e.prototype.scaleY = function (t) {
            return this.transformProp("scaleY", t);
          }),
          (e.prototype.scaleZ = function (t) {
            return this.transformProp("scaleZ", t);
          }),
          (e.prototype.rotate2 = function (t) {
            return this.rotateZ(t);
          }),
          (e.prototype.rotateX = function (t) {
            return this.transformProp("rotateX", t);
          }),
          (e.prototype.rotateY = function (t) {
            return this.transformProp("rotateY", t);
          }),
          (e.prototype.rotateZ = function (t) {
            return this.transformProp("rotateZ", t);
          }),
          (e.prototype.render = function () {
            var t, i, n, r, s;
            if ((e.__super__.render.call(this), this._isChangeTransform())) {
              (r = ""),
                (r += this._getTranslateVal()),
                (r += " "),
                (r += this._getRotateVal()),
                (r += " "),
                (r += this._getScaleVal()),
                this.el().css(this._getVendorCss("transform", r)),
                (i = this._transform),
                (n = []);
              for (t in i) (s = i[t]), n.push((this._tmpTransform[t] = s));
              return n;
            }
          }),
          (e.prototype._isChangeTransform = function () {
            var t, e, i;
            e = this._transform;
            for (t in e)
              if (((i = e[t]), i !== this._tmpTransform[t])) return !0;
            return !1;
          }),
          (e.prototype.pivot = function (t) {
            return (
              (t = t || "50% 50%"),
              this.el().css(this._getVendorCss("transform-origin", t)),
              this
            );
          }),
          (e.prototype.perspective = function (t) {
            return (
              (t = t || 250),
              this.el()
                .css(this._getVendorCss("transform-style", "preserve-3d"))
                .css(this._getVendorCss("perspective", t)),
              this
            );
          }),
          (e.prototype._getVendorCss = function (t, e) {
            var i;
            return (
              (i = {}),
              (i["-webkit-" + t] = e),
              (i["-o-" + t] = e),
              (i["-khtml-" + t] = e),
              (i["-ms-" + t] = e),
              (i[t] = e),
              i
            );
          }),
          (e.prototype._getTranslateVal = function () {
            var t;
            return (t =
              0 !== this._transform.translateX ||
              0 !== this._transform.translateY ||
              0 !== this._transform.translateZ
                ? "translate3d(" +
                  this._transform.translateX +
                  "px," +
                  this._transform.translateY +
                  "px," +
                  this._transform.translateZ +
                  "px)"
                : "");
          }),
          (e.prototype._getRotateVal = function () {
            var t;
            return (
              0 !== this._transform.rotateX ||
              0 !== this._transform.rotateY ||
              0 !== this._transform.rotateZ
                ? ((t = ""),
                  (t += "rotate3d(1,0,0," + this._transform.rotateX + "deg)"),
                  (t += " "),
                  (t += "rotate3d(0,1,0," + this._transform.rotateY + "deg)"),
                  (t += " "),
                  (t += "rotate3d(0,0,1," + this._transform.rotateZ + "deg)"))
                : (t = ""),
              t
            );
          }),
          (e.prototype._getScaleVal = function () {
            var t;
            return (t =
              1 !== this._transform.scaleX ||
              1 !== this._transform.scaleY ||
              1 !== this._transform.scaleZ
                ? "scale3d(" +
                  this._transform.scaleX +
                  "," +
                  this._transform.scaleY +
                  "," +
                  this._transform.scaleZ +
                  ")"
                : "");
          }),
          e
        );
      })(n)),
      (t.exports = r);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _,
      g,
      v = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      y = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) x.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      x = {}.hasOwnProperty;
    (f = i(5)),
      (h = i(12)),
      (l = i(4)),
      (s = i(1)),
      (a = i(2)),
      (m = i(6)),
      (p = i(18)),
      (g = i(3)),
      (c = i(7)),
      (_ = i(9)),
      (o = i(8)),
      (u = i(11)),
      (d = i(10)),
      (r = i(80)),
      (n = (function (t) {
        function e(t) {
          (this._resize = v(this._resize, this)),
            (this.flash = v(this.flash, this)),
            (this._updateBlock = v(this._updateBlock, this)),
            (this._eEnter = v(this._eEnter, this)),
            (this.show = v(this.show, this)),
            (this._update = v(this._update, this)),
            (this.init = v(this.init, this)),
            (t.resize = !0),
            (t.update = !0),
            e.__super__.constructor.call(this, t),
            (this.height = 0),
            (this.y = 0),
            (this._life = 0),
            (this._offset = 0.1),
            (this._delay = 0),
            (this.isEnter = !1),
            (this._item = []),
            (this.use = !0),
            (this.loaded = !1),
            (this._blockKey = "");
        }
        return (
          y(e, t),
          (e.prototype.init = function (t) {
            return (
              e.__super__.init.call(this),
              s.IS_SIMPLE
                ? void this.addClass("is-simple")
                : ((this._blockKey = this.el().attr("data-blockKey")),
                  this.find(".js-block_item").each(
                    (function (t) {
                      return function (e, i) {
                        var n;
                        return (
                          (n = new r({ el: $(i), offset: t._offset, base: t })),
                          n.init(),
                          t._item.push(n)
                        );
                      };
                    })(this)
                  ),
                  this._resize())
            );
          }),
          (e.prototype._update = function () {
            var t, i, n, r, o;
            if ((e.__super__._update.call(this), !s.IS_SIMPLE))
              if (
                (this._updateBlock(),
                (r = a.sh()),
                (o = p.old),
                (n = p.val),
                (t = this.y - r + 150),
                (i = this.y + 500),
                this.isEnter)
              ) {
                if (n > i || n < t) return (this.isEnter = !1);
              } else {
                if (n >= t && this.height > 0 && o <= n)
                  return this._eEnter(!0);
                if (n <= i && this.height > 0 && o > n) return this._eEnter(!1);
              }
          }),
          (e.prototype.show = function () {
            return (this.loaded = !0);
          }),
          (e.prototype._eEnter = function (t) {
            var e, i, n, r, s, o;
            if (this.use && this.loaded) {
              for (
                this.isEnter = !0,
                  r = this._item,
                  s = [],
                  e = i = 0,
                  n = r.length;
                i < n;
                e = ++i
              )
                (o = r[e]), s.push(o.show({ next: t }));
              return s;
            }
          }),
          (e.prototype._updateBlock = function () {
            return (
              (this.height = this.el().height()),
              (this.y = this.el().offset().top)
            );
          }),
          (e.prototype.flash = function () {
            var t, e, i, n, r, s;
            for (
              this._resize(), n = this._item, r = [], t = e = 0, i = n.length;
              e < i;
              t = ++e
            )
              (s = n[t]), r.push(s._resize());
            return r;
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this), (this._life = 3);
          }),
          e
        );
      })(h)),
      (t.exports = n);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _,
      g,
      v = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      y = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) x.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      x = {}.hasOwnProperty;
    (f = i(5)),
      (a = i(12)),
      (h = i(4)),
      (r = i(1)),
      (o = i(2)),
      (m = i(6)),
      (c = i(18)),
      (g = i(3)),
      (u = i(7)),
      (_ = i(9)),
      (s = i(8)),
      (l = i(11)),
      (p = i(10)),
      (d = i(22)),
      (n = (function (t) {
        function e(t) {
          (this._resize = v(this._resize, this)),
            (this._update = v(this._update, this)),
            (this._updateBlock = v(this._updateBlock, this)),
            (this._showCover = v(this._showCover, this)),
            (this._showFade = v(this._showFade, this)),
            (this._arrowY = v(this._arrowY, this)),
            (this._arrowX = v(this._arrowX, this)),
            (this._showYfast = v(this._showYfast, this)),
            (this._showY = v(this._showY, this)),
            (this._showBg = v(this._showBg, this)),
            (this.show = v(this.show, this)),
            (this.init = v(this.init, this)),
            (t.resize = !0),
            (t.update = !0),
            e.__super__.constructor.call(this, t),
            (this.isShow = !1),
            (this._type = ""),
            (this._delay = 0),
            (this._text = []),
            (this._isCheckScroll = !1),
            (this._scrollParam = {
              life: 0,
              x: 0,
              y: 0,
              width: 0,
              height: -1,
              elPos: new THREE.Vector2(),
              offset: 1,
            });
        }
        return (
          y(e, t),
          (e.prototype.init = function () {
            switch (
              (e.__super__.init.call(this),
              (this._type = this.el().attr("data-type")),
              (this._delay = Number(this.el().attr("data-delay"))),
              "" !== this.el().attr("data-scroll_offset") &&
                (this._scrollParam.offset = Number(
                  this.el().attr("data-scroll_offset")
                )),
              "scroll" === this._type && this.addClass("js-scroll_item"),
              this._type)
            ) {
              case "ttl":
                this.el()
                  .find("> .inner")
                  .each(
                    (function (t) {
                      return function (e, i) {
                        var n;
                        return (
                          (n = new d({ el: $(i) })), n.init(), t._text.push(n)
                        );
                      };
                    })(this)
                  );
                break;
              default:
                "y" === this._type || "y-fast" === this._type
                  ? f.set(this.el(), { y: "120%" })
                  : "arrowX" === this._type
                  ? f.set(this.el(), { width: "0%" })
                  : "arrowY" === this._type
                  ? f.set(this.el(), { height: "0%" })
                  : "cover" === this._type
                  ? f.set(this.el(), { opacity: 1 })
                  : "line" === this._type ||
                    "scroll" === this._type ||
                    f.set(this.el(), { opacity: 0 });
            }
            return (
              (this._isCheckScroll =
                "scroll" === this._type || "line" === this._type),
              this._resize()
            );
          }),
          (e.prototype.show = function (t) {
            var e, i, n, r, s, o;
            if (!this.isShow)
              switch (((t.delay = this._delay), this._type)) {
                case "ttl":
                  for (
                    r = this._text, s = [], e = i = 0, n = r.length;
                    i < n;
                    e = ++i
                  )
                    (o = r[e]),
                      s.push(
                        o.show({ isNext: t.next, delay: t.delay + 0.25 * e })
                      );
                  return s;
                case "img":
                  return this._showBg(t), (this.isShow = !0);
                case "y":
                  return this._showY(t), (this.isShow = !0);
                case "y-fast":
                  return this._showYfast(t), (this.isShow = !0);
                case "arrowX":
                  return this._arrowX(t), (this.isShow = !0);
                case "arrowY":
                  return this._arrowY(t), (this.isShow = !0);
                case "fade":
                  return this._showFade(t), (this.isShow = !0);
                case "cover":
                  return this._showCover(t);
              }
          }),
          (e.prototype._showBg = function (t) {
            return f.a(
              this.el(),
              {
                opacity: 1,
              },
              1,
              t.delay,
              Power1.easeInOut
            );
          }),
          (e.prototype._showY = function (t) {
            return f.a(this.el(), { y: "0%" }, 1.6, t.delay, Power4.easeOut);
          }),
          (e.prototype._showYfast = function (t) {
            return f.a(this.el(), { y: "0%" }, 1.2, t.delay, Power4.easeOut);
          }),
          (e.prototype._arrowX = function (t) {
            return TweenMax.to(this.el(), 1, {
              delay: t.delay,
              width: "51%",
              ease: Power2.easeOut,
            });
          }),
          (e.prototype._arrowY = function (t) {
            return TweenMax.to(this.el(), 1, {
              delay: t.delay,
              height: "111%",
              ease: Power2.easeOut,
            });
          }),
          (e.prototype._showFade = function (t) {
            return f.a(this.el(), { opacity: 1 }, 2, t.delay, Power2.easeOut);
          }),
          (e.prototype._showCover = function (t) {
            return f.a(this.el(), { opacity: 0 }, 3, t.delay, Power0.easeNone);
          }),
          (e.prototype._updateBlock = function () {
            return (
              (this._scrollParam.width = this.el().width()),
              (this._scrollParam.height = this.el().height()),
              (this._scrollParam.y = this.el().offset().top - 0.1 * o.sh())
            );
          }),
          (e.prototype._update = function () {
            var t, i, n, r, s;
            if ((e.__super__._update.call(this), this._isCheckScroll))
              return (
                this._life >= 0 &&
                  _.cnt % 3 === 0 &&
                  o.isLG() &&
                  (this._updateBlock(), this._life--),
                (n = o.sh()),
                (i = c.val),
                this.el().hasClass("line")
                  ? ((t = g.map(
                      i,
                      0,
                      1,
                      this._scrollParam.y - n,
                      this._scrollParam.y - n + this._scrollParam.width
                    )),
                    (r = g.map(t, 2 * this._scrollParam.width, 0, 0, 1)),
                    (r *= this._scrollParam.offset),
                    (this._scrollParam.elPos.x +=
                      0.05 * (r - this._scrollParam.elPos.x)),
                    o.isXS() && (this._scrollParam.elPos.x = 0),
                    f.set(this.el(), { x: -this._scrollParam.elPos.x }))
                  : ((t = g.map(
                      i,
                      0,
                      1,
                      this._scrollParam.y - n,
                      this._scrollParam.y - n + this._scrollParam.height
                    )),
                    (s = g.map(t, 0.5 * this._scrollParam.height, 0, 0, 1)),
                    (s *= this._scrollParam.offset),
                    (this._scrollParam.elPos.y +=
                      0.05 * (s - this._scrollParam.elPos.y)),
                    o.isXS() && (this._scrollParam.elPos.y = 0),
                    f.set(this.el(), {
                      y: this._scrollParam.elPos.y / 8,
                      rotation: this._scrollParam.elPos.y / 20,
                    }))
              );
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this), (this._life = 5);
          }),
          e
        );
      })(a)),
      (t.exports = n);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _,
      g,
      v = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      y = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) x.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      x = {}.hasOwnProperty;
    (m = i(5)),
      (u = i(12)),
      (c = i(4)),
      (n = i(1)),
      (s = i(2)),
      (_ = i(6)),
      (g = i(3)),
      (d = i(7)),
      (r = i(8)),
      (p = i(11)),
      (f = i(10)),
      (h = i(24)),
      (a = i(57)),
      (l = i(85)),
      (o = (function (t) {
        function e(t) {
          (this._resize = v(this._resize, this)),
            (this._update = v(this._update, this)),
            (this.hide = v(this.hide, this)),
            (this.show = v(this.show, this)),
            (this.setMode = v(this.setMode, this)),
            (this._eClickLogo = v(this._eClickLogo, this)),
            (this._eRollOutLogo = v(this._eRollOutLogo, this)),
            (this._eRollOverLogo = v(this._eRollOverLogo, this)),
            (this.init = v(this.init, this)),
            e.__super__.constructor.call(this, t),
            this._logo,
            this._menubtn,
            (this.type = _.HEADER.NORMAL),
            this.onClickMenuBtn;
        }
        return (
          y(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              (this._logo = new a({ el: this.find(".js-logo") })),
              this._logo.init(),
              n.IS_PC &&
                this.find("> .logo")
                  .on("mouseover", this._eRollOverLogo)
                  .on("mouseout", this._eRollOutLogo),
              (this._menubtn = new l({ el: this.find(".menu") })),
              (this._menubtn.onClick = (function (t) {
                return function () {
                  if (null != t.onClickMenuBtn) return t.onClickMenuBtn();
                };
              })(this)),
              this._menubtn.init(),
              $(".l-header .js-toPage").on("click", this._eClickLogo),
              this.setVisible(!1)
            );
          }),
          (e.prototype._eRollOverLogo = function (t) {
            return this._logo.rollOver();
          }),
          (e.prototype._eRollOutLogo = function (t) {
            return this._logo.rollOut();
          }),
          (e.prototype._eClickLogo = function (t) {
            var e;
            return (
              (e = Number($(t.currentTarget).attr("data-toPageId"))),
              router.move({ nextPageId: e })
            );
          }),
          (e.prototype.setMode = function (t) {
            return (
              (this.type = t),
              this._menubtn.setMode(t),
              this.removeClass("is-menu"),
              this.removeClass("is-detail"),
              t === _.HEADER.MENU
                ? this.addClass("is-menu")
                : t === _.HEADER.DETAIL
                ? this.addClass("is-detail")
                : void 0
            );
          }),
          (e.prototype.show = function (t) {
            var e;
            return (
              this.setVisible(!0),
              (t = t || {}),
              (e = t.delay || 0),
              this._menubtn.show({ delay: e }),
              this._logo.show({ delay: e })
            );
          }),
          (e.prototype.hide = function (t) {
            var e;
            return (
              (t = t || {}),
              (e = t.delay || 0),
              this._menubtn.hide({ delay: e }),
              this._logo.hide({ delay: e })
            );
          }),
          (e.prototype._update = function () {
            return e.__super__._update.call(this);
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this);
          }),
          e
        );
      })(u)),
      (t.exports = o);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _,
      g = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      v = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) y.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      y = {}.hasOwnProperty;
    (f = i(5)),
      (h = i(12)),
      (l = i(4)),
      (n = i(1)),
      (s = i(2)),
      (m = i(6)),
      (a = i(14)),
      (p = i(18)),
      (_ = i(3)),
      (c = i(7)),
      (r = i(8)),
      (u = i(11)),
      (d = i(10)),
      (o = (function (t) {
        function e(t) {
          (this._resize = g(this._resize, this)),
            (this._update = g(this._update, this)),
            (this._eMouseOut = g(this._eMouseOut, this)),
            (this._eMouseOver = g(this._eMouseOver, this)),
            (this.init = g(this.init, this)),
            (t.update = !0),
            (t.resize = !0),
            e.__super__.constructor.call(this, t),
            (this.tgId = t.tgId),
            this.onRollOver,
            this.onRollOut,
            this._moveTg,
            (this._baseRect = new u()),
            (this._tgPos = new u()),
            (this._isHover = !1),
            (this._isMove = !1);
        }
        return (
          v(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              this.el().attr("data-tgId", this.tgId),
              this.el().addClass(".js-hover_tg"),
              this.el().hasClass("is-move") &&
                ((this._isMove = !0), (this._moveTg = this.find("> .inner"))),
              this.el()
                .on("mouseover", this._eMouseOver)
                .on("mouseout", this._eMouseOut),
              this._resize()
            );
          }),
          (e.prototype._eMouseOver = function (t) {
            var e;
            if (!s.isXS() && !n.IS_SIMPLE)
              return (
                (this._isHover = !0),
                (this._baseRect.width = this.el().width()),
                (this._baseRect.height = this.el().height()),
                (e = this.el().offset()),
                (this._baseRect.x = e.left + 0.5 * this._baseRect.width),
                (this._baseRect.y =
                  e.top - p.val + 0.5 * this._baseRect.height),
                null != this.onRollOver ? this.onRollOver(this) : void 0
              );
          }),
          (e.prototype._eMouseOut = function (t) {
            if (!s.isXS() && !n.IS_SIMPLE)
              return (
                (this._isHover = !1),
                null != this.onRollOut ? this.onRollOut(this) : void 0
              );
          }),
          (e.prototype._update = function () {
            var t, i, r, o;
            if (
              (e.__super__._update.call(this),
              this._isMove && s.isLG() && !n.IS_SIMPLE)
            )
              return (
                this._isHover
                  ? ((i = -1),
                    (r = a.x - this._baseRect.x),
                    (o = a.y - this._baseRect.y))
                  : (r = o = 0),
                (t = 0.1),
                (this._tgPos.x += (r - this._tgPos.x) * t),
                (this._tgPos.y += (o - this._tgPos.y) * t),
                f.set(this._moveTg, { x: this._tgPos.x, y: this._tgPos.y })
              );
          }),
          (e.prototype._resize = function () {
            if (
              (e.__super__._resize.call(this), s.isXS() && null != this._moveTg)
            )
              return f.set(this._moveTg, { x: 0, y: 0 });
          }),
          e
        );
      })(h)),
      (t.exports = o);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _ = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      g = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) v.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      v = {}.hasOwnProperty;
    (d = i(5)),
      (h = i(12)),
      (l = i(4)),
      (n = i(1)),
      (s = i(2)),
      (f = i(6)),
      (m = i(3)),
      (c = i(7)),
      (r = i(8)),
      (u = i(11)),
      (p = i(10)),
      (a = i(60)),
      (o = (function (t) {
        function e(t) {
          (this._resize = _(this._resize, this)),
            (this._update = _(this._update, this)),
            (this.end = _(this.end, this)),
            (this.start = _(this.start, this)),
            (this.init = _(this.init, this)),
            e.__super__.constructor.call(this, t),
            this._con;
        }
        return (
          g(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              (this._con = new a({ el: this.find(".contents") })),
              this._con.init()
            );
          }),
          (e.prototype.start = function (t) {
            return (
              null == t.isSub && (t.isSub = !1),
              this.setVisible(!0),
              t.isSub
                ? (this.addClass("is-sub"),
                  d.a(this.el(), { opacity: [0, 1] }, 0.5, 0, Power1.easeInOut),
                  this._con.start({ time: 1.5, isSub: !0 }))
                : (this.removeClass("is-sub"),
                  d.set(this._con.el(), { opacity: 1 }),
                  (t.time = 1.5),
                  this._con.start(t))
            );
          }),
          (e.prototype.end = function (t) {
            var e;
            return (
              null == t.isSub && (t.isSub = !1),
              (e = 1),
              this._con.end({ time: e }),
              d.a(
                this.el(),
                { opacity: [1, 0] },
                e,
                0,
                Power1.easeInOut,
                null,
                null,
                (function (e) {
                  return function () {
                    if ((e.setVisible(!1), null != t.onComplete))
                      return t.onComplete();
                  };
                })(this)
              )
            );
          }),
          (e.prototype._update = function () {
            return e.__super__._update.call(this);
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this);
          }),
          e
        );
      })(h)),
      (t.exports = o);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _ = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      g = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) v.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      v = {}.hasOwnProperty;
    (d = i(5)),
      (h = i(12)),
      (l = i(4)),
      (n = i(1)),
      (s = i(2)),
      (f = i(6)),
      (m = i(3)),
      (c = i(7)),
      (r = i(8)),
      (u = i(11)),
      (p = i(10)),
      (a = i(63)),
      (o = (function (t) {
        function e(t) {
          (this._resize = _(this._resize, this)),
            (this._update = _(this._update, this)),
            (this.hideFast = _(this.hideFast, this)),
            (this.hide = _(this.hide, this)),
            (this.show = _(this.show, this)),
            (this._eClickToPage = _(this._eClickToPage, this)),
            (this.init = _(this.init, this)),
            e.__super__.constructor.call(this, t),
            this._bg,
            this._item,
            this._copy;
        }
        return (
          g(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              n.IS_SIMPLE &&
                (this.el().prepend('<div class="bg"></div>'),
                (this._bg = this.find("> .bg")),
                d.set(this._bg, { opacity: 0 })),
              (this._item = new a({ el: this.find("> .item") })),
              this._item.init(),
              (this._copy = this.find("> .copyright")),
              this.find(".js-toPage").on("click", this._eClickToPage),
              this.setActive(!1)
            );
          }),
          (e.prototype._eClickToPage = function (t) {
            var e;
            return (
              (e = Number($(t.currentTarget).attr("data-toPageId"))),
              router.move({ nextPageId: e })
            );
          }),
          (e.prototype.show = function (t) {
            if (!l.openMenu)
              return (
                this.setActive(!0),
                (l.openMenu = !0),
                (l.renderMenu = !0),
                $("html").addClass("is-openmenu"),
                null != this._bg && d.a(this._bg, { opacity: [0, 1] }, 0.25, 0),
                (this._item.isRender = !0),
                this._item.show({ delay: 0 }),
                d.a(this._copy, { opacity: [0, 1] }, 1, 1, Power2.easeOut)
              );
          }),
          (e.prototype.hide = function (t) {
            if (l.openMenu)
              return (
                (l.openMenu = !1),
                $("html").removeClass("is-openmenu"),
                null != this._bg &&
                  d.a(
                    this._bg,
                    { opacity: 0 },
                    0.75,
                    0,
                    null,
                    null,
                    null,
                    (function (t) {
                      return function () {
                        return (
                          (l.renderMenu = !1),
                          (t._item.isRender = !1),
                          t.setActive(!1)
                        );
                      };
                    })(this)
                  ),
                this._item.hide({
                  delay: 0,
                  onComplete: (function (t) {
                    return function () {
                      return (
                        (l.renderMenu = !1),
                        (t._item.isRender = !1),
                        t.setActive(!1)
                      );
                    };
                  })(this),
                }),
                d.a(this._copy, { opacity: [1, 0] }, 0.5, 0, Power2.easeOut)
              );
          }),
          (e.prototype.hideFast = function (t) {
            if (
              ((l.openMenu = !1),
              (l.renderMenu = !1),
              this.setActive(!1),
              $("html").removeClass("is-openmenu"),
              this._item.hide({ delay: 0 }),
              null != this._bg)
            )
              return d.set(this._bg, { opacity: 0 });
          }),
          (e.prototype._update = function () {
            return e.__super__._update.call(this);
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this);
          }),
          e
        );
      })(h)),
      (t.exports = o);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _,
      g = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      v = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) y.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      y = {}.hasOwnProperty;
    (f = i(5)),
      (l = i(12)),
      (u = i(4)),
      (n = i(1)),
      (s = i(2)),
      (m = i(6)),
      (_ = i(3)),
      (p = i(7)),
      (r = i(8)),
      (c = i(11)),
      (d = i(10)),
      (o = i(24)),
      (a = i(28)),
      (h = (function (t) {
        function e(t) {
          (this._resize = g(this._resize, this)),
            (this._update = g(this._update, this)),
            (this.hide = g(this.hide, this)),
            (this.show = g(this.show, this)),
            (this.setMode = g(this.setMode, this)),
            (this.init = g(this.init, this)),
            e.__super__.constructor.call(this, t),
            this._text,
            this._icon,
            (this._line = []),
            (this._lineInner = []),
            (this._lineInnerInterval = 0.25),
            (this._type = m.HEADER.NORMAL),
            this.onClick;
        }
        return (
          v(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              (this._text = this.find(".text")),
              (this._icon = this.find(".icon")),
              this.find(".icon > .item").each(
                (function (t) {
                  return function (e, i) {
                    return t._line.push($(i));
                  };
                })(this)
              ),
              this.find(".icon > .item > .inner").each(
                (function (t) {
                  return function (e, i) {
                    var n;
                    return (
                      (n = new a({ el: $(i), delay: s.val(2, 1) })),
                      n.init(),
                      t._lineInner.push(n)
                    );
                  };
                })(this)
              ),
              this.el().on(
                "click",
                (function (t) {
                  return function () {
                    if (null != t.onClick) return t.onClick();
                  };
                })(this)
              ),
              this._resize()
            );
          }),
          (e.prototype.setMode = function (t) {
            var e, i, n, r, o, a, h, l, u, c, p;
            if (this._type !== t) {
              if (
                ((this._type = t),
                (c = 1),
                (e = Power4.easeInOut),
                t === m.HEADER.NORMAL || t === m.HEADER.DETAIL)
              )
                for (
                  "CLOSE" === this._text.html() &&
                    f.a(this._text, { opacity: 0 }, c, 0, e),
                    f.a(this._line[0], { rotationZ: 0 }, c, 0, e),
                    f.a(
                      this._line[1],
                      { rotationZ: 0 },
                      c,
                      0,
                      e,
                      null,
                      null,
                      (function (t) {
                        return function () {
                          return (
                            t._text.html("MENU"),
                            f.a(t._text, { opacity: 1 }, c, 0, e),
                            f.a(
                              t._line[0],
                              { y: s.val(s.r(-10), -4) },
                              c,
                              0,
                              e
                            ),
                            t._line[1].addClass("is-bottom"),
                            f.set(t._line[1], {
                              scaleX: s.val(0.666666667, 0.545454545),
                            }),
                            f.a(t._line[1], { y: s.val(s.r(10), 4) }, c, 0, e)
                          );
                        };
                      })(this)
                    ),
                    f.a(this._icon, { rotationZ: 0 }, c, 0, e),
                    h = this._lineInner,
                    i = n = 0,
                    o = h.length;
                  n < o;
                  i = ++n
                )
                  (p = h[i]),
                    p.startLoop({ delay: i * this._lineInnerInterval });
              if (t === m.HEADER.MENU) {
                for (
                  f.a(this._text, { opacity: 0 }, c, 0, e),
                    f.a(this._line[0], { y: 0 }, c, 0, e),
                    f.a(
                      this._line[1],
                      { y: 0 },
                      c,
                      0,
                      e,
                      null,
                      null,
                      (function (t) {
                        return function () {
                          return (
                            t._text.html("CLOSE"),
                            f.a(t._text, { opacity: 1 }, c, 0, e),
                            f.a(t._line[0], { rotationZ: 45 }, c, 0, e),
                            t._line[1].removeClass("is-bottom"),
                            f.set(t._line[1], { scaleX: 1 }),
                            f.a(t._line[1], { rotationZ: -45 }, c, 0, e),
                            f.a(t._icon, { rotationZ: 180 }, c, 0, e)
                          );
                        };
                      })(this)
                    ),
                    l = this._lineInner,
                    u = [],
                    i = r = 0,
                    a = l.length;
                  r < a;
                  i = ++r
                )
                  (p = l[i]), u.push((p.isLoop = !1));
                return u;
              }
            }
          }),
          (e.prototype.show = function (t) {
            var e, i, n, r, o, a, h, l, u, c, p, d;
            for (
              e = t.delay,
                n = 0.1,
                d = s.r(20),
                l = this._line,
                i = r = 0,
                a = l.length;
              r < a;
              i = ++r
            )
              (p = l[i]),
                f.a(
                  p,
                  { opacity: [0, 1], x: [d, 0] },
                  1.5,
                  e + i * n,
                  Power3.easeInOut
                );
            for (
              f.a(
                this._text,
                {
                  opacity: [0, 1],
                  x: [d, 0],
                  letterSpacing: ["0.4em", "0.1em"],
                },
                1.5,
                e + this._line.length * n,
                Power3.easeInOut,
                null,
                null,
                t.onComplete
              ),
                u = this._lineInner,
                c = [],
                i = o = 0,
                h = u.length;
              o < h;
              i = ++o
            )
              (p = u[i]),
                c.push(p.startLoop({ delay: i * this._lineInnerInterval }));
            return c;
          }),
          (e.prototype.hide = function (t) {
            var e, i, n, r, o, a, h, l;
            for (
              e = t.delay,
                n = 0.1,
                l = 0 * s.r(20),
                a = this._line,
                i = r = 0,
                o = a.length;
              r < o;
              i = ++r
            )
              (h = a[i]),
                f.a(h, { opacity: 0, x: l }, 1.5, e + i * n, Power3.easeInOut);
            return f.a(
              this._text,
              { opacity: 0, x: l, letterSpacing: ["0.1em", "0.4em"] },
              1.5,
              e + this._line.length * n,
              Power3.easeInOut,
              null,
              null,
              t.onComplete
            );
          }),
          (e.prototype._update = function () {
            return e.__super__._update.call(this);
          }),
          (e.prototype._resize = function () {
            var t, i, n, r, o;
            for (
              e.__super__._resize.call(this),
                r = this._lineInner,
                t = i = 0,
                n = r.length;
              i < n;
              t = ++i
            )
              (o = r[t]), (o.time = s.val(0.5, 1));
            if (this._type === m.HEADER.NORMAL)
              return (
                f.set(this._line[0], { rotationZ: 0, y: s.val(s.r(-10), -4) }),
                this._line[1].addClass("is-bottom"),
                f.set(this._line[1], {
                  rotationZ: 0,
                  y: s.val(s.r(10), 4),
                  scaleX: s.val(0.666666667, 0.545454545),
                }),
                f.set(this._icon, { rotationZ: 0 })
              );
          }),
          e
        );
      })(l)),
      (t.exports = h);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      _ = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) g.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      g = {}.hasOwnProperty;
    (p = i(5)),
      (o = i(12)),
      (a = i(4)),
      (n = i(1)),
      (s = i(2)),
      (d = i(6)),
      (f = i(3)),
      (l = i(7)),
      (r = i(8)),
      (h = i(11)),
      (u = i(10)),
      (c = (function (t) {
        function e(t) {
          (this._resize = m(this._resize, this)),
            (this._update = m(this._update, this)),
            (this.end = m(this.end, this)),
            (this.start = m(this.start, this)),
            (this.init = m(this.init, this)),
            e.__super__.constructor.call(this, t),
            this._bg;
        }
        return (
          _(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              (this._bg = this.find(".bg")),
              this.find(".mv").remove(),
              p.set(this._bg, { opacity: 1 })
            );
          }),
          (e.prototype.start = function (t) {
            return (
              this.setVisible(!0),
              p.a(
                this._bg,
                { opacity: [0, 1] },
                0.25,
                t.delay,
                Power1.easeInOut,
                null,
                null,
                t.onComplete
              )
            );
          }),
          (e.prototype.end = function (t) {
            var e;
            return (
              (e = t.time || 0.25),
              p.a(
                this._bg,
                { opacity: [1, 0] },
                e,
                t.delay,
                Power1.easeInOut,
                null,
                null,
                (function (e) {
                  return function () {
                    if ((e.setVisible(!1), null != t.onComplete))
                      return t.onComplete();
                  };
                })(this)
              )
            );
          }),
          (e.prototype._update = function () {
            return e.__super__._update.call(this);
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this);
          }),
          e
        );
      })(o)),
      (t.exports = c);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      _ = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) g.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      g = {}.hasOwnProperty;
    (p = i(5)),
      (o = i(12)),
      (a = i(4)),
      (n = i(1)),
      (s = i(2)),
      (d = i(6)),
      (f = i(3)),
      (l = i(7)),
      (r = i(8)),
      (h = i(11)),
      (u = i(10)),
      (c = (function (t) {
        function e(t) {
          (this._resize = m(this._resize, this)),
            (this._update = m(this._update, this)),
            (this.clear = m(this.clear, this)),
            (this.hide = m(this.hide, this)),
            (this.show = m(this.show, this)),
            (this.init = m(this.init, this)),
            e.__super__.constructor.call(this, t),
            (this._zureX = 0),
            (this._zureY = 20),
            (this._isFast = t.isFast);
        }
        return (
          _(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              p.set(this.el(), { opacity: 0, y: s.r(this._zureY) })
            );
          }),
          (e.prototype.show = function (t) {
            var e, i;
            return (
              (e = 0.28125),
              this._isFast && (e *= 1),
              (i = s.r(-this._zureY)),
              t.isNext && (i *= -1),
              this._opt.isMain
                ? p.a(
                    this.el(),
                    { opacity: [0, 1], y: [i, 0] },
                    2 * e,
                    t.delay + 0 * e,
                    Power2.easeInOut,
                    null,
                    null,
                    t.onComplete
                  )
                : s.isLG()
                ? p.a(
                    this.el(),
                    { opacity: [0, 0.1], y: [i * -0.25, 0] },
                    e,
                    t.delay,
                    Power1.easeIn,
                    null,
                    null,
                    (function (n) {
                      return function () {
                        return p.a(
                          n.el(),
                          { opacity: 0, y: 0.25 * i },
                          e,
                          0,
                          Power1.easeOut,
                          null,
                          null,
                          t.onComplete
                        );
                      };
                    })(this)
                  )
                : void 0
            );
          }),
          (e.prototype.hide = function (t) {
            var e, i;
            if (((e = 0.140625), this._opt.isMain))
              return (
                (i = s.r(this._zureY)),
                t.isNext && (i *= -1),
                p.a(
                  this.el(),
                  { opacity: 0, y: i },
                  2 * e,
                  t.delay + 0 * e,
                  Power2.easeInOut,
                  null,
                  null,
                  t.onComplete
                )
              );
          }),
          (e.prototype.clear = function () {
            return p.set(this.el(), { opacity: 0 });
          }),
          (e.prototype._update = function () {
            return e.__super__._update.call(this);
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this);
          }),
          e
        );
      })(o)),
      (t.exports = c);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _,
      g,
      v,
      y,
      x,
      w,
      b,
      T,
      E,
      S,
      M = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      C = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) P.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      P = {}.hasOwnProperty;
    (w = i(5)),
      (a = i(12)),
      (l = i(4)),
      (n = i(1)),
      (s = i(2)),
      (b = i(6)),
      (o = i(14)),
      (x = i(50)),
      (h = i(25)),
      (E = i(3)),
      (g = i(7)),
      (T = i(9)),
      (r = i(8)),
      (m = i(11)),
      (y = i(10)),
      (_ = i(66)),
      (v = i(38)),
      (S = i(31)),
      (p = i(90)),
      (c = i(39)),
      (d = i(91)),
      (f = i(93)),
      (u = (function (t) {
        function e(t) {
          (this._resize = M(this._resize, this)),
            (this._update = M(this._update, this)),
            (this._eCloseDetail = M(this._eCloseDetail, this)),
            (this._eShowedDetail = M(this._eShowedDetail, this)),
            (this._eToDetail = M(this._eToDetail, this)),
            (this._eCloseItem = M(this._eCloseItem, this)),
            (this._eClickItem = M(this._eClickItem, this)),
            (this.show = M(this.show, this)),
            (this.end = M(this.end, this)),
            (this.start = M(this.start, this)),
            (this.init = M(this.init, this)),
            (t.pageId = b.PAGE.PORTFOLIO),
            e.__super__.constructor.call(this, t),
            this._mv,
            this._info,
            this._detail,
            this._scroll,
            this._map,
            this._xsinfo;
        }
        return (
          C(e, t),
          (e.prototype.init = function () {
            var t;
            return (
              e.__super__.init.call(this),
              (t = new S({
                isTop: !1,
                el: $(".p-pf_items > .item"),
                detail: $(".p-pf .p-pf_detail"),
              })),
              (window.pfdata = t),
              (this._mv = new _({
                page: this,
                el: this.find(".p-pf_mv"),
                data: window.pfdata.item,
              })),
              this._mv.init(),
              (this._mv.onClickItem = this._eClickItem),
              (this._mv.onCloseItem = this._eCloseItem),
              (this._mv.onToDetail = this._eToDetail),
              (this._mv.onShowedDetail = this._eShowedDetail),
              (this._mv.onCloseDetail = this._eCloseDetail),
              (this._info = new p({ el: this.find(".p-pf_sub") })),
              this._info.init(),
              (this._detail = new c({
                page: this.pageId,
                el: this.find(".p-pf_detail"),
                mv: this._mv,
                usedata: pfdata,
              })),
              this._detail.init(),
              (this._scroll = new v({ el: this.find(".l-scroll") })),
              this._scroll.init(),
              (this._map = new d({ el: this.find(".p-pf_map"), data: t })),
              this._map.init(),
              (this._mv.map = this._map),
              (this._xsinfo = new f({
                el: this.find(".p-pf_xsinfo"),
                mv: this._mv,
              })),
              this._xsinfo.init()
            );
          }),
          (e.prototype.start = function (t) {
            return e.__super__.start.call(this, t), (o.isForceCancel = !0);
          }),
          (e.prototype.end = function () {
            return (
              e.__super__.end.call(this),
              this._detail.resetDetail(),
              this._mv.resetDetail()
            );
          }),
          (e.prototype.show = function (t) {
            return (
              e.__super__.show.call(this, t),
              (o.useSwipe = !1),
              (l.isFixDetailInfo = !1),
              t.isFastDetail
                ? this._mv.setFastDetail(t)
                : (null == t.delay && (t.delay = 0),
                  this._mv.show(t),
                  this._scroll.show({ delay: 0.5 }),
                  this._map.show({ delay: 1.5 }),
                  this._xsinfo.show({ delay: 0 }))
            );
          }),
          (e.prototype._eClickItem = function (t) {
            return (
              this._info.show({ workId: t.workId }),
              this._map.setSelected(),
              this._scroll.hide({ delay: 0 }),
              router.mouse.setMode(b.MOUSE.VIEW)
            );
          }),
          (e.prototype._eCloseItem = function (t) {
            return (
              this._info.hide(t),
              this._map.setNormal(),
              this._map.show({ delay: 1 }),
              this._scroll.show({ delay: 0 })
            );
          }),
          (e.prototype._eToDetail = function (t) {
            return (
              this._info.hide(t),
              this._scroll.hide({ delay: 0 }),
              this._map.hide({ delay: 0 }),
              this._xsinfo.hide({ delay: 0 })
            );
          }),
          (e.prototype._eShowedDetail = function (t) {
            return this._detail.showItem(t);
          }),
          (e.prototype._eCloseDetail = function (t) {
            return (
              router.setHeaderType(b.HEADER.NORMAL),
              this._scroll.show({ delay: 0.5 }),
              this._map.show({ delay: 0.5 }),
              this._xsinfo.show({ delay: 0.5 })
            );
          }),
          (e.prototype._update = function () {
            if ((e.__super__._update.call(this), router.isPage(this.pageId)))
              return (n.IS_SP && T.cnt % 2 === 0 && !l.isDetail) || n.IS_PC
                ? this._map.updateMap(this._mv.getMapInfo())
                : void 0;
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this);
          }),
          e
        );
      })(h)),
      (t.exports = u);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _,
      g,
      v,
      y,
      x = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      w = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) b.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      b = {}.hasOwnProperty;
    (m = i(5)),
      (a = i(12)),
      (h = i(4)),
      (n = i(1)),
      (s = i(2)),
      (_ = i(6)),
      (d = i(18)),
      (v = i(3)),
      (p = i(7)),
      (g = i(9)),
      (r = i(8)),
      (c = i(11)),
      (f = i(10)),
      (y = i(13)),
      (o = i(24)),
      (u = i(29)),
      (l = (function (t) {
        function e(t) {
          (this._resize = x(this._resize, this)),
            (this._update = x(this._update, this)),
            (this.updateRate = x(this.updateRate, this)),
            (this._eClickPager = x(this._eClickPager, this)),
            (this._eClickClose = x(this._eClickClose, this)),
            (this.hide = x(this.hide, this)),
            (this.show = x(this.show, this)),
            (this.init = x(this.init, this)),
            (t.update = !0),
            (t.resize = !0),
            e.__super__.constructor.call(this, t),
            (this.workId = 0),
            (this.rate = 0),
            this._info,
            (this._image = []),
            (this.isActiveItem = !0),
            this.onClickClose,
            this.onClickPager;
        }
        return (
          w(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              (this.workId = Number(this.el().attr("data-id"))),
              (this._info = this.find(".info")),
              this.find(".image").each(
                (function (t) {
                  return function (e, i) {
                    return t._image.push({
                      el: $(i),
                      offset: 0,
                      height: 0,
                      y: 0,
                    });
                  };
                })(this)
              ),
              this.find(".next > .all").on("click", this._eClickClose),
              this.find(".next > .link > .item").on("click", this._eClickPager),
              this.hide(),
              this._resize()
            );
          }),
          (e.prototype.show = function () {
            return this.removeClass("is-none");
          }),
          (e.prototype.hide = function () {
            return this.addClass("is-none");
          }),
          (e.prototype._eClickClose = function (t) {
            if (null != this.onClickClose) return this.onClickClose();
          }),
          (e.prototype._eClickPager = function (t) {
            var e;
            if (
              ((e = $(t.currentTarget).hasClass("is-prev") ? 0 : 1),
              null != this.onClickPager)
            )
              return this.onClickPager({ key: e });
          }),
          (e.prototype.updateRate = function (t) {
            var e, i, r, o, a, h, l, u, c;
            if (!n.IS_SIMPLE && !s.isXS()) {
              for (
                m.set(this._info, { y: v.map(t, s.r(200), 0, 0.8, 1) }),
                  l = s.sh(),
                  h = d.val,
                  o = this._image,
                  a = [],
                  e = i = 0,
                  r = o.length;
                i < r;
                e = ++i
              )
                (u = o[e]),
                  g.cnt % 10 === 0 &&
                    ((u.offset = u.el.offset().top - 0.1 * s.sh()),
                    (u.height = u.el.height())),
                  (t = v.map(h, 0, 1, u.offset - l, u.offset - l + u.height)),
                  (c = v.map(t, 0.25 * u.height, 0, 0, 1)),
                  (u.y += 0.15 * (c - u.y)),
                  a.push(m.set(u.el, { y: u.y }));
              return a;
            }
          }),
          (e.prototype._update = function () {
            return e.__super__._update.call(this);
          }),
          (e.prototype._resize = function () {
            if ((e.__super__._resize.call(this), s.isXS()))
              return m.set(this._info, { y: 0 });
          }),
          e
        );
      })(a)),
      (t.exports = l);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _ = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      g = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) v.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      v = {}.hasOwnProperty;
    (d = i(5)),
      (o = i(12)),
      (a = i(4)),
      (n = i(1)),
      (s = i(2)),
      (f = i(6)),
      (m = i(3)),
      (c = i(7)),
      (r = i(8)),
      (u = i(11)),
      (p = i(10)),
      (l = i(29)),
      (h = (function (t) {
        function e(t) {
          (this._resize = _(this._resize, this)),
            (this._update = _(this._update, this)),
            (this.clear = _(this.clear, this)),
            (this.hide = _(this.hide, this)),
            (this.show = _(this.show, this)),
            (this.init = _(this.init, this)),
            e.__super__.constructor.call(this, t),
            (this._item = []);
        }
        return (
          g(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              this.find("> .item").each(
                (function (t) {
                  return function (e, i) {
                    var n;
                    return (n = new l({ el: $(i) })), n.init(), t._item.push(n);
                  };
                })(this)
              )
            );
          }),
          (e.prototype.show = function (t) {
            var e, i, n, r, s, o;
            for (
              r = this._item, s = [], e = i = 0, n = r.length;
              i < n;
              e = ++i
            )
              (o = r[e]),
                o.workId === t.workId
                  ? s.push(o.show({ delay: 0.75 }))
                  : s.push(void 0);
            return s;
          }),
          (e.prototype.hide = function (t) {
            var e, i, n, r, s, o;
            for (
              r = this._item, s = [], e = i = 0, n = r.length;
              i < n;
              e = ++i
            )
              (o = r[e]), s.push(o.hide({ delay: 0 }));
            return s;
          }),
          (e.prototype.clear = function () {
            var t, e, i, n, r, s;
            for (
              n = this._item, r = [], t = e = 0, i = n.length;
              e < i;
              t = ++e
            )
              (s = n[t]), r.push(s.clear());
            return r;
          }),
          (e.prototype._update = function () {
            return e.__super__._update.call(this);
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this);
          }),
          e
        );
      })(o)),
      (t.exports = h);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _ = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      g = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) v.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      v = {}.hasOwnProperty;
    (d = i(5)),
      (o = i(12)),
      (a = i(4)),
      (n = i(1)),
      (s = i(2)),
      (f = i(6)),
      (m = i(3)),
      (u = i(7)),
      (r = i(8)),
      (l = i(11)),
      (c = i(10)),
      (p = i(22)),
      (h = (function (t) {
        function e(t) {
          (this._resize = _(this._resize, this)),
            (this._update = _(this._update, this)),
            (this.hide = _(this.hide, this)),
            (this.show = _(this.show, this)),
            (this.updateMap = _(this.updateMap, this)),
            (this.setNormal = _(this.setNormal, this)),
            (this.setSelected = _(this.setSelected, this)),
            (this.init = _(this.init, this)),
            e.__super__.constructor.call(this, t),
            (this._data = t.data),
            this._tg,
            (this._item = []),
            (this._isSelected = !1),
            (this._scale = 1),
            (this._isShow = !1);
        }
        return (
          g(e, t),
          (e.prototype.init = function () {
            var t, i, n, r, s, o;
            for (
              e.__super__.init.call(this),
                this._tg = this.find("> .tg"),
                s = "",
                r = this._data,
                t = i = 0,
                n = r.length;
              i < n;
              t = ++i
            )
              (o = r[t]), (s += '<div class="item"></div>');
            return (
              this.find("> .items").append(s),
              this.find("> .items > .item").each(
                (function (t) {
                  return function (e, i) {
                    return t._item.push($(i));
                  };
                })(this)
              ),
              this.hide({})
            );
          }),
          (e.prototype.setSelected = function () {
            return this.addClass("is-selected"), (this._isSelected = !0);
          }),
          (e.prototype.setNormal = function () {
            return this.removeClass("is-selected"), (this._isSelected = !1);
          }),
          (e.prototype.updateMap = function (t) {
            var e, i, n, r, o, a, h, l, u, c, p, f, m, _, g, v, y, x, w, b, T;
            if (this._isShow) {
              for (
                c = -t.basePos.x + 0.5 * t.area.x,
                  p = t.basePos.y + 0.5 * t.area.y,
                  b = c / t.area.x,
                  T = p / t.area.y,
                  u = s.r(s.val(240, 120)),
                  l = s.r(s.val(143, 70)),
                  g = u * s.val(1, 1.75),
                  _ = l * s.val(1, 1.2),
                  x = s.r(s.val(106, 53)),
                  v = s.r(s.val(60, 30)),
                  y = this._isSelected ? 0.68 : 1,
                  this._scale += 0.1 * (y - this._scale),
                  d.set(this._tg, {
                    x: g * b - 0.5 * x - 0.5 * (g - u),
                    y: _ * T - 0.5 * v - 0.5 * (_ - l),
                    scale: this._scale,
                  }),
                  a = 0.8,
                  r = u * a,
                  n = l * a,
                  f = t.items,
                  m = [],
                  e = o = 0,
                  h = f.length;
                o < h;
                e = ++o
              )
                (w = f[e]),
                  (i = this._item[e]),
                  null != i
                    ? ((b = (w.x + 0.5 * t.area.x) / t.area.x),
                      (T = (-w.y + 0.5 * t.area.y) / t.area.y),
                      m.push(
                        d.a(i, {
                          x: b * r - 0.5 * s.r(3) - 0.5 * (r - u),
                          y: T * n - 0.5 * s.r(3) - 0.5 * (n - l),
                        })
                      ))
                    : m.push(void 0);
              return m;
            }
          }),
          (e.prototype.show = function (t) {
            var e;
            return (
              (this._isShow = !0),
              (e = t.delay || 0),
              d.a(this.el(), { opacity: 1 }, 1, e, Power1.easeOut)
            );
          }),
          (e.prototype.hide = function (t) {
            var e;
            return (
              (this._isShow = !1),
              (e = t.delay || 0),
              d.a(this.el(), { opacity: 0 }, 1, e, Power1.easeOut)
            );
          }),
          (e.prototype._update = function () {
            return e.__super__._update.call(this);
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this);
          }),
          e
        );
      })(o)),
      (t.exports = h);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _,
      g = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      v = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) y.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      y = {}.hasOwnProperty;
    (d = i(5)),
      (o = i(12)),
      (a = i(4)),
      (n = i(1)),
      (s = i(2)),
      (f = i(6)),
      (c = i(18)),
      (_ = i(3)),
      (u = i(7)),
      (m = i(9)),
      (r = i(8)),
      (l = i(11)),
      (p = i(10)),
      (h = (function (t) {
        function e(t) {
          (this._resize = g(this._resize, this)),
            (this._update = g(this._update, this)),
            (this._repeatLine = g(this._repeatLine, this)),
            (this.hide = g(this.hide, this)),
            (this.show = g(this.show, this)),
            (this._eClick = g(this._eClick, this)),
            (this.init = g(this.init, this)),
            (t.update = !0),
            e.__super__.constructor.call(this, t),
            this._text,
            this._icon,
            this._line,
            (this.isUpdate = !0),
            (this._isShow = !1);
        }
        return (
          v(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              (this._text = this.find(".text")),
              (this._icon = this.find(".icon")),
              (this._line = this.find(".line")),
              this.el().on("click", this._eClick)
            );
          }),
          (e.prototype._eClick = function (t) {
            return c.move({ tg: s.sh(), delay: 0, duration: 0.5 });
          }),
          (e.prototype.show = function (t) {
            var e;
            if (!this._isShow)
              return (
                (this._isShow = !0),
                this.removeClass("is-nolink"),
                (e = t.delay || 0),
                d.a(
                  this.el(),
                  { opacity: [0, 1], y: [s.r(20), 0] },
                  2,
                  e,
                  Power2.easeInOut
                ),
                this._repeatLine()
              );
          }),
          (e.prototype.hide = function (t) {
            var e;
            if (this._isShow)
              return (
                (this._isShow = !1),
                this.addClass("is-nolink"),
                (e = t.delay || 0),
                d.a(
                  this.el(),
                  { opacity: 0, y: s.r(20) },
                  2,
                  e,
                  Power2.easeInOut
                )
              );
          }),
          (e.prototype._repeatLine = function () {
            return (
              this._line.removeClass("is-flg"),
              d.a(
                this._line,
                { scaleY: [0, 1] },
                1,
                0,
                Power2.easeInOut,
                null,
                null,
                (function (t) {
                  return function () {
                    return (
                      t._line.addClass("is-flg"),
                      d.a(
                        t._line,
                        { scaleY: [1, 0] },
                        1,
                        0,
                        Power2.easeInOut,
                        null,
                        null,
                        function () {
                          return t._repeatLine();
                        }
                      )
                    );
                  };
                })(this)
              )
            );
          }),
          (e.prototype._update = function () {
            var t, i;
            if ((e.__super__._update.call(this), this.isUpdate))
              return (
                (t = _.map(Math.sin(0.05 * m.cnt), 0.25, 1, -1, 1)),
                d.set(this._text, { opacity: t }),
                (i = _.map(Math.sin(0.05 * m.cnt), s.r(-5), s.r(5), -1, 1)),
                d.set(this._icon, { y: i })
              );
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this);
          }),
          e
        );
      })(o)),
      (t.exports = h);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _,
      g,
      v,
      y = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      x = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) w.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      w = {}.hasOwnProperty;
    (f = i(5)),
      (a = i(12)),
      (h = i(4)),
      (n = i(1)),
      (s = i(2)),
      (m = i(6)),
      (o = i(14)),
      (g = i(3)),
      (p = i(7)),
      (_ = i(9)),
      (r = i(8)),
      (c = i(11)),
      (d = i(10)),
      (v = i(13)),
      (u = i(94)),
      (l = (function (t) {
        function e(t) {
          (this._resize = y(this._resize, this)),
            (this.numHidedItem = y(this.numHidedItem, this)),
            (this._update = y(this._update, this)),
            (this.hide = y(this.hide, this)),
            (this.show = y(this.show, this)),
            (this.init = y(this.init, this)),
            (t.update = !0),
            e.__super__.constructor.call(this, t),
            (this._mv = t.mv),
            (this._item = []),
            (this._showVal = new v(0)),
            (this._isShowItem = !1);
        }
        return (
          x(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              this.find("> .item").each(
                (function (t) {
                  return function (e, i) {
                    var n;
                    return (n = new u({ el: $(i) })), n.init(), t._item.push(n);
                  };
                })(this)
              )
            );
          }),
          (e.prototype.show = function (t) {
            var e;
            return (
              (e = t.delay || 0),
              f.a(this._showVal, { val: 1 }, 1, e, Power2.easeInOut)
            );
          }),
          (e.prototype.hide = function (t) {
            var e;
            return (
              (e = t.delay || 0),
              f.a(this._showVal, { val: 0 }, 1, e, Power2.easeInOut)
            );
          }),
          (e.prototype._update = function () {
            var t, i, n, r, o, a, l, u, c, p;
            if (
              (e.__super__._update.call(this),
              !s.isLG() && router.nowPage === m.PAGE.PORTFOLIO)
            ) {
              if (
                (f.set(this.el(), { opacity: this._showVal.val }),
                null != this._mv.centerItem &&
                  this._showVal.val >= 1 &&
                  _.cnt % 10 === 0 &&
                  !h.isDetail)
              )
                for (
                  t = this._mv.centerItem.workId,
                    l = this._item,
                    i = n = 0,
                    o = l.length;
                  n < o;
                  i = ++n
                )
                  (p = l[i]),
                    p.workId === t
                      ? this.numHidedItem() === this._item.length &&
                        p.show({ delay: 0.1 })
                      : p.hide({ delay: 0 });
              if (null == this._mv.centerItem) {
                for (
                  u = this._item, c = [], i = r = 0, a = u.length;
                  r < a;
                  i = ++r
                )
                  (p = u[i]), c.push(p.hide({ delay: 0 }));
                return c;
              }
            }
          }),
          (e.prototype.numHidedItem = function () {
            var t, e, i, n, r, s;
            for (n = 0, r = this._item, t = e = 0, i = r.length; e < i; t = ++e)
              (s = r[t]), s.isHided() && n++;
            return n;
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this);
          }),
          e
        );
      })(a)),
      (t.exports = l);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _,
      g = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      v = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) y.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      y = {}.hasOwnProperty;
    (f = i(5)),
      (a = i(12)),
      (h = i(4)),
      (n = i(1)),
      (s = i(2)),
      (m = i(6)),
      (o = i(14)),
      (_ = i(3)),
      (c = i(7)),
      (r = i(8)),
      (u = i(11)),
      (p = i(10)),
      (d = i(22)),
      (l = (function (t) {
        function e(t) {
          (this._resize = g(this._resize, this)),
            (this._update = g(this._update, this)),
            (this._eHided = g(this._eHided, this)),
            (this.hide = g(this.hide, this)),
            (this.isHided = g(this.isHided, this)),
            (this._eShowed = g(this._eShowed, this)),
            (this.show = g(this.show, this)),
            (this.init = g(this.init, this)),
            (t.update = !0),
            e.__super__.constructor.call(this, t),
            (this.workId = -1),
            (this._item = []),
            (this._isShow = !1),
            (this._isMove = !1),
            this._sub;
        }
        return (
          v(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              (this.workId = Number(this.el().attr("data-itemId"))),
              this.find(".ttl > .inner").each(
                (function (t) {
                  return function (e, i) {
                    var n;
                    return (
                      (n = new d({ el: $(i), num: 0, isFast: !0 })),
                      n.init(),
                      t._item.push(n)
                    );
                  };
                })(this)
              ),
              (this._sub = this.find(".sub")),
              f.set(this._sub, { opacity: 0 })
            );
          }),
          (e.prototype.show = function (t) {
            var e, i, n, r, s, o, a;
            if (!this._isShow && !this._isMove) {
              for (
                this._isShow = !0,
                  this._isMove = !0,
                  e = t.delay || 0,
                  f.set(this.el(), { opacity: 1 }),
                  o = this._item,
                  i = n = 0,
                  s = o.length;
                n < s;
                i = ++n
              )
                (a = o[i]),
                  (r = i),
                  a.show({
                    delay: e,
                    onComplete:
                      r === this._item.length - 1 ? this._eShowed : null,
                  });
              return f.a(this._sub, { opacity: [0, 1] }, 0.25, e + 0.2);
            }
          }),
          (e.prototype._eShowed = function () {
            return (this._isMove = !1);
          }),
          (e.prototype.isHided = function () {
            return !this._isMove && !this._isShow;
          }),
          (e.prototype.hide = function (t) {
            var e;
            if (this._isShow && !this._isMove)
              return (
                (this._isShow = !1),
                (this._isMove = !0),
                (e = t.delay || 0),
                f.a(
                  this.el(),
                  { opacity: [1, 0] },
                  0.3,
                  e,
                  null,
                  null,
                  null,
                  this._eHided
                )
              );
          }),
          (e.prototype._eHided = function () {
            return (this._isMove = !1);
          }),
          (e.prototype._update = function () {
            return e.__super__._update.call(this);
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this);
          }),
          e
        );
      })(a)),
      (t.exports = l);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _,
      g,
      v,
      y,
      x,
      w,
      b,
      T,
      E,
      S,
      M = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      C = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) P.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      P = {}.hasOwnProperty;
    (w = i(5)),
      (h = i(12)),
      (u = i(4)),
      (n = i(1)),
      (s = i(2)),
      (b = i(6)),
      (l = i(25)),
      (a = i(14)),
      (T = i(3)),
      (d = i(7)),
      (r = i(8)),
      (p = i(11)),
      (m = i(10)),
      (E = i(13)),
      (v = i(67)),
      (f = i(38)),
      (o = i(24)),
      (S = i(31)),
      (c = i(39)),
      (y = i(97)),
      (g = i(96)),
      (x = i(99)),
      (_ = (function (t) {
        function e(t) {
          (this._resize = M(this._resize, this)),
            (this._update = M(this._update, this)),
            (this._eMoveStart = M(this._eMoveStart, this)),
            (this._eClickIndicator = M(this._eClickIndicator, this)),
            (this._eCloseDetail = M(this._eCloseDetail, this)),
            (this._eShowedDetail = M(this._eShowedDetail, this)),
            (this._eStartDetail = M(this._eStartDetail, this)),
            (this.show = M(this.show, this)),
            (this.end = M(this.end, this)),
            (this.start = M(this.start, this)),
            (this.init = M(this.init, this)),
            (t.pageId = b.PAGE.TOP),
            e.__super__.constructor.call(this, t),
            this._mv,
            this._ttl,
            this._list,
            this._scroll,
            this._detail,
            this._pfbtn,
            this._xsinfo,
            (this._showVal = new E(0));
        }
        return (
          C(e, t),
          (e.prototype.init = function () {
            var t;
            return (
              e.__super__.init.call(this),
              (t = new S({
                isTop: !0,
                el: $(".p-top_itemBtn > .item"),
                detail: $(".p-top .p-pf_detail"),
              })),
              (window.topdata = t),
              (this._mv = new v({
                el: $(".p-top_mv"),
                data: window.topdata.item,
              })),
              (this._mv.onStartDetail = this._eStartDetail),
              (this._mv.onShowedDetail = this._eShowedDetail),
              (this._mv.onCloseDetail = this._eCloseDetail),
              (this._mv.onClickIndicator = this._eClickIndicator),
              (this._mv.onMoveStart = this._eMoveStart),
              this._mv.init(),
              (this._ttl = new y({ el: this.find(".p-top_ttl") })),
              this._ttl.init(),
              (this._list = new g({
                el: this.find(".p-top_list"),
                mv: this._mv,
              })),
              this._list.init(),
              (this._scroll = new f({ el: this.find(".l-scroll") })),
              this._scroll.init(),
              (this._detail = new c({
                page: this.pageId,
                el: this.find(".p-pf_detail"),
                mv: this._mv,
                usedata: topdata,
              })),
              this._detail.init(),
              (this._pfbtn = new o({
                el: this.find(".p-top_pfbtn > .btn"),
                isLoop: !0,
              })),
              this._pfbtn.init(),
              (this._xsinfo = new x({
                el: this.find(".p-top_xsinfo"),
                mv: this._mv,
              })),
              this._xsinfo.init()
            );
          }),
          (e.prototype.start = function (t) {
            return e.__super__.start.call(this, t);
          }),
          (e.prototype.end = function () {
            return (
              e.__super__.end.call(this),
              this._detail.resetDetail(),
              this._mv.resetDetail(),
              this._ttl.hideAll()
            );
          }),
          (e.prototype.show = function (t) {
            return (
              e.__super__.show.call(this, t),
              (a.useSwipe = !0),
              (u.isFixDetailInfo = !1),
              this._resize(),
              this._mv.show(t),
              this._ttl.show({ delay: t.delay + 1.5, itemId: 0 }),
              this._list.show({ delay: t.delay + 1.25 }),
              this._scroll.show({ delay: t.delay + 1 }),
              this._xsinfo.show({ delay: t.delay + 1 }),
              w.a(this._showVal, { val: [0, 1] }, 4, t.delay, Power3.easeInOut),
              this._pfbtn.show({ delay: t.delay + 1 })
            );
          }),
          (e.prototype._eStartDetail = function (t) {
            return (
              (a.useSwipe = !1),
              this._ttl.hide({}),
              this._list.hide({}),
              this._scroll.hide({}),
              this._pfbtn.hide({ delay: 0 }),
              this._xsinfo.hide({})
            );
          }),
          (e.prototype._eShowedDetail = function (t) {
            return this._detail.showItem(t);
          }),
          (e.prototype._eCloseDetail = function (t) {
            var e;
            return (
              router.setHeaderType(b.HEADER.NORMAL),
              (a.useSwipe = !0),
              (e = 0.25),
              this._ttl.show({ delay: e, itemId: 0 }),
              this._list.show({ delay: e }),
              this._scroll.show({ delay: e }),
              this._pfbtn.show({ delay: e }),
              this._xsinfo.show({ delay: e })
            );
          }),
          (e.prototype._eClickIndicator = function (t) {
            return this._xsinfo.move(t);
          }),
          (e.prototype._eMoveStart = function (t) {
            return this._ttl.change({ now: t.now });
          }),
          (e.prototype._update = function () {
            var t;
            if (
              (e.__super__._update.call(this),
              router.isPage(this.pageId) &&
                ((t = this._mv.nowItemId()), t !== -1))
            )
              return (
                this._list.change({ now: t, rate: this._mv.rate() - 30 }),
                this._ttl.change({ now: t })
              );
          }),
          (e.prototype._resize = function () {
            if ((e.__super__._resize.call(this), router.isPage(this.pageId)))
              return s.isXS()
                ? (a.useSwipe = !0)
                : n.IS_PC
                ? (a.useSwipe = !1)
                : (a.useSwipe = !0);
          }),
          e
        );
      })(l)),
      (t.exports = _);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _ = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      g = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) v.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      v = {}.hasOwnProperty;
    (d = i(5)),
      (o = i(12)),
      (a = i(4)),
      (n = i(1)),
      (s = i(2)),
      (f = i(6)),
      (m = i(3)),
      (l = i(7)),
      (r = i(8)),
      (h = i(11)),
      (u = i(10)),
      (p = i(40)),
      (c = (function (t) {
        function e(t) {
          (this._resize = _(this._resize, this)),
            (this._update = _(this._update, this)),
            (this.change = _(this.change, this)),
            (this.hide = _(this.hide, this)),
            (this.show = _(this.show, this)),
            (this._eClickItem = _(this._eClickItem, this)),
            (this._eRollOutItem = _(this._eRollOutItem, this)),
            (this._eRollOverItem = _(this._eRollOverItem, this)),
            (this.init = _(this.init, this)),
            e.__super__.constructor.call(this, t),
            (this._item = []),
            (this._now = 0),
            (this._isPlaying = !1);
        }
        return (
          g(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              this.find("> .item").each(
                (function (t) {
                  return function (e, i) {
                    var n;
                    return (
                      (n = new p({ el: $(i), itemId: e })),
                      n.init(),
                      (n.onRollOver = t._eRollOverItem),
                      (n.onRollOut = t._eRollOutItem),
                      (n.onClick = t._eClickItem),
                      t._item.push(n)
                    );
                  };
                })(this)
              )
            );
          }),
          (e.prototype._eRollOverItem = function (t) {
            return (
              this._opt.mv.getListIndicator().showHoverItem(t.itemId),
              (this._opt.mv.isHoverList = !0)
            );
          }),
          (e.prototype._eRollOutItem = function (t) {
            return (
              this._opt.mv.getListIndicator().hideHoverItem(),
              (this._opt.mv.isHoverList = !1)
            );
          }),
          (e.prototype._eClickItem = function (t) {
            return this._opt.mv.setItem(t.itemId);
          }),
          (e.prototype.show = function (t) {
            var e, i, n, r, s, o;
            for (
              d.set(this.el(), { opacity: 1 }),
                r = this._item,
                s = [],
                e = i = 0,
                n = r.length;
              i < n;
              e = ++i
            )
              (o = r[e]), s.push(o.show({ delay: t.delay + 0.1 * e }));
            return s;
          }),
          (e.prototype.hide = function (t) {
            return d.a(this.el(), { opacity: [1, 0] }, 1, 0, Power1.easeOut);
          }),
          (e.prototype.change = function (t) {
            var e, i, n, r, s, o, a, h, l;
            for (
              h = m.radian(t.rate),
                r = this._item.length,
                o = this._item,
                a = [],
                i = n = 0,
                s = o.length;
              n < s;
              i = ++n
            )
              (l = o[i]),
                (e = i * (360 / r)),
                (e = m.radian(e)),
                a.push((l.rate = m.map(Math.abs(h - e), 1, 0, 0, 0.5)));
            return a;
          }),
          (e.prototype._update = function () {
            return e.__super__._update.call(this);
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this);
          }),
          e
        );
      })(o)),
      (t.exports = c);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _ = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      g = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) v.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      v = {}.hasOwnProperty;
    (d = i(5)),
      (o = i(12)),
      (a = i(4)),
      (n = i(1)),
      (s = i(2)),
      (f = i(6)),
      (m = i(3)),
      (l = i(7)),
      (r = i(8)),
      (h = i(11)),
      (u = i(10)),
      (p = i(98)),
      (c = (function (t) {
        function e(t) {
          (this._resize = _(this._resize, this)),
            (this._update = _(this._update, this)),
            (this.change = _(this.change, this)),
            (this.hideAll = _(this.hideAll, this)),
            (this.hide = _(this.hide, this)),
            (this.show = _(this.show, this)),
            (this.init = _(this.init, this)),
            e.__super__.constructor.call(this, t),
            (this._item = []),
            (this._now = 0),
            (this._isPlaying = !1);
        }
        return (
          g(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              this.find("> .item").each(
                (function (t) {
                  return function (e, i) {
                    var n;
                    return (n = new p({ el: $(i) })), n.init(), t._item.push(n);
                  };
                })(this)
              )
            );
          }),
          (e.prototype.show = function (t) {
            var e;
            if (((e = this._item[t.itemId]), null != e))
              return (
                (this._now = t.itemId),
                (this._isPlaying = !0),
                e.show({
                  isNext: t.isNext,
                  delay: t.delay,
                  onComplete: (function (e) {
                    return function () {
                      if (((e._isPlaying = !1), null != t.onComplete))
                        return t.onComplete();
                    };
                  })(this),
                })
              );
          }),
          (e.prototype.hide = function (t) {
            var e;
            if (((e = this._item[this._now]), null != e))
              return e.hide({
                isNext: t.isNext,
                onComplete: (function (e) {
                  return function () {
                    if (null != t.onComplete) return t.onComplete();
                  };
                })(this),
              });
          }),
          (e.prototype.hideAll = function () {
            var t, e, i, n, r, s;
            for (
              n = this._item, r = [], t = e = 0, i = n.length;
              e < i;
              t = ++e
            )
              (s = n[t]),
                null != s ? r.push(s.hide({ delay: 0 })) : r.push(void 0);
            return r;
          }),
          (e.prototype.change = function (t) {
            var e;
            if (this._now !== t.now && !this._isPlaying)
              return (
                (e = this._now < t.now),
                this.hide({ isNext: e }),
                this.show({ itemId: t.now, delay: 0, isNext: e })
              );
          }),
          (e.prototype._update = function () {
            return e.__super__._update.call(this);
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this);
          }),
          e
        );
      })(o)),
      (t.exports = c);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _ = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      g = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) v.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      v = {}.hasOwnProperty;
    (d = i(5)),
      (o = i(12)),
      (a = i(4)),
      (n = i(1)),
      (s = i(2)),
      (f = i(6)),
      (m = i(3)),
      (l = i(7)),
      (r = i(8)),
      (h = i(11)),
      (u = i(10)),
      (c = i(22)),
      (p = (function (t) {
        function e(t) {
          (this._resize = _(this._resize, this)),
            (this._update = _(this._update, this)),
            (this.hide = _(this.hide, this)),
            (this.show = _(this.show, this)),
            (this.init = _(this.init, this)),
            e.__super__.constructor.call(this, t),
            (this._text = []);
        }
        return (
          g(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              this.find("> .inner").each(
                (function (t) {
                  return function (e, i) {
                    var n;
                    return (n = new c({ el: $(i) })), n.init(), t._text.push(n);
                  };
                })(this)
              )
            );
          }),
          (e.prototype.show = function (t) {
            var e, i, n, r, s, o;
            for (
              r = this._text, s = [], e = i = 0, n = r.length;
              i < n;
              e = ++i
            )
              (o = r[e]),
                s.push(
                  o.show({
                    isNext: t.isNext,
                    delay: t.delay + 0.25 * e,
                    onComplete: t.onComplete,
                  })
                );
            return s;
          }),
          (e.prototype.hide = function (t) {
            var e, i, n, r, s, o;
            for (
              r = this._text, s = [], e = i = 0, n = r.length;
              i < n;
              e = ++i
            )
              (o = r[e]),
                s.push(
                  o.hide({
                    isNext: t.isNext,
                    delay: t.delay + 0.25 * e,
                    onComplete: t.onComplete,
                  })
                );
            return s;
          }),
          (e.prototype._update = function () {
            return e.__super__._update.call(this);
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this);
          }),
          e
        );
      })(o)),
      (t.exports = p);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _,
      g = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      v = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) y.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      y = {}.hasOwnProperty;
    (f = i(5)),
      (a = i(12)),
      (h = i(4)),
      (n = i(1)),
      (s = i(2)),
      (m = i(6)),
      (o = i(14)),
      (_ = i(3)),
      (u = i(7)),
      (r = i(8)),
      (l = i(11)),
      (c = i(10)),
      (d = i(100)),
      (p = (function (t) {
        function e(t) {
          (this._getItemData = g(this._getItemData, this)),
            (this._resize = g(this._resize, this)),
            (this._update = g(this._update, this)),
            (this.hide = g(this.hide, this)),
            (this.show = g(this.show, this)),
            (this._eUpdateIndicatorMove = g(this._eUpdateIndicatorMove, this)),
            (this.move = g(this.move, this)),
            (this._updateItemPosForXS = g(this._updateItemPosForXS, this)),
            (this._eCompleteSwipe = g(this._eCompleteSwipe, this)),
            (this._moveItemForXS = g(this._moveItemForXS, this)),
            (this._eSwipe = g(this._eSwipe, this)),
            (this._eMouseUp = g(this._eMouseUp, this)),
            (this._eMouseDown = g(this._eMouseDown, this)),
            (this.init = g(this.init, this)),
            (t.update = !0),
            e.__super__.constructor.call(this, t),
            (this._mv = t.mv),
            (this._item = []),
            (this._xsParam = {
              now: 0,
              prev: 4,
              next: 1,
              nextId: -1,
              basePos: new THREE.Vector2(),
              basePosBuf: new THREE.Vector2(),
              downPos: new THREE.Vector2(),
              swipeDist: 0,
              isDown: !1,
              isSwiping: !1,
              wkake: n.TOP_XS_INTERVAL,
              isMoveIndicator: !1,
              offsetForIndicator: new THREE.Vector2(),
            });
        }
        return (
          v(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              this.find("> .item").each(
                (function (t) {
                  return function (e, i) {
                    var n;
                    return (n = new d({ el: $(i) })), n.init(), t._item.push(n);
                  };
                })(this)
              ),
              n.IS_PC
                ? (o.onMouseDown.push(this._eMouseDown),
                  o.onMouseUp.push(this._eMouseUp))
                : (o.onTouchStart.push(this._eMouseDown),
                  o.onTouchEnd.push(this._eMouseUp),
                  o.onSwipe.push(this._eSwipe))
            );
          }),
          (e.prototype._eMouseDown = function () {
            if (this._mv.isShow())
              return (
                (this._xsParam.isDown = !0),
                this._xsParam.downPos.set(o.three.x, o.three.y),
                this._xsParam.basePosBuf.copy(this._xsParam.basePos)
              );
          }),
          (e.prototype._eMouseUp = function () {
            return (this._xsParam.isDown = !1);
          }),
          (e.prototype._eSwipe = function (t) {
            if (
              !this._xsParam.isSwiping &&
              !s.isLG() &&
              this._mv.isShow() &&
              !this._xsParam.isMoveIndicator
            )
              return this._moveItemForXS(t.x);
          }),
          (e.prototype._moveItemForXS = function (t) {
            var e, i;
            return (
              (this._xsParam.isSwiping = !0),
              (i = s.sw() * this._xsParam.wkake),
              t < 0
                ? ((this._xsParam.nextId = this._xsParam.now + 1),
                  this._xsParam.nextId >= this._item.length &&
                    (this._xsParam.nextId = 0),
                  (e = -i))
                : ((this._xsParam.nextId = this._xsParam.now - 1),
                  this._xsParam.nextId < 0 &&
                    (this._xsParam.nextId = this._item.length - 1),
                  (e = i)),
              f.a(
                this._xsParam.basePos,
                { x: e },
                n.TOP_SWIPE_PARAM.time,
                0,
                n.TOP_SWIPE_PARAM.ease,
                null,
                null,
                this._eCompleteSwipe
              )
            );
          }),
          (e.prototype._eCompleteSwipe = function () {
            return (
              (this._xsParam.isSwiping = !1),
              (this._xsParam.now = this._xsParam.nextId),
              (this._xsParam.prev = this._xsParam.now - 1),
              this._xsParam.prev < 0 &&
                (this._xsParam.prev = this._item.length - 1),
              (this._xsParam.next = this._xsParam.now + 1),
              this._xsParam.next >= this._item.length &&
                (this._xsParam.next = 0),
              (this._xsParam.swipeDist = 0),
              (this._xsParam.basePosBuf.x = 0),
              this._updateItemPosForXS()
            );
          }),
          (e.prototype._updateItemPosForXS = function () {
            var t, e, i, n, r, a, h, l, u;
            if (!s.isLG() && !this._xsParam.isMoveIndicator) {
              for (
                u = s.sw() * this._xsParam.wkake,
                  e = s.sh(),
                  t = this._xsParam.isDown
                    ? 0.7 * (o.three.x - this._xsParam.downPos.x)
                    : 0,
                  this._xsParam.swipeDist +=
                    0.7 * (t - this._xsParam.swipeDist),
                  this._xsParam.isSwiping ||
                    (this._xsParam.basePos.x =
                      this._xsParam.basePosBuf.x + this._xsParam.swipeDist),
                  a = this._item,
                  h = [],
                  i = n = 0,
                  r = a.length;
                n < r;
                i = ++n
              )
                (l = a[i]),
                  i === this._xsParam.now
                    ? h.push(l.setPos(this._xsParam.basePos.x, 0))
                    : i === this._xsParam.prev
                    ? h.push(l.setPos(this._xsParam.basePos.x - u, 0))
                    : i === this._xsParam.next
                    ? h.push(l.setPos(this._xsParam.basePos.x + u, 0))
                    : h.push(l.setPos(0, -9999));
              return h;
            }
          }),
          (e.prototype.move = function (t) {
            var e, i, n, r, o, a, h, l, u, c, p;
            if (!this._xsParam.isMoveIndicator && !this._xsParam.isSwiping) {
              for (
                this._xsParam.isMoveIndicator = !0,
                  p = t.workId,
                  a = this._getItemData(p),
                  h = a.key,
                  c = s.sw() * this._xsParam.wkake,
                  e = s.sh(),
                  o = this._item,
                  i = n = 0,
                  r = o.length;
                n < r;
                i = ++n
              )
                (u = o[i]), u.setPos(c * i - this._xsParam.now * c, 0);
              return (
                (this._xsParam.offsetForIndicator.x = this._xsParam.now * c),
                (l = h * c),
                f.a(
                  this._xsParam.offsetForIndicator,
                  { x: l },
                  1,
                  0,
                  Power4.easeInOut,
                  null,
                  this._eUpdateIndicatorMove,
                  (function (t) {
                    return function () {
                      return (
                        (t._xsParam.isMoveIndicator = !1),
                        (t._xsParam.nextId = h),
                        t._eCompleteSwipe()
                      );
                    };
                  })(this)
                )
              );
            }
          }),
          (e.prototype._eUpdateIndicatorMove = function () {
            var t, e, i, n, r, o, a, h;
            if (this._xsParam.isMoveIndicator) {
              for (
                h = s.sw() * this._xsParam.wkake,
                  t = s.sh(),
                  r = this._item,
                  o = [],
                  e = i = 0,
                  n = r.length;
                i < n;
                e = ++i
              )
                (a = r[e]),
                  o.push(
                    a.setPos(h * e - this._xsParam.offsetForIndicator.x, 0)
                  );
              return o;
            }
          }),
          (e.prototype.show = function (t) {
            var e, i, n, r, s, o, a;
            for (
              e = t.delay || 0, s = this._item, o = [], i = n = 0, r = s.length;
              n < r;
              i = ++n
            )
              (a = s[i]), o.push(a.show({ delay: e }));
            return o;
          }),
          (e.prototype.hide = function (t) {
            var e, i, n, r, s, o, a;
            for (
              e = t.delay || 0, s = this._item, o = [], i = n = 0, r = s.length;
              n < r;
              i = ++n
            )
              (a = s[i]), o.push(a.hide({ delay: e }));
            return o;
          }),
          (e.prototype._update = function () {
            if (
              (e.__super__._update.call(this),
              !s.isLG() && router.nowPage === m.PAGE.TOP)
            )
              return this._updateItemPosForXS();
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this);
          }),
          (e.prototype._getItemData = function (t) {
            var e, i, n, r, s;
            for (r = this._item, e = i = 0, n = r.length; i < n; e = ++i)
              if (((s = r[e]), s.workId === t)) return { item: s, key: e };
            return null;
          }),
          e
        );
      })(a)),
      (t.exports = p);
  },
  function (t, e, i) {
    var n,
      r,
      s,
      o,
      a,
      h,
      l,
      u,
      c,
      p,
      d,
      f,
      m,
      _ = function (t, e) {
        return function () {
          return t.apply(e, arguments);
        };
      },
      g = function (t, e) {
        function i() {
          this.constructor = t;
        }
        for (var n in e) v.call(e, n) && (t[n] = e[n]);
        return (
          (i.prototype = e.prototype),
          (t.prototype = new i()),
          (t.__super__ = e.prototype),
          t
        );
      },
      v = {}.hasOwnProperty;
    (d = i(5)),
      (o = i(12)),
      (a = i(4)),
      (n = i(1)),
      (s = i(2)),
      (f = i(6)),
      (m = i(3)),
      (l = i(7)),
      (r = i(8)),
      (h = i(11)),
      (u = i(10)),
      (c = i(40)),
      (p = (function (t) {
        function e(t) {
          (this._resize = _(this._resize, this)),
            (this._update = _(this._update, this)),
            (this.setPos = _(this.setPos, this)),
            (this.hide = _(this.hide, this)),
            (this.show = _(this.show, this)),
            (this.init = _(this.init, this)),
            e.__super__.constructor.call(this, t),
            (this.workId = 0),
            (this._item = []);
        }
        return (
          g(e, t),
          (e.prototype.init = function () {
            return (
              e.__super__.init.call(this),
              (this.workId = Number(this.el().attr("data-id"))),
              this.find(".text").each(
                (function (t) {
                  return function (e, i) {
                    return t._item.push($(i));
                  };
                })(this)
              ),
              d.set(this.el(), { opacity: 0 })
            );
          }),
          (e.prototype.show = function (t) {
            var e;
            return (
              (e = t.delay || 0),
              d.a(this.el(), { opacity: [0, 1] }, 1, e, Power1.easeInOut)
            );
          }),
          (e.prototype.hide = function (t) {
            var e;
            return (
              (e = t.delay || 0),
              d.a(this.el(), { opacity: 0 }, 1, e, Power1.easeInOut)
            );
          }),
          (e.prototype.setPos = function (t, e) {
            var i, n, r, o, a, h;
            for (
              t += 0 * s.sw(),
                e = e,
                d.set(this.el(), { x: t, y: e }),
                o = this._item,
                a = [],
                i = n = 0,
                r = o.length;
              n < r;
              i = ++n
            )
              (h = o[i]), a.push(d.set(h, { x: t * (0.2 * i) * -1 }));
            return a;
          }),
          (e.prototype._update = function () {
            return e.__super__._update.call(this);
          }),
          (e.prototype._resize = function () {
            return e.__super__._resize.call(this);
          }),
          e
        );
      })(o)),
      (t.exports = p);
  },
  function (t, e, i) {
    (t.exports = i(103)), (t.exports.color = i(102));
  },
  function (t, e) {
    var i = (t.exports = i || {});
    (i.color = i.color || {}),
      (i.utils = i.utils || {}),
      (i.utils.common = (function () {
        var t = Array.prototype.forEach,
          e = Array.prototype.slice;
        return {
          BREAK: {},
          extend: function (t) {
            return (
              this.each(
                e.call(arguments, 1),
                function (e) {
                  for (var i in e) this.isUndefined(e[i]) || (t[i] = e[i]);
                },
                this
              ),
              t
            );
          },
          defaults: function (t) {
            return (
              this.each(
                e.call(arguments, 1),
                function (e) {
                  for (var i in e) this.isUndefined(t[i]) && (t[i] = e[i]);
                },
                this
              ),
              t
            );
          },
          compose: function () {
            var t = e.call(arguments);
            return function () {
              for (var i = e.call(arguments), n = t.length - 1; n >= 0; n--)
                i = [t[n].apply(this, i)];
              return i[0];
            };
          },
          each: function (e, i, n) {
            if (t && e.forEach === t) e.forEach(i, n);
            else if (e.length === e.length + 0) {
              for (var r = 0, s = e.length; r < s; r++)
                if (r in e && i.call(n, e[r], r) === this.BREAK) return;
            } else
              for (var r in e) if (i.call(n, e[r], r) === this.BREAK) return;
          },
          defer: function (t) {
            setTimeout(t, 0);
          },
          toArray: function (t) {
            return t.toArray ? t.toArray() : e.call(t);
          },
          isUndefined: function (t) {
            return void 0 === t;
          },
          isNull: function (t) {
            return null === t;
          },
          isNaN: function (t) {
            return t !== t;
          },
          isArray:
            Array.isArray ||
            function (t) {
              return t.constructor === Array;
            },
          isObject: function (t) {
            return t === Object(t);
          },
          isNumber: function (t) {
            return t === t + 0;
          },
          isString: function (t) {
            return t === t + "";
          },
          isBoolean: function (t) {
            return t === !1 || t === !0;
          },
          isFunction: function (t) {
            return "[object Function]" === Object.prototype.toString.call(t);
          },
        };
      })()),
      (i.color.toString = (function (t) {
        return function (e) {
          if (1 == e.a || t.isUndefined(e.a)) {
            for (var i = e.hex.toString(16); i.length < 6; ) i = "0" + i;
            return "#" + i;
          }
          return (
            "rgba(" +
            Math.round(e.r) +
            "," +
            Math.round(e.g) +
            "," +
            Math.round(e.b) +
            "," +
            e.a +
            ")"
          );
        };
      })(i.utils.common)),
      (i.Color = i.color.Color =
        (function (t, e, i, n) {
          function r(t, e, i) {
            Object.defineProperty(t, e, {
              get: function () {
                return "RGB" === this.__state.space
                  ? this.__state[e]
                  : (o(this, e, i), this.__state[e]);
              },
              set: function (t) {
                "RGB" !== this.__state.space &&
                  (o(this, e, i), (this.__state.space = "RGB")),
                  (this.__state[e] = t);
              },
            });
          }
          function s(t, e) {
            Object.defineProperty(t, e, {
              get: function () {
                return "HSV" === this.__state.space
                  ? this.__state[e]
                  : (a(this), this.__state[e]);
              },
              set: function (t) {
                "HSV" !== this.__state.space &&
                  (a(this), (this.__state.space = "HSV")),
                  (this.__state[e] = t);
              },
            });
          }
          function o(t, i, r) {
            if ("HEX" === t.__state.space)
              t.__state[i] = e.component_from_hex(t.__state.hex, r);
            else {
              if ("HSV" !== t.__state.space) throw "Corrupted color state";
              n.extend(
                t.__state,
                e.hsv_to_rgb(t.__state.h, t.__state.s, t.__state.v)
              );
            }
          }
          function a(t) {
            var i = e.rgb_to_hsv(t.r, t.g, t.b);
            n.extend(t.__state, { s: i.s, v: i.v }),
              n.isNaN(i.h)
                ? n.isUndefined(t.__state.h) && (t.__state.h = 0)
                : (t.__state.h = i.h);
          }
          var h = function () {
            if (
              ((this.__state = t.apply(this, arguments)), this.__state === !1)
            )
              throw "Failed to interpret color arguments";
            this.__state.a = this.__state.a || 1;
          };
          return (
            (h.COMPONENTS = ["r", "g", "b", "h", "s", "v", "hex", "a"]),
            n.extend(h.prototype, {
              toString: function () {
                return i(this);
              },
              toOriginal: function () {
                return this.__state.conversion.write(this);
              },
            }),
            r(h.prototype, "r", 2),
            r(h.prototype, "g", 1),
            r(h.prototype, "b", 0),
            s(h.prototype, "h"),
            s(h.prototype, "s"),
            s(h.prototype, "v"),
            Object.defineProperty(h.prototype, "a", {
              get: function () {
                return this.__state.a;
              },
              set: function (t) {
                this.__state.a = t;
              },
            }),
            Object.defineProperty(h.prototype, "hex", {
              get: function () {
                return (
                  "HEX" !== !this.__state.space &&
                    (this.__state.hex = e.rgb_to_hex(this.r, this.g, this.b)),
                  this.__state.hex
                );
              },
              set: function (t) {
                (this.__state.space = "HEX"), (this.__state.hex = t);
              },
            }),
            h
          );
        })(
          (i.color.interpret = (function (t, e) {
            var i,
              n,
              r = function () {
                n = !1;
                var t =
                  arguments.length > 1 ? e.toArray(arguments) : arguments[0];
                return (
                  e.each(s, function (r) {
                    if (r.litmus(t))
                      return (
                        e.each(r.conversions, function (r, s) {
                          if (((i = r.read(t)), n === !1 && i !== !1))
                            return (
                              (n = i),
                              (i.conversionName = s),
                              (i.conversion = r),
                              e.BREAK
                            );
                        }),
                        e.BREAK
                      );
                  }),
                  n
                );
              },
              s = [
                {
                  litmus: e.isString,
                  conversions: {
                    THREE_CHAR_HEX: {
                      read: function (t) {
                        var e = t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);
                        return (
                          null !== e && {
                            space: "HEX",
                            hex: parseInt(
                              "0x" +
                                e[1].toString() +
                                e[1].toString() +
                                e[2].toString() +
                                e[2].toString() +
                                e[3].toString() +
                                e[3].toString()
                            ),
                          }
                        );
                      },
                      write: t,
                    },
                    SIX_CHAR_HEX: {
                      read: function (t) {
                        var e = t.match(/^#([A-F0-9]{6})$/i);
                        return (
                          null !== e && {
                            space: "HEX",
                            hex: parseInt("0x" + e[1].toString()),
                          }
                        );
                      },
                      write: t,
                    },
                    CSS_RGB: {
                      read: function (t) {
                        var e = t.match(
                          /^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/
                        );
                        return (
                          null !== e && {
                            space: "RGB",
                            r: parseFloat(e[1]),
                            g: parseFloat(e[2]),
                            b: parseFloat(e[3]),
                          }
                        );
                      },
                      write: t,
                    },
                    CSS_RGBA: {
                      read: function (t) {
                        var e = t.match(
                          /^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/
                        );
                        return (
                          null !== e && {
                            space: "RGB",
                            r: parseFloat(e[1]),
                            g: parseFloat(e[2]),
                            b: parseFloat(e[3]),
                            a: parseFloat(e[4]),
                          }
                        );
                      },
                      write: t,
                    },
                  },
                },
                {
                  litmus: e.isNumber,
                  conversions: {
                    HEX: {
                      read: function (t) {
                        return { space: "HEX", hex: t, conversionName: "HEX" };
                      },
                      write: function (t) {
                        return t.hex;
                      },
                    },
                  },
                },
                {
                  litmus: e.isArray,
                  conversions: {
                    RGB_ARRAY: {
                      read: function (t) {
                        return (
                          3 == t.length && {
                            space: "RGB",
                            r: t[0],
                            g: t[1],
                            b: t[2],
                          }
                        );
                      },
                      write: function (t) {
                        return [t.r, t.g, t.b];
                      },
                    },
                    RGBA_ARRAY: {
                      read: function (t) {
                        return (
                          4 == t.length && {
                            space: "RGB",
                            r: t[0],
                            g: t[1],
                            b: t[2],
                            a: t[3],
                          }
                        );
                      },
                      write: function (t) {
                        return [t.r, t.g, t.b, t.a];
                      },
                    },
                  },
                },
                {
                  litmus: e.isObject,
                  conversions: {
                    RGBA_OBJ: {
                      read: function (t) {
                        return (
                          !!(
                            e.isNumber(t.r) &&
                            e.isNumber(t.g) &&
                            e.isNumber(t.b) &&
                            e.isNumber(t.a)
                          ) && { space: "RGB", r: t.r, g: t.g, b: t.b, a: t.a }
                        );
                      },
                      write: function (t) {
                        return { r: t.r, g: t.g, b: t.b, a: t.a };
                      },
                    },
                    RGB_OBJ: {
                      read: function (t) {
                        return (
                          !!(
                            e.isNumber(t.r) &&
                            e.isNumber(t.g) &&
                            e.isNumber(t.b)
                          ) && { space: "RGB", r: t.r, g: t.g, b: t.b }
                        );
                      },
                      write: function (t) {
                        return { r: t.r, g: t.g, b: t.b };
                      },
                    },
                    HSVA_OBJ: {
                      read: function (t) {
                        return (
                          !!(
                            e.isNumber(t.h) &&
                            e.isNumber(t.s) &&
                            e.isNumber(t.v) &&
                            e.isNumber(t.a)
                          ) && { space: "HSV", h: t.h, s: t.s, v: t.v, a: t.a }
                        );
                      },
                      write: function (t) {
                        return { h: t.h, s: t.s, v: t.v, a: t.a };
                      },
                    },
                    HSV_OBJ: {
                      read: function (t) {
                        return (
                          !!(
                            e.isNumber(t.h) &&
                            e.isNumber(t.s) &&
                            e.isNumber(t.v)
                          ) && { space: "HSV", h: t.h, s: t.s, v: t.v }
                        );
                      },
                      write: function (t) {
                        return { h: t.h, s: t.s, v: t.v };
                      },
                    },
                  },
                },
              ];
            return r;
          })(i.color.toString, i.utils.common)),
          (i.color.math = (function () {
            var t;
            return {
              hsv_to_rgb: function (t, e, i) {
                var n = Math.floor(t / 60) % 6,
                  r = t / 60 - Math.floor(t / 60),
                  s = i * (1 - e),
                  o = i * (1 - r * e),
                  a = i * (1 - (1 - r) * e),
                  h = [
                    [i, a, s],
                    [o, i, s],
                    [s, i, a],
                    [s, o, i],
                    [a, s, i],
                    [i, s, o],
                  ][n];
                return { r: 255 * h[0], g: 255 * h[1], b: 255 * h[2] };
              },
              rgb_to_hsv: function (t, e, i) {
                var n,
                  r,
                  s = Math.min(t, e, i),
                  o = Math.max(t, e, i),
                  a = o - s;
                return 0 == o
                  ? { h: NaN, s: 0, v: 0 }
                  : ((r = a / o),
                    (n =
                      t == o
                        ? (e - i) / a
                        : e == o
                        ? 2 + (i - t) / a
                        : 4 + (t - e) / a),
                    (n /= 6),
                    n < 0 && (n += 1),
                    { h: 360 * n, s: r, v: o / 255 });
              },
              rgb_to_hex: function (t, e, i) {
                var n = this.hex_with_component(0, 2, t);
                return (
                  (n = this.hex_with_component(n, 1, e)),
                  (n = this.hex_with_component(n, 0, i))
                );
              },
              component_from_hex: function (t, e) {
                return (t >> (8 * e)) & 255;
              },
              hex_with_component: function (e, i, n) {
                return (n << (t = 8 * i)) | (e & ~(255 << t));
              },
            };
          })()),
          i.color.toString,
          i.utils.common
        ));
  },
  function (t, e) {
    var i = (t.exports = i || {});
    (i.gui = i.gui || {}),
      (i.utils = i.utils || {}),
      (i.controllers = i.controllers || {}),
      (i.dom = i.dom || {}),
      (i.color = i.color || {}),
      (i.utils.css = (function () {
        return {
          load: function (t, e) {
            e = e || document;
            var i = e.createElement("link");
            (i.type = "text/css"),
              (i.rel = "stylesheet"),
              (i.href = t),
              e.getElementsByTagName("head")[0].appendChild(i);
          },
          inject: function (t, e) {
            e = e || document;
            var i = document.createElement("style");
            (i.type = "text/css"),
              (i.innerHTML = t),
              e.getElementsByTagName("head")[0].appendChild(i);
          },
        };
      })()),
      (i.utils.common = (function () {
        var t = Array.prototype.forEach,
          e = Array.prototype.slice;
        return {
          BREAK: {},
          extend: function (t) {
            return (
              this.each(
                e.call(arguments, 1),
                function (e) {
                  for (var i in e) this.isUndefined(e[i]) || (t[i] = e[i]);
                },
                this
              ),
              t
            );
          },
          defaults: function (t) {
            return (
              this.each(
                e.call(arguments, 1),
                function (e) {
                  for (var i in e) this.isUndefined(t[i]) && (t[i] = e[i]);
                },
                this
              ),
              t
            );
          },
          compose: function () {
            var t = e.call(arguments);
            return function () {
              for (var i = e.call(arguments), n = t.length - 1; n >= 0; n--)
                i = [t[n].apply(this, i)];
              return i[0];
            };
          },
          each: function (e, i, n) {
            if (t && e.forEach === t) e.forEach(i, n);
            else if (e.length === e.length + 0) {
              for (var r = 0, s = e.length; r < s; r++)
                if (r in e && i.call(n, e[r], r) === this.BREAK) return;
            } else
              for (var r in e) if (i.call(n, e[r], r) === this.BREAK) return;
          },
          defer: function (t) {
            setTimeout(t, 0);
          },
          toArray: function (t) {
            return t.toArray ? t.toArray() : e.call(t);
          },
          isUndefined: function (t) {
            return void 0 === t;
          },
          isNull: function (t) {
            return null === t;
          },
          isNaN: function (t) {
            return t !== t;
          },
          isArray:
            Array.isArray ||
            function (t) {
              return t.constructor === Array;
            },
          isObject: function (t) {
            return t === Object(t);
          },
          isNumber: function (t) {
            return t === t + 0;
          },
          isString: function (t) {
            return t === t + "";
          },
          isBoolean: function (t) {
            return t === !1 || t === !0;
          },
          isFunction: function (t) {
            return "[object Function]" === Object.prototype.toString.call(t);
          },
        };
      })()),
      (i.controllers.Controller = (function (t) {
        var e = function (t, e) {
          (this.initialValue = t[e]),
            (this.domElement = document.createElement("div")),
            (this.object = t),
            (this.property = e),
            (this.__onChange = void 0),
            (this.__onFinishChange = void 0);
        };
        return (
          t.extend(e.prototype, {
            onChange: function (t) {
              return (this.__onChange = t), this;
            },
            onFinishChange: function (t) {
              return (this.__onFinishChange = t), this;
            },
            setValue: function (t) {
              return (
                (this.object[this.property] = t),
                this.__onChange && this.__onChange.call(this, t),
                this.updateDisplay(),
                this
              );
            },
            getValue: function () {
              return this.object[this.property];
            },
            updateDisplay: function () {
              return this;
            },
            isModified: function () {
              return this.initialValue !== this.getValue();
            },
          }),
          e
        );
      })(i.utils.common)),
      (i.dom.dom = (function (t) {
        function e(e) {
          if ("0" === e || t.isUndefined(e)) return 0;
          var i = e.match(r);
          return t.isNull(i) ? 0 : parseFloat(i[1]);
        }
        var i = {
            HTMLEvents: ["change"],
            MouseEvents: [
              "click",
              "mousemove",
              "mousedown",
              "mouseup",
              "mouseover",
            ],
            KeyboardEvents: ["keydown"],
          },
          n = {};
        t.each(i, function (e, i) {
          t.each(e, function (t) {
            n[t] = i;
          });
        });
        var r = /(\d+(\.\d+)?)px/,
          s = {
            makeSelectable: function (t, e) {
              void 0 !== t &&
                void 0 !== t.style &&
                ((t.onselectstart = e
                  ? function () {
                      return !1;
                    }
                  : function () {}),
                (t.style.MozUserSelect = e ? "auto" : "none"),
                (t.style.KhtmlUserSelect = e ? "auto" : "none"),
                (t.unselectable = e ? "on" : "off"));
            },
            makeFullscreen: function (e, i, n) {
              t.isUndefined(i) && (i = !0),
                t.isUndefined(n) && (n = !0),
                (e.style.position = "absolute"),
                i && ((e.style.left = 0), (e.style.right = 0)),
                n && ((e.style.top = 0), (e.style.bottom = 0));
            },
            fakeEvent: function (e, i, r, s) {
              r = r || {};
              var o = n[i];
              if (!o) throw new Error("Event type " + i + " not supported.");
              var a = document.createEvent(o);
              switch (o) {
                case "MouseEvents":
                  var h = r.x || r.clientX || 0,
                    l = r.y || r.clientY || 0;
                  a.initMouseEvent(
                    i,
                    r.bubbles || !1,
                    r.cancelable || !0,
                    window,
                    r.clickCount || 1,
                    0,
                    0,
                    h,
                    l,
                    !1,
                    !1,
                    !1,
                    !1,
                    0,
                    null
                  );
                  break;
                case "KeyboardEvents":
                  var u = a.initKeyboardEvent || a.initKeyEvent;
                  t.defaults(r, {
                    cancelable: !0,
                    ctrlKey: !1,
                    altKey: !1,
                    shiftKey: !1,
                    metaKey: !1,
                    keyCode: void 0,
                    charCode: void 0,
                  }),
                    u(
                      i,
                      r.bubbles || !1,
                      r.cancelable,
                      window,
                      r.ctrlKey,
                      r.altKey,
                      r.shiftKey,
                      r.metaKey,
                      r.keyCode,
                      r.charCode
                    );
                  break;
                default:
                  a.initEvent(i, r.bubbles || !1, r.cancelable || !0);
              }
              t.defaults(a, s), e.dispatchEvent(a);
            },
            bind: function (t, e, i, n) {
              return (
                (n = n || !1),
                t.addEventListener
                  ? t.addEventListener(e, i, n)
                  : t.attachEvent && t.attachEvent("on" + e, i),
                s
              );
            },
            unbind: function (t, e, i, n) {
              return (
                (n = n || !1),
                t.removeEventListener
                  ? t.removeEventListener(e, i, n)
                  : t.detachEvent && t.detachEvent("on" + e, i),
                s
              );
            },
            addClass: function (t, e) {
              if (void 0 === t.className) t.className = e;
              else if (t.className !== e) {
                var i = t.className.split(/ +/);
                i.indexOf(e) == -1 &&
                  (i.push(e),
                  (t.className = i
                    .join(" ")
                    .replace(/^\s+/, "")
                    .replace(/\s+$/, "")));
              }
              return s;
            },
            removeClass: function (t, e) {
              if (e)
                if (void 0 === t.className);
                else if (t.className === e) t.removeAttribute("class");
                else {
                  var i = t.className.split(/ +/),
                    n = i.indexOf(e);
                  n != -1 && (i.splice(n, 1), (t.className = i.join(" ")));
                }
              else t.className = void 0;
              return s;
            },
            hasClass: function (t, e) {
              return (
                new RegExp("(?:^|\\s+)" + e + "(?:\\s+|$)").test(t.className) ||
                !1
              );
            },
            getWidth: function (t) {
              var i = getComputedStyle(t);
              return (
                e(i["border-left-width"]) +
                e(i["border-right-width"]) +
                e(i["padding-left"]) +
                e(i["padding-right"]) +
                e(i.width)
              );
            },
            getHeight: function (t) {
              var i = getComputedStyle(t);
              return (
                e(i["border-top-width"]) +
                e(i["border-bottom-width"]) +
                e(i["padding-top"]) +
                e(i["padding-bottom"]) +
                e(i.height)
              );
            },
            getOffset: function (t) {
              var e = { left: 0, top: 0 };
              if (t.offsetParent)
                do (e.left += t.offsetLeft), (e.top += t.offsetTop);
                while ((t = t.offsetParent));
              return e;
            },
            isActive: function (t) {
              return t === document.activeElement && (t.type || t.href);
            },
          };
        return s;
      })(i.utils.common)),
      (i.controllers.OptionController = (function (t, e, i) {
        var n = function (t, r, s) {
          n.superclass.call(this, t, r);
          var o = this;
          if (
            ((this.__select = document.createElement("select")), i.isArray(s))
          ) {
            var a = {};
            i.each(s, function (t) {
              a[t] = t;
            }),
              (s = a);
          }
          i.each(s, function (t, e) {
            var i = document.createElement("option");
            (i.innerHTML = e),
              i.setAttribute("value", t),
              o.__select.appendChild(i);
          }),
            this.updateDisplay(),
            e.bind(this.__select, "change", function () {
              var t = this.options[this.selectedIndex].value;
              o.setValue(t);
            }),
            this.domElement.appendChild(this.__select);
        };
        return (
          (n.superclass = t),
          i.extend(n.prototype, t.prototype, {
            setValue: function (t) {
              var e = n.superclass.prototype.setValue.call(this, t);
              return (
                this.__onFinishChange &&
                  this.__onFinishChange.call(this, this.getValue()),
                e
              );
            },
            updateDisplay: function () {
              return (
                (this.__select.value = this.getValue()),
                n.superclass.prototype.updateDisplay.call(this)
              );
            },
          }),
          n
        );
      })(i.controllers.Controller, i.dom.dom, i.utils.common)),
      (i.controllers.NumberController = (function (t, e) {
        function i(t) {
          return (
            (t = t.toString()),
            t.indexOf(".") > -1 ? t.length - t.indexOf(".") - 1 : 0
          );
        }
        var n = function (t, r, s) {
          n.superclass.call(this, t, r),
            (s = s || {}),
            (this.__min = s.min),
            (this.__max = s.max),
            (this.__step = s.step),
            e.isUndefined(this.__step)
              ? 0 == this.initialValue
                ? (this.__impliedStep = 1)
                : (this.__impliedStep =
                    Math.pow(
                      10,
                      Math.floor(Math.log(this.initialValue) / Math.LN10)
                    ) / 10)
              : (this.__impliedStep = this.__step),
            (this.__precision = i(this.__impliedStep));
        };
        return (
          (n.superclass = t),
          e.extend(n.prototype, t.prototype, {
            setValue: function (t) {
              return (
                void 0 !== this.__min && t < this.__min
                  ? (t = this.__min)
                  : void 0 !== this.__max && t > this.__max && (t = this.__max),
                void 0 !== this.__step &&
                  t % this.__step != 0 &&
                  (t = Math.round(t / this.__step) * this.__step),
                n.superclass.prototype.setValue.call(this, t)
              );
            },
            min: function (t) {
              return (this.__min = t), this;
            },
            max: function (t) {
              return (this.__max = t), this;
            },
            step: function (t) {
              return (this.__step = t), this;
            },
          }),
          n
        );
      })(i.controllers.Controller, i.utils.common)),
      (i.controllers.NumberControllerBox = (function (t, e, i) {
        function n(t, e) {
          var i = Math.pow(10, e);
          return Math.round(t * i) / i;
        }
        var r = function (t, n, s) {
          function o() {
            var t = parseFloat(p.__input.value);
            i.isNaN(t) || p.setValue(t);
          }
          function a() {
            o(), p.__onFinishChange && p.__onFinishChange.call(p, p.getValue());
          }
          function h(t) {
            e.bind(window, "mousemove", l),
              e.bind(window, "mouseup", u),
              (c = t.clientY);
          }
          function l(t) {
            var e = c - t.clientY;
            p.setValue(p.getValue() + e * p.__impliedStep), (c = t.clientY);
          }
          function u() {
            e.unbind(window, "mousemove", l), e.unbind(window, "mouseup", u);
          }
          (this.__truncationSuspended = !1), r.superclass.call(this, t, n, s);
          var c,
            p = this;
          (this.__input = document.createElement("input")),
            this.__input.setAttribute("type", "text"),
            e.bind(this.__input, "change", o),
            e.bind(this.__input, "blur", a),
            e.bind(this.__input, "mousedown", h),
            e.bind(this.__input, "keydown", function (t) {
              13 === t.keyCode &&
                ((p.__truncationSuspended = !0),
                this.blur(),
                (p.__truncationSuspended = !1));
            }),
            this.updateDisplay(),
            this.domElement.appendChild(this.__input);
        };
        return (
          (r.superclass = t),
          i.extend(r.prototype, t.prototype, {
            updateDisplay: function () {
              return (
                (this.__input.value = this.__truncationSuspended
                  ? this.getValue()
                  : n(this.getValue(), this.__precision)),
                r.superclass.prototype.updateDisplay.call(this)
              );
            },
          }),
          r
        );
      })(i.controllers.NumberController, i.dom.dom, i.utils.common)),
      (i.controllers.NumberControllerSlider = (function (t, e, i, n, r) {
        function s(t, e, i, n, r) {
          return n + (r - n) * ((t - e) / (i - e));
        }
        var o = function (t, i, n, r, a) {
          function h(t) {
            e.bind(window, "mousemove", l), e.bind(window, "mouseup", u), l(t);
          }
          function l(t) {
            t.preventDefault();
            var i = e.getOffset(c.__background),
              n = e.getWidth(c.__background);
            return (
              c.setValue(s(t.clientX, i.left, i.left + n, c.__min, c.__max)), !1
            );
          }
          function u() {
            e.unbind(window, "mousemove", l),
              e.unbind(window, "mouseup", u),
              c.__onFinishChange && c.__onFinishChange.call(c, c.getValue());
          }
          o.superclass.call(this, t, i, { min: n, max: r, step: a });
          var c = this;
          (this.__background = document.createElement("div")),
            (this.__foreground = document.createElement("div")),
            e.bind(this.__background, "mousedown", h),
            e.addClass(this.__background, "slider"),
            e.addClass(this.__foreground, "slider-fg"),
            this.updateDisplay(),
            this.__background.appendChild(this.__foreground),
            this.domElement.appendChild(this.__background);
        };
        return (
          (o.superclass = t),
          (o.useDefaultStyles = function () {
            i.inject(r);
          }),
          n.extend(o.prototype, t.prototype, {
            updateDisplay: function () {
              var t =
                (this.getValue() - this.__min) / (this.__max - this.__min);
              return (
                (this.__foreground.style.width = 100 * t + "%"),
                o.superclass.prototype.updateDisplay.call(this)
              );
            },
          }),
          o
        );
      })(
        i.controllers.NumberController,
        i.dom.dom,
        i.utils.css,
        i.utils.common,
        ".slider {\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\n  height: 1em;\n  border-radius: 1em;\n  background-color: #eee;\n  padding: 0 0.5em;\n  overflow: hidden;\n}\n\n.slider-fg {\n  padding: 1px 0 2px 0;\n  background-color: #aaa;\n  height: 1em;\n  margin-left: -0.5em;\n  padding-right: 0.5em;\n  border-radius: 1em 0 0 1em;\n}\n\n.slider-fg:after {\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #fff;\n  border:  1px solid #aaa;\n  content: '';\n  float: right;\n  margin-right: -1em;\n  margin-top: -1px;\n  height: 0.9em;\n  width: 0.9em;\n}"
      )),
      (i.controllers.FunctionController = (function (t, e, i) {
        var n = function (t, i, r) {
          n.superclass.call(this, t, i);
          var s = this;
          (this.__button = document.createElement("div")),
            (this.__button.innerHTML = void 0 === r ? "Fire" : r),
            e.bind(this.__button, "click", function (t) {
              return t.preventDefault(), s.fire(), !1;
            }),
            e.addClass(this.__button, "button"),
            this.domElement.appendChild(this.__button);
        };
        return (
          (n.superclass = t),
          i.extend(n.prototype, t.prototype, {
            fire: function () {
              this.__onChange && this.__onChange.call(this),
                this.__onFinishChange &&
                  this.__onFinishChange.call(this, this.getValue()),
                this.getValue().call(this.object);
            },
          }),
          n
        );
      })(i.controllers.Controller, i.dom.dom, i.utils.common)),
      (i.controllers.BooleanController = (function (t, e, i) {
        var n = function (t, i) {
          function r() {
            s.setValue(!s.__prev);
          }
          n.superclass.call(this, t, i);
          var s = this;
          (this.__prev = this.getValue()),
            (this.__checkbox = document.createElement("input")),
            this.__checkbox.setAttribute("type", "checkbox"),
            e.bind(this.__checkbox, "change", r, !1),
            this.domElement.appendChild(this.__checkbox),
            this.updateDisplay();
        };
        return (
          (n.superclass = t),
          i.extend(n.prototype, t.prototype, {
            setValue: function (t) {
              var e = n.superclass.prototype.setValue.call(this, t);
              return (
                this.__onFinishChange &&
                  this.__onFinishChange.call(this, this.getValue()),
                (this.__prev = this.getValue()),
                e
              );
            },
            updateDisplay: function () {
              return (
                this.getValue() === !0
                  ? (this.__checkbox.setAttribute("checked", "checked"),
                    (this.__checkbox.checked = !0))
                  : (this.__checkbox.checked = !1),
                n.superclass.prototype.updateDisplay.call(this)
              );
            },
          }),
          n
        );
      })(i.controllers.Controller, i.dom.dom, i.utils.common)),
      (i.color.toString = (function (t) {
        return function (e) {
          if (1 == e.a || t.isUndefined(e.a)) {
            for (var i = e.hex.toString(16); i.length < 6; ) i = "0" + i;
            return "#" + i;
          }
          return (
            "rgba(" +
            Math.round(e.r) +
            "," +
            Math.round(e.g) +
            "," +
            Math.round(e.b) +
            "," +
            e.a +
            ")"
          );
        };
      })(i.utils.common)),
      (i.color.interpret = (function (t, e) {
        var i,
          n,
          r = function () {
            n = !1;
            var t = arguments.length > 1 ? e.toArray(arguments) : arguments[0];
            return (
              e.each(s, function (r) {
                if (r.litmus(t))
                  return (
                    e.each(r.conversions, function (r, s) {
                      if (((i = r.read(t)), n === !1 && i !== !1))
                        return (
                          (n = i),
                          (i.conversionName = s),
                          (i.conversion = r),
                          e.BREAK
                        );
                    }),
                    e.BREAK
                  );
              }),
              n
            );
          },
          s = [
            {
              litmus: e.isString,
              conversions: {
                THREE_CHAR_HEX: {
                  read: function (t) {
                    var e = t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);
                    return (
                      null !== e && {
                        space: "HEX",
                        hex: parseInt(
                          "0x" +
                            e[1].toString() +
                            e[1].toString() +
                            e[2].toString() +
                            e[2].toString() +
                            e[3].toString() +
                            e[3].toString()
                        ),
                      }
                    );
                  },
                  write: t,
                },
                SIX_CHAR_HEX: {
                  read: function (t) {
                    var e = t.match(/^#([A-F0-9]{6})$/i);
                    return (
                      null !== e && {
                        space: "HEX",
                        hex: parseInt("0x" + e[1].toString()),
                      }
                    );
                  },
                  write: t,
                },
                CSS_RGB: {
                  read: function (t) {
                    var e = t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);
                    return (
                      null !== e && {
                        space: "RGB",
                        r: parseFloat(e[1]),
                        g: parseFloat(e[2]),
                        b: parseFloat(e[3]),
                      }
                    );
                  },
                  write: t,
                },
                CSS_RGBA: {
                  read: function (t) {
                    var e = t.match(
                      /^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/
                    );
                    return (
                      null !== e && {
                        space: "RGB",
                        r: parseFloat(e[1]),
                        g: parseFloat(e[2]),
                        b: parseFloat(e[3]),
                        a: parseFloat(e[4]),
                      }
                    );
                  },
                  write: t,
                },
              },
            },
            {
              litmus: e.isNumber,
              conversions: {
                HEX: {
                  read: function (t) {
                    return { space: "HEX", hex: t, conversionName: "HEX" };
                  },
                  write: function (t) {
                    return t.hex;
                  },
                },
              },
            },
            {
              litmus: e.isArray,
              conversions: {
                RGB_ARRAY: {
                  read: function (t) {
                    return (
                      3 == t.length && {
                        space: "RGB",
                        r: t[0],
                        g: t[1],
                        b: t[2],
                      }
                    );
                  },
                  write: function (t) {
                    return [t.r, t.g, t.b];
                  },
                },
                RGBA_ARRAY: {
                  read: function (t) {
                    return (
                      4 == t.length && {
                        space: "RGB",
                        r: t[0],
                        g: t[1],
                        b: t[2],
                        a: t[3],
                      }
                    );
                  },
                  write: function (t) {
                    return [t.r, t.g, t.b, t.a];
                  },
                },
              },
            },
            {
              litmus: e.isObject,
              conversions: {
                RGBA_OBJ: {
                  read: function (t) {
                    return (
                      !!(
                        e.isNumber(t.r) &&
                        e.isNumber(t.g) &&
                        e.isNumber(t.b) &&
                        e.isNumber(t.a)
                      ) && { space: "RGB", r: t.r, g: t.g, b: t.b, a: t.a }
                    );
                  },
                  write: function (t) {
                    return { r: t.r, g: t.g, b: t.b, a: t.a };
                  },
                },
                RGB_OBJ: {
                  read: function (t) {
                    return (
                      !!(
                        e.isNumber(t.r) &&
                        e.isNumber(t.g) &&
                        e.isNumber(t.b)
                      ) && { space: "RGB", r: t.r, g: t.g, b: t.b }
                    );
                  },
                  write: function (t) {
                    return { r: t.r, g: t.g, b: t.b };
                  },
                },
                HSVA_OBJ: {
                  read: function (t) {
                    return (
                      !!(
                        e.isNumber(t.h) &&
                        e.isNumber(t.s) &&
                        e.isNumber(t.v) &&
                        e.isNumber(t.a)
                      ) && { space: "HSV", h: t.h, s: t.s, v: t.v, a: t.a }
                    );
                  },
                  write: function (t) {
                    return { h: t.h, s: t.s, v: t.v, a: t.a };
                  },
                },
                HSV_OBJ: {
                  read: function (t) {
                    return (
                      !!(
                        e.isNumber(t.h) &&
                        e.isNumber(t.s) &&
                        e.isNumber(t.v)
                      ) && { space: "HSV", h: t.h, s: t.s, v: t.v }
                    );
                  },
                  write: function (t) {
                    return { h: t.h, s: t.s, v: t.v };
                  },
                },
              },
            },
          ];
        return r;
      })(i.color.toString, i.utils.common)),
      (i.GUI = i.gui.GUI =
        (function (t, e, i, n, r, s, o, a, h, l, u, c, p, d, f) {
          function m(t, e, i, s) {
            if (void 0 === e[i])
              throw new Error("Object " + e + ' has no property "' + i + '"');
            var o;
            if (s.color) o = new u(e, i);
            else {
              var a = [e, i].concat(s.factoryArgs);
              o = n.apply(t, a);
            }
            s.before instanceof r && (s.before = s.before.__li),
              v(t, o),
              d.addClass(o.domElement, "c");
            var h = document.createElement("span");
            d.addClass(h, "property-name"), (h.innerHTML = o.property);
            var l = document.createElement("div");
            l.appendChild(h), l.appendChild(o.domElement);
            var c = _(t, l, s.before);
            return (
              d.addClass(c, F.CLASS_CONTROLLER_ROW),
              d.addClass(c, typeof o.getValue()),
              g(t, c, o),
              t.__controllers.push(o),
              o
            );
          }
          function _(t, e, i) {
            var n = document.createElement("li");
            return (
              e && n.appendChild(e),
              i ? t.__ul.insertBefore(n, params.before) : t.__ul.appendChild(n),
              t.onResize(),
              n
            );
          }
          function g(t, e, i) {
            if (
              ((i.__li = e),
              (i.__gui = t),
              f.extend(i, {
                options: function (e) {
                  return arguments.length > 1
                    ? (i.remove(),
                      m(t, i.object, i.property, {
                        before: i.__li.nextElementSibling,
                        factoryArgs: [f.toArray(arguments)],
                      }))
                    : f.isArray(e) || f.isObject(e)
                    ? (i.remove(),
                      m(t, i.object, i.property, {
                        before: i.__li.nextElementSibling,
                        factoryArgs: [e],
                      }))
                    : void 0;
                },
                name: function (t) {
                  return (
                    (i.__li.firstElementChild.firstElementChild.innerHTML = t),
                    i
                  );
                },
                listen: function () {
                  return i.__gui.listen(i), i;
                },
                remove: function () {
                  return i.__gui.remove(i), i;
                },
              }),
              i instanceof h)
            ) {
              var n = new a(i.object, i.property, {
                min: i.__min,
                max: i.__max,
                step: i.__step,
              });
              f.each(
                ["updateDisplay", "onChange", "onFinishChange"],
                function (t) {
                  var e = i[t],
                    r = n[t];
                  i[t] = n[t] = function () {
                    var t = Array.prototype.slice.call(arguments);
                    return e.apply(i, t), r.apply(n, t);
                  };
                }
              ),
                d.addClass(e, "has-slider"),
                i.domElement.insertBefore(
                  n.domElement,
                  i.domElement.firstElementChild
                );
            } else if (i instanceof a) {
              var r = function (e) {
                return f.isNumber(i.__min) && f.isNumber(i.__max)
                  ? (i.remove(),
                    m(t, i.object, i.property, {
                      before: i.__li.nextElementSibling,
                      factoryArgs: [i.__min, i.__max, i.__step],
                    }))
                  : e;
              };
              (i.min = f.compose(r, i.min)), (i.max = f.compose(r, i.max));
            } else
              i instanceof s
                ? (d.bind(e, "click", function () {
                    d.fakeEvent(i.__checkbox, "click");
                  }),
                  d.bind(i.__checkbox, "click", function (t) {
                    t.stopPropagation();
                  }))
                : i instanceof o
                ? (d.bind(e, "click", function () {
                    d.fakeEvent(i.__button, "click");
                  }),
                  d.bind(e, "mouseover", function () {
                    d.addClass(i.__button, "hover");
                  }),
                  d.bind(e, "mouseout", function () {
                    d.removeClass(i.__button, "hover");
                  }))
                : i instanceof u &&
                  (d.addClass(e, "color"),
                  (i.updateDisplay = f.compose(function (t) {
                    return (e.style.borderLeftColor = i.__color.toString()), t;
                  }, i.updateDisplay)),
                  i.updateDisplay());
            i.setValue = f.compose(function (e) {
              return (
                t.getRoot().__preset_select &&
                  i.isModified() &&
                  M(t.getRoot(), !0),
                e
              );
            }, i.setValue);
          }
          function v(t, e) {
            var i = t.getRoot(),
              n = i.__rememberedObjects.indexOf(e.object);
            if (n != -1) {
              var r = i.__rememberedObjectIndecesToControllers[n];
              if (
                (void 0 === r &&
                  ((r = {}), (i.__rememberedObjectIndecesToControllers[n] = r)),
                (r[e.property] = e),
                i.load && i.load.remembered)
              ) {
                var s,
                  o = i.load.remembered;
                if (o[t.preset]) s = o[t.preset];
                else {
                  if (!o[O]) return;
                  s = o[O];
                }
                if (s[n] && void 0 !== s[n][e.property]) {
                  var a = s[n][e.property];
                  (e.initialValue = a), e.setValue(a);
                }
              }
            }
          }
          function y(t, e) {
            return document.location.href + "." + e;
          }
          function x(t) {
            function e() {
              l.style.display = t.useLocalStorage ? "block" : "none";
            }
            var i = (t.__save_row = document.createElement("li"));
            d.addClass(t.domElement, "has-save"),
              t.__ul.insertBefore(i, t.__ul.firstChild),
              d.addClass(i, "save-row");
            var n = document.createElement("span");
            (n.innerHTML = "&nbsp;"), d.addClass(n, "button gears");
            var r = document.createElement("span");
            (r.innerHTML = "Save"),
              d.addClass(r, "button"),
              d.addClass(r, "save");
            var s = document.createElement("span");
            (s.innerHTML = "New"),
              d.addClass(s, "button"),
              d.addClass(s, "save-as");
            var o = document.createElement("span");
            (o.innerHTML = "Revert"),
              d.addClass(o, "button"),
              d.addClass(o, "revert");
            var a = (t.__preset_select = document.createElement("select"));
            if (
              (t.load && t.load.remembered
                ? f.each(t.load.remembered, function (e, i) {
                    E(t, i, i == t.preset);
                  })
                : E(t, O, !1),
              d.bind(a, "change", function () {
                for (var e = 0; e < t.__preset_select.length; e++)
                  t.__preset_select[e].innerHTML = t.__preset_select[e].value;
                t.preset = this.value;
              }),
              i.appendChild(a),
              i.appendChild(n),
              i.appendChild(r),
              i.appendChild(s),
              i.appendChild(o),
              D)
            ) {
              var h = document.getElementById("dg-save-locally"),
                l = document.getElementById("dg-local-explain");
              h.style.display = "block";
              var u = document.getElementById("dg-local-storage");
              "true" === localStorage.getItem(y(t, "isLocal")) &&
                u.setAttribute("checked", "checked"),
                e(),
                d.bind(u, "change", function () {
                  (t.useLocalStorage = !t.useLocalStorage), e();
                });
            }
            var c = document.getElementById("dg-new-constructor");
            d.bind(c, "keydown", function (t) {
              !t.metaKey || (67 !== t.which && 67 != t.keyCode) || P.hide();
            }),
              d.bind(n, "click", function () {
                (c.innerHTML = JSON.stringify(t.getSaveObject(), void 0, 2)),
                  P.show(),
                  c.focus(),
                  c.select();
              }),
              d.bind(r, "click", function () {
                t.save();
              }),
              d.bind(s, "click", function () {
                var e = prompt("Enter a new preset name.");
                e && t.saveAs(e);
              }),
              d.bind(o, "click", function () {
                t.revert();
              });
          }
          function w(t) {
            function e(e) {
              return (
                e.preventDefault(),
                (r = e.clientX),
                d.addClass(t.__closeButton, F.CLASS_DRAG),
                d.bind(window, "mousemove", i),
                d.bind(window, "mouseup", n),
                !1
              );
            }
            function i(e) {
              return (
                e.preventDefault(),
                (t.width += r - e.clientX),
                t.onResize(),
                (r = e.clientX),
                !1
              );
            }
            function n() {
              d.removeClass(t.__closeButton, F.CLASS_DRAG),
                d.unbind(window, "mousemove", i),
                d.unbind(window, "mouseup", n);
            }
            (t.__resize_handle = document.createElement("div")),
              f.extend(t.__resize_handle.style, {
                width: "6px",
                marginLeft: "-3px",
                height: "200px",
                cursor: "ew-resize",
                position: "absolute",
              });
            var r;
            d.bind(t.__resize_handle, "mousedown", e),
              d.bind(t.__closeButton, "mousedown", e),
              t.domElement.insertBefore(
                t.__resize_handle,
                t.domElement.firstElementChild
              );
          }
          function b(t, e) {
            (t.domElement.style.width = e + "px"),
              t.__save_row &&
                t.autoPlace &&
                (t.__save_row.style.width = e + "px"),
              t.__closeButton && (t.__closeButton.style.width = e + "px");
          }
          function T(t, e) {
            var i = {};
            return (
              f.each(t.__rememberedObjects, function (n, r) {
                var s = {},
                  o = t.__rememberedObjectIndecesToControllers[r];
                f.each(o, function (t, i) {
                  s[i] = e ? t.initialValue : t.getValue();
                }),
                  (i[r] = s);
              }),
              i
            );
          }
          function E(t, e, i) {
            var n = document.createElement("option");
            (n.innerHTML = e),
              (n.value = e),
              t.__preset_select.appendChild(n),
              i &&
                (t.__preset_select.selectedIndex =
                  t.__preset_select.length - 1);
          }
          function S(t) {
            for (var e = 0; e < t.__preset_select.length; e++)
              t.__preset_select[e].value == t.preset &&
                (t.__preset_select.selectedIndex = e);
          }
          function M(t, e) {
            var i = t.__preset_select[t.__preset_select.selectedIndex];
            e ? (i.innerHTML = i.value + "*") : (i.innerHTML = i.value);
          }
          function C(t) {
            0 != t.length &&
              c(function () {
                C(t);
              }),
              f.each(t, function (t) {
                t.updateDisplay();
              });
          }
          t.inject(i);
          var P,
            A,
            R = "dg",
            L = 72,
            I = 20,
            O = "Default",
            D = (function () {
              try {
                return "localStorage" in window && null !== window.localStorage;
              } catch (t) {
                return !1;
              }
            })(),
            k = !0,
            N = !1,
            z = [],
            F = function (t) {
              function e() {
                localStorage.setItem(
                  y(n, "gui"),
                  JSON.stringify(n.getSaveObject())
                );
              }
              function i() {
                var t = n.getRoot();
                (t.width += 1),
                  f.defer(function () {
                    t.width -= 1;
                  });
              }
              var n = this;
              (this.domElement = document.createElement("div")),
                (this.__ul = document.createElement("ul")),
                this.domElement.appendChild(this.__ul),
                d.addClass(this.domElement, R),
                (this.__folders = {}),
                (this.__controllers = []),
                (this.__rememberedObjects = []),
                (this.__rememberedObjectIndecesToControllers = []),
                (this.__listening = []),
                (t = t || {}),
                (t = f.defaults(t, { autoPlace: !0, width: F.DEFAULT_WIDTH })),
                (t = f.defaults(t, {
                  resizable: t.autoPlace,
                  hideable: t.autoPlace,
                })),
                f.isUndefined(t.load)
                  ? (t.load = { preset: O })
                  : t.preset && (t.load.preset = t.preset),
                f.isUndefined(t.parent) && t.hideable && z.push(this),
                (t.resizable = f.isUndefined(t.parent) && t.resizable),
                t.autoPlace &&
                  f.isUndefined(t.scrollable) &&
                  (t.scrollable = !0);
              var r = D && "true" === localStorage.getItem(y(this, "isLocal"));
              if (
                (Object.defineProperties(this, {
                  parent: {
                    get: function () {
                      return t.parent;
                    },
                  },
                  scrollable: {
                    get: function () {
                      return t.scrollable;
                    },
                  },
                  autoPlace: {
                    get: function () {
                      return t.autoPlace;
                    },
                  },
                  preset: {
                    get: function () {
                      return n.parent ? n.getRoot().preset : t.load.preset;
                    },
                    set: function (e) {
                      n.parent ? (n.getRoot().preset = e) : (t.load.preset = e),
                        S(this),
                        n.revert();
                    },
                  },
                  width: {
                    get: function () {
                      return t.width;
                    },
                    set: function (e) {
                      (t.width = e), b(n, e);
                    },
                  },
                  name: {
                    get: function () {
                      return t.name;
                    },
                    set: function (e) {
                      (t.name = e), o && (o.innerHTML = t.name);
                    },
                  },
                  closed: {
                    get: function () {
                      return t.closed;
                    },
                    set: function (e) {
                      (t.closed = e),
                        t.closed
                          ? d.addClass(n.__ul, F.CLASS_CLOSED)
                          : d.removeClass(n.__ul, F.CLASS_CLOSED),
                        this.onResize(),
                        n.__closeButton &&
                          (n.__closeButton.innerHTML = e
                            ? F.TEXT_OPEN
                            : F.TEXT_CLOSED);
                    },
                  },
                  load: {
                    get: function () {
                      return t.load;
                    },
                  },
                  useLocalStorage: {
                    get: function () {
                      return r;
                    },
                    set: function (t) {
                      D &&
                        ((r = t),
                        t
                          ? d.bind(window, "unload", e)
                          : d.unbind(window, "unload", e),
                        localStorage.setItem(y(n, "isLocal"), t));
                    },
                  },
                }),
                f.isUndefined(t.parent))
              ) {
                if (
                  ((t.closed = !1),
                  d.addClass(this.domElement, F.CLASS_MAIN),
                  d.makeSelectable(this.domElement, !1),
                  D && r)
                ) {
                  n.useLocalStorage = !0;
                  var s = localStorage.getItem(y(this, "gui"));
                  s && (t.load = JSON.parse(s));
                }
                (this.__closeButton = document.createElement("div")),
                  (this.__closeButton.innerHTML = F.TEXT_CLOSED),
                  d.addClass(this.__closeButton, F.CLASS_CLOSE_BUTTON),
                  this.domElement.appendChild(this.__closeButton),
                  d.bind(this.__closeButton, "click", function () {
                    n.closed = !n.closed;
                  });
              } else {
                void 0 === t.closed && (t.closed = !0);
                var o = document.createTextNode(t.name);
                d.addClass(o, "controller-name");
                var a = _(n, o),
                  h = function (t) {
                    return t.preventDefault(), (n.closed = !n.closed), !1;
                  };
                d.addClass(this.__ul, F.CLASS_CLOSED),
                  d.addClass(a, "title"),
                  d.bind(a, "click", h),
                  t.closed || (this.closed = !1);
              }
              t.autoPlace &&
                (f.isUndefined(t.parent) &&
                  (k &&
                    ((A = document.createElement("div")),
                    d.addClass(A, R),
                    d.addClass(A, F.CLASS_AUTO_PLACE_CONTAINER),
                    document.body.appendChild(A),
                    (k = !1)),
                  A.appendChild(this.domElement),
                  d.addClass(this.domElement, F.CLASS_AUTO_PLACE)),
                this.parent || b(n, t.width)),
                d.bind(window, "resize", function () {
                  n.onResize();
                }),
                d.bind(this.__ul, "webkitTransitionEnd", function () {
                  n.onResize();
                }),
                d.bind(this.__ul, "transitionend", function () {
                  n.onResize();
                }),
                d.bind(this.__ul, "oTransitionEnd", function () {
                  n.onResize();
                }),
                this.onResize(),
                t.resizable && w(this);
              n.getRoot();
              t.parent || i();
            };
          return (
            (F.toggleHide = function () {
              (N = !N),
                f.each(z, function (t) {
                  (t.domElement.style.zIndex = N ? -999 : 999),
                    (t.domElement.style.opacity = N ? 0 : 1);
                });
            }),
            (F.CLASS_AUTO_PLACE = "a"),
            (F.CLASS_AUTO_PLACE_CONTAINER = "ac"),
            (F.CLASS_MAIN = "main"),
            (F.CLASS_CONTROLLER_ROW = "cr"),
            (F.CLASS_TOO_TALL = "taller-than-window"),
            (F.CLASS_CLOSED = "closed"),
            (F.CLASS_CLOSE_BUTTON = "close-button"),
            (F.CLASS_DRAG = "drag"),
            (F.DEFAULT_WIDTH = 245),
            (F.TEXT_CLOSED = "Close Controls"),
            (F.TEXT_OPEN = "Open Controls"),
            d.bind(
              window,
              "keydown",
              function (t) {
                "text" === document.activeElement.type ||
                  (t.which !== L && t.keyCode != L) ||
                  F.toggleHide();
              },
              !1
            ),
            f.extend(F.prototype, {
              add: function (t, e) {
                return m(this, t, e, {
                  factoryArgs: Array.prototype.slice.call(arguments, 2),
                });
              },
              addColor: function (t, e) {
                return m(this, t, e, { color: !0 });
              },
              remove: function (t) {
                this.__ul.removeChild(t.__li),
                  this.__controllers.slice(this.__controllers.indexOf(t), 1);
                var e = this;
                f.defer(function () {
                  e.onResize();
                });
              },
              destroy: function () {
                this.autoPlace && A.removeChild(this.domElement);
              },
              addFolder: function (t) {
                if (void 0 !== this.__folders[t])
                  throw new Error(
                    'You already have a folder in this GUI by the name "' +
                      t +
                      '"'
                  );
                var e = { name: t, parent: this };
                (e.autoPlace = this.autoPlace),
                  this.load &&
                    this.load.folders &&
                    this.load.folders[t] &&
                    ((e.closed = this.load.folders[t].closed),
                    (e.load = this.load.folders[t]));
                var i = new F(e);
                this.__folders[t] = i;
                var n = _(this, i.domElement);
                return d.addClass(n, "folder"), i;
              },
              open: function () {
                this.closed = !1;
              },
              close: function () {
                this.closed = !0;
              },
              onResize: function () {
                var t = this.getRoot();
                if (t.scrollable) {
                  var e = d.getOffset(t.__ul).top,
                    i = 0;
                  f.each(t.__ul.childNodes, function (e) {
                    (t.autoPlace && e === t.__save_row) ||
                      (i += d.getHeight(e));
                  }),
                    window.innerHeight - e - I < i
                      ? (d.addClass(t.domElement, F.CLASS_TOO_TALL),
                        (t.__ul.style.height =
                          window.innerHeight - e - I + "px"))
                      : (d.removeClass(t.domElement, F.CLASS_TOO_TALL),
                        (t.__ul.style.height = "auto"));
                }
                t.__resize_handle &&
                  f.defer(function () {
                    t.__resize_handle.style.height = t.__ul.offsetHeight + "px";
                  }),
                  t.__closeButton &&
                    (t.__closeButton.style.width = t.width + "px");
              },
              remember: function () {
                if (
                  (f.isUndefined(P) &&
                    ((P = new p()), (P.domElement.innerHTML = e)),
                  this.parent)
                )
                  throw new Error(
                    "You can only call remember on a top level GUI."
                  );
                var t = this;
                f.each(Array.prototype.slice.call(arguments), function (e) {
                  0 == t.__rememberedObjects.length && x(t),
                    t.__rememberedObjects.indexOf(e) == -1 &&
                      t.__rememberedObjects.push(e);
                }),
                  this.autoPlace && b(this, this.width);
              },
              getRoot: function () {
                for (var t = this; t.parent; ) t = t.parent;
                return t;
              },
              getSaveObject: function () {
                var t = this.load;
                return (
                  (t.closed = this.closed),
                  this.__rememberedObjects.length > 0 &&
                    ((t.preset = this.preset),
                    t.remembered || (t.remembered = {}),
                    (t.remembered[this.preset] = T(this))),
                  (t.folders = {}),
                  f.each(this.__folders, function (e, i) {
                    t.folders[i] = e.getSaveObject();
                  }),
                  t
                );
              },
              save: function () {
                this.load.remembered || (this.load.remembered = {}),
                  (this.load.remembered[this.preset] = T(this)),
                  M(this, !1);
              },
              saveAs: function (t) {
                this.load.remembered ||
                  ((this.load.remembered = {}),
                  (this.load.remembered[O] = T(this, !0))),
                  (this.load.remembered[t] = T(this)),
                  (this.preset = t),
                  E(this, t, !0);
              },
              revert: function (t) {
                f.each(
                  this.__controllers,
                  function (e) {
                    this.getRoot().load.remembered
                      ? v(t || this.getRoot(), e)
                      : e.setValue(e.initialValue);
                  },
                  this
                ),
                  f.each(this.__folders, function (t) {
                    t.revert(t);
                  }),
                  t || M(this.getRoot(), !1);
              },
              listen: function (t) {
                var e = 0 == this.__listening.length;
                this.__listening.push(t), e && C(this.__listening);
              },
            }),
            F
          );
        })(
          i.utils.css,
          '<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n      \n    </div>\n    \n  </div>\n\n</div>',
          ".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save ul{margin-top:27px}.dg.a.has-save ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height 0.1s ease-out;-o-transition:height 0.1s ease-out;-moz-transition:height 0.1s ease-out;transition:height 0.1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li > *{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n",
          (i.controllers.factory = (function (t, e, i, n, r, s, o) {
            return function (a, h) {
              var l = a[h];
              return o.isArray(arguments[2]) || o.isObject(arguments[2])
                ? new t(a, h, arguments[2])
                : o.isNumber(l)
                ? o.isNumber(arguments[2]) && o.isNumber(arguments[3])
                  ? new i(a, h, arguments[2], arguments[3])
                  : new e(a, h, { min: arguments[2], max: arguments[3] })
                : o.isString(l)
                ? new n(a, h)
                : o.isFunction(l)
                ? new r(a, h, "")
                : o.isBoolean(l)
                ? new s(a, h)
                : void 0;
            };
          })(
            i.controllers.OptionController,
            i.controllers.NumberControllerBox,
            i.controllers.NumberControllerSlider,
            (i.controllers.StringController = (function (t, e, i) {
              var n = function (t, i) {
                function r() {
                  o.setValue(o.__input.value);
                }
                function s() {
                  o.__onFinishChange &&
                    o.__onFinishChange.call(o, o.getValue());
                }
                n.superclass.call(this, t, i);
                var o = this;
                (this.__input = document.createElement("input")),
                  this.__input.setAttribute("type", "text"),
                  e.bind(this.__input, "keyup", r),
                  e.bind(this.__input, "change", r),
                  e.bind(this.__input, "blur", s),
                  e.bind(this.__input, "keydown", function (t) {
                    13 === t.keyCode && this.blur();
                  }),
                  this.updateDisplay(),
                  this.domElement.appendChild(this.__input);
              };
              return (
                (n.superclass = t),
                i.extend(n.prototype, t.prototype, {
                  updateDisplay: function () {
                    return (
                      e.isActive(this.__input) ||
                        (this.__input.value = this.getValue()),
                      n.superclass.prototype.updateDisplay.call(this)
                    );
                  },
                }),
                n
              );
            })(i.controllers.Controller, i.dom.dom, i.utils.common)),
            i.controllers.FunctionController,
            i.controllers.BooleanController,
            i.utils.common
          )),
          i.controllers.Controller,
          i.controllers.BooleanController,
          i.controllers.FunctionController,
          i.controllers.NumberControllerBox,
          i.controllers.NumberControllerSlider,
          i.controllers.OptionController,
          (i.controllers.ColorController = (function (t, e, i, n, r) {
            function s(t, e, i, n) {
              (t.style.background = ""),
                r.each(h, function (r) {
                  t.style.cssText +=
                    "background: " +
                    r +
                    "linear-gradient(" +
                    e +
                    ", " +
                    i +
                    " 0%, " +
                    n +
                    " 100%); ";
                });
            }
            function o(t) {
              (t.style.background = ""),
                (t.style.cssText +=
                  "background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);"),
                (t.style.cssText +=
                  "background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"),
                (t.style.cssText +=
                  "background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"),
                (t.style.cssText +=
                  "background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"),
                (t.style.cssText +=
                  "background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);");
            }
            var a = function (t, h) {
              function l(t) {
                d(t),
                  e.bind(window, "mousemove", d),
                  e.bind(window, "mouseup", u);
              }
              function u() {
                e.unbind(window, "mousemove", d),
                  e.unbind(window, "mouseup", u);
              }
              function c() {
                var t = n(this.value);
                t !== !1
                  ? ((m.__color.__state = t),
                    m.setValue(m.__color.toOriginal()))
                  : (this.value = m.__color.toString());
              }
              function p() {
                e.unbind(window, "mousemove", f),
                  e.unbind(window, "mouseup", p);
              }
              function d(t) {
                t.preventDefault();
                var i = e.getWidth(m.__saturation_field),
                  n = e.getOffset(m.__saturation_field),
                  r = (t.clientX - n.left + document.body.scrollLeft) / i,
                  s = 1 - (t.clientY - n.top + document.body.scrollTop) / i;
                return (
                  s > 1 ? (s = 1) : s < 0 && (s = 0),
                  r > 1 ? (r = 1) : r < 0 && (r = 0),
                  (m.__color.v = s),
                  (m.__color.s = r),
                  m.setValue(m.__color.toOriginal()),
                  !1
                );
              }
              function f(t) {
                t.preventDefault();
                var i = e.getHeight(m.__hue_field),
                  n = e.getOffset(m.__hue_field),
                  r = 1 - (t.clientY - n.top + document.body.scrollTop) / i;
                return (
                  r > 1 ? (r = 1) : r < 0 && (r = 0),
                  (m.__color.h = 360 * r),
                  m.setValue(m.__color.toOriginal()),
                  !1
                );
              }
              a.superclass.call(this, t, h),
                (this.__color = new i(this.getValue())),
                (this.__temp = new i(0));
              var m = this;
              (this.domElement = document.createElement("div")),
                e.makeSelectable(this.domElement, !1),
                (this.__selector = document.createElement("div")),
                (this.__selector.className = "selector"),
                (this.__saturation_field = document.createElement("div")),
                (this.__saturation_field.className = "saturation-field"),
                (this.__field_knob = document.createElement("div")),
                (this.__field_knob.className = "field-knob"),
                (this.__field_knob_border = "2px solid "),
                (this.__hue_knob = document.createElement("div")),
                (this.__hue_knob.className = "hue-knob"),
                (this.__hue_field = document.createElement("div")),
                (this.__hue_field.className = "hue-field"),
                (this.__input = document.createElement("input")),
                (this.__input.type = "text"),
                (this.__input_textShadow = "0 1px 1px "),
                e.bind(this.__input, "keydown", function (t) {
                  13 === t.keyCode && c.call(this);
                }),
                e.bind(this.__input, "blur", c),
                e.bind(this.__selector, "mousedown", function (t) {
                  e.addClass(this, "drag").bind(
                    window,
                    "mouseup",
                    function (t) {
                      e.removeClass(m.__selector, "drag");
                    }
                  );
                });
              var _ = document.createElement("div");
              r.extend(this.__selector.style, {
                width: "122px",
                height: "102px",
                padding: "3px",
                backgroundColor: "#222",
                boxShadow: "0px 1px 3px rgba(0,0,0,0.3)",
              }),
                r.extend(this.__field_knob.style, {
                  position: "absolute",
                  width: "12px",
                  height: "12px",
                  border:
                    this.__field_knob_border +
                    (this.__color.v < 0.5 ? "#fff" : "#000"),
                  boxShadow: "0px 1px 3px rgba(0,0,0,0.5)",
                  borderRadius: "12px",
                  zIndex: 1,
                }),
                r.extend(this.__hue_knob.style, {
                  position: "absolute",
                  width: "15px",
                  height: "2px",
                  borderRight: "4px solid #fff",
                  zIndex: 1,
                }),
                r.extend(this.__saturation_field.style, {
                  width: "100px",
                  height: "100px",
                  border: "1px solid #555",
                  marginRight: "3px",
                  display: "inline-block",
                  cursor: "pointer",
                }),
                r.extend(_.style, {
                  width: "100%",
                  height: "100%",
                  background: "none",
                }),
                s(_, "top", "rgba(0,0,0,0)", "#000"),
                r.extend(this.__hue_field.style, {
                  width: "15px",
                  height: "100px",
                  display: "inline-block",
                  border: "1px solid #555",
                  cursor: "ns-resize",
                }),
                o(this.__hue_field),
                r.extend(this.__input.style, {
                  outline: "none",
                  textAlign: "center",
                  color: "#fff",
                  border: 0,
                  fontWeight: "bold",
                  textShadow: this.__input_textShadow + "rgba(0,0,0,0.7)",
                }),
                e.bind(this.__saturation_field, "mousedown", l),
                e.bind(this.__field_knob, "mousedown", l),
                e.bind(this.__hue_field, "mousedown", function (t) {
                  f(t),
                    e.bind(window, "mousemove", f),
                    e.bind(window, "mouseup", p);
                }),
                this.__saturation_field.appendChild(_),
                this.__selector.appendChild(this.__field_knob),
                this.__selector.appendChild(this.__saturation_field),
                this.__selector.appendChild(this.__hue_field),
                this.__hue_field.appendChild(this.__hue_knob),
                this.domElement.appendChild(this.__input),
                this.domElement.appendChild(this.__selector),
                this.updateDisplay();
            };
            (a.superclass = t),
              r.extend(a.prototype, t.prototype, {
                updateDisplay: function () {
                  var t = n(this.getValue());
                  if (t !== !1) {
                    var e = !1;
                    r.each(
                      i.COMPONENTS,
                      function (i) {
                        if (
                          !r.isUndefined(t[i]) &&
                          !r.isUndefined(this.__color.__state[i]) &&
                          t[i] !== this.__color.__state[i]
                        )
                          return (e = !0), {};
                      },
                      this
                    ),
                      e && r.extend(this.__color.__state, t);
                  }
                  r.extend(this.__temp.__state, this.__color.__state),
                    (this.__temp.a = 1);
                  var o =
                      this.__color.v < 0.5 || this.__color.s > 0.5 ? 255 : 0,
                    a = 255 - o;
                  r.extend(this.__field_knob.style, {
                    marginLeft: 100 * this.__color.s - 7 + "px",
                    marginTop: 100 * (1 - this.__color.v) - 7 + "px",
                    backgroundColor: this.__temp.toString(),
                    border:
                      this.__field_knob_border +
                      "rgb(" +
                      o +
                      "," +
                      o +
                      "," +
                      o +
                      ")",
                  }),
                    (this.__hue_knob.style.marginTop =
                      100 * (1 - this.__color.h / 360) + "px"),
                    (this.__temp.s = 1),
                    (this.__temp.v = 1),
                    s(
                      this.__saturation_field,
                      "left",
                      "#fff",
                      this.__temp.toString()
                    ),
                    r.extend(this.__input.style, {
                      backgroundColor: (this.__input.value =
                        this.__color.toString()),
                      color: "rgb(" + o + "," + o + "," + o + ")",
                      textShadow:
                        this.__input_textShadow +
                        "rgba(" +
                        a +
                        "," +
                        a +
                        "," +
                        a +
                        ",.7)",
                    });
                },
              });
            var h = ["-moz-", "-o-", "-webkit-", "-ms-", ""];
            return a;
          })(
            i.controllers.Controller,
            i.dom.dom,
            (i.color.Color = (function (t, e, i, n) {
              function r(t, e, i) {
                Object.defineProperty(t, e, {
                  get: function () {
                    return "RGB" === this.__state.space
                      ? this.__state[e]
                      : (o(this, e, i), this.__state[e]);
                  },
                  set: function (t) {
                    "RGB" !== this.__state.space &&
                      (o(this, e, i), (this.__state.space = "RGB")),
                      (this.__state[e] = t);
                  },
                });
              }
              function s(t, e) {
                Object.defineProperty(t, e, {
                  get: function () {
                    return "HSV" === this.__state.space
                      ? this.__state[e]
                      : (a(this), this.__state[e]);
                  },
                  set: function (t) {
                    "HSV" !== this.__state.space &&
                      (a(this), (this.__state.space = "HSV")),
                      (this.__state[e] = t);
                  },
                });
              }
              function o(t, i, r) {
                if ("HEX" === t.__state.space)
                  t.__state[i] = e.component_from_hex(t.__state.hex, r);
                else {
                  if ("HSV" !== t.__state.space) throw "Corrupted color state";
                  n.extend(
                    t.__state,
                    e.hsv_to_rgb(t.__state.h, t.__state.s, t.__state.v)
                  );
                }
              }
              function a(t) {
                var i = e.rgb_to_hsv(t.r, t.g, t.b);
                n.extend(t.__state, { s: i.s, v: i.v }),
                  n.isNaN(i.h)
                    ? n.isUndefined(t.__state.h) && (t.__state.h = 0)
                    : (t.__state.h = i.h);
              }
              var h = function () {
                if (
                  ((this.__state = t.apply(this, arguments)),
                  this.__state === !1)
                )
                  throw "Failed to interpret color arguments";
                this.__state.a = this.__state.a || 1;
              };
              return (
                (h.COMPONENTS = ["r", "g", "b", "h", "s", "v", "hex", "a"]),
                n.extend(h.prototype, {
                  toString: function () {
                    return i(this);
                  },
                  toOriginal: function () {
                    return this.__state.conversion.write(this);
                  },
                }),
                r(h.prototype, "r", 2),
                r(h.prototype, "g", 1),
                r(h.prototype, "b", 0),
                s(h.prototype, "h"),
                s(h.prototype, "s"),
                s(h.prototype, "v"),
                Object.defineProperty(h.prototype, "a", {
                  get: function () {
                    return this.__state.a;
                  },
                  set: function (t) {
                    this.__state.a = t;
                  },
                }),
                Object.defineProperty(h.prototype, "hex", {
                  get: function () {
                    return (
                      "HEX" !== !this.__state.space &&
                        (this.__state.hex = e.rgb_to_hex(
                          this.r,
                          this.g,
                          this.b
                        )),
                      this.__state.hex
                    );
                  },
                  set: function (t) {
                    (this.__state.space = "HEX"), (this.__state.hex = t);
                  },
                }),
                h
              );
            })(
              i.color.interpret,
              (i.color.math = (function () {
                var t;
                return {
                  hsv_to_rgb: function (t, e, i) {
                    var n = Math.floor(t / 60) % 6,
                      r = t / 60 - Math.floor(t / 60),
                      s = i * (1 - e),
                      o = i * (1 - r * e),
                      a = i * (1 - (1 - r) * e),
                      h = [
                        [i, a, s],
                        [o, i, s],
                        [s, i, a],
                        [s, o, i],
                        [a, s, i],
                        [i, s, o],
                      ][n];
                    return { r: 255 * h[0], g: 255 * h[1], b: 255 * h[2] };
                  },
                  rgb_to_hsv: function (t, e, i) {
                    var n,
                      r,
                      s = Math.min(t, e, i),
                      o = Math.max(t, e, i),
                      a = o - s;
                    return 0 == o
                      ? { h: NaN, s: 0, v: 0 }
                      : ((r = a / o),
                        (n =
                          t == o
                            ? (e - i) / a
                            : e == o
                            ? 2 + (i - t) / a
                            : 4 + (t - e) / a),
                        (n /= 6),
                        n < 0 && (n += 1),
                        { h: 360 * n, s: r, v: o / 255 });
                  },
                  rgb_to_hex: function (t, e, i) {
                    var n = this.hex_with_component(0, 2, t);
                    return (
                      (n = this.hex_with_component(n, 1, e)),
                      (n = this.hex_with_component(n, 0, i))
                    );
                  },
                  component_from_hex: function (t, e) {
                    return (t >> (8 * e)) & 255;
                  },
                  hex_with_component: function (e, i, n) {
                    return (n << (t = 8 * i)) | (e & ~(255 << t));
                  },
                };
              })()),
              i.color.toString,
              i.utils.common
            )),
            i.color.interpret,
            i.utils.common
          )),
          (i.utils.requestAnimationFrame = (function () {
            return (
              window.webkitRequestAnimationFrame ||
              window.mozRequestAnimationFrame ||
              window.oRequestAnimationFrame ||
              window.msRequestAnimationFrame ||
              function (t, e) {
                window.setTimeout(t, 1e3 / 60);
              }
            );
          })()),
          (i.dom.CenteredDiv = (function (t, e) {
            var i = function () {
              (this.backgroundElement = document.createElement("div")),
                e.extend(this.backgroundElement.style, {
                  backgroundColor: "rgba(0,0,0,0.8)",
                  top: 0,
                  left: 0,
                  display: "none",
                  zIndex: "1000",
                  opacity: 0,
                  WebkitTransition: "opacity 0.2s linear",
                }),
                t.makeFullscreen(this.backgroundElement),
                (this.backgroundElement.style.position = "fixed"),
                (this.domElement = document.createElement("div")),
                e.extend(this.domElement.style, {
                  position: "fixed",
                  display: "none",
                  zIndex: "1001",
                  opacity: 0,
                  WebkitTransition:
                    "-webkit-transform 0.2s ease-out, opacity 0.2s linear",
                }),
                document.body.appendChild(this.backgroundElement),
                document.body.appendChild(this.domElement);
              var i = this;
              t.bind(this.backgroundElement, "click", function () {
                i.hide();
              });
            };
            return (
              (i.prototype.show = function () {
                var t = this;
                (this.backgroundElement.style.display = "block"),
                  (this.domElement.style.display = "block"),
                  (this.domElement.style.opacity = 0),
                  (this.domElement.style.webkitTransform = "scale(1.1)"),
                  this.layout(),
                  e.defer(function () {
                    (t.backgroundElement.style.opacity = 1),
                      (t.domElement.style.opacity = 1),
                      (t.domElement.style.webkitTransform = "scale(1)");
                  });
              }),
              (i.prototype.hide = function () {
                var e = this,
                  i = function () {
                    (e.domElement.style.display = "none"),
                      (e.backgroundElement.style.display = "none"),
                      t.unbind(e.domElement, "webkitTransitionEnd", i),
                      t.unbind(e.domElement, "transitionend", i),
                      t.unbind(e.domElement, "oTransitionEnd", i);
                  };
                t.bind(this.domElement, "webkitTransitionEnd", i),
                  t.bind(this.domElement, "transitionend", i),
                  t.bind(this.domElement, "oTransitionEnd", i),
                  (this.backgroundElement.style.opacity = 0),
                  (this.domElement.style.opacity = 0),
                  (this.domElement.style.webkitTransform = "scale(1.1)");
              }),
              (i.prototype.layout = function () {
                (this.domElement.style.left =
                  window.innerWidth / 2 -
                  t.getWidth(this.domElement) / 2 +
                  "px"),
                  (this.domElement.style.top =
                    window.innerHeight / 2 -
                    t.getHeight(this.domElement) / 2 +
                    "px");
              }),
              i
            );
          })(i.dom.dom, i.utils.common)),
          i.dom.dom,
          i.utils.common
        ));
  },
  function (t, e, i) {
    var n, r, s;
    /**
     * isMobile.js v0.4.1
     *
     * A simple library to detect Apple phones and tablets,
     * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),
     * and any kind of seven inch device, via user agent sniffing.
     *
     * @author: Kai Mallea (kmallea@gmail.com)
     *
     * @license: http://creativecommons.org/publicdomain/zero/1.0/
     */
    !(function (i) {
      var o = /iPhone/i,
        a = /iPod/i,
        h = /iPad/i,
        l = /(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,
        u = /Android/i,
        c = /(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,
        p =
          /(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,
        d = /Windows Phone/i,
        f = /(?=.*\bWindows\b)(?=.*\bARM\b)/i,
        m = /BlackBerry/i,
        _ = /BB10/i,
        g = /Opera Mini/i,
        v = /(CriOS|Chrome)(?=.*\bMobile\b)/i,
        y = /(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,
        x = new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)", "i"),
        w = function (t, e) {
          return t.test(e);
        },
        b = function (t) {
          var e = t || navigator.userAgent,
            i = e.split("[FBAN");
          if (
            ("undefined" != typeof i[1] && (e = i[0]),
            (i = e.split("Twitter")),
            "undefined" != typeof i[1] && (e = i[0]),
            (this.apple = {
              phone: w(o, e),
              ipod: w(a, e),
              tablet: !w(o, e) && w(h, e),
              device: w(o, e) || w(a, e) || w(h, e),
            }),
            (this.amazon = {
              phone: w(c, e),
              tablet: !w(c, e) && w(p, e),
              device: w(c, e) || w(p, e),
            }),
            (this.android = {
              phone: w(c, e) || w(l, e),
              tablet: !w(c, e) && !w(l, e) && (w(p, e) || w(u, e)),
              device: w(c, e) || w(p, e) || w(l, e) || w(u, e),
            }),
            (this.windows = {
              phone: w(d, e),
              tablet: w(f, e),
              device: w(d, e) || w(f, e),
            }),
            (this.other = {
              blackberry: w(m, e),
              blackberry10: w(_, e),
              opera: w(g, e),
              firefox: w(y, e),
              chrome: w(v, e),
              device: w(m, e) || w(_, e) || w(g, e) || w(y, e) || w(v, e),
            }),
            (this.seven_inch = w(x, e)),
            (this.any =
              this.apple.device ||
              this.android.device ||
              this.windows.device ||
              this.other.device ||
              this.seven_inch),
            (this.phone =
              this.apple.phone || this.android.phone || this.windows.phone),
            (this.tablet =
              this.apple.tablet || this.android.tablet || this.windows.tablet),
            "undefined" == typeof window)
          )
            return this;
        },
        T = function () {
          var t = new b();
          return (t.Class = b), t;
        };
      "undefined" != typeof t && t.exports && "undefined" == typeof window
        ? (t.exports = b)
        : "undefined" != typeof t && t.exports && "undefined" != typeof window
        ? (t.exports = T())
        : ((r = []),
          (n = i.isMobile = T()),
          (s = "function" == typeof n ? n.apply(e, r) : n),
          !(void 0 !== s && (t.exports = s)));
    })(this);
  },
  function (t, e, i) {
    var n, r;
    /*!
     * jQuery JavaScript Library v3.4.1
     * https://jquery.com/
     *
     * Includes Sizzle.js
     * https://sizzlejs.com/
     *
     * Copyright JS Foundation and other contributors
     * Released under the MIT license
     * https://jquery.org/license
     *
     * Date: 2019-05-01T21:04Z
     */
    !(function (e, i) {
      "use strict";
      "object" == typeof t && "object" == typeof t.exports
        ? (t.exports = e.document
            ? i(e, !0)
            : function (t) {
                if (!t.document)
                  throw new Error("jQuery requires a window with a document");
                return i(t);
              })
        : i(e);
    })("undefined" != typeof window ? window : this, function (i, s) {
      "use strict";
      function o(t, e, i) {
        i = i || pt;
        var n,
          r,
          s = i.createElement("script");
        if (((s.text = t), e))
          for (n in Mt)
            (r = e[n] || (e.getAttribute && e.getAttribute(n))),
              r && s.setAttribute(n, r);
        i.head.appendChild(s).parentNode.removeChild(s);
      }
      function a(t) {
        return null == t
          ? t + ""
          : "object" == typeof t || "function" == typeof t
          ? vt[yt.call(t)] || "object"
          : typeof t;
      }
      function h(t) {
        var e = !!t && "length" in t && t.length,
          i = a(t);
        return (
          !Et(t) &&
          !St(t) &&
          ("array" === i ||
            0 === e ||
            ("number" == typeof e && e > 0 && e - 1 in t))
        );
      }
      function l(t, e) {
        return t.nodeName && t.nodeName.toLowerCase() === e.toLowerCase();
      }
      function u(t, e, i) {
        return Et(e)
          ? Pt.grep(t, function (t, n) {
              return !!e.call(t, n, t) !== i;
            })
          : e.nodeType
          ? Pt.grep(t, function (t) {
              return (t === e) !== i;
            })
          : "string" != typeof e
          ? Pt.grep(t, function (t) {
              return gt.call(e, t) > -1 !== i;
            })
          : Pt.filter(e, t, i);
      }
      function c(t, e) {
        for (; (t = t[e]) && 1 !== t.nodeType; );
        return t;
      }
      function p(t) {
        var e = {};
        return (
          Pt.each(t.match(Bt) || [], function (t, i) {
            e[i] = !0;
          }),
          e
        );
      }
      function d(t) {
        return t;
      }
      function f(t) {
        throw t;
      }
      function m(t, e, i, n) {
        var r;
        try {
          t && Et((r = t.promise))
            ? r.call(t).done(e).fail(i)
            : t && Et((r = t.then))
            ? r.call(t, e, i)
            : e.apply(void 0, [t].slice(n));
        } catch (t) {
          i.apply(void 0, [t]);
        }
      }
      function _() {
        pt.removeEventListener("DOMContentLoaded", _),
          i.removeEventListener("load", _),
          Pt.ready();
      }
      function g(t, e) {
        return e.toUpperCase();
      }
      function v(t) {
        return t.replace(jt, "ms-").replace(Wt, g);
      }
      function y() {
        this.expando = Pt.expando + y.uid++;
      }
      function x(t) {
        return (
          "true" === t ||
          ("false" !== t &&
            ("null" === t
              ? null
              : t === +t + ""
              ? +t
              : Zt.test(t)
              ? JSON.parse(t)
              : t))
        );
      }
      function w(t, e, i) {
        var n;
        if (void 0 === i && 1 === t.nodeType)
          if (
            ((n = "data-" + e.replace($t, "-$&").toLowerCase()),
            (i = t.getAttribute(n)),
            "string" == typeof i)
          ) {
            try {
              i = x(i);
            } catch (t) {}
            Yt.set(t, e, i);
          } else i = void 0;
        return i;
      }
      function b(t, e, i, n) {
        var r,
          s,
          o = 20,
          a = n
            ? function () {
                return n.cur();
              }
            : function () {
                return Pt.css(t, e, "");
              },
          h = a(),
          l = (i && i[3]) || (Pt.cssNumber[e] ? "" : "px"),
          u =
            t.nodeType &&
            (Pt.cssNumber[e] || ("px" !== l && +h)) &&
            Qt.exec(Pt.css(t, e));
        if (u && u[3] !== l) {
          for (h /= 2, l = l || u[3], u = +h || 1; o--; )
            Pt.style(t, e, u + l),
              (1 - s) * (1 - (s = a() / h || 0.5)) <= 0 && (o = 0),
              (u /= s);
          (u *= 2), Pt.style(t, e, u + l), (i = i || []);
        }
        return (
          i &&
            ((u = +u || +h || 0),
            (r = i[1] ? u + (i[1] + 1) * i[2] : +i[2]),
            n && ((n.unit = l), (n.start = u), (n.end = r))),
          r
        );
      }
      function T(t) {
        var e,
          i = t.ownerDocument,
          n = t.nodeName,
          r = se[n];
        return r
          ? r
          : ((e = i.body.appendChild(i.createElement(n))),
            (r = Pt.css(e, "display")),
            e.parentNode.removeChild(e),
            "none" === r && (r = "block"),
            (se[n] = r),
            r);
      }
      function E(t, e) {
        for (var i, n, r = [], s = 0, o = t.length; s < o; s++)
          (n = t[s]),
            n.style &&
              ((i = n.style.display),
              e
                ? ("none" === i &&
                    ((r[s] = qt.get(n, "display") || null),
                    r[s] || (n.style.display = "")),
                  "" === n.style.display && ne(n) && (r[s] = T(n)))
                : "none" !== i && ((r[s] = "none"), qt.set(n, "display", i)));
        for (s = 0; s < o; s++) null != r[s] && (t[s].style.display = r[s]);
        return t;
      }
      function S(t, e) {
        var i;
        return (
          (i =
            "undefined" != typeof t.getElementsByTagName
              ? t.getElementsByTagName(e || "*")
              : "undefined" != typeof t.querySelectorAll
              ? t.querySelectorAll(e || "*")
              : []),
          void 0 === e || (e && l(t, e)) ? Pt.merge([t], i) : i
        );
      }
      function M(t, e) {
        for (var i = 0, n = t.length; i < n; i++)
          qt.set(t[i], "globalEval", !e || qt.get(e[i], "globalEval"));
      }
      function C(t, e, i, n, r) {
        for (
          var s,
            o,
            h,
            l,
            u,
            c,
            p = e.createDocumentFragment(),
            d = [],
            f = 0,
            m = t.length;
          f < m;
          f++
        )
          if (((s = t[f]), s || 0 === s))
            if ("object" === a(s)) Pt.merge(d, s.nodeType ? [s] : s);
            else if (ue.test(s)) {
              for (
                o = o || p.appendChild(e.createElement("div")),
                  h = (ae.exec(s) || ["", ""])[1].toLowerCase(),
                  l = le[h] || le._default,
                  o.innerHTML = l[1] + Pt.htmlPrefilter(s) + l[2],
                  c = l[0];
                c--;

              )
                o = o.lastChild;
              Pt.merge(d, o.childNodes),
                (o = p.firstChild),
                (o.textContent = "");
            } else d.push(e.createTextNode(s));
        for (p.textContent = "", f = 0; (s = d[f++]); )
          if (n && Pt.inArray(s, n) > -1) r && r.push(s);
          else if (
            ((u = ee(s)), (o = S(p.appendChild(s), "script")), u && M(o), i)
          )
            for (c = 0; (s = o[c++]); ) he.test(s.type || "") && i.push(s);
        return p;
      }
      function P() {
        return !0;
      }
      function A() {
        return !1;
      }
      function R(t, e) {
        return (t === L()) == ("focus" === e);
      }
      function L() {
        try {
          return pt.activeElement;
        } catch (t) {}
      }
      function I(t, e, i, n, r, s) {
        var o, a;
        if ("object" == typeof e) {
          "string" != typeof i && ((n = n || i), (i = void 0));
          for (a in e) I(t, a, i, n, e[a], s);
          return t;
        }
        if (
          (null == n && null == r
            ? ((r = i), (n = i = void 0))
            : null == r &&
              ("string" == typeof i
                ? ((r = n), (n = void 0))
                : ((r = n), (n = i), (i = void 0))),
          r === !1)
        )
          r = A;
        else if (!r) return t;
        return (
          1 === s &&
            ((o = r),
            (r = function (t) {
              return Pt().off(t), o.apply(this, arguments);
            }),
            (r.guid = o.guid || (o.guid = Pt.guid++))),
          t.each(function () {
            Pt.event.add(this, e, r, n, i);
          })
        );
      }
      function O(t, e, i) {
        return i
          ? (qt.set(t, e, !1),
            void Pt.event.add(t, e, {
              namespace: !1,
              handler: function (t) {
                var n,
                  r,
                  s = qt.get(this, e);
                if (1 & t.isTrigger && this[e]) {
                  if (s.length)
                    (Pt.event.special[e] || {}).delegateType &&
                      t.stopPropagation();
                  else if (
                    ((s = ft.call(arguments)),
                    qt.set(this, e, s),
                    (n = i(this, e)),
                    this[e](),
                    (r = qt.get(this, e)),
                    s !== r || n ? qt.set(this, e, !1) : (r = {}),
                    s !== r)
                  )
                    return (
                      t.stopImmediatePropagation(), t.preventDefault(), r.value
                    );
                } else
                  s.length &&
                    (qt.set(this, e, {
                      value: Pt.event.trigger(
                        Pt.extend(s[0], Pt.Event.prototype),
                        s.slice(1),
                        this
                      ),
                    }),
                    t.stopImmediatePropagation());
              },
            }))
          : void (void 0 === qt.get(t, e) && Pt.event.add(t, e, P));
      }
      function D(t, e) {
        return l(t, "table") && l(11 !== e.nodeType ? e : e.firstChild, "tr")
          ? Pt(t).children("tbody")[0] || t
          : t;
      }
      function k(t) {
        return (t.type = (null !== t.getAttribute("type")) + "/" + t.type), t;
      }
      function N(t) {
        return (
          "true/" === (t.type || "").slice(0, 5)
            ? (t.type = t.type.slice(5))
            : t.removeAttribute("type"),
          t
        );
      }
      function z(t, e) {
        var i, n, r, s, o, a, h, l;
        if (1 === e.nodeType) {
          if (
            qt.hasData(t) &&
            ((s = qt.access(t)), (o = qt.set(e, s)), (l = s.events))
          ) {
            delete o.handle, (o.events = {});
            for (r in l)
              for (i = 0, n = l[r].length; i < n; i++)
                Pt.event.add(e, r, l[r][i]);
          }
          Yt.hasData(t) &&
            ((a = Yt.access(t)), (h = Pt.extend({}, a)), Yt.set(e, h));
        }
      }
      function F(t, e) {
        var i = e.nodeName.toLowerCase();
        "input" === i && oe.test(t.type)
          ? (e.checked = t.checked)
          : ("input" !== i && "textarea" !== i) ||
            (e.defaultValue = t.defaultValue);
      }
      function H(t, e, i, n) {
        e = mt.apply([], e);
        var r,
          s,
          a,
          h,
          l,
          u,
          c = 0,
          p = t.length,
          d = p - 1,
          f = e[0],
          m = Et(f);
        if (
          m ||
          (p > 1 && "string" == typeof f && !Tt.checkClone && _e.test(f))
        )
          return t.each(function (r) {
            var s = t.eq(r);
            m && (e[0] = f.call(this, r, s.html())), H(s, e, i, n);
          });
        if (
          p &&
          ((r = C(e, t[0].ownerDocument, !1, t, n)),
          (s = r.firstChild),
          1 === r.childNodes.length && (r = s),
          s || n)
        ) {
          for (a = Pt.map(S(r, "script"), k), h = a.length; c < p; c++)
            (l = r),
              c !== d &&
                ((l = Pt.clone(l, !0, !0)), h && Pt.merge(a, S(l, "script"))),
              i.call(t[c], l, c);
          if (h)
            for (
              u = a[a.length - 1].ownerDocument, Pt.map(a, N), c = 0;
              c < h;
              c++
            )
              (l = a[c]),
                he.test(l.type || "") &&
                  !qt.access(l, "globalEval") &&
                  Pt.contains(u, l) &&
                  (l.src && "module" !== (l.type || "").toLowerCase()
                    ? Pt._evalUrl &&
                      !l.noModule &&
                      Pt._evalUrl(l.src, {
                        nonce: l.nonce || l.getAttribute("nonce"),
                      })
                    : o(l.textContent.replace(ge, ""), l, u));
        }
        return t;
      }
      function B(t, e, i) {
        for (var n, r = e ? Pt.filter(e, t) : t, s = 0; null != (n = r[s]); s++)
          i || 1 !== n.nodeType || Pt.cleanData(S(n)),
            n.parentNode &&
              (i && ee(n) && M(S(n, "script")), n.parentNode.removeChild(n));
        return t;
      }
      function U(t, e, i) {
        var n,
          r,
          s,
          o,
          a = t.style;
        return (
          (i = i || ye(t)),
          i &&
            ((o = i.getPropertyValue(e) || i[e]),
            "" !== o || ee(t) || (o = Pt.style(t, e)),
            !Tt.pixelBoxStyles() &&
              ve.test(o) &&
              xe.test(e) &&
              ((n = a.width),
              (r = a.minWidth),
              (s = a.maxWidth),
              (a.minWidth = a.maxWidth = a.width = o),
              (o = i.width),
              (a.width = n),
              (a.minWidth = r),
              (a.maxWidth = s))),
          void 0 !== o ? o + "" : o
        );
      }
      function G(t, e) {
        return {
          get: function () {
            return t()
              ? void delete this.get
              : (this.get = e).apply(this, arguments);
          },
        };
      }
      function V(t) {
        for (var e = t[0].toUpperCase() + t.slice(1), i = we.length; i--; )
          if (((t = we[i] + e), t in be)) return t;
      }
      function j(t) {
        var e = Pt.cssProps[t] || Te[t];
        return e ? e : t in be ? t : (Te[t] = V(t) || t);
      }
      function W(t, e, i) {
        var n = Qt.exec(e);
        return n ? Math.max(0, n[2] - (i || 0)) + (n[3] || "px") : e;
      }
      function X(t, e, i, n, r, s) {
        var o = "width" === e ? 1 : 0,
          a = 0,
          h = 0;
        if (i === (n ? "border" : "content")) return 0;
        for (; o < 4; o += 2)
          "margin" === i && (h += Pt.css(t, i + Kt[o], !0, r)),
            n
              ? ("content" === i && (h -= Pt.css(t, "padding" + Kt[o], !0, r)),
                "margin" !== i &&
                  (h -= Pt.css(t, "border" + Kt[o] + "Width", !0, r)))
              : ((h += Pt.css(t, "padding" + Kt[o], !0, r)),
                "padding" !== i
                  ? (h += Pt.css(t, "border" + Kt[o] + "Width", !0, r))
                  : (a += Pt.css(t, "border" + Kt[o] + "Width", !0, r)));
        return (
          !n &&
            s >= 0 &&
            (h +=
              Math.max(
                0,
                Math.ceil(
                  t["offset" + e[0].toUpperCase() + e.slice(1)] -
                    s -
                    h -
                    a -
                    0.5
                )
              ) || 0),
          h
        );
      }
      function q(t, e, i) {
        var n = ye(t),
          r = !Tt.boxSizingReliable() || i,
          s = r && "border-box" === Pt.css(t, "boxSizing", !1, n),
          o = s,
          a = U(t, e, n),
          h = "offset" + e[0].toUpperCase() + e.slice(1);
        if (ve.test(a)) {
          if (!i) return a;
          a = "auto";
        }
        return (
          ((!Tt.boxSizingReliable() && s) ||
            "auto" === a ||
            (!parseFloat(a) && "inline" === Pt.css(t, "display", !1, n))) &&
            t.getClientRects().length &&
            ((s = "border-box" === Pt.css(t, "boxSizing", !1, n)),
            (o = h in t),
            o && (a = t[h])),
          (a = parseFloat(a) || 0),
          a + X(t, e, i || (s ? "border" : "content"), o, n, a) + "px"
        );
      }
      function Y(t, e, i, n, r) {
        return new Y.prototype.init(t, e, i, n, r);
      }
      function Z() {
        Ae &&
          (pt.hidden === !1 && i.requestAnimationFrame
            ? i.requestAnimationFrame(Z)
            : i.setTimeout(Z, Pt.fx.interval),
          Pt.fx.tick());
      }
      function $() {
        return (
          i.setTimeout(function () {
            Pe = void 0;
          }),
          (Pe = Date.now())
        );
      }
      function J(t, e) {
        var i,
          n = 0,
          r = { height: t };
        for (e = e ? 1 : 0; n < 4; n += 2 - e)
          (i = Kt[n]), (r["margin" + i] = r["padding" + i] = t);
        return e && (r.opacity = r.width = t), r;
      }
      function Q(t, e, i) {
        for (
          var n,
            r = (et.tweeners[e] || []).concat(et.tweeners["*"]),
            s = 0,
            o = r.length;
          s < o;
          s++
        )
          if ((n = r[s].call(i, e, t))) return n;
      }
      function K(t, e, i) {
        var n,
          r,
          s,
          o,
          a,
          h,
          l,
          u,
          c = "width" in e || "height" in e,
          p = this,
          d = {},
          f = t.style,
          m = t.nodeType && ne(t),
          _ = qt.get(t, "fxshow");
        i.queue ||
          ((o = Pt._queueHooks(t, "fx")),
          null == o.unqueued &&
            ((o.unqueued = 0),
            (a = o.empty.fire),
            (o.empty.fire = function () {
              o.unqueued || a();
            })),
          o.unqueued++,
          p.always(function () {
            p.always(function () {
              o.unqueued--, Pt.queue(t, "fx").length || o.empty.fire();
            });
          }));
        for (n in e)
          if (((r = e[n]), Re.test(r))) {
            if (
              (delete e[n],
              (s = s || "toggle" === r),
              r === (m ? "hide" : "show"))
            ) {
              if ("show" !== r || !_ || void 0 === _[n]) continue;
              m = !0;
            }
            d[n] = (_ && _[n]) || Pt.style(t, n);
          }
        if (((h = !Pt.isEmptyObject(e)), h || !Pt.isEmptyObject(d))) {
          c &&
            1 === t.nodeType &&
            ((i.overflow = [f.overflow, f.overflowX, f.overflowY]),
            (l = _ && _.display),
            null == l && (l = qt.get(t, "display")),
            (u = Pt.css(t, "display")),
            "none" === u &&
              (l
                ? (u = l)
                : (E([t], !0),
                  (l = t.style.display || l),
                  (u = Pt.css(t, "display")),
                  E([t]))),
            ("inline" === u || ("inline-block" === u && null != l)) &&
              "none" === Pt.css(t, "float") &&
              (h ||
                (p.done(function () {
                  f.display = l;
                }),
                null == l && ((u = f.display), (l = "none" === u ? "" : u))),
              (f.display = "inline-block"))),
            i.overflow &&
              ((f.overflow = "hidden"),
              p.always(function () {
                (f.overflow = i.overflow[0]),
                  (f.overflowX = i.overflow[1]),
                  (f.overflowY = i.overflow[2]);
              })),
            (h = !1);
          for (n in d)
            h ||
              (_
                ? "hidden" in _ && (m = _.hidden)
                : (_ = qt.access(t, "fxshow", { display: l })),
              s && (_.hidden = !m),
              m && E([t], !0),
              p.done(function () {
                m || E([t]), qt.remove(t, "fxshow");
                for (n in d) Pt.style(t, n, d[n]);
              })),
              (h = Q(m ? _[n] : 0, n, p)),
              n in _ ||
                ((_[n] = h.start), m && ((h.end = h.start), (h.start = 0)));
        }
      }
      function tt(t, e) {
        var i, n, r, s, o;
        for (i in t)
          if (
            ((n = v(i)),
            (r = e[n]),
            (s = t[i]),
            Array.isArray(s) && ((r = s[1]), (s = t[i] = s[0])),
            i !== n && ((t[n] = s), delete t[i]),
            (o = Pt.cssHooks[n]),
            o && "expand" in o)
          ) {
            (s = o.expand(s)), delete t[n];
            for (i in s) i in t || ((t[i] = s[i]), (e[i] = r));
          } else e[n] = r;
      }
      function et(t, e, i) {
        var n,
          r,
          s = 0,
          o = et.prefilters.length,
          a = Pt.Deferred().always(function () {
            delete h.elem;
          }),
          h = function () {
            if (r) return !1;
            for (
              var e = Pe || $(),
                i = Math.max(0, l.startTime + l.duration - e),
                n = i / l.duration || 0,
                s = 1 - n,
                o = 0,
                h = l.tweens.length;
              o < h;
              o++
            )
              l.tweens[o].run(s);
            return (
              a.notifyWith(t, [l, s, i]),
              s < 1 && h
                ? i
                : (h || a.notifyWith(t, [l, 1, 0]), a.resolveWith(t, [l]), !1)
            );
          },
          l = a.promise({
            elem: t,
            props: Pt.extend({}, e),
            opts: Pt.extend(
              !0,
              { specialEasing: {}, easing: Pt.easing._default },
              i
            ),
            originalProperties: e,
            originalOptions: i,
            startTime: Pe || $(),
            duration: i.duration,
            tweens: [],
            createTween: function (e, i) {
              var n = Pt.Tween(
                t,
                l.opts,
                e,
                i,
                l.opts.specialEasing[e] || l.opts.easing
              );
              return l.tweens.push(n), n;
            },
            stop: function (e) {
              var i = 0,
                n = e ? l.tweens.length : 0;
              if (r) return this;
              for (r = !0; i < n; i++) l.tweens[i].run(1);
              return (
                e
                  ? (a.notifyWith(t, [l, 1, 0]), a.resolveWith(t, [l, e]))
                  : a.rejectWith(t, [l, e]),
                this
              );
            },
          }),
          u = l.props;
        for (tt(u, l.opts.specialEasing); s < o; s++)
          if ((n = et.prefilters[s].call(l, t, u, l.opts)))
            return (
              Et(n.stop) &&
                (Pt._queueHooks(l.elem, l.opts.queue).stop = n.stop.bind(n)),
              n
            );
        return (
          Pt.map(u, Q, l),
          Et(l.opts.start) && l.opts.start.call(t, l),
          l
            .progress(l.opts.progress)
            .done(l.opts.done, l.opts.complete)
            .fail(l.opts.fail)
            .always(l.opts.always),
          Pt.fx.timer(Pt.extend(h, { elem: t, anim: l, queue: l.opts.queue })),
          l
        );
      }
      function it(t) {
        var e = t.match(Bt) || [];
        return e.join(" ");
      }
      function nt(t) {
        return (t.getAttribute && t.getAttribute("class")) || "";
      }
      function rt(t) {
        return Array.isArray(t)
          ? t
          : "string" == typeof t
          ? t.match(Bt) || []
          : [];
      }
      function st(t, e, i, n) {
        var r;
        if (Array.isArray(e))
          Pt.each(e, function (e, r) {
            i || Ge.test(t)
              ? n(t, r)
              : st(
                  t + "[" + ("object" == typeof r && null != r ? e : "") + "]",
                  r,
                  i,
                  n
                );
          });
        else if (i || "object" !== a(e)) n(t, e);
        else for (r in e) st(t + "[" + r + "]", e[r], i, n);
      }
      function ot(t) {
        return function (e, i) {
          "string" != typeof e && ((i = e), (e = "*"));
          var n,
            r = 0,
            s = e.toLowerCase().match(Bt) || [];
          if (Et(i))
            for (; (n = s[r++]); )
              "+" === n[0]
                ? ((n = n.slice(1) || "*"), (t[n] = t[n] || []).unshift(i))
                : (t[n] = t[n] || []).push(i);
        };
      }
      function at(t, e, i, n) {
        function r(a) {
          var h;
          return (
            (s[a] = !0),
            Pt.each(t[a] || [], function (t, a) {
              var l = a(e, i, n);
              return "string" != typeof l || o || s[l]
                ? o
                  ? !(h = l)
                  : void 0
                : (e.dataTypes.unshift(l), r(l), !1);
            }),
            h
          );
        }
        var s = {},
          o = t === ti;
        return r(e.dataTypes[0]) || (!s["*"] && r("*"));
      }
      function ht(t, e) {
        var i,
          n,
          r = Pt.ajaxSettings.flatOptions || {};
        for (i in e) void 0 !== e[i] && ((r[i] ? t : n || (n = {}))[i] = e[i]);
        return n && Pt.extend(!0, t, n), t;
      }
      function lt(t, e, i) {
        for (var n, r, s, o, a = t.contents, h = t.dataTypes; "*" === h[0]; )
          h.shift(),
            void 0 === n &&
              (n = t.mimeType || e.getResponseHeader("Content-Type"));
        if (n)
          for (r in a)
            if (a[r] && a[r].test(n)) {
              h.unshift(r);
              break;
            }
        if (h[0] in i) s = h[0];
        else {
          for (r in i) {
            if (!h[0] || t.converters[r + " " + h[0]]) {
              s = r;
              break;
            }
            o || (o = r);
          }
          s = s || o;
        }
        if (s) return s !== h[0] && h.unshift(s), i[s];
      }
      function ut(t, e, i, n) {
        var r,
          s,
          o,
          a,
          h,
          l = {},
          u = t.dataTypes.slice();
        if (u[1]) for (o in t.converters) l[o.toLowerCase()] = t.converters[o];
        for (s = u.shift(); s; )
          if (
            (t.responseFields[s] && (i[t.responseFields[s]] = e),
            !h && n && t.dataFilter && (e = t.dataFilter(e, t.dataType)),
            (h = s),
            (s = u.shift()))
          )
            if ("*" === s) s = h;
            else if ("*" !== h && h !== s) {
              if (((o = l[h + " " + s] || l["* " + s]), !o))
                for (r in l)
                  if (
                    ((a = r.split(" ")),
                    a[1] === s && (o = l[h + " " + a[0]] || l["* " + a[0]]))
                  ) {
                    o === !0
                      ? (o = l[r])
                      : l[r] !== !0 && ((s = a[0]), u.unshift(a[1]));
                    break;
                  }
              if (o !== !0)
                if (o && t.throws) e = o(e);
                else
                  try {
                    e = o(e);
                  } catch (t) {
                    return {
                      state: "parsererror",
                      error: o ? t : "No conversion from " + h + " to " + s,
                    };
                  }
            }
        return { state: "success", data: e };
      }
      var ct = [],
        pt = i.document,
        dt = Object.getPrototypeOf,
        ft = ct.slice,
        mt = ct.concat,
        _t = ct.push,
        gt = ct.indexOf,
        vt = {},
        yt = vt.toString,
        xt = vt.hasOwnProperty,
        wt = xt.toString,
        bt = wt.call(Object),
        Tt = {},
        Et = function (t) {
          return "function" == typeof t && "number" != typeof t.nodeType;
        },
        St = function (t) {
          return null != t && t === t.window;
        },
        Mt = { type: !0, src: !0, nonce: !0, noModule: !0 },
        Ct = "3.4.1",
        Pt = function (t, e) {
          return new Pt.fn.init(t, e);
        },
        At = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;
      (Pt.fn = Pt.prototype =
        {
          jquery: Ct,
          constructor: Pt,
          length: 0,
          toArray: function () {
            return ft.call(this);
          },
          get: function (t) {
            return null == t
              ? ft.call(this)
              : t < 0
              ? this[t + this.length]
              : this[t];
          },
          pushStack: function (t) {
            var e = Pt.merge(this.constructor(), t);
            return (e.prevObject = this), e;
          },
          each: function (t) {
            return Pt.each(this, t);
          },
          map: function (t) {
            return this.pushStack(
              Pt.map(this, function (e, i) {
                return t.call(e, i, e);
              })
            );
          },
          slice: function () {
            return this.pushStack(ft.apply(this, arguments));
          },
          first: function () {
            return this.eq(0);
          },
          last: function () {
            return this.eq(-1);
          },
          eq: function (t) {
            var e = this.length,
              i = +t + (t < 0 ? e : 0);
            return this.pushStack(i >= 0 && i < e ? [this[i]] : []);
          },
          end: function () {
            return this.prevObject || this.constructor();
          },
          push: _t,
          sort: ct.sort,
          splice: ct.splice,
        }),
        (Pt.extend = Pt.fn.extend =
          function () {
            var t,
              e,
              i,
              n,
              r,
              s,
              o = arguments[0] || {},
              a = 1,
              h = arguments.length,
              l = !1;
            for (
              "boolean" == typeof o && ((l = o), (o = arguments[a] || {}), a++),
                "object" == typeof o || Et(o) || (o = {}),
                a === h && ((o = this), a--);
              a < h;
              a++
            )
              if (null != (t = arguments[a]))
                for (e in t)
                  (n = t[e]),
                    "__proto__" !== e &&
                      o !== n &&
                      (l && n && (Pt.isPlainObject(n) || (r = Array.isArray(n)))
                        ? ((i = o[e]),
                          (s =
                            r && !Array.isArray(i)
                              ? []
                              : r || Pt.isPlainObject(i)
                              ? i
                              : {}),
                          (r = !1),
                          (o[e] = Pt.extend(l, s, n)))
                        : void 0 !== n && (o[e] = n));
            return o;
          }),
        Pt.extend({
          expando: "jQuery" + (Ct + Math.random()).replace(/\D/g, ""),
          isReady: !0,
          error: function (t) {
            throw new Error(t);
          },
          noop: function () {},
          isPlainObject: function (t) {
            var e, i;
            return (
              !(!t || "[object Object]" !== yt.call(t)) &&
              (!(e = dt(t)) ||
                ((i = xt.call(e, "constructor") && e.constructor),
                "function" == typeof i && wt.call(i) === bt))
            );
          },
          isEmptyObject: function (t) {
            var e;
            for (e in t) return !1;
            return !0;
          },
          globalEval: function (t, e) {
            o(t, { nonce: e && e.nonce });
          },
          each: function (t, e) {
            var i,
              n = 0;
            if (h(t))
              for (i = t.length; n < i && e.call(t[n], n, t[n]) !== !1; n++);
            else for (n in t) if (e.call(t[n], n, t[n]) === !1) break;
            return t;
          },
          trim: function (t) {
            return null == t ? "" : (t + "").replace(At, "");
          },
          makeArray: function (t, e) {
            var i = e || [];
            return (
              null != t &&
                (h(Object(t))
                  ? Pt.merge(i, "string" == typeof t ? [t] : t)
                  : _t.call(i, t)),
              i
            );
          },
          inArray: function (t, e, i) {
            return null == e ? -1 : gt.call(e, t, i);
          },
          merge: function (t, e) {
            for (var i = +e.length, n = 0, r = t.length; n < i; n++)
              t[r++] = e[n];
            return (t.length = r), t;
          },
          grep: function (t, e, i) {
            for (var n, r = [], s = 0, o = t.length, a = !i; s < o; s++)
              (n = !e(t[s], s)), n !== a && r.push(t[s]);
            return r;
          },
          map: function (t, e, i) {
            var n,
              r,
              s = 0,
              o = [];
            if (h(t))
              for (n = t.length; s < n; s++)
                (r = e(t[s], s, i)), null != r && o.push(r);
            else for (s in t) (r = e(t[s], s, i)), null != r && o.push(r);
            return mt.apply([], o);
          },
          guid: 1,
          support: Tt,
        }),
        "function" == typeof Symbol &&
          (Pt.fn[Symbol.iterator] = ct[Symbol.iterator]),
        Pt.each(
          "Boolean Number String Function Array Date RegExp Object Error Symbol".split(
            " "
          ),
          function (t, e) {
            vt["[object " + e + "]"] = e.toLowerCase();
          }
        );
      var Rt =
        /*!
         * Sizzle CSS Selector Engine v2.3.4
         * https://sizzlejs.com/
         *
         * Copyright JS Foundation and other contributors
         * Released under the MIT license
         * https://js.foundation/
         *
         * Date: 2019-04-08
         */
        (function (t) {
          function e(t, e, i, n) {
            var r,
              s,
              o,
              a,
              h,
              l,
              u,
              p = e && e.ownerDocument,
              f = e ? e.nodeType : 9;
            if (
              ((i = i || []),
              "string" != typeof t || !t || (1 !== f && 9 !== f && 11 !== f))
            )
              return i;
            if (
              !n &&
              ((e ? e.ownerDocument || e : U) !== O && I(e), (e = e || O), k)
            ) {
              if (11 !== f && (h = yt.exec(t)))
                if ((r = h[1])) {
                  if (9 === f) {
                    if (!(o = e.getElementById(r))) return i;
                    if (o.id === r) return i.push(o), i;
                  } else if (
                    p &&
                    (o = p.getElementById(r)) &&
                    H(e, o) &&
                    o.id === r
                  )
                    return i.push(o), i;
                } else {
                  if (h[2]) return K.apply(i, e.getElementsByTagName(t)), i;
                  if (
                    (r = h[3]) &&
                    b.getElementsByClassName &&
                    e.getElementsByClassName
                  )
                    return K.apply(i, e.getElementsByClassName(r)), i;
                }
              if (
                b.qsa &&
                !q[t + " "] &&
                (!N || !N.test(t)) &&
                (1 !== f || "object" !== e.nodeName.toLowerCase())
              ) {
                if (((u = t), (p = e), 1 === f && ct.test(t))) {
                  for (
                    (a = e.getAttribute("id"))
                      ? (a = a.replace(Tt, Et))
                      : e.setAttribute("id", (a = B)),
                      l = M(t),
                      s = l.length;
                    s--;

                  )
                    l[s] = "#" + a + " " + d(l[s]);
                  (u = l.join(",")), (p = (xt.test(t) && c(e.parentNode)) || e);
                }
                try {
                  return K.apply(i, p.querySelectorAll(u)), i;
                } catch (e) {
                  q(t, !0);
                } finally {
                  a === B && e.removeAttribute("id");
                }
              }
            }
            return P(t.replace(ht, "$1"), e, i, n);
          }
          function i() {
            function t(i, n) {
              return (
                e.push(i + " ") > T.cacheLength && delete t[e.shift()],
                (t[i + " "] = n)
              );
            }
            var e = [];
            return t;
          }
          function n(t) {
            return (t[B] = !0), t;
          }
          function r(t) {
            var e = O.createElement("fieldset");
            try {
              return !!t(e);
            } catch (t) {
              return !1;
            } finally {
              e.parentNode && e.parentNode.removeChild(e), (e = null);
            }
          }
          function s(t, e) {
            for (var i = t.split("|"), n = i.length; n--; )
              T.attrHandle[i[n]] = e;
          }
          function o(t, e) {
            var i = e && t,
              n =
                i &&
                1 === t.nodeType &&
                1 === e.nodeType &&
                t.sourceIndex - e.sourceIndex;
            if (n) return n;
            if (i) for (; (i = i.nextSibling); ) if (i === e) return -1;
            return t ? 1 : -1;
          }
          function a(t) {
            return function (e) {
              var i = e.nodeName.toLowerCase();
              return "input" === i && e.type === t;
            };
          }
          function h(t) {
            return function (e) {
              var i = e.nodeName.toLowerCase();
              return ("input" === i || "button" === i) && e.type === t;
            };
          }
          function l(t) {
            return function (e) {
              return "form" in e
                ? e.parentNode && e.disabled === !1
                  ? "label" in e
                    ? "label" in e.parentNode
                      ? e.parentNode.disabled === t
                      : e.disabled === t
                    : e.isDisabled === t || (e.isDisabled !== !t && Mt(e) === t)
                  : e.disabled === t
                : "label" in e && e.disabled === t;
            };
          }
          function u(t) {
            return n(function (e) {
              return (
                (e = +e),
                n(function (i, n) {
                  for (var r, s = t([], i.length, e), o = s.length; o--; )
                    i[(r = s[o])] && (i[r] = !(n[r] = i[r]));
                })
              );
            });
          }
          function c(t) {
            return t && "undefined" != typeof t.getElementsByTagName && t;
          }
          function p() {}
          function d(t) {
            for (var e = 0, i = t.length, n = ""; e < i; e++) n += t[e].value;
            return n;
          }
          function f(t, e, i) {
            var n = e.dir,
              r = e.next,
              s = r || n,
              o = i && "parentNode" === s,
              a = V++;
            return e.first
              ? function (e, i, r) {
                  for (; (e = e[n]); )
                    if (1 === e.nodeType || o) return t(e, i, r);
                  return !1;
                }
              : function (e, i, h) {
                  var l,
                    u,
                    c,
                    p = [G, a];
                  if (h) {
                    for (; (e = e[n]); )
                      if ((1 === e.nodeType || o) && t(e, i, h)) return !0;
                  } else
                    for (; (e = e[n]); )
                      if (1 === e.nodeType || o)
                        if (
                          ((c = e[B] || (e[B] = {})),
                          (u = c[e.uniqueID] || (c[e.uniqueID] = {})),
                          r && r === e.nodeName.toLowerCase())
                        )
                          e = e[n] || e;
                        else {
                          if ((l = u[s]) && l[0] === G && l[1] === a)
                            return (p[2] = l[2]);
                          if (((u[s] = p), (p[2] = t(e, i, h)))) return !0;
                        }
                  return !1;
                };
          }
          function m(t) {
            return t.length > 1
              ? function (e, i, n) {
                  for (var r = t.length; r--; ) if (!t[r](e, i, n)) return !1;
                  return !0;
                }
              : t[0];
          }
          function _(t, i, n) {
            for (var r = 0, s = i.length; r < s; r++) e(t, i[r], n);
            return n;
          }
          function g(t, e, i, n, r) {
            for (var s, o = [], a = 0, h = t.length, l = null != e; a < h; a++)
              (s = t[a]) && ((i && !i(s, n, r)) || (o.push(s), l && e.push(a)));
            return o;
          }
          function v(t, e, i, r, s, o) {
            return (
              r && !r[B] && (r = v(r)),
              s && !s[B] && (s = v(s, o)),
              n(function (n, o, a, h) {
                var l,
                  u,
                  c,
                  p = [],
                  d = [],
                  f = o.length,
                  m = n || _(e || "*", a.nodeType ? [a] : a, []),
                  v = !t || (!n && e) ? m : g(m, p, t, a, h),
                  y = i ? (s || (n ? t : f || r) ? [] : o) : v;
                if ((i && i(v, y, a, h), r))
                  for (l = g(y, d), r(l, [], a, h), u = l.length; u--; )
                    (c = l[u]) && (y[d[u]] = !(v[d[u]] = c));
                if (n) {
                  if (s || t) {
                    if (s) {
                      for (l = [], u = y.length; u--; )
                        (c = y[u]) && l.push((v[u] = c));
                      s(null, (y = []), l, h);
                    }
                    for (u = y.length; u--; )
                      (c = y[u]) &&
                        (l = s ? et(n, c) : p[u]) > -1 &&
                        (n[l] = !(o[l] = c));
                  }
                } else (y = g(y === o ? y.splice(f, y.length) : y)), s ? s(null, o, y, h) : K.apply(o, y);
              })
            );
          }
          function y(t) {
            for (
              var e,
                i,
                n,
                r = t.length,
                s = T.relative[t[0].type],
                o = s || T.relative[" "],
                a = s ? 1 : 0,
                h = f(
                  function (t) {
                    return t === e;
                  },
                  o,
                  !0
                ),
                l = f(
                  function (t) {
                    return et(e, t) > -1;
                  },
                  o,
                  !0
                ),
                u = [
                  function (t, i, n) {
                    var r =
                      (!s && (n || i !== A)) ||
                      ((e = i).nodeType ? h(t, i, n) : l(t, i, n));
                    return (e = null), r;
                  },
                ];
              a < r;
              a++
            )
              if ((i = T.relative[t[a].type])) u = [f(m(u), i)];
              else {
                if (
                  ((i = T.filter[t[a].type].apply(null, t[a].matches)), i[B])
                ) {
                  for (n = ++a; n < r && !T.relative[t[n].type]; n++);
                  return v(
                    a > 1 && m(u),
                    a > 1 &&
                      d(
                        t
                          .slice(0, a - 1)
                          .concat({ value: " " === t[a - 2].type ? "*" : "" })
                      ).replace(ht, "$1"),
                    i,
                    a < n && y(t.slice(a, n)),
                    n < r && y((t = t.slice(n))),
                    n < r && d(t)
                  );
                }
                u.push(i);
              }
            return m(u);
          }
          function x(t, i) {
            var r = i.length > 0,
              s = t.length > 0,
              o = function (n, o, a, h, l) {
                var u,
                  c,
                  p,
                  d = 0,
                  f = "0",
                  m = n && [],
                  _ = [],
                  v = A,
                  y = n || (s && T.find.TAG("*", l)),
                  x = (G += null == v ? 1 : Math.random() || 0.1),
                  w = y.length;
                for (
                  l && (A = o === O || o || l);
                  f !== w && null != (u = y[f]);
                  f++
                ) {
                  if (s && u) {
                    for (
                      c = 0, o || u.ownerDocument === O || (I(u), (a = !k));
                      (p = t[c++]);

                    )
                      if (p(u, o || O, a)) {
                        h.push(u);
                        break;
                      }
                    l && (G = x);
                  }
                  r && ((u = !p && u) && d--, n && m.push(u));
                }
                if (((d += f), r && f !== d)) {
                  for (c = 0; (p = i[c++]); ) p(m, _, o, a);
                  if (n) {
                    if (d > 0) for (; f--; ) m[f] || _[f] || (_[f] = J.call(h));
                    _ = g(_);
                  }
                  K.apply(h, _),
                    l &&
                      !n &&
                      _.length > 0 &&
                      d + i.length > 1 &&
                      e.uniqueSort(h);
                }
                return l && ((G = x), (A = v)), m;
              };
            return r ? n(o) : o;
          }
          var w,
            b,
            T,
            E,
            S,
            M,
            C,
            P,
            A,
            R,
            L,
            I,
            O,
            D,
            k,
            N,
            z,
            F,
            H,
            B = "sizzle" + 1 * new Date(),
            U = t.document,
            G = 0,
            V = 0,
            j = i(),
            W = i(),
            X = i(),
            q = i(),
            Y = function (t, e) {
              return t === e && (L = !0), 0;
            },
            Z = {}.hasOwnProperty,
            $ = [],
            J = $.pop,
            Q = $.push,
            K = $.push,
            tt = $.slice,
            et = function (t, e) {
              for (var i = 0, n = t.length; i < n; i++)
                if (t[i] === e) return i;
              return -1;
            },
            it =
              "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
            nt = "[\\x20\\t\\r\\n\\f]",
            rt = "(?:\\\\.|[\\w-]|[^\0-\\xa0])+",
            st =
              "\\[" +
              nt +
              "*(" +
              rt +
              ")(?:" +
              nt +
              "*([*^$|!~]?=)" +
              nt +
              "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" +
              rt +
              "))|)" +
              nt +
              "*\\]",
            ot =
              ":(" +
              rt +
              ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" +
              st +
              ")*)|.*)\\)|)",
            at = new RegExp(nt + "+", "g"),
            ht = new RegExp(
              "^" + nt + "+|((?:^|[^\\\\])(?:\\\\.)*)" + nt + "+$",
              "g"
            ),
            lt = new RegExp("^" + nt + "*," + nt + "*"),
            ut = new RegExp("^" + nt + "*([>+~]|" + nt + ")" + nt + "*"),
            ct = new RegExp(nt + "|>"),
            pt = new RegExp(ot),
            dt = new RegExp("^" + rt + "$"),
            ft = {
              ID: new RegExp("^#(" + rt + ")"),
              CLASS: new RegExp("^\\.(" + rt + ")"),
              TAG: new RegExp("^(" + rt + "|[*])"),
              ATTR: new RegExp("^" + st),
              PSEUDO: new RegExp("^" + ot),
              CHILD: new RegExp(
                "^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" +
                  nt +
                  "*(even|odd|(([+-]|)(\\d*)n|)" +
                  nt +
                  "*(?:([+-]|)" +
                  nt +
                  "*(\\d+)|))" +
                  nt +
                  "*\\)|)",
                "i"
              ),
              bool: new RegExp("^(?:" + it + ")$", "i"),
              needsContext: new RegExp(
                "^" +
                  nt +
                  "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" +
                  nt +
                  "*((?:-\\d)?\\d*)" +
                  nt +
                  "*\\)|)(?=[^-]|$)",
                "i"
              ),
            },
            mt = /HTML$/i,
            _t = /^(?:input|select|textarea|button)$/i,
            gt = /^h\d$/i,
            vt = /^[^{]+\{\s*\[native \w/,
            yt = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
            xt = /[+~]/,
            wt = new RegExp(
              "\\\\([\\da-f]{1,6}" + nt + "?|(" + nt + ")|.)",
              "ig"
            ),
            bt = function (t, e, i) {
              var n = "0x" + e - 65536;
              return n !== n || i
                ? e
                : n < 0
                ? String.fromCharCode(n + 65536)
                : String.fromCharCode((n >> 10) | 55296, (1023 & n) | 56320);
            },
            Tt = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,
            Et = function (t, e) {
              return e
                ? "\0" === t
                  ? "�ｽ"
                  : t.slice(0, -1) +
                    "\\" +
                    t.charCodeAt(t.length - 1).toString(16) +
                    " "
                : "\\" + t;
            },
            St = function () {
              I();
            },
            Mt = f(
              function (t) {
                return (
                  t.disabled === !0 && "fieldset" === t.nodeName.toLowerCase()
                );
              },
              { dir: "parentNode", next: "legend" }
            );
          try {
            K.apply(($ = tt.call(U.childNodes)), U.childNodes),
              $[U.childNodes.length].nodeType;
          } catch (t) {
            K = {
              apply: $.length
                ? function (t, e) {
                    Q.apply(t, tt.call(e));
                  }
                : function (t, e) {
                    for (var i = t.length, n = 0; (t[i++] = e[n++]); );
                    t.length = i - 1;
                  },
            };
          }
          (b = e.support = {}),
            (S = e.isXML =
              function (t) {
                var e = t.namespaceURI,
                  i = (t.ownerDocument || t).documentElement;
                return !mt.test(e || (i && i.nodeName) || "HTML");
              }),
            (I = e.setDocument =
              function (t) {
                var e,
                  i,
                  n = t ? t.ownerDocument || t : U;
                return n !== O && 9 === n.nodeType && n.documentElement
                  ? ((O = n),
                    (D = O.documentElement),
                    (k = !S(O)),
                    U !== O &&
                      (i = O.defaultView) &&
                      i.top !== i &&
                      (i.addEventListener
                        ? i.addEventListener("unload", St, !1)
                        : i.attachEvent && i.attachEvent("onunload", St)),
                    (b.attributes = r(function (t) {
                      return (t.className = "i"), !t.getAttribute("className");
                    })),
                    (b.getElementsByTagName = r(function (t) {
                      return (
                        t.appendChild(O.createComment("")),
                        !t.getElementsByTagName("*").length
                      );
                    })),
                    (b.getElementsByClassName = vt.test(
                      O.getElementsByClassName
                    )),
                    (b.getById = r(function (t) {
                      return (
                        (D.appendChild(t).id = B),
                        !O.getElementsByName || !O.getElementsByName(B).length
                      );
                    })),
                    b.getById
                      ? ((T.filter.ID = function (t) {
                          var e = t.replace(wt, bt);
                          return function (t) {
                            return t.getAttribute("id") === e;
                          };
                        }),
                        (T.find.ID = function (t, e) {
                          if ("undefined" != typeof e.getElementById && k) {
                            var i = e.getElementById(t);
                            return i ? [i] : [];
                          }
                        }))
                      : ((T.filter.ID = function (t) {
                          var e = t.replace(wt, bt);
                          return function (t) {
                            var i =
                              "undefined" != typeof t.getAttributeNode &&
                              t.getAttributeNode("id");
                            return i && i.value === e;
                          };
                        }),
                        (T.find.ID = function (t, e) {
                          if ("undefined" != typeof e.getElementById && k) {
                            var i,
                              n,
                              r,
                              s = e.getElementById(t);
                            if (s) {
                              if (
                                ((i = s.getAttributeNode("id")),
                                i && i.value === t)
                              )
                                return [s];
                              for (
                                r = e.getElementsByName(t), n = 0;
                                (s = r[n++]);

                              )
                                if (
                                  ((i = s.getAttributeNode("id")),
                                  i && i.value === t)
                                )
                                  return [s];
                            }
                            return [];
                          }
                        })),
                    (T.find.TAG = b.getElementsByTagName
                      ? function (t, e) {
                          return "undefined" != typeof e.getElementsByTagName
                            ? e.getElementsByTagName(t)
                            : b.qsa
                            ? e.querySelectorAll(t)
                            : void 0;
                        }
                      : function (t, e) {
                          var i,
                            n = [],
                            r = 0,
                            s = e.getElementsByTagName(t);
                          if ("*" === t) {
                            for (; (i = s[r++]); )
                              1 === i.nodeType && n.push(i);
                            return n;
                          }
                          return s;
                        }),
                    (T.find.CLASS =
                      b.getElementsByClassName &&
                      function (t, e) {
                        if ("undefined" != typeof e.getElementsByClassName && k)
                          return e.getElementsByClassName(t);
                      }),
                    (z = []),
                    (N = []),
                    (b.qsa = vt.test(O.querySelectorAll)) &&
                      (r(function (t) {
                        (D.appendChild(t).innerHTML =
                          "<a id='" +
                          B +
                          "'></a><select id='" +
                          B +
                          "-\r\\' msallowcapture=''><option selected=''></option></select>"),
                          t.querySelectorAll("[msallowcapture^='']").length &&
                            N.push("[*^$]=" + nt + "*(?:''|\"\")"),
                          t.querySelectorAll("[selected]").length ||
                            N.push("\\[" + nt + "*(?:value|" + it + ")"),
                          t.querySelectorAll("[id~=" + B + "-]").length ||
                            N.push("~="),
                          t.querySelectorAll(":checked").length ||
                            N.push(":checked"),
                          t.querySelectorAll("a#" + B + "+*").length ||
                            N.push(".#.+[+~]");
                      }),
                      r(function (t) {
                        t.innerHTML =
                          "<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";
                        var e = O.createElement("input");
                        e.setAttribute("type", "hidden"),
                          t.appendChild(e).setAttribute("name", "D"),
                          t.querySelectorAll("[name=d]").length &&
                            N.push("name" + nt + "*[*^$|!~]?="),
                          2 !== t.querySelectorAll(":enabled").length &&
                            N.push(":enabled", ":disabled"),
                          (D.appendChild(t).disabled = !0),
                          2 !== t.querySelectorAll(":disabled").length &&
                            N.push(":enabled", ":disabled"),
                          t.querySelectorAll("*,:x"),
                          N.push(",.*:");
                      })),
                    (b.matchesSelector = vt.test(
                      (F =
                        D.matches ||
                        D.webkitMatchesSelector ||
                        D.mozMatchesSelector ||
                        D.oMatchesSelector ||
                        D.msMatchesSelector)
                    )) &&
                      r(function (t) {
                        (b.disconnectedMatch = F.call(t, "*")),
                          F.call(t, "[s!='']:x"),
                          z.push("!=", ot);
                      }),
                    (N = N.length && new RegExp(N.join("|"))),
                    (z = z.length && new RegExp(z.join("|"))),
                    (e = vt.test(D.compareDocumentPosition)),
                    (H =
                      e || vt.test(D.contains)
                        ? function (t, e) {
                            var i = 9 === t.nodeType ? t.documentElement : t,
                              n = e && e.parentNode;
                            return (
                              t === n ||
                              !(
                                !n ||
                                1 !== n.nodeType ||
                                !(i.contains
                                  ? i.contains(n)
                                  : t.compareDocumentPosition &&
                                    16 & t.compareDocumentPosition(n))
                              )
                            );
                          }
                        : function (t, e) {
                            if (e)
                              for (; (e = e.parentNode); )
                                if (e === t) return !0;
                            return !1;
                          }),
                    (Y = e
                      ? function (t, e) {
                          if (t === e) return (L = !0), 0;
                          var i =
                            !t.compareDocumentPosition -
                            !e.compareDocumentPosition;
                          return i
                            ? i
                            : ((i =
                                (t.ownerDocument || t) ===
                                (e.ownerDocument || e)
                                  ? t.compareDocumentPosition(e)
                                  : 1),
                              1 & i ||
                              (!b.sortDetached &&
                                e.compareDocumentPosition(t) === i)
                                ? t === O || (t.ownerDocument === U && H(U, t))
                                  ? -1
                                  : e === O ||
                                    (e.ownerDocument === U && H(U, e))
                                  ? 1
                                  : R
                                  ? et(R, t) - et(R, e)
                                  : 0
                                : 4 & i
                                ? -1
                                : 1);
                        }
                      : function (t, e) {
                          if (t === e) return (L = !0), 0;
                          var i,
                            n = 0,
                            r = t.parentNode,
                            s = e.parentNode,
                            a = [t],
                            h = [e];
                          if (!r || !s)
                            return t === O
                              ? -1
                              : e === O
                              ? 1
                              : r
                              ? -1
                              : s
                              ? 1
                              : R
                              ? et(R, t) - et(R, e)
                              : 0;
                          if (r === s) return o(t, e);
                          for (i = t; (i = i.parentNode); ) a.unshift(i);
                          for (i = e; (i = i.parentNode); ) h.unshift(i);
                          for (; a[n] === h[n]; ) n++;
                          return n
                            ? o(a[n], h[n])
                            : a[n] === U
                            ? -1
                            : h[n] === U
                            ? 1
                            : 0;
                        }),
                    O)
                  : O;
              }),
            (e.matches = function (t, i) {
              return e(t, null, null, i);
            }),
            (e.matchesSelector = function (t, i) {
              if (
                ((t.ownerDocument || t) !== O && I(t),
                b.matchesSelector &&
                  k &&
                  !q[i + " "] &&
                  (!z || !z.test(i)) &&
                  (!N || !N.test(i)))
              )
                try {
                  var n = F.call(t, i);
                  if (
                    n ||
                    b.disconnectedMatch ||
                    (t.document && 11 !== t.document.nodeType)
                  )
                    return n;
                } catch (t) {
                  q(i, !0);
                }
              return e(i, O, null, [t]).length > 0;
            }),
            (e.contains = function (t, e) {
              return (t.ownerDocument || t) !== O && I(t), H(t, e);
            }),
            (e.attr = function (t, e) {
              (t.ownerDocument || t) !== O && I(t);
              var i = T.attrHandle[e.toLowerCase()],
                n =
                  i && Z.call(T.attrHandle, e.toLowerCase())
                    ? i(t, e, !k)
                    : void 0;
              return void 0 !== n
                ? n
                : b.attributes || !k
                ? t.getAttribute(e)
                : (n = t.getAttributeNode(e)) && n.specified
                ? n.value
                : null;
            }),
            (e.escape = function (t) {
              return (t + "").replace(Tt, Et);
            }),
            (e.error = function (t) {
              throw new Error("Syntax error, unrecognized expression: " + t);
            }),
            (e.uniqueSort = function (t) {
              var e,
                i = [],
                n = 0,
                r = 0;
              if (
                ((L = !b.detectDuplicates),
                (R = !b.sortStable && t.slice(0)),
                t.sort(Y),
                L)
              ) {
                for (; (e = t[r++]); ) e === t[r] && (n = i.push(r));
                for (; n--; ) t.splice(i[n], 1);
              }
              return (R = null), t;
            }),
            (E = e.getText =
              function (t) {
                var e,
                  i = "",
                  n = 0,
                  r = t.nodeType;
                if (r) {
                  if (1 === r || 9 === r || 11 === r) {
                    if ("string" == typeof t.textContent) return t.textContent;
                    for (t = t.firstChild; t; t = t.nextSibling) i += E(t);
                  } else if (3 === r || 4 === r) return t.nodeValue;
                } else for (; (e = t[n++]); ) i += E(e);
                return i;
              }),
            (T = e.selectors =
              {
                cacheLength: 50,
                createPseudo: n,
                match: ft,
                attrHandle: {},
                find: {},
                relative: {
                  ">": { dir: "parentNode", first: !0 },
                  " ": { dir: "parentNode" },
                  "+": { dir: "previousSibling", first: !0 },
                  "~": { dir: "previousSibling" },
                },
                preFilter: {
                  ATTR: function (t) {
                    return (
                      (t[1] = t[1].replace(wt, bt)),
                      (t[3] = (t[3] || t[4] || t[5] || "").replace(wt, bt)),
                      "~=" === t[2] && (t[3] = " " + t[3] + " "),
                      t.slice(0, 4)
                    );
                  },
                  CHILD: function (t) {
                    return (
                      (t[1] = t[1].toLowerCase()),
                      "nth" === t[1].slice(0, 3)
                        ? (t[3] || e.error(t[0]),
                          (t[4] = +(t[4]
                            ? t[5] + (t[6] || 1)
                            : 2 * ("even" === t[3] || "odd" === t[3]))),
                          (t[5] = +(t[7] + t[8] || "odd" === t[3])))
                        : t[3] && e.error(t[0]),
                      t
                    );
                  },
                  PSEUDO: function (t) {
                    var e,
                      i = !t[6] && t[2];
                    return ft.CHILD.test(t[0])
                      ? null
                      : (t[3]
                          ? (t[2] = t[4] || t[5] || "")
                          : i &&
                            pt.test(i) &&
                            (e = M(i, !0)) &&
                            (e = i.indexOf(")", i.length - e) - i.length) &&
                            ((t[0] = t[0].slice(0, e)), (t[2] = i.slice(0, e))),
                        t.slice(0, 3));
                  },
                },
                filter: {
                  TAG: function (t) {
                    var e = t.replace(wt, bt).toLowerCase();
                    return "*" === t
                      ? function () {
                          return !0;
                        }
                      : function (t) {
                          return t.nodeName && t.nodeName.toLowerCase() === e;
                        };
                  },
                  CLASS: function (t) {
                    var e = j[t + " "];
                    return (
                      e ||
                      ((e = new RegExp(
                        "(^|" + nt + ")" + t + "(" + nt + "|$)"
                      )) &&
                        j(t, function (t) {
                          return e.test(
                            ("string" == typeof t.className && t.className) ||
                              ("undefined" != typeof t.getAttribute &&
                                t.getAttribute("class")) ||
                              ""
                          );
                        }))
                    );
                  },
                  ATTR: function (t, i, n) {
                    return function (r) {
                      var s = e.attr(r, t);
                      return null == s
                        ? "!=" === i
                        : !i ||
                            ((s += ""),
                            "=" === i
                              ? s === n
                              : "!=" === i
                              ? s !== n
                              : "^=" === i
                              ? n && 0 === s.indexOf(n)
                              : "*=" === i
                              ? n && s.indexOf(n) > -1
                              : "$=" === i
                              ? n && s.slice(-n.length) === n
                              : "~=" === i
                              ? (" " + s.replace(at, " ") + " ").indexOf(n) > -1
                              : "|=" === i &&
                                (s === n ||
                                  s.slice(0, n.length + 1) === n + "-"));
                    };
                  },
                  CHILD: function (t, e, i, n, r) {
                    var s = "nth" !== t.slice(0, 3),
                      o = "last" !== t.slice(-4),
                      a = "of-type" === e;
                    return 1 === n && 0 === r
                      ? function (t) {
                          return !!t.parentNode;
                        }
                      : function (e, i, h) {
                          var l,
                            u,
                            c,
                            p,
                            d,
                            f,
                            m = s !== o ? "nextSibling" : "previousSibling",
                            _ = e.parentNode,
                            g = a && e.nodeName.toLowerCase(),
                            v = !h && !a,
                            y = !1;
                          if (_) {
                            if (s) {
                              for (; m; ) {
                                for (p = e; (p = p[m]); )
                                  if (
                                    a
                                      ? p.nodeName.toLowerCase() === g
                                      : 1 === p.nodeType
                                  )
                                    return !1;
                                f = m = "only" === t && !f && "nextSibling";
                              }
                              return !0;
                            }
                            if (
                              ((f = [o ? _.firstChild : _.lastChild]), o && v)
                            ) {
                              for (
                                p = _,
                                  c = p[B] || (p[B] = {}),
                                  u = c[p.uniqueID] || (c[p.uniqueID] = {}),
                                  l = u[t] || [],
                                  d = l[0] === G && l[1],
                                  y = d && l[2],
                                  p = d && _.childNodes[d];
                                (p =
                                  (++d && p && p[m]) || (y = d = 0) || f.pop());

                              )
                                if (1 === p.nodeType && ++y && p === e) {
                                  u[t] = [G, d, y];
                                  break;
                                }
                            } else if (
                              (v &&
                                ((p = e),
                                (c = p[B] || (p[B] = {})),
                                (u = c[p.uniqueID] || (c[p.uniqueID] = {})),
                                (l = u[t] || []),
                                (d = l[0] === G && l[1]),
                                (y = d)),
                              y === !1)
                            )
                              for (
                                ;
                                (p =
                                  (++d && p && p[m]) ||
                                  (y = d = 0) ||
                                  f.pop()) &&
                                ((a
                                  ? p.nodeName.toLowerCase() !== g
                                  : 1 !== p.nodeType) ||
                                  !++y ||
                                  (v &&
                                    ((c = p[B] || (p[B] = {})),
                                    (u = c[p.uniqueID] || (c[p.uniqueID] = {})),
                                    (u[t] = [G, y])),
                                  p !== e));

                              );
                            return (
                              (y -= r), y === n || (y % n === 0 && y / n >= 0)
                            );
                          }
                        };
                  },
                  PSEUDO: function (t, i) {
                    var r,
                      s =
                        T.pseudos[t] ||
                        T.setFilters[t.toLowerCase()] ||
                        e.error("unsupported pseudo: " + t);
                    return s[B]
                      ? s(i)
                      : s.length > 1
                      ? ((r = [t, t, "", i]),
                        T.setFilters.hasOwnProperty(t.toLowerCase())
                          ? n(function (t, e) {
                              for (var n, r = s(t, i), o = r.length; o--; )
                                (n = et(t, r[o])), (t[n] = !(e[n] = r[o]));
                            })
                          : function (t) {
                              return s(t, 0, r);
                            })
                      : s;
                  },
                },
                pseudos: {
                  not: n(function (t) {
                    var e = [],
                      i = [],
                      r = C(t.replace(ht, "$1"));
                    return r[B]
                      ? n(function (t, e, i, n) {
                          for (
                            var s, o = r(t, null, n, []), a = t.length;
                            a--;

                          )
                            (s = o[a]) && (t[a] = !(e[a] = s));
                        })
                      : function (t, n, s) {
                          return (
                            (e[0] = t),
                            r(e, null, s, i),
                            (e[0] = null),
                            !i.pop()
                          );
                        };
                  }),
                  has: n(function (t) {
                    return function (i) {
                      return e(t, i).length > 0;
                    };
                  }),
                  contains: n(function (t) {
                    return (
                      (t = t.replace(wt, bt)),
                      function (e) {
                        return (e.textContent || E(e)).indexOf(t) > -1;
                      }
                    );
                  }),
                  lang: n(function (t) {
                    return (
                      dt.test(t || "") || e.error("unsupported lang: " + t),
                      (t = t.replace(wt, bt).toLowerCase()),
                      function (e) {
                        var i;
                        do
                          if (
                            (i = k
                              ? e.lang
                              : e.getAttribute("xml:lang") ||
                                e.getAttribute("lang"))
                          )
                            return (
                              (i = i.toLowerCase()),
                              i === t || 0 === i.indexOf(t + "-")
                            );
                        while ((e = e.parentNode) && 1 === e.nodeType);
                        return !1;
                      }
                    );
                  }),
                  target: function (e) {
                    var i = t.location && t.location.hash;
                    return i && i.slice(1) === e.id;
                  },
                  root: function (t) {
                    return t === D;
                  },
                  focus: function (t) {
                    return (
                      t === O.activeElement &&
                      (!O.hasFocus || O.hasFocus()) &&
                      !!(t.type || t.href || ~t.tabIndex)
                    );
                  },
                  enabled: l(!1),
                  disabled: l(!0),
                  checked: function (t) {
                    var e = t.nodeName.toLowerCase();
                    return (
                      ("input" === e && !!t.checked) ||
                      ("option" === e && !!t.selected)
                    );
                  },
                  selected: function (t) {
                    return (
                      t.parentNode && t.parentNode.selectedIndex,
                      t.selected === !0
                    );
                  },
                  empty: function (t) {
                    for (t = t.firstChild; t; t = t.nextSibling)
                      if (t.nodeType < 6) return !1;
                    return !0;
                  },
                  parent: function (t) {
                    return !T.pseudos.empty(t);
                  },
                  header: function (t) {
                    return gt.test(t.nodeName);
                  },
                  input: function (t) {
                    return _t.test(t.nodeName);
                  },
                  button: function (t) {
                    var e = t.nodeName.toLowerCase();
                    return (
                      ("input" === e && "button" === t.type) || "button" === e
                    );
                  },
                  text: function (t) {
                    var e;
                    return (
                      "input" === t.nodeName.toLowerCase() &&
                      "text" === t.type &&
                      (null == (e = t.getAttribute("type")) ||
                        "text" === e.toLowerCase())
                    );
                  },
                  first: u(function () {
                    return [0];
                  }),
                  last: u(function (t, e) {
                    return [e - 1];
                  }),
                  eq: u(function (t, e, i) {
                    return [i < 0 ? i + e : i];
                  }),
                  even: u(function (t, e) {
                    for (var i = 0; i < e; i += 2) t.push(i);
                    return t;
                  }),
                  odd: u(function (t, e) {
                    for (var i = 1; i < e; i += 2) t.push(i);
                    return t;
                  }),
                  lt: u(function (t, e, i) {
                    for (var n = i < 0 ? i + e : i > e ? e : i; --n >= 0; )
                      t.push(n);
                    return t;
                  }),
                  gt: u(function (t, e, i) {
                    for (var n = i < 0 ? i + e : i; ++n < e; ) t.push(n);
                    return t;
                  }),
                },
              }),
            (T.pseudos.nth = T.pseudos.eq);
          for (w in {
            radio: !0,
            checkbox: !0,
            file: !0,
            password: !0,
            image: !0,
          })
            T.pseudos[w] = a(w);
          for (w in { submit: !0, reset: !0 }) T.pseudos[w] = h(w);
          return (
            (p.prototype = T.filters = T.pseudos),
            (T.setFilters = new p()),
            (M = e.tokenize =
              function (t, i) {
                var n,
                  r,
                  s,
                  o,
                  a,
                  h,
                  l,
                  u = W[t + " "];
                if (u) return i ? 0 : u.slice(0);
                for (a = t, h = [], l = T.preFilter; a; ) {
                  (n && !(r = lt.exec(a))) ||
                    (r && (a = a.slice(r[0].length) || a), h.push((s = []))),
                    (n = !1),
                    (r = ut.exec(a)) &&
                      ((n = r.shift()),
                      s.push({ value: n, type: r[0].replace(ht, " ") }),
                      (a = a.slice(n.length)));
                  for (o in T.filter)
                    !(r = ft[o].exec(a)) ||
                      (l[o] && !(r = l[o](r))) ||
                      ((n = r.shift()),
                      s.push({ value: n, type: o, matches: r }),
                      (a = a.slice(n.length)));
                  if (!n) break;
                }
                return i ? a.length : a ? e.error(t) : W(t, h).slice(0);
              }),
            (C = e.compile =
              function (t, e) {
                var i,
                  n = [],
                  r = [],
                  s = X[t + " "];
                if (!s) {
                  for (e || (e = M(t)), i = e.length; i--; )
                    (s = y(e[i])), s[B] ? n.push(s) : r.push(s);
                  (s = X(t, x(r, n))), (s.selector = t);
                }
                return s;
              }),
            (P = e.select =
              function (t, e, i, n) {
                var r,
                  s,
                  o,
                  a,
                  h,
                  l = "function" == typeof t && t,
                  u = !n && M((t = l.selector || t));
                if (((i = i || []), 1 === u.length)) {
                  if (
                    ((s = u[0] = u[0].slice(0)),
                    s.length > 2 &&
                      "ID" === (o = s[0]).type &&
                      9 === e.nodeType &&
                      k &&
                      T.relative[s[1].type])
                  ) {
                    if (
                      ((e = (T.find.ID(o.matches[0].replace(wt, bt), e) ||
                        [])[0]),
                      !e)
                    )
                      return i;
                    l && (e = e.parentNode),
                      (t = t.slice(s.shift().value.length));
                  }
                  for (
                    r = ft.needsContext.test(t) ? 0 : s.length;
                    r-- && ((o = s[r]), !T.relative[(a = o.type)]);

                  )
                    if (
                      (h = T.find[a]) &&
                      (n = h(
                        o.matches[0].replace(wt, bt),
                        (xt.test(s[0].type) && c(e.parentNode)) || e
                      ))
                    ) {
                      if ((s.splice(r, 1), (t = n.length && d(s)), !t))
                        return K.apply(i, n), i;
                      break;
                    }
                }
                return (
                  (l || C(t, u))(
                    n,
                    e,
                    !k,
                    i,
                    !e || (xt.test(t) && c(e.parentNode)) || e
                  ),
                  i
                );
              }),
            (b.sortStable = B.split("").sort(Y).join("") === B),
            (b.detectDuplicates = !!L),
            I(),
            (b.sortDetached = r(function (t) {
              return 1 & t.compareDocumentPosition(O.createElement("fieldset"));
            })),
            r(function (t) {
              return (
                (t.innerHTML = "<a href='#'></a>"),
                "#" === t.firstChild.getAttribute("href")
              );
            }) ||
              s("type|href|height|width", function (t, e, i) {
                if (!i)
                  return t.getAttribute(e, "type" === e.toLowerCase() ? 1 : 2);
              }),
            (b.attributes &&
              r(function (t) {
                return (
                  (t.innerHTML = "<input/>"),
                  t.firstChild.setAttribute("value", ""),
                  "" === t.firstChild.getAttribute("value")
                );
              })) ||
              s("value", function (t, e, i) {
                if (!i && "input" === t.nodeName.toLowerCase())
                  return t.defaultValue;
              }),
            r(function (t) {
              return null == t.getAttribute("disabled");
            }) ||
              s(it, function (t, e, i) {
                var n;
                if (!i)
                  return t[e] === !0
                    ? e.toLowerCase()
                    : (n = t.getAttributeNode(e)) && n.specified
                    ? n.value
                    : null;
              }),
            e
          );
        })(i);
      (Pt.find = Rt),
        (Pt.expr = Rt.selectors),
        (Pt.expr[":"] = Pt.expr.pseudos),
        (Pt.uniqueSort = Pt.unique = Rt.uniqueSort),
        (Pt.text = Rt.getText),
        (Pt.isXMLDoc = Rt.isXML),
        (Pt.contains = Rt.contains),
        (Pt.escapeSelector = Rt.escape);
      var Lt = function (t, e, i) {
          for (var n = [], r = void 0 !== i; (t = t[e]) && 9 !== t.nodeType; )
            if (1 === t.nodeType) {
              if (r && Pt(t).is(i)) break;
              n.push(t);
            }
          return n;
        },
        It = function (t, e) {
          for (var i = []; t; t = t.nextSibling)
            1 === t.nodeType && t !== e && i.push(t);
          return i;
        },
        Ot = Pt.expr.match.needsContext,
        Dt = /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;
      (Pt.filter = function (t, e, i) {
        var n = e[0];
        return (
          i && (t = ":not(" + t + ")"),
          1 === e.length && 1 === n.nodeType
            ? Pt.find.matchesSelector(n, t)
              ? [n]
              : []
            : Pt.find.matches(
                t,
                Pt.grep(e, function (t) {
                  return 1 === t.nodeType;
                })
              )
        );
      }),
        Pt.fn.extend({
          find: function (t) {
            var e,
              i,
              n = this.length,
              r = this;
            if ("string" != typeof t)
              return this.pushStack(
                Pt(t).filter(function () {
                  for (e = 0; e < n; e++)
                    if (Pt.contains(r[e], this)) return !0;
                })
              );
            for (i = this.pushStack([]), e = 0; e < n; e++) Pt.find(t, r[e], i);
            return n > 1 ? Pt.uniqueSort(i) : i;
          },
          filter: function (t) {
            return this.pushStack(u(this, t || [], !1));
          },
          not: function (t) {
            return this.pushStack(u(this, t || [], !0));
          },
          is: function (t) {
            return !!u(
              this,
              "string" == typeof t && Ot.test(t) ? Pt(t) : t || [],
              !1
            ).length;
          },
        });
      var kt,
        Nt = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,
        zt = (Pt.fn.init = function (t, e, i) {
          var n, r;
          if (!t) return this;
          if (((i = i || kt), "string" == typeof t)) {
            if (
              ((n =
                "<" === t[0] && ">" === t[t.length - 1] && t.length >= 3
                  ? [null, t, null]
                  : Nt.exec(t)),
              !n || (!n[1] && e))
            )
              return !e || e.jquery
                ? (e || i).find(t)
                : this.constructor(e).find(t);
            if (n[1]) {
              if (
                ((e = e instanceof Pt ? e[0] : e),
                Pt.merge(
                  this,
                  Pt.parseHTML(
                    n[1],
                    e && e.nodeType ? e.ownerDocument || e : pt,
                    !0
                  )
                ),
                Dt.test(n[1]) && Pt.isPlainObject(e))
              )
                for (n in e) Et(this[n]) ? this[n](e[n]) : this.attr(n, e[n]);
              return this;
            }
            return (
              (r = pt.getElementById(n[2])),
              r && ((this[0] = r), (this.length = 1)),
              this
            );
          }
          return t.nodeType
            ? ((this[0] = t), (this.length = 1), this)
            : Et(t)
            ? void 0 !== i.ready
              ? i.ready(t)
              : t(Pt)
            : Pt.makeArray(t, this);
        });
      (zt.prototype = Pt.fn), (kt = Pt(pt));
      var Ft = /^(?:parents|prev(?:Until|All))/,
        Ht = { children: !0, contents: !0, next: !0, prev: !0 };
      Pt.fn.extend({
        has: function (t) {
          var e = Pt(t, this),
            i = e.length;
          return this.filter(function () {
            for (var t = 0; t < i; t++) if (Pt.contains(this, e[t])) return !0;
          });
        },
        closest: function (t, e) {
          var i,
            n = 0,
            r = this.length,
            s = [],
            o = "string" != typeof t && Pt(t);
          if (!Ot.test(t))
            for (; n < r; n++)
              for (i = this[n]; i && i !== e; i = i.parentNode)
                if (
                  i.nodeType < 11 &&
                  (o
                    ? o.index(i) > -1
                    : 1 === i.nodeType && Pt.find.matchesSelector(i, t))
                ) {
                  s.push(i);
                  break;
                }
          return this.pushStack(s.length > 1 ? Pt.uniqueSort(s) : s);
        },
        index: function (t) {
          return t
            ? "string" == typeof t
              ? gt.call(Pt(t), this[0])
              : gt.call(this, t.jquery ? t[0] : t)
            : this[0] && this[0].parentNode
            ? this.first().prevAll().length
            : -1;
        },
        add: function (t, e) {
          return this.pushStack(Pt.uniqueSort(Pt.merge(this.get(), Pt(t, e))));
        },
        addBack: function (t) {
          return this.add(
            null == t ? this.prevObject : this.prevObject.filter(t)
          );
        },
      }),
        Pt.each(
          {
            parent: function (t) {
              var e = t.parentNode;
              return e && 11 !== e.nodeType ? e : null;
            },
            parents: function (t) {
              return Lt(t, "parentNode");
            },
            parentsUntil: function (t, e, i) {
              return Lt(t, "parentNode", i);
            },
            next: function (t) {
              return c(t, "nextSibling");
            },
            prev: function (t) {
              return c(t, "previousSibling");
            },
            nextAll: function (t) {
              return Lt(t, "nextSibling");
            },
            prevAll: function (t) {
              return Lt(t, "previousSibling");
            },
            nextUntil: function (t, e, i) {
              return Lt(t, "nextSibling", i);
            },
            prevUntil: function (t, e, i) {
              return Lt(t, "previousSibling", i);
            },
            siblings: function (t) {
              return It((t.parentNode || {}).firstChild, t);
            },
            children: function (t) {
              return It(t.firstChild);
            },
            contents: function (t) {
              return "undefined" != typeof t.contentDocument
                ? t.contentDocument
                : (l(t, "template") && (t = t.content || t),
                  Pt.merge([], t.childNodes));
            },
          },
          function (t, e) {
            Pt.fn[t] = function (i, n) {
              var r = Pt.map(this, e, i);
              return (
                "Until" !== t.slice(-5) && (n = i),
                n && "string" == typeof n && (r = Pt.filter(n, r)),
                this.length > 1 &&
                  (Ht[t] || Pt.uniqueSort(r), Ft.test(t) && r.reverse()),
                this.pushStack(r)
              );
            };
          }
        );
      var Bt = /[^\x20\t\r\n\f]+/g;
      (Pt.Callbacks = function (t) {
        t = "string" == typeof t ? p(t) : Pt.extend({}, t);
        var e,
          i,
          n,
          r,
          s = [],
          o = [],
          h = -1,
          l = function () {
            for (r = r || t.once, n = e = !0; o.length; h = -1)
              for (i = o.shift(); ++h < s.length; )
                s[h].apply(i[0], i[1]) === !1 &&
                  t.stopOnFalse &&
                  ((h = s.length), (i = !1));
            t.memory || (i = !1), (e = !1), r && (s = i ? [] : "");
          },
          u = {
            add: function () {
              return (
                s &&
                  (i && !e && ((h = s.length - 1), o.push(i)),
                  (function e(i) {
                    Pt.each(i, function (i, n) {
                      Et(n)
                        ? (t.unique && u.has(n)) || s.push(n)
                        : n && n.length && "string" !== a(n) && e(n);
                    });
                  })(arguments),
                  i && !e && l()),
                this
              );
            },
            remove: function () {
              return (
                Pt.each(arguments, function (t, e) {
                  for (var i; (i = Pt.inArray(e, s, i)) > -1; )
                    s.splice(i, 1), i <= h && h--;
                }),
                this
              );
            },
            has: function (t) {
              return t ? Pt.inArray(t, s) > -1 : s.length > 0;
            },
            empty: function () {
              return s && (s = []), this;
            },
            disable: function () {
              return (r = o = []), (s = i = ""), this;
            },
            disabled: function () {
              return !s;
            },
            lock: function () {
              return (r = o = []), i || e || (s = i = ""), this;
            },
            locked: function () {
              return !!r;
            },
            fireWith: function (t, i) {
              return (
                r ||
                  ((i = i || []),
                  (i = [t, i.slice ? i.slice() : i]),
                  o.push(i),
                  e || l()),
                this
              );
            },
            fire: function () {
              return u.fireWith(this, arguments), this;
            },
            fired: function () {
              return !!n;
            },
          };
        return u;
      }),
        Pt.extend({
          Deferred: function (t) {
            var e = [
                [
                  "notify",
                  "progress",
                  Pt.Callbacks("memory"),
                  Pt.Callbacks("memory"),
                  2,
                ],
                [
                  "resolve",
                  "done",
                  Pt.Callbacks("once memory"),
                  Pt.Callbacks("once memory"),
                  0,
                  "resolved",
                ],
                [
                  "reject",
                  "fail",
                  Pt.Callbacks("once memory"),
                  Pt.Callbacks("once memory"),
                  1,
                  "rejected",
                ],
              ],
              n = "pending",
              r = {
                state: function () {
                  return n;
                },
                always: function () {
                  return s.done(arguments).fail(arguments), this;
                },
                catch: function (t) {
                  return r.then(null, t);
                },
                pipe: function () {
                  var t = arguments;
                  return Pt.Deferred(function (i) {
                    Pt.each(e, function (e, n) {
                      var r = Et(t[n[4]]) && t[n[4]];
                      s[n[1]](function () {
                        var t = r && r.apply(this, arguments);
                        t && Et(t.promise)
                          ? t
                              .promise()
                              .progress(i.notify)
                              .done(i.resolve)
                              .fail(i.reject)
                          : i[n[0] + "With"](this, r ? [t] : arguments);
                      });
                    }),
                      (t = null);
                  }).promise();
                },
                then: function (t, n, r) {
                  function s(t, e, n, r) {
                    return function () {
                      var a = this,
                        h = arguments,
                        l = function () {
                          var i, l;
                          if (!(t < o)) {
                            if (((i = n.apply(a, h)), i === e.promise()))
                              throw new TypeError("Thenable self-resolution");
                            (l =
                              i &&
                              ("object" == typeof i ||
                                "function" == typeof i) &&
                              i.then),
                              Et(l)
                                ? r
                                  ? l.call(i, s(o, e, d, r), s(o, e, f, r))
                                  : (o++,
                                    l.call(
                                      i,
                                      s(o, e, d, r),
                                      s(o, e, f, r),
                                      s(o, e, d, e.notifyWith)
                                    ))
                                : (n !== d && ((a = void 0), (h = [i])),
                                  (r || e.resolveWith)(a, h));
                          }
                        },
                        u = r
                          ? l
                          : function () {
                              try {
                                l();
                              } catch (i) {
                                Pt.Deferred.exceptionHook &&
                                  Pt.Deferred.exceptionHook(i, u.stackTrace),
                                  t + 1 >= o &&
                                    (n !== f && ((a = void 0), (h = [i])),
                                    e.rejectWith(a, h));
                              }
                            };
                      t
                        ? u()
                        : (Pt.Deferred.getStackHook &&
                            (u.stackTrace = Pt.Deferred.getStackHook()),
                          i.setTimeout(u));
                    };
                  }
                  var o = 0;
                  return Pt.Deferred(function (i) {
                    e[0][3].add(s(0, i, Et(r) ? r : d, i.notifyWith)),
                      e[1][3].add(s(0, i, Et(t) ? t : d)),
                      e[2][3].add(s(0, i, Et(n) ? n : f));
                  }).promise();
                },
                promise: function (t) {
                  return null != t ? Pt.extend(t, r) : r;
                },
              },
              s = {};
            return (
              Pt.each(e, function (t, i) {
                var o = i[2],
                  a = i[5];
                (r[i[1]] = o.add),
                  a &&
                    o.add(
                      function () {
                        n = a;
                      },
                      e[3 - t][2].disable,
                      e[3 - t][3].disable,
                      e[0][2].lock,
                      e[0][3].lock
                    ),
                  o.add(i[3].fire),
                  (s[i[0]] = function () {
                    return (
                      s[i[0] + "With"](this === s ? void 0 : this, arguments),
                      this
                    );
                  }),
                  (s[i[0] + "With"] = o.fireWith);
              }),
              r.promise(s),
              t && t.call(s, s),
              s
            );
          },
          when: function (t) {
            var e = arguments.length,
              i = e,
              n = Array(i),
              r = ft.call(arguments),
              s = Pt.Deferred(),
              o = function (t) {
                return function (i) {
                  (n[t] = this),
                    (r[t] = arguments.length > 1 ? ft.call(arguments) : i),
                    --e || s.resolveWith(n, r);
                };
              };
            if (
              e <= 1 &&
              (m(t, s.done(o(i)).resolve, s.reject, !e),
              "pending" === s.state() || Et(r[i] && r[i].then))
            )
              return s.then();
            for (; i--; ) m(r[i], o(i), s.reject);
            return s.promise();
          },
        });
      var Ut = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;
      (Pt.Deferred.exceptionHook = function (t, e) {
        i.console &&
          i.console.warn &&
          t &&
          Ut.test(t.name) &&
          i.console.warn("jQuery.Deferred exception: " + t.message, t.stack, e);
      }),
        (Pt.readyException = function (t) {
          i.setTimeout(function () {
            throw t;
          });
        });
      var Gt = Pt.Deferred();
      (Pt.fn.ready = function (t) {
        return (
          Gt.then(t).catch(function (t) {
            Pt.readyException(t);
          }),
          this
        );
      }),
        Pt.extend({
          isReady: !1,
          readyWait: 1,
          ready: function (t) {
            (t === !0 ? --Pt.readyWait : Pt.isReady) ||
              ((Pt.isReady = !0),
              (t !== !0 && --Pt.readyWait > 0) || Gt.resolveWith(pt, [Pt]));
          },
        }),
        (Pt.ready.then = Gt.then),
        "complete" === pt.readyState ||
        ("loading" !== pt.readyState && !pt.documentElement.doScroll)
          ? i.setTimeout(Pt.ready)
          : (pt.addEventListener("DOMContentLoaded", _),
            i.addEventListener("load", _));
      var Vt = function (t, e, i, n, r, s, o) {
          var h = 0,
            l = t.length,
            u = null == i;
          if ("object" === a(i)) {
            r = !0;
            for (h in i) Vt(t, e, h, i[h], !0, s, o);
          } else if (
            void 0 !== n &&
            ((r = !0),
            Et(n) || (o = !0),
            u &&
              (o
                ? (e.call(t, n), (e = null))
                : ((u = e),
                  (e = function (t, e, i) {
                    return u.call(Pt(t), i);
                  }))),
            e)
          )
            for (; h < l; h++) e(t[h], i, o ? n : n.call(t[h], h, e(t[h], i)));
          return r ? t : u ? e.call(t) : l ? e(t[0], i) : s;
        },
        jt = /^-ms-/,
        Wt = /-([a-z])/g,
        Xt = function (t) {
          return 1 === t.nodeType || 9 === t.nodeType || !+t.nodeType;
        };
      (y.uid = 1),
        (y.prototype = {
          cache: function (t) {
            var e = t[this.expando];
            return (
              e ||
                ((e = {}),
                Xt(t) &&
                  (t.nodeType
                    ? (t[this.expando] = e)
                    : Object.defineProperty(t, this.expando, {
                        value: e,
                        configurable: !0,
                      }))),
              e
            );
          },
          set: function (t, e, i) {
            var n,
              r = this.cache(t);
            if ("string" == typeof e) r[v(e)] = i;
            else for (n in e) r[v(n)] = e[n];
            return r;
          },
          get: function (t, e) {
            return void 0 === e
              ? this.cache(t)
              : t[this.expando] && t[this.expando][v(e)];
          },
          access: function (t, e, i) {
            return void 0 === e || (e && "string" == typeof e && void 0 === i)
              ? this.get(t, e)
              : (this.set(t, e, i), void 0 !== i ? i : e);
          },
          remove: function (t, e) {
            var i,
              n = t[this.expando];
            if (void 0 !== n) {
              if (void 0 !== e) {
                Array.isArray(e)
                  ? (e = e.map(v))
                  : ((e = v(e)), (e = e in n ? [e] : e.match(Bt) || [])),
                  (i = e.length);
                for (; i--; ) delete n[e[i]];
              }
              (void 0 === e || Pt.isEmptyObject(n)) &&
                (t.nodeType
                  ? (t[this.expando] = void 0)
                  : delete t[this.expando]);
            }
          },
          hasData: function (t) {
            var e = t[this.expando];
            return void 0 !== e && !Pt.isEmptyObject(e);
          },
        });
      var qt = new y(),
        Yt = new y(),
        Zt = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
        $t = /[A-Z]/g;
      Pt.extend({
        hasData: function (t) {
          return Yt.hasData(t) || qt.hasData(t);
        },
        data: function (t, e, i) {
          return Yt.access(t, e, i);
        },
        removeData: function (t, e) {
          Yt.remove(t, e);
        },
        _data: function (t, e, i) {
          return qt.access(t, e, i);
        },
        _removeData: function (t, e) {
          qt.remove(t, e);
        },
      }),
        Pt.fn.extend({
          data: function (t, e) {
            var i,
              n,
              r,
              s = this[0],
              o = s && s.attributes;
            if (void 0 === t) {
              if (
                this.length &&
                ((r = Yt.get(s)),
                1 === s.nodeType && !qt.get(s, "hasDataAttrs"))
              ) {
                for (i = o.length; i--; )
                  o[i] &&
                    ((n = o[i].name),
                    0 === n.indexOf("data-") &&
                      ((n = v(n.slice(5))), w(s, n, r[n])));
                qt.set(s, "hasDataAttrs", !0);
              }
              return r;
            }
            return "object" == typeof t
              ? this.each(function () {
                  Yt.set(this, t);
                })
              : Vt(
                  this,
                  function (e) {
                    var i;
                    if (s && void 0 === e) {
                      if (((i = Yt.get(s, t)), void 0 !== i)) return i;
                      if (((i = w(s, t)), void 0 !== i)) return i;
                    } else
                      this.each(function () {
                        Yt.set(this, t, e);
                      });
                  },
                  null,
                  e,
                  arguments.length > 1,
                  null,
                  !0
                );
          },
          removeData: function (t) {
            return this.each(function () {
              Yt.remove(this, t);
            });
          },
        }),
        Pt.extend({
          queue: function (t, e, i) {
            var n;
            if (t)
              return (
                (e = (e || "fx") + "queue"),
                (n = qt.get(t, e)),
                i &&
                  (!n || Array.isArray(i)
                    ? (n = qt.access(t, e, Pt.makeArray(i)))
                    : n.push(i)),
                n || []
              );
          },
          dequeue: function (t, e) {
            e = e || "fx";
            var i = Pt.queue(t, e),
              n = i.length,
              r = i.shift(),
              s = Pt._queueHooks(t, e),
              o = function () {
                Pt.dequeue(t, e);
              };
            "inprogress" === r && ((r = i.shift()), n--),
              r &&
                ("fx" === e && i.unshift("inprogress"),
                delete s.stop,
                r.call(t, o, s)),
              !n && s && s.empty.fire();
          },
          _queueHooks: function (t, e) {
            var i = e + "queueHooks";
            return (
              qt.get(t, i) ||
              qt.access(t, i, {
                empty: Pt.Callbacks("once memory").add(function () {
                  qt.remove(t, [e + "queue", i]);
                }),
              })
            );
          },
        }),
        Pt.fn.extend({
          queue: function (t, e) {
            var i = 2;
            return (
              "string" != typeof t && ((e = t), (t = "fx"), i--),
              arguments.length < i
                ? Pt.queue(this[0], t)
                : void 0 === e
                ? this
                : this.each(function () {
                    var i = Pt.queue(this, t, e);
                    Pt._queueHooks(this, t),
                      "fx" === t &&
                        "inprogress" !== i[0] &&
                        Pt.dequeue(this, t);
                  })
            );
          },
          dequeue: function (t) {
            return this.each(function () {
              Pt.dequeue(this, t);
            });
          },
          clearQueue: function (t) {
            return this.queue(t || "fx", []);
          },
          promise: function (t, e) {
            var i,
              n = 1,
              r = Pt.Deferred(),
              s = this,
              o = this.length,
              a = function () {
                --n || r.resolveWith(s, [s]);
              };
            for (
              "string" != typeof t && ((e = t), (t = void 0)), t = t || "fx";
              o--;

            )
              (i = qt.get(s[o], t + "queueHooks")),
                i && i.empty && (n++, i.empty.add(a));
            return a(), r.promise(e);
          },
        });
      var Jt = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
        Qt = new RegExp("^(?:([+-])=|)(" + Jt + ")([a-z%]*)$", "i"),
        Kt = ["Top", "Right", "Bottom", "Left"],
        te = pt.documentElement,
        ee = function (t) {
          return Pt.contains(t.ownerDocument, t);
        },
        ie = { composed: !0 };
      te.getRootNode &&
        (ee = function (t) {
          return (
            Pt.contains(t.ownerDocument, t) ||
            t.getRootNode(ie) === t.ownerDocument
          );
        });
      var ne = function (t, e) {
          return (
            (t = e || t),
            "none" === t.style.display ||
              ("" === t.style.display &&
                ee(t) &&
                "none" === Pt.css(t, "display"))
          );
        },
        re = function (t, e, i, n) {
          var r,
            s,
            o = {};
          for (s in e) (o[s] = t.style[s]), (t.style[s] = e[s]);
          r = i.apply(t, n || []);
          for (s in e) t.style[s] = o[s];
          return r;
        },
        se = {};
      Pt.fn.extend({
        show: function () {
          return E(this, !0);
        },
        hide: function () {
          return E(this);
        },
        toggle: function (t) {
          return "boolean" == typeof t
            ? t
              ? this.show()
              : this.hide()
            : this.each(function () {
                ne(this) ? Pt(this).show() : Pt(this).hide();
              });
        },
      });
      var oe = /^(?:checkbox|radio)$/i,
        ae = /<([a-z][^\/\0>\x20\t\r\n\f]*)/i,
        he = /^$|^module$|\/(?:java|ecma)script/i,
        le = {
          option: [1, "<select multiple='multiple'>", "</select>"],
          thead: [1, "<table>", "</table>"],
          col: [2, "<table><colgroup>", "</colgroup></table>"],
          tr: [2, "<table><tbody>", "</tbody></table>"],
          td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
          _default: [0, "", ""],
        };
      (le.optgroup = le.option),
        (le.tbody = le.tfoot = le.colgroup = le.caption = le.thead),
        (le.th = le.td);
      var ue = /<|&#?\w+;/;
      !(function () {
        var t = pt.createDocumentFragment(),
          e = t.appendChild(pt.createElement("div")),
          i = pt.createElement("input");
        i.setAttribute("type", "radio"),
          i.setAttribute("checked", "checked"),
          i.setAttribute("name", "t"),
          e.appendChild(i),
          (Tt.checkClone = e.cloneNode(!0).cloneNode(!0).lastChild.checked),
          (e.innerHTML = "<textarea>x</textarea>"),
          (Tt.noCloneChecked = !!e.cloneNode(!0).lastChild.defaultValue);
      })();
      var ce = /^key/,
        pe = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
        de = /^([^.]*)(?:\.(.+)|)/;
      (Pt.event = {
        global: {},
        add: function (t, e, i, n, r) {
          var s,
            o,
            a,
            h,
            l,
            u,
            c,
            p,
            d,
            f,
            m,
            _ = qt.get(t);
          if (_)
            for (
              i.handler && ((s = i), (i = s.handler), (r = s.selector)),
                r && Pt.find.matchesSelector(te, r),
                i.guid || (i.guid = Pt.guid++),
                (h = _.events) || (h = _.events = {}),
                (o = _.handle) ||
                  (o = _.handle =
                    function (e) {
                      return "undefined" != typeof Pt &&
                        Pt.event.triggered !== e.type
                        ? Pt.event.dispatch.apply(t, arguments)
                        : void 0;
                    }),
                e = (e || "").match(Bt) || [""],
                l = e.length;
              l--;

            )
              (a = de.exec(e[l]) || []),
                (d = m = a[1]),
                (f = (a[2] || "").split(".").sort()),
                d &&
                  ((c = Pt.event.special[d] || {}),
                  (d = (r ? c.delegateType : c.bindType) || d),
                  (c = Pt.event.special[d] || {}),
                  (u = Pt.extend(
                    {
                      type: d,
                      origType: m,
                      data: n,
                      handler: i,
                      guid: i.guid,
                      selector: r,
                      needsContext: r && Pt.expr.match.needsContext.test(r),
                      namespace: f.join("."),
                    },
                    s
                  )),
                  (p = h[d]) ||
                    ((p = h[d] = []),
                    (p.delegateCount = 0),
                    (c.setup && c.setup.call(t, n, f, o) !== !1) ||
                      (t.addEventListener && t.addEventListener(d, o))),
                  c.add &&
                    (c.add.call(t, u),
                    u.handler.guid || (u.handler.guid = i.guid)),
                  r ? p.splice(p.delegateCount++, 0, u) : p.push(u),
                  (Pt.event.global[d] = !0));
        },
        remove: function (t, e, i, n, r) {
          var s,
            o,
            a,
            h,
            l,
            u,
            c,
            p,
            d,
            f,
            m,
            _ = qt.hasData(t) && qt.get(t);
          if (_ && (h = _.events)) {
            for (e = (e || "").match(Bt) || [""], l = e.length; l--; )
              if (
                ((a = de.exec(e[l]) || []),
                (d = m = a[1]),
                (f = (a[2] || "").split(".").sort()),
                d)
              ) {
                for (
                  c = Pt.event.special[d] || {},
                    d = (n ? c.delegateType : c.bindType) || d,
                    p = h[d] || [],
                    a =
                      a[2] &&
                      new RegExp(
                        "(^|\\.)" + f.join("\\.(?:.*\\.|)") + "(\\.|$)"
                      ),
                    o = s = p.length;
                  s--;

                )
                  (u = p[s]),
                    (!r && m !== u.origType) ||
                      (i && i.guid !== u.guid) ||
                      (a && !a.test(u.namespace)) ||
                      (n && n !== u.selector && ("**" !== n || !u.selector)) ||
                      (p.splice(s, 1),
                      u.selector && p.delegateCount--,
                      c.remove && c.remove.call(t, u));
                o &&
                  !p.length &&
                  ((c.teardown && c.teardown.call(t, f, _.handle) !== !1) ||
                    Pt.removeEvent(t, d, _.handle),
                  delete h[d]);
              } else for (d in h) Pt.event.remove(t, d + e[l], i, n, !0);
            Pt.isEmptyObject(h) && qt.remove(t, "handle events");
          }
        },
        dispatch: function (t) {
          var e,
            i,
            n,
            r,
            s,
            o,
            a = Pt.event.fix(t),
            h = new Array(arguments.length),
            l = (qt.get(this, "events") || {})[a.type] || [],
            u = Pt.event.special[a.type] || {};
          for (h[0] = a, e = 1; e < arguments.length; e++) h[e] = arguments[e];
          if (
            ((a.delegateTarget = this),
            !u.preDispatch || u.preDispatch.call(this, a) !== !1)
          ) {
            for (
              o = Pt.event.handlers.call(this, a, l), e = 0;
              (r = o[e++]) && !a.isPropagationStopped();

            )
              for (
                a.currentTarget = r.elem, i = 0;
                (s = r.handlers[i++]) && !a.isImmediatePropagationStopped();

              )
                (a.rnamespace &&
                  s.namespace !== !1 &&
                  !a.rnamespace.test(s.namespace)) ||
                  ((a.handleObj = s),
                  (a.data = s.data),
                  (n = (
                    (Pt.event.special[s.origType] || {}).handle || s.handler
                  ).apply(r.elem, h)),
                  void 0 !== n &&
                    (a.result = n) === !1 &&
                    (a.preventDefault(), a.stopPropagation()));
            return u.postDispatch && u.postDispatch.call(this, a), a.result;
          }
        },
        handlers: function (t, e) {
          var i,
            n,
            r,
            s,
            o,
            a = [],
            h = e.delegateCount,
            l = t.target;
          if (h && l.nodeType && !("click" === t.type && t.button >= 1))
            for (; l !== this; l = l.parentNode || this)
              if (
                1 === l.nodeType &&
                ("click" !== t.type || l.disabled !== !0)
              ) {
                for (s = [], o = {}, i = 0; i < h; i++)
                  (n = e[i]),
                    (r = n.selector + " "),
                    void 0 === o[r] &&
                      (o[r] = n.needsContext
                        ? Pt(r, this).index(l) > -1
                        : Pt.find(r, this, null, [l]).length),
                    o[r] && s.push(n);
                s.length && a.push({ elem: l, handlers: s });
              }
          return (
            (l = this),
            h < e.length && a.push({ elem: l, handlers: e.slice(h) }),
            a
          );
        },
        addProp: function (t, e) {
          Object.defineProperty(Pt.Event.prototype, t, {
            enumerable: !0,
            configurable: !0,
            get: Et(e)
              ? function () {
                  if (this.originalEvent) return e(this.originalEvent);
                }
              : function () {
                  if (this.originalEvent) return this.originalEvent[t];
                },
            set: function (e) {
              Object.defineProperty(this, t, {
                enumerable: !0,
                configurable: !0,
                writable: !0,
                value: e,
              });
            },
          });
        },
        fix: function (t) {
          return t[Pt.expando] ? t : new Pt.Event(t);
        },
        special: {
          load: { noBubble: !0 },
          click: {
            setup: function (t) {
              var e = this || t;
              return (
                oe.test(e.type) && e.click && l(e, "input") && O(e, "click", P),
                !1
              );
            },
            trigger: function (t) {
              var e = this || t;
              return (
                oe.test(e.type) && e.click && l(e, "input") && O(e, "click"), !0
              );
            },
            _default: function (t) {
              var e = t.target;
              return (
                (oe.test(e.type) &&
                  e.click &&
                  l(e, "input") &&
                  qt.get(e, "click")) ||
                l(e, "a")
              );
            },
          },
          beforeunload: {
            postDispatch: function (t) {
              void 0 !== t.result &&
                t.originalEvent &&
                (t.originalEvent.returnValue = t.result);
            },
          },
        },
      }),
        (Pt.removeEvent = function (t, e, i) {
          t.removeEventListener && t.removeEventListener(e, i);
        }),
        (Pt.Event = function (t, e) {
          return this instanceof Pt.Event
            ? (t && t.type
                ? ((this.originalEvent = t),
                  (this.type = t.type),
                  (this.isDefaultPrevented =
                    t.defaultPrevented ||
                    (void 0 === t.defaultPrevented && t.returnValue === !1)
                      ? P
                      : A),
                  (this.target =
                    t.target && 3 === t.target.nodeType
                      ? t.target.parentNode
                      : t.target),
                  (this.currentTarget = t.currentTarget),
                  (this.relatedTarget = t.relatedTarget))
                : (this.type = t),
              e && Pt.extend(this, e),
              (this.timeStamp = (t && t.timeStamp) || Date.now()),
              void (this[Pt.expando] = !0))
            : new Pt.Event(t, e);
        }),
        (Pt.Event.prototype = {
          constructor: Pt.Event,
          isDefaultPrevented: A,
          isPropagationStopped: A,
          isImmediatePropagationStopped: A,
          isSimulated: !1,
          preventDefault: function () {
            var t = this.originalEvent;
            (this.isDefaultPrevented = P),
              t && !this.isSimulated && t.preventDefault();
          },
          stopPropagation: function () {
            var t = this.originalEvent;
            (this.isPropagationStopped = P),
              t && !this.isSimulated && t.stopPropagation();
          },
          stopImmediatePropagation: function () {
            var t = this.originalEvent;
            (this.isImmediatePropagationStopped = P),
              t && !this.isSimulated && t.stopImmediatePropagation(),
              this.stopPropagation();
          },
        }),
        Pt.each(
          {
            altKey: !0,
            bubbles: !0,
            cancelable: !0,
            changedTouches: !0,
            ctrlKey: !0,
            detail: !0,
            eventPhase: !0,
            metaKey: !0,
            pageX: !0,
            pageY: !0,
            shiftKey: !0,
            view: !0,
            char: !0,
            code: !0,
            charCode: !0,
            key: !0,
            keyCode: !0,
            button: !0,
            buttons: !0,
            clientX: !0,
            clientY: !0,
            offsetX: !0,
            offsetY: !0,
            pointerId: !0,
            pointerType: !0,
            screenX: !0,
            screenY: !0,
            targetTouches: !0,
            toElement: !0,
            touches: !0,
            which: function (t) {
              var e = t.button;
              return null == t.which && ce.test(t.type)
                ? null != t.charCode
                  ? t.charCode
                  : t.keyCode
                : !t.which && void 0 !== e && pe.test(t.type)
                ? 1 & e
                  ? 1
                  : 2 & e
                  ? 3
                  : 4 & e
                  ? 2
                  : 0
                : t.which;
            },
          },
          Pt.event.addProp
        ),
        Pt.each({ focus: "focusin", blur: "focusout" }, function (t, e) {
          Pt.event.special[t] = {
            setup: function () {
              return O(this, t, R), !1;
            },
            trigger: function () {
              return O(this, t), !0;
            },
            delegateType: e,
          };
        }),
        Pt.each(
          {
            mouseenter: "mouseover",
            mouseleave: "mouseout",
            pointerenter: "pointerover",
            pointerleave: "pointerout",
          },
          function (t, e) {
            Pt.event.special[t] = {
              delegateType: e,
              bindType: e,
              handle: function (t) {
                var i,
                  n = this,
                  r = t.relatedTarget,
                  s = t.handleObj;
                return (
                  (r && (r === n || Pt.contains(n, r))) ||
                    ((t.type = s.origType),
                    (i = s.handler.apply(this, arguments)),
                    (t.type = e)),
                  i
                );
              },
            };
          }
        ),
        Pt.fn.extend({
          on: function (t, e, i, n) {
            return I(this, t, e, i, n);
          },
          one: function (t, e, i, n) {
            return I(this, t, e, i, n, 1);
          },
          off: function (t, e, i) {
            var n, r;
            if (t && t.preventDefault && t.handleObj)
              return (
                (n = t.handleObj),
                Pt(t.delegateTarget).off(
                  n.namespace ? n.origType + "." + n.namespace : n.origType,
                  n.selector,
                  n.handler
                ),
                this
              );
            if ("object" == typeof t) {
              for (r in t) this.off(r, e, t[r]);
              return this;
            }
            return (
              (e !== !1 && "function" != typeof e) || ((i = e), (e = void 0)),
              i === !1 && (i = A),
              this.each(function () {
                Pt.event.remove(this, t, i, e);
              })
            );
          },
        });
      var fe =
          /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,
        me = /<script|<style|<link/i,
        _e = /checked\s*(?:[^=]|=\s*.checked.)/i,
        ge = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;
      Pt.extend({
        htmlPrefilter: function (t) {
          return t.replace(fe, "<$1></$2>");
        },
        clone: function (t, e, i) {
          var n,
            r,
            s,
            o,
            a = t.cloneNode(!0),
            h = ee(t);
          if (
            !(
              Tt.noCloneChecked ||
              (1 !== t.nodeType && 11 !== t.nodeType) ||
              Pt.isXMLDoc(t)
            )
          )
            for (o = S(a), s = S(t), n = 0, r = s.length; n < r; n++)
              F(s[n], o[n]);
          if (e)
            if (i)
              for (
                s = s || S(t), o = o || S(a), n = 0, r = s.length;
                n < r;
                n++
              )
                z(s[n], o[n]);
            else z(t, a);
          return (
            (o = S(a, "script")), o.length > 0 && M(o, !h && S(t, "script")), a
          );
        },
        cleanData: function (t) {
          for (
            var e, i, n, r = Pt.event.special, s = 0;
            void 0 !== (i = t[s]);
            s++
          )
            if (Xt(i)) {
              if ((e = i[qt.expando])) {
                if (e.events)
                  for (n in e.events)
                    r[n]
                      ? Pt.event.remove(i, n)
                      : Pt.removeEvent(i, n, e.handle);
                i[qt.expando] = void 0;
              }
              i[Yt.expando] && (i[Yt.expando] = void 0);
            }
        },
      }),
        Pt.fn.extend({
          detach: function (t) {
            return B(this, t, !0);
          },
          remove: function (t) {
            return B(this, t);
          },
          text: function (t) {
            return Vt(
              this,
              function (t) {
                return void 0 === t
                  ? Pt.text(this)
                  : this.empty().each(function () {
                      (1 !== this.nodeType &&
                        11 !== this.nodeType &&
                        9 !== this.nodeType) ||
                        (this.textContent = t);
                    });
              },
              null,
              t,
              arguments.length
            );
          },
          append: function () {
            return H(this, arguments, function (t) {
              if (
                1 === this.nodeType ||
                11 === this.nodeType ||
                9 === this.nodeType
              ) {
                var e = D(this, t);
                e.appendChild(t);
              }
            });
          },
          prepend: function () {
            return H(this, arguments, function (t) {
              if (
                1 === this.nodeType ||
                11 === this.nodeType ||
                9 === this.nodeType
              ) {
                var e = D(this, t);
                e.insertBefore(t, e.firstChild);
              }
            });
          },
          before: function () {
            return H(this, arguments, function (t) {
              this.parentNode && this.parentNode.insertBefore(t, this);
            });
          },
          after: function () {
            return H(this, arguments, function (t) {
              this.parentNode &&
                this.parentNode.insertBefore(t, this.nextSibling);
            });
          },
          empty: function () {
            for (var t, e = 0; null != (t = this[e]); e++)
              1 === t.nodeType &&
                (Pt.cleanData(S(t, !1)), (t.textContent = ""));
            return this;
          },
          clone: function (t, e) {
            return (
              (t = null != t && t),
              (e = null == e ? t : e),
              this.map(function () {
                return Pt.clone(this, t, e);
              })
            );
          },
          html: function (t) {
            return Vt(
              this,
              function (t) {
                var e = this[0] || {},
                  i = 0,
                  n = this.length;
                if (void 0 === t && 1 === e.nodeType) return e.innerHTML;
                if (
                  "string" == typeof t &&
                  !me.test(t) &&
                  !le[(ae.exec(t) || ["", ""])[1].toLowerCase()]
                ) {
                  t = Pt.htmlPrefilter(t);
                  try {
                    for (; i < n; i++)
                      (e = this[i] || {}),
                        1 === e.nodeType &&
                          (Pt.cleanData(S(e, !1)), (e.innerHTML = t));
                    e = 0;
                  } catch (t) {}
                }
                e && this.empty().append(t);
              },
              null,
              t,
              arguments.length
            );
          },
          replaceWith: function () {
            var t = [];
            return H(
              this,
              arguments,
              function (e) {
                var i = this.parentNode;
                Pt.inArray(this, t) < 0 &&
                  (Pt.cleanData(S(this)), i && i.replaceChild(e, this));
              },
              t
            );
          },
        }),
        Pt.each(
          {
            appendTo: "append",
            prependTo: "prepend",
            insertBefore: "before",
            insertAfter: "after",
            replaceAll: "replaceWith",
          },
          function (t, e) {
            Pt.fn[t] = function (t) {
              for (
                var i, n = [], r = Pt(t), s = r.length - 1, o = 0;
                o <= s;
                o++
              )
                (i = o === s ? this : this.clone(!0)),
                  Pt(r[o])[e](i),
                  _t.apply(n, i.get());
              return this.pushStack(n);
            };
          }
        );
      var ve = new RegExp("^(" + Jt + ")(?!px)[a-z%]+$", "i"),
        ye = function (t) {
          var e = t.ownerDocument.defaultView;
          return (e && e.opener) || (e = i), e.getComputedStyle(t);
        },
        xe = new RegExp(Kt.join("|"), "i");
      !(function () {
        function t() {
          if (l) {
            (h.style.cssText =
              "position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0"),
              (l.style.cssText =
                "position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%"),
              te.appendChild(h).appendChild(l);
            var t = i.getComputedStyle(l);
            (n = "1%" !== t.top),
              (a = 12 === e(t.marginLeft)),
              (l.style.right = "60%"),
              (o = 36 === e(t.right)),
              (r = 36 === e(t.width)),
              (l.style.position = "absolute"),
              (s = 12 === e(l.offsetWidth / 3)),
              te.removeChild(h),
              (l = null);
          }
        }
        function e(t) {
          return Math.round(parseFloat(t));
        }
        var n,
          r,
          s,
          o,
          a,
          h = pt.createElement("div"),
          l = pt.createElement("div");
        l.style &&
          ((l.style.backgroundClip = "content-box"),
          (l.cloneNode(!0).style.backgroundClip = ""),
          (Tt.clearCloneStyle = "content-box" === l.style.backgroundClip),
          Pt.extend(Tt, {
            boxSizingReliable: function () {
              return t(), r;
            },
            pixelBoxStyles: function () {
              return t(), o;
            },
            pixelPosition: function () {
              return t(), n;
            },
            reliableMarginLeft: function () {
              return t(), a;
            },
            scrollboxSize: function () {
              return t(), s;
            },
          }));
      })();
      var we = ["Webkit", "Moz", "ms"],
        be = pt.createElement("div").style,
        Te = {},
        Ee = /^(none|table(?!-c[ea]).+)/,
        Se = /^--/,
        Me = { position: "absolute", visibility: "hidden", display: "block" },
        Ce = { letterSpacing: "0", fontWeight: "400" };
      Pt.extend({
        cssHooks: {
          opacity: {
            get: function (t, e) {
              if (e) {
                var i = U(t, "opacity");
                return "" === i ? "1" : i;
              }
            },
          },
        },
        cssNumber: {
          animationIterationCount: !0,
          columnCount: !0,
          fillOpacity: !0,
          flexGrow: !0,
          flexShrink: !0,
          fontWeight: !0,
          gridArea: !0,
          gridColumn: !0,
          gridColumnEnd: !0,
          gridColumnStart: !0,
          gridRow: !0,
          gridRowEnd: !0,
          gridRowStart: !0,
          lineHeight: !0,
          opacity: !0,
          order: !0,
          orphans: !0,
          widows: !0,
          zIndex: !0,
          zoom: !0,
        },
        cssProps: {},
        style: function (t, e, i, n) {
          if (t && 3 !== t.nodeType && 8 !== t.nodeType && t.style) {
            var r,
              s,
              o,
              a = v(e),
              h = Se.test(e),
              l = t.style;
            return (
              h || (e = j(a)),
              (o = Pt.cssHooks[e] || Pt.cssHooks[a]),
              void 0 === i
                ? o && "get" in o && void 0 !== (r = o.get(t, !1, n))
                  ? r
                  : l[e]
                : ((s = typeof i),
                  "string" === s &&
                    (r = Qt.exec(i)) &&
                    r[1] &&
                    ((i = b(t, e, r)), (s = "number")),
                  null != i &&
                    i === i &&
                    ("number" !== s ||
                      h ||
                      (i += (r && r[3]) || (Pt.cssNumber[a] ? "" : "px")),
                    Tt.clearCloneStyle ||
                      "" !== i ||
                      0 !== e.indexOf("background") ||
                      (l[e] = "inherit"),
                    (o && "set" in o && void 0 === (i = o.set(t, i, n))) ||
                      (h ? l.setProperty(e, i) : (l[e] = i))),
                  void 0)
            );
          }
        },
        css: function (t, e, i, n) {
          var r,
            s,
            o,
            a = v(e),
            h = Se.test(e);
          return (
            h || (e = j(a)),
            (o = Pt.cssHooks[e] || Pt.cssHooks[a]),
            o && "get" in o && (r = o.get(t, !0, i)),
            void 0 === r && (r = U(t, e, n)),
            "normal" === r && e in Ce && (r = Ce[e]),
            "" === i || i
              ? ((s = parseFloat(r)), i === !0 || isFinite(s) ? s || 0 : r)
              : r
          );
        },
      }),
        Pt.each(["height", "width"], function (t, e) {
          Pt.cssHooks[e] = {
            get: function (t, i, n) {
              if (i)
                return !Ee.test(Pt.css(t, "display")) ||
                  (t.getClientRects().length && t.getBoundingClientRect().width)
                  ? q(t, e, n)
                  : re(t, Me, function () {
                      return q(t, e, n);
                    });
            },
            set: function (t, i, n) {
              var r,
                s = ye(t),
                o = !Tt.scrollboxSize() && "absolute" === s.position,
                a = o || n,
                h = a && "border-box" === Pt.css(t, "boxSizing", !1, s),
                l = n ? X(t, e, n, h, s) : 0;
              return (
                h &&
                  o &&
                  (l -= Math.ceil(
                    t["offset" + e[0].toUpperCase() + e.slice(1)] -
                      parseFloat(s[e]) -
                      X(t, e, "border", !1, s) -
                      0.5
                  )),
                l &&
                  (r = Qt.exec(i)) &&
                  "px" !== (r[3] || "px") &&
                  ((t.style[e] = i), (i = Pt.css(t, e))),
                W(t, i, l)
              );
            },
          };
        }),
        (Pt.cssHooks.marginLeft = G(Tt.reliableMarginLeft, function (t, e) {
          if (e)
            return (
              (parseFloat(U(t, "marginLeft")) ||
                t.getBoundingClientRect().left -
                  re(t, { marginLeft: 0 }, function () {
                    return t.getBoundingClientRect().left;
                  })) + "px"
            );
        })),
        Pt.each({ margin: "", padding: "", border: "Width" }, function (t, e) {
          (Pt.cssHooks[t + e] = {
            expand: function (i) {
              for (
                var n = 0,
                  r = {},
                  s = "string" == typeof i ? i.split(" ") : [i];
                n < 4;
                n++
              )
                r[t + Kt[n] + e] = s[n] || s[n - 2] || s[0];
              return r;
            },
          }),
            "margin" !== t && (Pt.cssHooks[t + e].set = W);
        }),
        Pt.fn.extend({
          css: function (t, e) {
            return Vt(
              this,
              function (t, e, i) {
                var n,
                  r,
                  s = {},
                  o = 0;
                if (Array.isArray(e)) {
                  for (n = ye(t), r = e.length; o < r; o++)
                    s[e[o]] = Pt.css(t, e[o], !1, n);
                  return s;
                }
                return void 0 !== i ? Pt.style(t, e, i) : Pt.css(t, e);
              },
              t,
              e,
              arguments.length > 1
            );
          },
        }),
        (Pt.Tween = Y),
        (Y.prototype = {
          constructor: Y,
          init: function (t, e, i, n, r, s) {
            (this.elem = t),
              (this.prop = i),
              (this.easing = r || Pt.easing._default),
              (this.options = e),
              (this.start = this.now = this.cur()),
              (this.end = n),
              (this.unit = s || (Pt.cssNumber[i] ? "" : "px"));
          },
          cur: function () {
            var t = Y.propHooks[this.prop];
            return t && t.get ? t.get(this) : Y.propHooks._default.get(this);
          },
          run: function (t) {
            var e,
              i = Y.propHooks[this.prop];
            return (
              this.options.duration
                ? (this.pos = e =
                    Pt.easing[this.easing](
                      t,
                      this.options.duration * t,
                      0,
                      1,
                      this.options.duration
                    ))
                : (this.pos = e = t),
              (this.now = (this.end - this.start) * e + this.start),
              this.options.step &&
                this.options.step.call(this.elem, this.now, this),
              i && i.set ? i.set(this) : Y.propHooks._default.set(this),
              this
            );
          },
        }),
        (Y.prototype.init.prototype = Y.prototype),
        (Y.propHooks = {
          _default: {
            get: function (t) {
              var e;
              return 1 !== t.elem.nodeType ||
                (null != t.elem[t.prop] && null == t.elem.style[t.prop])
                ? t.elem[t.prop]
                : ((e = Pt.css(t.elem, t.prop, "")), e && "auto" !== e ? e : 0);
            },
            set: function (t) {
              Pt.fx.step[t.prop]
                ? Pt.fx.step[t.prop](t)
                : 1 !== t.elem.nodeType ||
                  (!Pt.cssHooks[t.prop] && null == t.elem.style[j(t.prop)])
                ? (t.elem[t.prop] = t.now)
                : Pt.style(t.elem, t.prop, t.now + t.unit);
            },
          },
        }),
        (Y.propHooks.scrollTop = Y.propHooks.scrollLeft =
          {
            set: function (t) {
              t.elem.nodeType && t.elem.parentNode && (t.elem[t.prop] = t.now);
            },
          }),
        (Pt.easing = {
          linear: function (t) {
            return t;
          },
          swing: function (t) {
            return 0.5 - Math.cos(t * Math.PI) / 2;
          },
          _default: "swing",
        }),
        (Pt.fx = Y.prototype.init),
        (Pt.fx.step = {});
      var Pe,
        Ae,
        Re = /^(?:toggle|show|hide)$/,
        Le = /queueHooks$/;
      (Pt.Animation = Pt.extend(et, {
        tweeners: {
          "*": [
            function (t, e) {
              var i = this.createTween(t, e);
              return b(i.elem, t, Qt.exec(e), i), i;
            },
          ],
        },
        tweener: function (t, e) {
          Et(t) ? ((e = t), (t = ["*"])) : (t = t.match(Bt));
          for (var i, n = 0, r = t.length; n < r; n++)
            (i = t[n]),
              (et.tweeners[i] = et.tweeners[i] || []),
              et.tweeners[i].unshift(e);
        },
        prefilters: [K],
        prefilter: function (t, e) {
          e ? et.prefilters.unshift(t) : et.prefilters.push(t);
        },
      })),
        (Pt.speed = function (t, e, i) {
          var n =
            t && "object" == typeof t
              ? Pt.extend({}, t)
              : {
                  complete: i || (!i && e) || (Et(t) && t),
                  duration: t,
                  easing: (i && e) || (e && !Et(e) && e),
                };
          return (
            Pt.fx.off
              ? (n.duration = 0)
              : "number" != typeof n.duration &&
                (n.duration in Pt.fx.speeds
                  ? (n.duration = Pt.fx.speeds[n.duration])
                  : (n.duration = Pt.fx.speeds._default)),
            (null != n.queue && n.queue !== !0) || (n.queue = "fx"),
            (n.old = n.complete),
            (n.complete = function () {
              Et(n.old) && n.old.call(this),
                n.queue && Pt.dequeue(this, n.queue);
            }),
            n
          );
        }),
        Pt.fn.extend({
          fadeTo: function (t, e, i, n) {
            return this.filter(ne)
              .css("opacity", 0)
              .show()
              .end()
              .animate({ opacity: e }, t, i, n);
          },
          animate: function (t, e, i, n) {
            var r = Pt.isEmptyObject(t),
              s = Pt.speed(e, i, n),
              o = function () {
                var e = et(this, Pt.extend({}, t), s);
                (r || qt.get(this, "finish")) && e.stop(!0);
              };
            return (
              (o.finish = o),
              r || s.queue === !1 ? this.each(o) : this.queue(s.queue, o)
            );
          },
          stop: function (t, e, i) {
            var n = function (t) {
              var e = t.stop;
              delete t.stop, e(i);
            };
            return (
              "string" != typeof t && ((i = e), (e = t), (t = void 0)),
              e && t !== !1 && this.queue(t || "fx", []),
              this.each(function () {
                var e = !0,
                  r = null != t && t + "queueHooks",
                  s = Pt.timers,
                  o = qt.get(this);
                if (r) o[r] && o[r].stop && n(o[r]);
                else for (r in o) o[r] && o[r].stop && Le.test(r) && n(o[r]);
                for (r = s.length; r--; )
                  s[r].elem !== this ||
                    (null != t && s[r].queue !== t) ||
                    (s[r].anim.stop(i), (e = !1), s.splice(r, 1));
                (!e && i) || Pt.dequeue(this, t);
              })
            );
          },
          finish: function (t) {
            return (
              t !== !1 && (t = t || "fx"),
              this.each(function () {
                var e,
                  i = qt.get(this),
                  n = i[t + "queue"],
                  r = i[t + "queueHooks"],
                  s = Pt.timers,
                  o = n ? n.length : 0;
                for (
                  i.finish = !0,
                    Pt.queue(this, t, []),
                    r && r.stop && r.stop.call(this, !0),
                    e = s.length;
                  e--;

                )
                  s[e].elem === this &&
                    s[e].queue === t &&
                    (s[e].anim.stop(!0), s.splice(e, 1));
                for (e = 0; e < o; e++)
                  n[e] && n[e].finish && n[e].finish.call(this);
                delete i.finish;
              })
            );
          },
        }),
        Pt.each(["toggle", "show", "hide"], function (t, e) {
          var i = Pt.fn[e];
          Pt.fn[e] = function (t, n, r) {
            return null == t || "boolean" == typeof t
              ? i.apply(this, arguments)
              : this.animate(J(e, !0), t, n, r);
          };
        }),
        Pt.each(
          {
            slideDown: J("show"),
            slideUp: J("hide"),
            slideToggle: J("toggle"),
            fadeIn: { opacity: "show" },
            fadeOut: { opacity: "hide" },
            fadeToggle: { opacity: "toggle" },
          },
          function (t, e) {
            Pt.fn[t] = function (t, i, n) {
              return this.animate(e, t, i, n);
            };
          }
        ),
        (Pt.timers = []),
        (Pt.fx.tick = function () {
          var t,
            e = 0,
            i = Pt.timers;
          for (Pe = Date.now(); e < i.length; e++)
            (t = i[e]), t() || i[e] !== t || i.splice(e--, 1);
          i.length || Pt.fx.stop(), (Pe = void 0);
        }),
        (Pt.fx.timer = function (t) {
          Pt.timers.push(t), Pt.fx.start();
        }),
        (Pt.fx.interval = 13),
        (Pt.fx.start = function () {
          Ae || ((Ae = !0), Z());
        }),
        (Pt.fx.stop = function () {
          Ae = null;
        }),
        (Pt.fx.speeds = { slow: 600, fast: 200, _default: 400 }),
        (Pt.fn.delay = function (t, e) {
          return (
            (t = Pt.fx ? Pt.fx.speeds[t] || t : t),
            (e = e || "fx"),
            this.queue(e, function (e, n) {
              var r = i.setTimeout(e, t);
              n.stop = function () {
                i.clearTimeout(r);
              };
            })
          );
        }),
        (function () {
          var t = pt.createElement("input"),
            e = pt.createElement("select"),
            i = e.appendChild(pt.createElement("option"));
          (t.type = "checkbox"),
            (Tt.checkOn = "" !== t.value),
            (Tt.optSelected = i.selected),
            (t = pt.createElement("input")),
            (t.value = "t"),
            (t.type = "radio"),
            (Tt.radioValue = "t" === t.value);
        })();
      var Ie,
        Oe = Pt.expr.attrHandle;
      Pt.fn.extend({
        attr: function (t, e) {
          return Vt(this, Pt.attr, t, e, arguments.length > 1);
        },
        removeAttr: function (t) {
          return this.each(function () {
            Pt.removeAttr(this, t);
          });
        },
      }),
        Pt.extend({
          attr: function (t, e, i) {
            var n,
              r,
              s = t.nodeType;
            if (3 !== s && 8 !== s && 2 !== s)
              return "undefined" == typeof t.getAttribute
                ? Pt.prop(t, e, i)
                : ((1 === s && Pt.isXMLDoc(t)) ||
                    (r =
                      Pt.attrHooks[e.toLowerCase()] ||
                      (Pt.expr.match.bool.test(e) ? Ie : void 0)),
                  void 0 !== i
                    ? null === i
                      ? void Pt.removeAttr(t, e)
                      : r && "set" in r && void 0 !== (n = r.set(t, i, e))
                      ? n
                      : (t.setAttribute(e, i + ""), i)
                    : r && "get" in r && null !== (n = r.get(t, e))
                    ? n
                    : ((n = Pt.find.attr(t, e)), null == n ? void 0 : n));
          },
          attrHooks: {
            type: {
              set: function (t, e) {
                if (!Tt.radioValue && "radio" === e && l(t, "input")) {
                  var i = t.value;
                  return t.setAttribute("type", e), i && (t.value = i), e;
                }
              },
            },
          },
          removeAttr: function (t, e) {
            var i,
              n = 0,
              r = e && e.match(Bt);
            if (r && 1 === t.nodeType)
              for (; (i = r[n++]); ) t.removeAttribute(i);
          },
        }),
        (Ie = {
          set: function (t, e, i) {
            return e === !1 ? Pt.removeAttr(t, i) : t.setAttribute(i, i), i;
          },
        }),
        Pt.each(Pt.expr.match.bool.source.match(/\w+/g), function (t, e) {
          var i = Oe[e] || Pt.find.attr;
          Oe[e] = function (t, e, n) {
            var r,
              s,
              o = e.toLowerCase();
            return (
              n ||
                ((s = Oe[o]),
                (Oe[o] = r),
                (r = null != i(t, e, n) ? o : null),
                (Oe[o] = s)),
              r
            );
          };
        });
      var De = /^(?:input|select|textarea|button)$/i,
        ke = /^(?:a|area)$/i;
      Pt.fn.extend({
        prop: function (t, e) {
          return Vt(this, Pt.prop, t, e, arguments.length > 1);
        },
        removeProp: function (t) {
          return this.each(function () {
            delete this[Pt.propFix[t] || t];
          });
        },
      }),
        Pt.extend({
          prop: function (t, e, i) {
            var n,
              r,
              s = t.nodeType;
            if (3 !== s && 8 !== s && 2 !== s)
              return (
                (1 === s && Pt.isXMLDoc(t)) ||
                  ((e = Pt.propFix[e] || e), (r = Pt.propHooks[e])),
                void 0 !== i
                  ? r && "set" in r && void 0 !== (n = r.set(t, i, e))
                    ? n
                    : (t[e] = i)
                  : r && "get" in r && null !== (n = r.get(t, e))
                  ? n
                  : t[e]
              );
          },
          propHooks: {
            tabIndex: {
              get: function (t) {
                var e = Pt.find.attr(t, "tabindex");
                return e
                  ? parseInt(e, 10)
                  : De.test(t.nodeName) || (ke.test(t.nodeName) && t.href)
                  ? 0
                  : -1;
              },
            },
          },
          propFix: { for: "htmlFor", class: "className" },
        }),
        Tt.optSelected ||
          (Pt.propHooks.selected = {
            get: function (t) {
              var e = t.parentNode;
              return e && e.parentNode && e.parentNode.selectedIndex, null;
            },
            set: function (t) {
              var e = t.parentNode;
              e &&
                (e.selectedIndex, e.parentNode && e.parentNode.selectedIndex);
            },
          }),
        Pt.each(
          [
            "tabIndex",
            "readOnly",
            "maxLength",
            "cellSpacing",
            "cellPadding",
            "rowSpan",
            "colSpan",
            "useMap",
            "frameBorder",
            "contentEditable",
          ],
          function () {
            Pt.propFix[this.toLowerCase()] = this;
          }
        ),
        Pt.fn.extend({
          addClass: function (t) {
            var e,
              i,
              n,
              r,
              s,
              o,
              a,
              h = 0;
            if (Et(t))
              return this.each(function (e) {
                Pt(this).addClass(t.call(this, e, nt(this)));
              });
            if (((e = rt(t)), e.length))
              for (; (i = this[h++]); )
                if (
                  ((r = nt(i)), (n = 1 === i.nodeType && " " + it(r) + " "))
                ) {
                  for (o = 0; (s = e[o++]); )
                    n.indexOf(" " + s + " ") < 0 && (n += s + " ");
                  (a = it(n)), r !== a && i.setAttribute("class", a);
                }
            return this;
          },
          removeClass: function (t) {
            var e,
              i,
              n,
              r,
              s,
              o,
              a,
              h = 0;
            if (Et(t))
              return this.each(function (e) {
                Pt(this).removeClass(t.call(this, e, nt(this)));
              });
            if (!arguments.length) return this.attr("class", "");
            if (((e = rt(t)), e.length))
              for (; (i = this[h++]); )
                if (
                  ((r = nt(i)), (n = 1 === i.nodeType && " " + it(r) + " "))
                ) {
                  for (o = 0; (s = e[o++]); )
                    for (; n.indexOf(" " + s + " ") > -1; )
                      n = n.replace(" " + s + " ", " ");
                  (a = it(n)), r !== a && i.setAttribute("class", a);
                }
            return this;
          },
          toggleClass: function (t, e) {
            var i = typeof t,
              n = "string" === i || Array.isArray(t);
            return "boolean" == typeof e && n
              ? e
                ? this.addClass(t)
                : this.removeClass(t)
              : Et(t)
              ? this.each(function (i) {
                  Pt(this).toggleClass(t.call(this, i, nt(this), e), e);
                })
              : this.each(function () {
                  var e, r, s, o;
                  if (n)
                    for (r = 0, s = Pt(this), o = rt(t); (e = o[r++]); )
                      s.hasClass(e) ? s.removeClass(e) : s.addClass(e);
                  else
                    (void 0 !== t && "boolean" !== i) ||
                      ((e = nt(this)),
                      e && qt.set(this, "__className__", e),
                      this.setAttribute &&
                        this.setAttribute(
                          "class",
                          e || t === !1
                            ? ""
                            : qt.get(this, "__className__") || ""
                        ));
                });
          },
          hasClass: function (t) {
            var e,
              i,
              n = 0;
            for (e = " " + t + " "; (i = this[n++]); )
              if (1 === i.nodeType && (" " + it(nt(i)) + " ").indexOf(e) > -1)
                return !0;
            return !1;
          },
        });
      var Ne = /\r/g;
      Pt.fn.extend({
        val: function (t) {
          var e,
            i,
            n,
            r = this[0];
          {
            if (arguments.length)
              return (
                (n = Et(t)),
                this.each(function (i) {
                  var r;
                  1 === this.nodeType &&
                    ((r = n ? t.call(this, i, Pt(this).val()) : t),
                    null == r
                      ? (r = "")
                      : "number" == typeof r
                      ? (r += "")
                      : Array.isArray(r) &&
                        (r = Pt.map(r, function (t) {
                          return null == t ? "" : t + "";
                        })),
                    (e =
                      Pt.valHooks[this.type] ||
                      Pt.valHooks[this.nodeName.toLowerCase()]),
                    (e && "set" in e && void 0 !== e.set(this, r, "value")) ||
                      (this.value = r));
                })
              );
            if (r)
              return (
                (e =
                  Pt.valHooks[r.type] || Pt.valHooks[r.nodeName.toLowerCase()]),
                e && "get" in e && void 0 !== (i = e.get(r, "value"))
                  ? i
                  : ((i = r.value),
                    "string" == typeof i
                      ? i.replace(Ne, "")
                      : null == i
                      ? ""
                      : i)
              );
          }
        },
      }),
        Pt.extend({
          valHooks: {
            option: {
              get: function (t) {
                var e = Pt.find.attr(t, "value");
                return null != e ? e : it(Pt.text(t));
              },
            },
            select: {
              get: function (t) {
                var e,
                  i,
                  n,
                  r = t.options,
                  s = t.selectedIndex,
                  o = "select-one" === t.type,
                  a = o ? null : [],
                  h = o ? s + 1 : r.length;
                for (n = s < 0 ? h : o ? s : 0; n < h; n++)
                  if (
                    ((i = r[n]),
                    (i.selected || n === s) &&
                      !i.disabled &&
                      (!i.parentNode.disabled || !l(i.parentNode, "optgroup")))
                  ) {
                    if (((e = Pt(i).val()), o)) return e;
                    a.push(e);
                  }
                return a;
              },
              set: function (t, e) {
                for (
                  var i, n, r = t.options, s = Pt.makeArray(e), o = r.length;
                  o--;

                )
                  (n = r[o]),
                    (n.selected =
                      Pt.inArray(Pt.valHooks.option.get(n), s) > -1) &&
                      (i = !0);
                return i || (t.selectedIndex = -1), s;
              },
            },
          },
        }),
        Pt.each(["radio", "checkbox"], function () {
          (Pt.valHooks[this] = {
            set: function (t, e) {
              if (Array.isArray(e))
                return (t.checked = Pt.inArray(Pt(t).val(), e) > -1);
            },
          }),
            Tt.checkOn ||
              (Pt.valHooks[this].get = function (t) {
                return null === t.getAttribute("value") ? "on" : t.value;
              });
        }),
        (Tt.focusin = "onfocusin" in i);
      var ze = /^(?:focusinfocus|focusoutblur)$/,
        Fe = function (t) {
          t.stopPropagation();
        };
      Pt.extend(Pt.event, {
        trigger: function (t, e, n, r) {
          var s,
            o,
            a,
            h,
            l,
            u,
            c,
            p,
            d = [n || pt],
            f = xt.call(t, "type") ? t.type : t,
            m = xt.call(t, "namespace") ? t.namespace.split(".") : [];
          if (
            ((o = p = a = n = n || pt),
            3 !== n.nodeType &&
              8 !== n.nodeType &&
              !ze.test(f + Pt.event.triggered) &&
              (f.indexOf(".") > -1 &&
                ((m = f.split(".")), (f = m.shift()), m.sort()),
              (l = f.indexOf(":") < 0 && "on" + f),
              (t = t[Pt.expando]
                ? t
                : new Pt.Event(f, "object" == typeof t && t)),
              (t.isTrigger = r ? 2 : 3),
              (t.namespace = m.join(".")),
              (t.rnamespace = t.namespace
                ? new RegExp("(^|\\.)" + m.join("\\.(?:.*\\.|)") + "(\\.|$)")
                : null),
              (t.result = void 0),
              t.target || (t.target = n),
              (e = null == e ? [t] : Pt.makeArray(e, [t])),
              (c = Pt.event.special[f] || {}),
              r || !c.trigger || c.trigger.apply(n, e) !== !1))
          ) {
            if (!r && !c.noBubble && !St(n)) {
              for (
                h = c.delegateType || f, ze.test(h + f) || (o = o.parentNode);
                o;
                o = o.parentNode
              )
                d.push(o), (a = o);
              a === (n.ownerDocument || pt) &&
                d.push(a.defaultView || a.parentWindow || i);
            }
            for (s = 0; (o = d[s++]) && !t.isPropagationStopped(); )
              (p = o),
                (t.type = s > 1 ? h : c.bindType || f),
                (u =
                  (qt.get(o, "events") || {})[t.type] && qt.get(o, "handle")),
                u && u.apply(o, e),
                (u = l && o[l]),
                u &&
                  u.apply &&
                  Xt(o) &&
                  ((t.result = u.apply(o, e)),
                  t.result === !1 && t.preventDefault());
            return (
              (t.type = f),
              r ||
                t.isDefaultPrevented() ||
                (c._default && c._default.apply(d.pop(), e) !== !1) ||
                !Xt(n) ||
                (l &&
                  Et(n[f]) &&
                  !St(n) &&
                  ((a = n[l]),
                  a && (n[l] = null),
                  (Pt.event.triggered = f),
                  t.isPropagationStopped() && p.addEventListener(f, Fe),
                  n[f](),
                  t.isPropagationStopped() && p.removeEventListener(f, Fe),
                  (Pt.event.triggered = void 0),
                  a && (n[l] = a))),
              t.result
            );
          }
        },
        simulate: function (t, e, i) {
          var n = Pt.extend(new Pt.Event(), i, { type: t, isSimulated: !0 });
          Pt.event.trigger(n, null, e);
        },
      }),
        Pt.fn.extend({
          trigger: function (t, e) {
            return this.each(function () {
              Pt.event.trigger(t, e, this);
            });
          },
          triggerHandler: function (t, e) {
            var i = this[0];
            if (i) return Pt.event.trigger(t, e, i, !0);
          },
        }),
        Tt.focusin ||
          Pt.each({ focus: "focusin", blur: "focusout" }, function (t, e) {
            var i = function (t) {
              Pt.event.simulate(e, t.target, Pt.event.fix(t));
            };
            Pt.event.special[e] = {
              setup: function () {
                var n = this.ownerDocument || this,
                  r = qt.access(n, e);
                r || n.addEventListener(t, i, !0),
                  qt.access(n, e, (r || 0) + 1);
              },
              teardown: function () {
                var n = this.ownerDocument || this,
                  r = qt.access(n, e) - 1;
                r
                  ? qt.access(n, e, r)
                  : (n.removeEventListener(t, i, !0), qt.remove(n, e));
              },
            };
          });
      var He = i.location,
        Be = Date.now(),
        Ue = /\?/;
      Pt.parseXML = function (t) {
        var e;
        if (!t || "string" != typeof t) return null;
        try {
          e = new i.DOMParser().parseFromString(t, "text/xml");
        } catch (t) {
          e = void 0;
        }
        return (
          (e && !e.getElementsByTagName("parsererror").length) ||
            Pt.error("Invalid XML: " + t),
          e
        );
      };
      var Ge = /\[\]$/,
        Ve = /\r?\n/g,
        je = /^(?:submit|button|image|reset|file)$/i,
        We = /^(?:input|select|textarea|keygen)/i;
      (Pt.param = function (t, e) {
        var i,
          n = [],
          r = function (t, e) {
            var i = Et(e) ? e() : e;
            n[n.length] =
              encodeURIComponent(t) +
              "=" +
              encodeURIComponent(null == i ? "" : i);
          };
        if (null == t) return "";
        if (Array.isArray(t) || (t.jquery && !Pt.isPlainObject(t)))
          Pt.each(t, function () {
            r(this.name, this.value);
          });
        else for (i in t) st(i, t[i], e, r);
        return n.join("&");
      }),
        Pt.fn.extend({
          serialize: function () {
            return Pt.param(this.serializeArray());
          },
          serializeArray: function () {
            return this.map(function () {
              var t = Pt.prop(this, "elements");
              return t ? Pt.makeArray(t) : this;
            })
              .filter(function () {
                var t = this.type;
                return (
                  this.name &&
                  !Pt(this).is(":disabled") &&
                  We.test(this.nodeName) &&
                  !je.test(t) &&
                  (this.checked || !oe.test(t))
                );
              })
              .map(function (t, e) {
                var i = Pt(this).val();
                return null == i
                  ? null
                  : Array.isArray(i)
                  ? Pt.map(i, function (t) {
                      return { name: e.name, value: t.replace(Ve, "\r\n") };
                    })
                  : { name: e.name, value: i.replace(Ve, "\r\n") };
              })
              .get();
          },
        });
      var Xe = /%20/g,
        qe = /#.*$/,
        Ye = /([?&])_=[^&]*/,
        Ze = /^(.*?):[ \t]*([^\r\n]*)$/gm,
        $e = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
        Je = /^(?:GET|HEAD)$/,
        Qe = /^\/\//,
        Ke = {},
        ti = {},
        ei = "*/".concat("*"),
        ii = pt.createElement("a");
      (ii.href = He.href),
        Pt.extend({
          active: 0,
          lastModified: {},
          etag: {},
          ajaxSettings: {
            url: He.href,
            type: "GET",
            isLocal: $e.test(He.protocol),
            global: !0,
            processData: !0,
            async: !0,
            contentType: "application/x-www-form-urlencoded; charset=UTF-8",
            accepts: {
              "*": ei,
              text: "text/plain",
              html: "text/html",
              xml: "application/xml, text/xml",
              json: "application/json, text/javascript",
            },
            contents: { xml: /\bxml\b/, html: /\bhtml/, json: /\bjson\b/ },
            responseFields: {
              xml: "responseXML",
              text: "responseText",
              json: "responseJSON",
            },
            converters: {
              "* text": String,
              "text html": !0,
              "text json": JSON.parse,
              "text xml": Pt.parseXML,
            },
            flatOptions: { url: !0, context: !0 },
          },
          ajaxSetup: function (t, e) {
            return e ? ht(ht(t, Pt.ajaxSettings), e) : ht(Pt.ajaxSettings, t);
          },
          ajaxPrefilter: ot(Ke),
          ajaxTransport: ot(ti),
          ajax: function (t, e) {
            function n(t, e, n, a) {
              var l,
                p,
                d,
                x,
                w,
                b = e;
              u ||
                ((u = !0),
                h && i.clearTimeout(h),
                (r = void 0),
                (o = a || ""),
                (T.readyState = t > 0 ? 4 : 0),
                (l = (t >= 200 && t < 300) || 304 === t),
                n && (x = lt(f, T, n)),
                (x = ut(f, x, T, l)),
                l
                  ? (f.ifModified &&
                      ((w = T.getResponseHeader("Last-Modified")),
                      w && (Pt.lastModified[s] = w),
                      (w = T.getResponseHeader("etag")),
                      w && (Pt.etag[s] = w)),
                    204 === t || "HEAD" === f.type
                      ? (b = "nocontent")
                      : 304 === t
                      ? (b = "notmodified")
                      : ((b = x.state), (p = x.data), (d = x.error), (l = !d)))
                  : ((d = b), (!t && b) || ((b = "error"), t < 0 && (t = 0))),
                (T.status = t),
                (T.statusText = (e || b) + ""),
                l ? g.resolveWith(m, [p, b, T]) : g.rejectWith(m, [T, b, d]),
                T.statusCode(y),
                (y = void 0),
                c &&
                  _.trigger(l ? "ajaxSuccess" : "ajaxError", [T, f, l ? p : d]),
                v.fireWith(m, [T, b]),
                c &&
                  (_.trigger("ajaxComplete", [T, f]),
                  --Pt.active || Pt.event.trigger("ajaxStop")));
            }
            "object" == typeof t && ((e = t), (t = void 0)), (e = e || {});
            var r,
              s,
              o,
              a,
              h,
              l,
              u,
              c,
              p,
              d,
              f = Pt.ajaxSetup({}, e),
              m = f.context || f,
              _ = f.context && (m.nodeType || m.jquery) ? Pt(m) : Pt.event,
              g = Pt.Deferred(),
              v = Pt.Callbacks("once memory"),
              y = f.statusCode || {},
              x = {},
              w = {},
              b = "canceled",
              T = {
                readyState: 0,
                getResponseHeader: function (t) {
                  var e;
                  if (u) {
                    if (!a)
                      for (a = {}; (e = Ze.exec(o)); )
                        a[e[1].toLowerCase() + " "] = (
                          a[e[1].toLowerCase() + " "] || []
                        ).concat(e[2]);
                    e = a[t.toLowerCase() + " "];
                  }
                  return null == e ? null : e.join(", ");
                },
                getAllResponseHeaders: function () {
                  return u ? o : null;
                },
                setRequestHeader: function (t, e) {
                  return (
                    null == u &&
                      ((t = w[t.toLowerCase()] = w[t.toLowerCase()] || t),
                      (x[t] = e)),
                    this
                  );
                },
                overrideMimeType: function (t) {
                  return null == u && (f.mimeType = t), this;
                },
                statusCode: function (t) {
                  var e;
                  if (t)
                    if (u) T.always(t[T.status]);
                    else for (e in t) y[e] = [y[e], t[e]];
                  return this;
                },
                abort: function (t) {
                  var e = t || b;
                  return r && r.abort(e), n(0, e), this;
                },
              };
            if (
              (g.promise(T),
              (f.url = ((t || f.url || He.href) + "").replace(
                Qe,
                He.protocol + "//"
              )),
              (f.type = e.method || e.type || f.method || f.type),
              (f.dataTypes = (f.dataType || "*").toLowerCase().match(Bt) || [
                "",
              ]),
              null == f.crossDomain)
            ) {
              l = pt.createElement("a");
              try {
                (l.href = f.url),
                  (l.href = l.href),
                  (f.crossDomain =
                    ii.protocol + "//" + ii.host != l.protocol + "//" + l.host);
              } catch (t) {
                f.crossDomain = !0;
              }
            }
            if (
              (f.data &&
                f.processData &&
                "string" != typeof f.data &&
                (f.data = Pt.param(f.data, f.traditional)),
              at(Ke, f, e, T),
              u)
            )
              return T;
            (c = Pt.event && f.global),
              c && 0 === Pt.active++ && Pt.event.trigger("ajaxStart"),
              (f.type = f.type.toUpperCase()),
              (f.hasContent = !Je.test(f.type)),
              (s = f.url.replace(qe, "")),
              f.hasContent
                ? f.data &&
                  f.processData &&
                  0 ===
                    (f.contentType || "").indexOf(
                      "application/x-www-form-urlencoded"
                    ) &&
                  (f.data = f.data.replace(Xe, "+"))
                : ((d = f.url.slice(s.length)),
                  f.data &&
                    (f.processData || "string" == typeof f.data) &&
                    ((s += (Ue.test(s) ? "&" : "?") + f.data), delete f.data),
                  f.cache === !1 &&
                    ((s = s.replace(Ye, "$1")),
                    (d = (Ue.test(s) ? "&" : "?") + "_=" + Be++ + d)),
                  (f.url = s + d)),
              f.ifModified &&
                (Pt.lastModified[s] &&
                  T.setRequestHeader("If-Modified-Since", Pt.lastModified[s]),
                Pt.etag[s] && T.setRequestHeader("If-None-Match", Pt.etag[s])),
              ((f.data && f.hasContent && f.contentType !== !1) ||
                e.contentType) &&
                T.setRequestHeader("Content-Type", f.contentType),
              T.setRequestHeader(
                "Accept",
                f.dataTypes[0] && f.accepts[f.dataTypes[0]]
                  ? f.accepts[f.dataTypes[0]] +
                      ("*" !== f.dataTypes[0] ? ", " + ei + "; q=0.01" : "")
                  : f.accepts["*"]
              );
            for (p in f.headers) T.setRequestHeader(p, f.headers[p]);
            if (f.beforeSend && (f.beforeSend.call(m, T, f) === !1 || u))
              return T.abort();
            if (
              ((b = "abort"),
              v.add(f.complete),
              T.done(f.success),
              T.fail(f.error),
              (r = at(ti, f, e, T)))
            ) {
              if (((T.readyState = 1), c && _.trigger("ajaxSend", [T, f]), u))
                return T;
              f.async &&
                f.timeout > 0 &&
                (h = i.setTimeout(function () {
                  T.abort("timeout");
                }, f.timeout));
              try {
                (u = !1), r.send(x, n);
              } catch (t) {
                if (u) throw t;
                n(-1, t);
              }
            } else n(-1, "No Transport");
            return T;
          },
          getJSON: function (t, e, i) {
            return Pt.get(t, e, i, "json");
          },
          getScript: function (t, e) {
            return Pt.get(t, void 0, e, "script");
          },
        }),
        Pt.each(["get", "post"], function (t, e) {
          Pt[e] = function (t, i, n, r) {
            return (
              Et(i) && ((r = r || n), (n = i), (i = void 0)),
              Pt.ajax(
                Pt.extend(
                  { url: t, type: e, dataType: r, data: i, success: n },
                  Pt.isPlainObject(t) && t
                )
              )
            );
          };
        }),
        (Pt._evalUrl = function (t, e) {
          return Pt.ajax({
            url: t,
            type: "GET",
            dataType: "script",
            cache: !0,
            async: !1,
            global: !1,
            converters: { "text script": function () {} },
            dataFilter: function (t) {
              Pt.globalEval(t, e);
            },
          });
        }),
        Pt.fn.extend({
          wrapAll: function (t) {
            var e;
            return (
              this[0] &&
                (Et(t) && (t = t.call(this[0])),
                (e = Pt(t, this[0].ownerDocument).eq(0).clone(!0)),
                this[0].parentNode && e.insertBefore(this[0]),
                e
                  .map(function () {
                    for (var t = this; t.firstElementChild; )
                      t = t.firstElementChild;
                    return t;
                  })
                  .append(this)),
              this
            );
          },
          wrapInner: function (t) {
            return Et(t)
              ? this.each(function (e) {
                  Pt(this).wrapInner(t.call(this, e));
                })
              : this.each(function () {
                  var e = Pt(this),
                    i = e.contents();
                  i.length ? i.wrapAll(t) : e.append(t);
                });
          },
          wrap: function (t) {
            var e = Et(t);
            return this.each(function (i) {
              Pt(this).wrapAll(e ? t.call(this, i) : t);
            });
          },
          unwrap: function (t) {
            return (
              this.parent(t)
                .not("body")
                .each(function () {
                  Pt(this).replaceWith(this.childNodes);
                }),
              this
            );
          },
        }),
        (Pt.expr.pseudos.hidden = function (t) {
          return !Pt.expr.pseudos.visible(t);
        }),
        (Pt.expr.pseudos.visible = function (t) {
          return !!(
            t.offsetWidth ||
            t.offsetHeight ||
            t.getClientRects().length
          );
        }),
        (Pt.ajaxSettings.xhr = function () {
          try {
            return new i.XMLHttpRequest();
          } catch (t) {}
        });
      var ni = { 0: 200, 1223: 204 },
        ri = Pt.ajaxSettings.xhr();
      (Tt.cors = !!ri && "withCredentials" in ri),
        (Tt.ajax = ri = !!ri),
        Pt.ajaxTransport(function (t) {
          var e, n;
          if (Tt.cors || (ri && !t.crossDomain))
            return {
              send: function (r, s) {
                var o,
                  a = t.xhr();
                if (
                  (a.open(t.type, t.url, t.async, t.username, t.password),
                  t.xhrFields)
                )
                  for (o in t.xhrFields) a[o] = t.xhrFields[o];
                t.mimeType &&
                  a.overrideMimeType &&
                  a.overrideMimeType(t.mimeType),
                  t.crossDomain ||
                    r["X-Requested-With"] ||
                    (r["X-Requested-With"] = "XMLHttpRequest");
                for (o in r) a.setRequestHeader(o, r[o]);
                (e = function (t) {
                  return function () {
                    e &&
                      ((e =
                        n =
                        a.onload =
                        a.onerror =
                        a.onabort =
                        a.ontimeout =
                        a.onreadystatechange =
                          null),
                      "abort" === t
                        ? a.abort()
                        : "error" === t
                        ? "number" != typeof a.status
                          ? s(0, "error")
                          : s(a.status, a.statusText)
                        : s(
                            ni[a.status] || a.status,
                            a.statusText,
                            "text" !== (a.responseType || "text") ||
                              "string" != typeof a.responseText
                              ? { binary: a.response }
                              : { text: a.responseText },
                            a.getAllResponseHeaders()
                          ));
                  };
                }),
                  (a.onload = e()),
                  (n = a.onerror = a.ontimeout = e("error")),
                  void 0 !== a.onabort
                    ? (a.onabort = n)
                    : (a.onreadystatechange = function () {
                        4 === a.readyState &&
                          i.setTimeout(function () {
                            e && n();
                          });
                      }),
                  (e = e("abort"));
                try {
                  a.send((t.hasContent && t.data) || null);
                } catch (t) {
                  if (e) throw t;
                }
              },
              abort: function () {
                e && e();
              },
            };
        }),
        Pt.ajaxPrefilter(function (t) {
          t.crossDomain && (t.contents.script = !1);
        }),
        Pt.ajaxSetup({
          accepts: {
            script:
              "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript",
          },
          contents: { script: /\b(?:java|ecma)script\b/ },
          converters: {
            "text script": function (t) {
              return Pt.globalEval(t), t;
            },
          },
        }),
        Pt.ajaxPrefilter("script", function (t) {
          void 0 === t.cache && (t.cache = !1),
            t.crossDomain && (t.type = "GET");
        }),
        Pt.ajaxTransport("script", function (t) {
          if (t.crossDomain || t.scriptAttrs) {
            var e, i;
            return {
              send: function (n, r) {
                (e = Pt("<script>")
                  .attr(t.scriptAttrs || {})
                  .prop({ charset: t.scriptCharset, src: t.url })
                  .on(
                    "load error",
                    (i = function (t) {
                      e.remove(),
                        (i = null),
                        t && r("error" === t.type ? 404 : 200, t.type);
                    })
                  )),
                  pt.head.appendChild(e[0]);
              },
              abort: function () {
                i && i();
              },
            };
          }
        });
      var si = [],
        oi = /(=)\?(?=&|$)|\?\?/;
      Pt.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function () {
          var t = si.pop() || Pt.expando + "_" + Be++;
          return (this[t] = !0), t;
        },
      }),
        Pt.ajaxPrefilter("json jsonp", function (t, e, n) {
          var r,
            s,
            o,
            a =
              t.jsonp !== !1 &&
              (oi.test(t.url)
                ? "url"
                : "string" == typeof t.data &&
                  0 ===
                    (t.contentType || "").indexOf(
                      "application/x-www-form-urlencoded"
                    ) &&
                  oi.test(t.data) &&
                  "data");
          if (a || "jsonp" === t.dataTypes[0])
            return (
              (r = t.jsonpCallback =
                Et(t.jsonpCallback) ? t.jsonpCallback() : t.jsonpCallback),
              a
                ? (t[a] = t[a].replace(oi, "$1" + r))
                : t.jsonp !== !1 &&
                  (t.url += (Ue.test(t.url) ? "&" : "?") + t.jsonp + "=" + r),
              (t.converters["script json"] = function () {
                return o || Pt.error(r + " was not called"), o[0];
              }),
              (t.dataTypes[0] = "json"),
              (s = i[r]),
              (i[r] = function () {
                o = arguments;
              }),
              n.always(function () {
                void 0 === s ? Pt(i).removeProp(r) : (i[r] = s),
                  t[r] && ((t.jsonpCallback = e.jsonpCallback), si.push(r)),
                  o && Et(s) && s(o[0]),
                  (o = s = void 0);
              }),
              "script"
            );
        }),
        (Tt.createHTMLDocument = (function () {
          var t = pt.implementation.createHTMLDocument("").body;
          return (
            (t.innerHTML = "<form></form><form></form>"),
            2 === t.childNodes.length
          );
        })()),
        (Pt.parseHTML = function (t, e, i) {
          if ("string" != typeof t) return [];
          "boolean" == typeof e && ((i = e), (e = !1));
          var n, r, s;
          return (
            e ||
              (Tt.createHTMLDocument
                ? ((e = pt.implementation.createHTMLDocument("")),
                  (n = e.createElement("base")),
                  (n.href = pt.location.href),
                  e.head.appendChild(n))
                : (e = pt)),
            (r = Dt.exec(t)),
            (s = !i && []),
            r
              ? [e.createElement(r[1])]
              : ((r = C([t], e, s)),
                s && s.length && Pt(s).remove(),
                Pt.merge([], r.childNodes))
          );
        }),
        (Pt.fn.load = function (t, e, i) {
          var n,
            r,
            s,
            o = this,
            a = t.indexOf(" ");
          return (
            a > -1 && ((n = it(t.slice(a))), (t = t.slice(0, a))),
            Et(e)
              ? ((i = e), (e = void 0))
              : e && "object" == typeof e && (r = "POST"),
            o.length > 0 &&
              Pt.ajax({ url: t, type: r || "GET", dataType: "html", data: e })
                .done(function (t) {
                  (s = arguments),
                    o.html(n ? Pt("<div>").append(Pt.parseHTML(t)).find(n) : t);
                })
                .always(
                  i &&
                    function (t, e) {
                      o.each(function () {
                        i.apply(this, s || [t.responseText, e, t]);
                      });
                    }
                ),
            this
          );
        }),
        Pt.each(
          [
            "ajaxStart",
            "ajaxStop",
            "ajaxComplete",
            "ajaxError",
            "ajaxSuccess",
            "ajaxSend",
          ],
          function (t, e) {
            Pt.fn[e] = function (t) {
              return this.on(e, t);
            };
          }
        ),
        (Pt.expr.pseudos.animated = function (t) {
          return Pt.grep(Pt.timers, function (e) {
            return t === e.elem;
          }).length;
        }),
        (Pt.offset = {
          setOffset: function (t, e, i) {
            var n,
              r,
              s,
              o,
              a,
              h,
              l,
              u = Pt.css(t, "position"),
              c = Pt(t),
              p = {};
            "static" === u && (t.style.position = "relative"),
              (a = c.offset()),
              (s = Pt.css(t, "top")),
              (h = Pt.css(t, "left")),
              (l =
                ("absolute" === u || "fixed" === u) &&
                (s + h).indexOf("auto") > -1),
              l
                ? ((n = c.position()), (o = n.top), (r = n.left))
                : ((o = parseFloat(s) || 0), (r = parseFloat(h) || 0)),
              Et(e) && (e = e.call(t, i, Pt.extend({}, a))),
              null != e.top && (p.top = e.top - a.top + o),
              null != e.left && (p.left = e.left - a.left + r),
              "using" in e ? e.using.call(t, p) : c.css(p);
          },
        }),
        Pt.fn.extend({
          offset: function (t) {
            if (arguments.length)
              return void 0 === t
                ? this
                : this.each(function (e) {
                    Pt.offset.setOffset(this, t, e);
                  });
            var e,
              i,
              n = this[0];
            if (n)
              return n.getClientRects().length
                ? ((e = n.getBoundingClientRect()),
                  (i = n.ownerDocument.defaultView),
                  { top: e.top + i.pageYOffset, left: e.left + i.pageXOffset })
                : { top: 0, left: 0 };
          },
          position: function () {
            if (this[0]) {
              var t,
                e,
                i,
                n = this[0],
                r = { top: 0, left: 0 };
              if ("fixed" === Pt.css(n, "position"))
                e = n.getBoundingClientRect();
              else {
                for (
                  e = this.offset(),
                    i = n.ownerDocument,
                    t = n.offsetParent || i.documentElement;
                  t &&
                  (t === i.body || t === i.documentElement) &&
                  "static" === Pt.css(t, "position");

                )
                  t = t.parentNode;
                t &&
                  t !== n &&
                  1 === t.nodeType &&
                  ((r = Pt(t).offset()),
                  (r.top += Pt.css(t, "borderTopWidth", !0)),
                  (r.left += Pt.css(t, "borderLeftWidth", !0)));
              }
              return {
                top: e.top - r.top - Pt.css(n, "marginTop", !0),
                left: e.left - r.left - Pt.css(n, "marginLeft", !0),
              };
            }
          },
          offsetParent: function () {
            return this.map(function () {
              for (
                var t = this.offsetParent;
                t && "static" === Pt.css(t, "position");

              )
                t = t.offsetParent;
              return t || te;
            });
          },
        }),
        Pt.each(
          { scrollLeft: "pageXOffset", scrollTop: "pageYOffset" },
          function (t, e) {
            var i = "pageYOffset" === e;
            Pt.fn[t] = function (n) {
              return Vt(
                this,
                function (t, n, r) {
                  var s;
                  return (
                    St(t) ? (s = t) : 9 === t.nodeType && (s = t.defaultView),
                    void 0 === r
                      ? s
                        ? s[e]
                        : t[n]
                      : void (s
                          ? s.scrollTo(
                              i ? s.pageXOffset : r,
                              i ? r : s.pageYOffset
                            )
                          : (t[n] = r))
                  );
                },
                t,
                n,
                arguments.length
              );
            };
          }
        ),
        Pt.each(["top", "left"], function (t, e) {
          Pt.cssHooks[e] = G(Tt.pixelPosition, function (t, i) {
            if (i)
              return (i = U(t, e)), ve.test(i) ? Pt(t).position()[e] + "px" : i;
          });
        }),
        Pt.each({ Height: "height", Width: "width" }, function (t, e) {
          Pt.each(
            { padding: "inner" + t, content: e, "": "outer" + t },
            function (i, n) {
              Pt.fn[n] = function (r, s) {
                var o = arguments.length && (i || "boolean" != typeof r),
                  a = i || (r === !0 || s === !0 ? "margin" : "border");
                return Vt(
                  this,
                  function (e, i, r) {
                    var s;
                    return St(e)
                      ? 0 === n.indexOf("outer")
                        ? e["inner" + t]
                        : e.document.documentElement["client" + t]
                      : 9 === e.nodeType
                      ? ((s = e.documentElement),
                        Math.max(
                          e.body["scroll" + t],
                          s["scroll" + t],
                          e.body["offset" + t],
                          s["offset" + t],
                          s["client" + t]
                        ))
                      : void 0 === r
                      ? Pt.css(e, i, a)
                      : Pt.style(e, i, r, a);
                  },
                  e,
                  o ? r : void 0,
                  o
                );
              };
            }
          );
        }),
        Pt.each(
          "blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(
            " "
          ),
          function (t, e) {
            Pt.fn[e] = function (t, i) {
              return arguments.length > 0
                ? this.on(e, null, t, i)
                : this.trigger(e);
            };
          }
        ),
        Pt.fn.extend({
          hover: function (t, e) {
            return this.mouseenter(t).mouseleave(e || t);
          },
        }),
        Pt.fn.extend({
          bind: function (t, e, i) {
            return this.on(t, null, e, i);
          },
          unbind: function (t, e) {
            return this.off(t, null, e);
          },
          delegate: function (t, e, i, n) {
            return this.on(e, t, i, n);
          },
          undelegate: function (t, e, i) {
            return 1 === arguments.length
              ? this.off(t, "**")
              : this.off(e, t || "**", i);
          },
        }),
        (Pt.proxy = function (t, e) {
          var i, n, r;
          if (("string" == typeof e && ((i = t[e]), (e = t), (t = i)), Et(t)))
            return (
              (n = ft.call(arguments, 2)),
              (r = function () {
                return t.apply(e || this, n.concat(ft.call(arguments)));
              }),
              (r.guid = t.guid = t.guid || Pt.guid++),
              r
            );
        }),
        (Pt.holdReady = function (t) {
          t ? Pt.readyWait++ : Pt.ready(!0);
        }),
        (Pt.isArray = Array.isArray),
        (Pt.parseJSON = JSON.parse),
        (Pt.nodeName = l),
        (Pt.isFunction = Et),
        (Pt.isWindow = St),
        (Pt.camelCase = v),
        (Pt.type = a),
        (Pt.now = Date.now),
        (Pt.isNumeric = function (t) {
          var e = Pt.type(t);
          return (
            ("number" === e || "string" === e) && !isNaN(t - parseFloat(t))
          );
        }),
        (n = []),
        (r = function () {
          return Pt;
        }.apply(e, n)),
        !(void 0 !== r && (t.exports = r));
      var ai = i.jQuery,
        hi = i.$;
      return (
        (Pt.noConflict = function (t) {
          return (
            i.$ === Pt && (i.$ = hi),
            t && i.jQuery === Pt && (i.jQuery = ai),
            Pt
          );
        }),
        s || (i.jQuery = i.$ = Pt),
        Pt
      );
    });
  },
  function (t, e, i) {
    (function (e) {
      (function () {
        var i, n, r, s, o, a;
        "undefined" != typeof performance &&
        null !== performance &&
        performance.now
          ? (t.exports = function () {
              return performance.now();
            })
          : "undefined" != typeof e && null !== e && e.hrtime
          ? ((t.exports = function () {
              return (i() - o) / 1e6;
            }),
            (n = e.hrtime),
            (i = function () {
              var t;
              return (t = n()), 1e9 * t[0] + t[1];
            }),
            (s = i()),
            (a = 1e9 * e.uptime()),
            (o = s - a))
          : Date.now
          ? ((t.exports = function () {
              return Date.now() - r;
            }),
            (r = Date.now()))
          : ((t.exports = function () {
              return new Date().getTime() - r;
            }),
            (r = new Date().getTime()));
      }).call(this);
    }).call(e, i(107));
  },
  function (t, e) {
    function i() {
      throw new Error("setTimeout has not been defined");
    }
    function n() {
      throw new Error("clearTimeout has not been defined");
    }
    function r(t) {
      if (u === setTimeout) return setTimeout(t, 0);
      if ((u === i || !u) && setTimeout)
        return (u = setTimeout), setTimeout(t, 0);
      try {
        return u(t, 0);
      } catch (e) {
        try {
          return u.call(null, t, 0);
        } catch (e) {
          return u.call(this, t, 0);
        }
      }
    }
    function s(t) {
      if (c === clearTimeout) return clearTimeout(t);
      if ((c === n || !c) && clearTimeout)
        return (c = clearTimeout), clearTimeout(t);
      try {
        return c(t);
      } catch (e) {
        try {
          return c.call(null, t);
        } catch (e) {
          return c.call(this, t);
        }
      }
    }
    function o() {
      m &&
        d &&
        ((m = !1), d.length ? (f = d.concat(f)) : (_ = -1), f.length && a());
    }
    function a() {
      if (!m) {
        var t = r(o);
        m = !0;
        for (var e = f.length; e; ) {
          for (d = f, f = []; ++_ < e; ) d && d[_].run();
          (_ = -1), (e = f.length);
        }
        (d = null), (m = !1), s(t);
      }
    }
    function h(t, e) {
      (this.fun = t), (this.array = e);
    }
    function l() {}
    var u,
      c,
      p = (t.exports = {});
    !(function () {
      try {
        u = "function" == typeof setTimeout ? setTimeout : i;
      } catch (t) {
        u = i;
      }
      try {
        c = "function" == typeof clearTimeout ? clearTimeout : n;
      } catch (t) {
        c = n;
      }
    })();
    var d,
      f = [],
      m = !1,
      _ = -1;
    (p.nextTick = function (t) {
      var e = new Array(arguments.length - 1);
      if (arguments.length > 1)
        for (var i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
      f.push(new h(t, e)), 1 !== f.length || m || r(a);
    }),
      (h.prototype.run = function () {
        this.fun.apply(null, this.array);
      }),
      (p.title = "browser"),
      (p.browser = !0),
      (p.env = {}),
      (p.argv = []),
      (p.version = ""),
      (p.versions = {}),
      (p.on = l),
      (p.addListener = l),
      (p.once = l),
      (p.off = l),
      (p.removeListener = l),
      (p.removeAllListeners = l),
      (p.emit = l),
      (p.prependListener = l),
      (p.prependOnceListener = l),
      (p.listeners = function (t) {
        return [];
      }),
      (p.binding = function (t) {
        throw new Error("process.binding is not supported");
      }),
      (p.cwd = function () {
        return "/";
      }),
      (p.chdir = function (t) {
        throw new Error("process.chdir is not supported");
      }),
      (p.umask = function () {
        return 0;
      });
  },
  function (t, e, i) {
    (function (e) {
      for (
        var n = i(106),
          r = "undefined" == typeof window ? e : window,
          s = ["moz", "webkit"],
          o = "AnimationFrame",
          a = r["request" + o],
          h = r["cancel" + o] || r["cancelRequest" + o],
          l = 0;
        !a && l < s.length;
        l++
      )
        (a = r[s[l] + "Request" + o]),
          (h = r[s[l] + "Cancel" + o] || r[s[l] + "CancelRequest" + o]);
      if (!a || !h) {
        var u = 0,
          c = 0,
          p = [],
          d = 1e3 / 60;
        (a = function (t) {
          if (0 === p.length) {
            var e = n(),
              i = Math.max(0, d - (e - u));
            (u = i + e),
              setTimeout(function () {
                var t = p.slice(0);
                p.length = 0;
                for (var e = 0; e < t.length; e++)
                  if (!t[e].cancelled)
                    try {
                      t[e].callback(u);
                    } catch (t) {
                      setTimeout(function () {
                        throw t;
                      }, 0);
                    }
              }, Math.round(i));
          }
          return p.push({ handle: ++c, callback: t, cancelled: !1 }), c;
        }),
          (h = function (t) {
            for (var e = 0; e < p.length; e++)
              p[e].handle === t && (p[e].cancelled = !0);
          });
      }
      (t.exports = function (t) {
        return a.call(r, t);
      }),
        (t.exports.cancel = function () {
          h.apply(r, arguments);
        }),
        (t.exports.polyfill = function (t) {
          t || (t = r),
            (t.requestAnimationFrame = a),
            (t.cancelAnimationFrame = h);
        });
    }).call(
      e,
      (function () {
        return this;
      })()
    );
  },
  function (t, e) {
    t.exports =
      "#define GLSLIFY 1\nvoid main(){\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\n}\n";
  },
  function (t, e) {
    t.exports =
      "#define GLSLIFY 1\n//\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_1_0(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289_1_0(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute_1_1(vec3 x) {\n  return mod289_1_0(((x*34.0)+1.0)*x);\n}\n\nfloat snoise_1_2(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289_1_0(i); // Avoid truncation effects in permutation\n  vec3 p = permute_1_1( permute_1_1( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\n\n\n\nuniform sampler2D tNoise;\nuniform float strength;\nuniform float alpha;\nuniform float time;\n\nvarying vec2 vUv;\n\n\nfloat map(float value, float beforeMin, float beforeMax, float afterMin, float afterMax) {\n  return afterMin + (afterMax - afterMin) * ((value - beforeMin) / (beforeMax - beforeMin));\n}\n\n\nvoid main(void) {\n\n  vec2 uv = vUv;\n  // uv.x += time * 0.01;\n  // uv = fract(uv);\n\n  float n = texture2D(tNoise, uv).r;\n  n = snoise_1_2(vec2(n + uv.x + time * 0.01, n)) * strength;\n  vec4 dest = vec4(1.0, 1.0, 1.0, n);\n  dest.a *= alpha;\n\n  gl_FragColor = dest;\n\n}\n";
  },
  function (t, e) {
    t.exports =
      "#define GLSLIFY 1\nuniform sampler2D tDiffuse;\nuniform float weight[10];\nuniform float ratio;\nuniform bool horizontal;\nuniform vec2 resolution;\n\n// varying vec2 vUv;\n\nvoid main(void) {\n\n  vec2 tFrag = 1.0 / resolution;\n  vec2 fc;\n  vec3 destColor = vec3(0.0);\n\n  if(horizontal){\n    fc = vec2(gl_FragCoord.s, gl_FragCoord.t);\n    // destColor += texture2D(tDiffuse, (fc + vec2(-15.0, 0.0)) * tFrag).rgb * weight[15];\n    // destColor += texture2D(tDiffuse, (fc + vec2(-14.0, 0.0)) * tFrag).rgb * weight[14];\n    // destColor += texture2D(tDiffuse, (fc + vec2(-13.0, 0.0)) * tFrag).rgb * weight[13];\n    // destColor += texture2D(tDiffuse, (fc + vec2(-12.0, 0.0)) * tFrag).rgb * weight[12];\n    // destColor += texture2D(tDiffuse, (fc + vec2(-11.0, 0.0)) * tFrag).rgb * weight[11];\n    // destColor += texture2D(tDiffuse, (fc + vec2(-10.0, 0.0)) * tFrag).rgb * weight[10];\n\n    destColor += texture2D(tDiffuse, (fc + vec2(-9.0, 0.0)) * tFrag).rgb * weight[9];\n    destColor += texture2D(tDiffuse, (fc + vec2(-8.0, 0.0)) * tFrag).rgb * weight[8];\n    destColor += texture2D(tDiffuse, (fc + vec2(-7.0, 0.0)) * tFrag).rgb * weight[7];\n    destColor += texture2D(tDiffuse, (fc + vec2(-6.0, 0.0)) * tFrag).rgb * weight[6];\n    destColor += texture2D(tDiffuse, (fc + vec2(-5.0, 0.0)) * tFrag).rgb * weight[5];\n    destColor += texture2D(tDiffuse, (fc + vec2(-4.0, 0.0)) * tFrag).rgb * weight[4];\n    destColor += texture2D(tDiffuse, (fc + vec2(-3.0, 0.0)) * tFrag).rgb * weight[3];\n    destColor += texture2D(tDiffuse, (fc + vec2(-2.0, 0.0)) * tFrag).rgb * weight[2];\n    destColor += texture2D(tDiffuse, (fc + vec2(-1.0, 0.0)) * tFrag).rgb * weight[1];\n    destColor += texture2D(tDiffuse, (fc + vec2( 0.0, 0.0)) * tFrag).rgb * weight[0];\n    destColor += texture2D(tDiffuse, (fc + vec2( 1.0, 0.0)) * tFrag).rgb * weight[1];\n    destColor += texture2D(tDiffuse, (fc + vec2( 2.0, 0.0)) * tFrag).rgb * weight[2];\n    destColor += texture2D(tDiffuse, (fc + vec2( 3.0, 0.0)) * tFrag).rgb * weight[3];\n    destColor += texture2D(tDiffuse, (fc + vec2( 4.0, 0.0)) * tFrag).rgb * weight[4];\n    destColor += texture2D(tDiffuse, (fc + vec2( 5.0, 0.0)) * tFrag).rgb * weight[5];\n    destColor += texture2D(tDiffuse, (fc + vec2( 6.0, 0.0)) * tFrag).rgb * weight[6];\n    destColor += texture2D(tDiffuse, (fc + vec2( 7.0, 0.0)) * tFrag).rgb * weight[7];\n    destColor += texture2D(tDiffuse, (fc + vec2( 8.0, 0.0)) * tFrag).rgb * weight[8];\n    destColor += texture2D(tDiffuse, (fc + vec2( 9.0, 0.0)) * tFrag).rgb * weight[9];\n\n    // destColor += texture2D(tDiffuse, (fc + vec2( 10.0, 0.0)) * tFrag).rgb * weight[10];\n    // destColor += texture2D(tDiffuse, (fc + vec2( 11.0, 0.0)) * tFrag).rgb * weight[11];\n    // destColor += texture2D(tDiffuse, (fc + vec2( 12.0, 0.0)) * tFrag).rgb * weight[12];\n    // destColor += texture2D(tDiffuse, (fc + vec2( 13.0, 0.0)) * tFrag).rgb * weight[13];\n    // destColor += texture2D(tDiffuse, (fc + vec2( 14.0, 0.0)) * tFrag).rgb * weight[14];\n    // destColor += texture2D(tDiffuse, (fc + vec2( 15.0, 0.0)) * tFrag).rgb * weight[15];\n  }else{\n    fc = gl_FragCoord.st;\n\n    // destColor += texture2D(tDiffuse, (fc + vec2(0.0, -15.0)) * tFrag).rgb * weight[15];\n    // destColor += texture2D(tDiffuse, (fc + vec2(0.0, -14.0)) * tFrag).rgb * weight[14];\n    // destColor += texture2D(tDiffuse, (fc + vec2(0.0, -13.0)) * tFrag).rgb * weight[13];\n    // destColor += texture2D(tDiffuse, (fc + vec2(0.0, -12.0)) * tFrag).rgb * weight[12];\n    // destColor += texture2D(tDiffuse, (fc + vec2(0.0, -11.0)) * tFrag).rgb * weight[11];\n    // destColor += texture2D(tDiffuse, (fc + vec2(0.0, -10.0)) * tFrag).rgb * weight[10];\n\n    destColor += texture2D(tDiffuse, (fc + vec2(0.0, -9.0)) * tFrag).rgb * weight[9];\n    destColor += texture2D(tDiffuse, (fc + vec2(0.0, -8.0)) * tFrag).rgb * weight[8];\n    destColor += texture2D(tDiffuse, (fc + vec2(0.0, -7.0)) * tFrag).rgb * weight[7];\n    destColor += texture2D(tDiffuse, (fc + vec2(0.0, -6.0)) * tFrag).rgb * weight[6];\n    destColor += texture2D(tDiffuse, (fc + vec2(0.0, -5.0)) * tFrag).rgb * weight[5];\n    destColor += texture2D(tDiffuse, (fc + vec2(0.0, -4.0)) * tFrag).rgb * weight[4];\n    destColor += texture2D(tDiffuse, (fc + vec2(0.0, -3.0)) * tFrag).rgb * weight[3];\n    destColor += texture2D(tDiffuse, (fc + vec2(0.0, -2.0)) * tFrag).rgb * weight[2];\n    destColor += texture2D(tDiffuse, (fc + vec2(0.0, -1.0)) * tFrag).rgb * weight[1];\n    destColor += texture2D(tDiffuse, (fc + vec2(0.0,  0.0)) * tFrag).rgb * weight[0];\n    destColor += texture2D(tDiffuse, (fc + vec2(0.0,  1.0)) * tFrag).rgb * weight[1];\n    destColor += texture2D(tDiffuse, (fc + vec2(0.0,  2.0)) * tFrag).rgb * weight[2];\n    destColor += texture2D(tDiffuse, (fc + vec2(0.0,  3.0)) * tFrag).rgb * weight[3];\n    destColor += texture2D(tDiffuse, (fc + vec2(0.0,  4.0)) * tFrag).rgb * weight[4];\n    destColor += texture2D(tDiffuse, (fc + vec2(0.0,  5.0)) * tFrag).rgb * weight[5];\n    destColor += texture2D(tDiffuse, (fc + vec2(0.0,  6.0)) * tFrag).rgb * weight[6];\n    destColor += texture2D(tDiffuse, (fc + vec2(0.0,  7.0)) * tFrag).rgb * weight[7];\n    destColor += texture2D(tDiffuse, (fc + vec2(0.0,  8.0)) * tFrag).rgb * weight[8];\n    destColor += texture2D(tDiffuse, (fc + vec2(0.0,  9.0)) * tFrag).rgb * weight[9];\n\n    // destColor += texture2D(tDiffuse, (fc + vec2(0.0,  10.0)) * tFrag).rgb * weight[10];\n    // destColor += texture2D(tDiffuse, (fc + vec2(0.0,  11.0)) * tFrag).rgb * weight[11];\n    // destColor += texture2D(tDiffuse, (fc + vec2(0.0,  12.0)) * tFrag).rgb * weight[12];\n    // destColor += texture2D(tDiffuse, (fc + vec2(0.0,  13.0)) * tFrag).rgb * weight[13];\n    // destColor += texture2D(tDiffuse, (fc + vec2(0.0,  14.0)) * tFrag).rgb * weight[14];\n    // destColor += texture2D(tDiffuse, (fc + vec2(0.0,  15.0)) * tFrag).rgb * weight[15];\n  }\n\n  gl_FragColor = vec4(destColor, 1.0);\n\n}\n";
  },
  function (t, e) {
    t.exports =
      "#define GLSLIFY 1\nuniform vec3 colorA;\nuniform vec3 colorB;\n\nvarying vec2 vUv;\n\nvoid main(void) {\n\n  vec3 dest = mix(colorA, colorB, vUv.y);\n  gl_FragColor = vec4(dest, 1.0);\n\n}\n";
  },
  function (t, e) {
    t.exports =
      "#define GLSLIFY 1\n//\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_1_0(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289_1_0(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute_1_1(vec3 x) {\n  return mod289_1_0(((x*34.0)+1.0)*x);\n}\n\nfloat snoise_1_2(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289_1_0(i); // Avoid truncation effects in permutation\n  vec3 p = permute_1_1( permute_1_1( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\n\n\n\nuniform sampler2D tDiffuse;\nuniform vec2 offset;\nuniform float time;\nuniform float alpha;\nuniform float kake;\nuniform float rate;\n\nvarying vec2 vUv;\n\nvoid main(void) {\n\n  float n = snoise_1_2(time + vUv * offset.x) * offset.y;\n  vec2 uv = vUv + mix(vec2(0.0), vec2(n * kake, n), rate);\n  vec4 dest = texture2D(tDiffuse, uv);\n  dest.a *= alpha;\n\n  gl_FragColor = dest;\n\n}\n";
  },
  function (t, e) {
    t.exports =
      "#define GLSLIFY 1\nuniform sampler2D tDiffuse;\nuniform float bright;\nuniform float alpha;\nuniform float contrast;\n\nvarying vec2 vUv;\n\nfloat rand (vec2 st, float r) {\n    return fract(sin(dot(st.xy, vec2(12.9898,78.233))) * 43758.5453123 * r);\n}\n\nvoid main(void) {\n\n  vec4 dest = texture2D(tDiffuse, vUv);\n  dest.rgb = (dest.rgb - 0.5) / (1.0 - contrast) + 0.5;\n  dest.rgb += bright;\n  dest.a *= alpha;\n\n  gl_FragColor = dest;\n\n}\n";
  },
  function (t, e) {
    t.exports =
      "#define GLSLIFY 1\nuniform sampler2D tDiffuse;\nuniform sampler2D tBlur;\nuniform float time;\nuniform float alpha;\nuniform float bAlpha;\n\nvarying vec2 vUv;\n\n\nvoid main(void) {\n\n  vec4 blur = texture2D(tBlur, vUv);\n  vec4 scene = texture2D(tDiffuse, vUv);\n  vec4 dest = (scene * (1.0 - bAlpha)) + (blur * bAlpha);\n\n  dest.a *= alpha;\n\n  gl_FragColor = dest;\n\n}\n";
  },
  function (t, e) {
    t.exports =
      "#define GLSLIFY 1\nuniform sampler2D tDiffuse;\nuniform float rate;\n\nuniform float time;\nuniform vec2 resolution;\nuniform vec2 cen;\nuniform float wave;\nuniform float range;\nuniform float power;\n\nvarying vec2 vUv;\n\n\nfloat map(float value, float beforeMin, float beforeMax, float afterMin, float afterMax) {\n  return afterMin + (afterMax - afterMin) * ((value - beforeMin) / (beforeMax - beforeMin));\n}\n\n\n// 豕｢邏欺nvec2 ripple(vec2 center, float wave, float range, float strength) {\n\n  vec2 cPos = vec2(gl_FragCoord) - resolution * 0.5;\n  cPos -= center * resolution * 0.5;\n\n  float cLength = distance(cPos, vec2(0.0));\n\n  float v = min(resolution.x, resolution.y) * 1.0;\n  float k = map(cLength, wave * v, 0.0, 0.0, range * v);\n  vec2 offset = cPos / cLength * sin(cLength * strength - time * 0.1) * k;\n\n  return vUv + offset * (1.0 / resolution);\n\n}\n\n\nvoid main(void) {\n\n  vec2 uv = ripple(cen, wave * 0.0001, range * 0.0000001 * power, power * 0.1);\n  vec4 dest = texture2D(tDiffuse, uv);\n\n  // dest.a *= max(0.0, (1.0 - vUv.y * vUv.x) + map(rate, 0.0, 1.0, -1.0, 2.0));\n  dest.a *= max(0.0, (1.0 - vUv.y) + map(rate, 0.0, 1.0, -1.0, 2.0));\n  // dest.a *= rate;\n\n\n  gl_FragColor = dest;\n\n}\n";
  },
  function (t, e) {
    t.exports =
      "#define GLSLIFY 1\n//\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_1_0(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289_1_0(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute_1_1(vec3 x) {\n  return mod289_1_0(((x*34.0)+1.0)*x);\n}\n\nfloat snoise_1_2(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289_1_0(i); // Avoid truncation effects in permutation\n  vec3 p = permute_1_1( permute_1_1( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\n\n\n\nuniform sampler2D tDiffuse;\nuniform sampler2D tBlur;\nuniform float alpha;\nuniform float blurAlpha;\n\nuniform vec2 offset;\nuniform float time;\nuniform float noise;\nuniform vec2 addNoise;\n\nvarying vec2 vUv;\n\n\nvoid main(void) {\n\n  float n = snoise_1_2(time + vUv * offset.x) * offset.y;\n  vec2 uv = vUv + vec2(n * addNoise.x, n * addNoise.y) * noise;\n\n  vec4 blur = texture2D(tBlur, uv);\n  vec4 scene = texture2D(tDiffuse, uv);\n\n  vec4 dest = (scene * (1.0 - blurAlpha)) + (blur * blurAlpha);\n  dest.a *= alpha;\n\n  // dest.r = 1.0;\n  // dest.g = 1.0;\n  // dest.b = 0.0;\n\n  gl_FragColor = dest;\n\n}\n";
  },
  function (t, e) {
    t.exports =
      "#define GLSLIFY 1\n//\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_1_0(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289_1_0(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute_1_1(vec3 x) {\n  return mod289_1_0(((x*34.0)+1.0)*x);\n}\n\nfloat snoise_1_2(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289_1_0(i); // Avoid truncation effects in permutation\n  vec3 p = permute_1_1( permute_1_1( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\n\n\n\nuniform sampler2D tDiffuse;\nuniform vec2 offset;\nuniform float time;\nuniform float alpha;\nuniform float rate;\n\nvarying vec2 vUv;\n\n\nvoid main(void) {\n\n  float n = snoise_1_2(time + vUv * offset.x) * offset.y;\n  vec2 uv = vUv + mix(vec2(0.0), vec2(n * 4.0, n), rate);\n  vec4 dest = texture2D(tDiffuse, uv);\n  dest.a *= alpha;\n\n  gl_FragColor = dest;\n\n}\n";
  },
  function (t, e) {
    t.exports =
      "#define GLSLIFY 1\n//\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_1_0(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289_1_0(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute_1_1(vec3 x) {\n  return mod289_1_0(((x*34.0)+1.0)*x);\n}\n\nfloat snoise_1_2(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289_1_0(i); // Avoid truncation effects in permutation\n  vec3 p = permute_1_1( permute_1_1( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\n\n\n\nuniform sampler2D tDiffuse;\nuniform float alpha;\nuniform vec2 offset;\nuniform float time;\nuniform float noise;\nuniform float showRate;\nuniform float bright;\nuniform vec2 addNoise;\n\nvarying vec2 vUv;\n\nbool inCircle(vec2 position, vec2 offset, float size) {\n    float len = length(position - offset);\n    if (len < size) {\n        return true;\n    }\n    return false;\n}\n\nfloat map(float value, float beforeMin, float beforeMax, float afterMin, float afterMax) {\n  return afterMin + (afterMax - afterMin) * ((value - beforeMin) / (beforeMax - beforeMin));\n}\n\nvoid main(void) {\n\n  float n = snoise_1_2(time + vUv * offset.x) * offset.y;\n  vec2 uv = vUv + vec2(n * addNoise.x, n * addNoise.y) * noise;\n  vec4 dest = texture2D(tDiffuse, uv);\n\n  float d = distance(uv, vec2(0.5, 0.5));\n\n  dest.rgb = mix(dest.rgb, vec3(1.0), bright);\n  dest.a *= min(1.0, map(d, 0.4, 0.5, 1.0, 0.0) + showRate * 3.0);\n  dest.a *= alpha;\n  // dest.a *= 0.05;\n\n  gl_FragColor = dest;\n\n}\n";
  },
  function (t, e) {
    t.exports =
      "#define GLSLIFY 1\nuniform sampler2D tDiffuse;\nuniform sampler2D tMask;\nuniform bool useMask;\n\nvarying vec2 vUv;\n\nvoid main(void) {\n\n  vec4 dest = texture2D(tDiffuse, vUv);\n\n  if(useMask) {\n    vec4 mask = texture2D(tMask, vUv);\n    dest.a *= mask.a;\n  }\n  \n  gl_FragColor = dest;\n\n}\n";
  },
  function (t, e) {
    t.exports =
      "#define GLSLIFY 1\n//\n// Description : Array and textureless GLSL 2D simplex noise function.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : ijm\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//\n\nvec3 mod289_1_0(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289_1_0(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute_1_1(vec3 x) {\n  return mod289_1_0(((x*34.0)+1.0)*x);\n}\n\nfloat snoise_1_2(vec2 v)\n  {\n  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n                      0.024390243902439); // 1.0 / 41.0\n// First corner\n  vec2 i  = floor(v + dot(v, C.yy) );\n  vec2 x0 = v -   i + dot(i, C.xx);\n\n// Other corners\n  vec2 i1;\n  //i1.x = step( x0.y, x0.x ); // x0.x > x0.y ? 1.0 : 0.0\n  //i1.y = 1.0 - i1.x;\n  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n  // x0 = x0 - 0.0 + 0.0 * C.xx ;\n  // x1 = x0 - i1 + 1.0 * C.xx ;\n  // x2 = x0 - 1.0 + 2.0 * C.xx ;\n  vec4 x12 = x0.xyxy + C.xxzz;\n  x12.xy -= i1;\n\n// Permutations\n  i = mod289_1_0(i); // Avoid truncation effects in permutation\n  vec3 p = permute_1_1( permute_1_1( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n\n  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n  m = m*m ;\n  m = m*m ;\n\n// Gradients: 41 points uniformly over a line, mapped onto a diamond.\n// The ring size 17*17 = 289 is close to a multiple of 41 (41*7 = 287)\n\n  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n  vec3 h = abs(x) - 0.5;\n  vec3 ox = floor(x + 0.5);\n  vec3 a0 = x - ox;\n\n// Normalise gradients implicitly by scaling m\n// Approximation of: m *= inversesqrt( a0*a0 + h*h );\n  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n// Compute final noise value at P\n  vec3 g;\n  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n  return 130.0 * dot(m, g);\n}\n\n\n\n\nuniform sampler2D tNoise;\nuniform float strength;\nuniform float rate;\nuniform float alpha;\nuniform float time;\n\nvarying vec2 vUv;\n\nvoid main(void) {\n\n  // float n = snoise2(time + vUv * offset.x) * offset.y;\n  // vec2 uv = vUv + vec2(n * addNoise.x, n * addNoise.y) * noise;\n  // vec2 uv = vUv;\n  //\n  // float mask = texture2D(tMask, uv).a;\n  //\n  // vec4 dest;\n  // if(reverse) {\n  //   dest = vec4(color, mask);\n  // } else {\n  //   dest = vec4(color, 1.0 - mask);\n  // }\n  //\n  // dest.a *= alpha;\n\n\n  vec2 uv = vUv;\n\n  float n = texture2D(tNoise, uv).r;\n  n = (snoise_1_2(vec2(n, n + uv.y + time * 0.01))) * strength + (rate * 3.0);\n  vec4 dest = vec4(1.0, 1.0, 1.0, n);\n  dest.a *= alpha;\n\n\n\n  gl_FragColor = dest;\n\n}\n";
  },
  function (t, e, i) {
    !(function (e, i) {
      t.exports = i();
    })(this, function () {
      "use strict";
      var t = function () {
        function e(t) {
          return r.appendChild(t.dom), t;
        }
        function i(t) {
          for (var e = 0; e < r.children.length; e++)
            r.children[e].style.display = e === t ? "block" : "none";
          n = t;
        }
        var n = 0,
          r = document.createElement("div");
        (r.style.cssText =
          "position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000"),
          r.addEventListener(
            "click",
            function (t) {
              t.preventDefault(), i(++n % r.children.length);
            },
            !1
          );
        var s = (performance || Date).now(),
          o = s,
          a = 0,
          h = e(new t.Panel("FPS", "#0ff", "#002")),
          l = e(new t.Panel("MS", "#0f0", "#020"));
        if (self.performance && self.performance.memory)
          var u = e(new t.Panel("MB", "#f08", "#201"));
        return (
          i(0),
          {
            REVISION: 16,
            dom: r,
            addPanel: e,
            showPanel: i,
            begin: function () {
              s = (performance || Date).now();
            },
            end: function () {
              a++;
              var t = (performance || Date).now();
              if (
                (l.update(t - s, 200),
                o + 1e3 <= t &&
                  (h.update((1e3 * a) / (t - o), 100), (o = t), (a = 0), u))
              ) {
                var e = performance.memory;
                u.update(
                  e.usedJSHeapSize / 1048576,
                  e.jsHeapSizeLimit / 1048576
                );
              }
              return t;
            },
            update: function () {
              s = this.end();
            },
            domElement: r,
            setMode: i,
          }
        );
      };
      return (
        (t.Panel = function (t, e, i) {
          var n = 1 / 0,
            r = 0,
            s = Math.round,
            o = s(window.devicePixelRatio || 1),
            a = 80 * o,
            h = 48 * o,
            l = 3 * o,
            u = 2 * o,
            c = 3 * o,
            p = 15 * o,
            d = 74 * o,
            f = 30 * o,
            m = document.createElement("canvas");
          (m.width = a),
            (m.height = h),
            (m.style.cssText = "width:80px;height:48px");
          var _ = m.getContext("2d");
          return (
            (_.font = "bold " + 9 * o + "px Helvetica,Arial,sans-serif"),
            (_.textBaseline = "top"),
            (_.fillStyle = i),
            _.fillRect(0, 0, a, h),
            (_.fillStyle = e),
            _.fillText(t, l, u),
            _.fillRect(c, p, d, f),
            (_.fillStyle = i),
            (_.globalAlpha = 0.9),
            _.fillRect(c, p, d, f),
            {
              dom: m,
              update: function (h, g) {
                (n = Math.min(n, h)),
                  (r = Math.max(r, h)),
                  (_.fillStyle = i),
                  (_.globalAlpha = 1),
                  _.fillRect(0, 0, a, p),
                  (_.fillStyle = e),
                  _.fillText(
                    s(h) + " " + t + " (" + s(n) + "-" + s(r) + ")",
                    l,
                    u
                  ),
                  _.drawImage(m, c + o, p, d - o, f, c, p, d - o, f),
                  _.fillRect(c + d - o, p, o, f),
                  (_.fillStyle = i),
                  (_.globalAlpha = 0.9),
                  _.fillRect(c + d - o, p, o, s((1 - h / g) * f));
              },
            }
          );
        }),
        t
      );
    });
  },
  function (t, e, i) {
    !(function (t, i) {
      i(e);
    })(this, function (t) {
      function e() {}
      function i(t, e) {
        (this.x = t || 0), (this.y = e || 0);
      }
      function n() {
        (this.elements = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]),
          0 < arguments.length &&
            console.error(
              "THREE.Matrix4: the constructor no longer reads arguments. use .set() instead."
            );
      }
      function r(t, e, i, n) {
        (this._x = t || 0),
          (this._y = e || 0),
          (this._z = i || 0),
          (this._w = void 0 !== n ? n : 1);
      }
      function s(t, e, i) {
        (this.x = t || 0), (this.y = e || 0), (this.z = i || 0);
      }
      function o() {
        (this.elements = [1, 0, 0, 0, 1, 0, 0, 0, 1]),
          0 < arguments.length &&
            console.error(
              "THREE.Matrix3: the constructor no longer reads arguments. use .set() instead."
            );
      }
      function a(t, e, n, r, s, h, l, u, c, p) {
        Object.defineProperty(this, "id", { value: ss++ }),
          (this.uuid = ns.generateUUID()),
          (this.name = ""),
          (this.image = void 0 !== t ? t : a.DEFAULT_IMAGE),
          (this.mipmaps = []),
          (this.mapping = void 0 !== e ? e : a.DEFAULT_MAPPING),
          (this.wrapS = void 0 !== n ? n : 1001),
          (this.wrapT = void 0 !== r ? r : 1001),
          (this.magFilter = void 0 !== s ? s : 1006),
          (this.minFilter = void 0 !== h ? h : 1008),
          (this.anisotropy = void 0 !== c ? c : 1),
          (this.format = void 0 !== l ? l : 1023),
          (this.type = void 0 !== u ? u : 1009),
          (this.offset = new i(0, 0)),
          (this.repeat = new i(1, 1)),
          (this.center = new i(0, 0)),
          (this.rotation = 0),
          (this.matrixAutoUpdate = !0),
          (this.matrix = new o()),
          (this.generateMipmaps = !0),
          (this.premultiplyAlpha = !1),
          (this.flipY = !0),
          (this.unpackAlignment = 4),
          (this.encoding = void 0 !== p ? p : 3e3),
          (this.version = 0),
          (this.onUpdate = null);
      }
      function h(t, e, i, n) {
        (this.x = t || 0),
          (this.y = e || 0),
          (this.z = i || 0),
          (this.w = void 0 !== n ? n : 1);
      }
      function l(t, e, i) {
        (this.width = t),
          (this.height = e),
          (this.scissor = new h(0, 0, t, e)),
          (this.scissorTest = !1),
          (this.viewport = new h(0, 0, t, e)),
          (i = i || {}),
          void 0 === i.minFilter && (i.minFilter = 1006),
          (this.texture = new a(
            void 0,
            void 0,
            i.wrapS,
            i.wrapT,
            i.magFilter,
            i.minFilter,
            i.format,
            i.type,
            i.anisotropy,
            i.encoding
          )),
          (this.texture.generateMipmaps =
            void 0 === i.generateMipmaps || i.generateMipmaps),
          (this.depthBuffer = void 0 === i.depthBuffer || i.depthBuffer),
          (this.stencilBuffer = void 0 === i.stencilBuffer || i.stencilBuffer),
          (this.depthTexture =
            void 0 !== i.depthTexture ? i.depthTexture : null);
      }
      function u(t, e, i) {
        l.call(this, t, e, i),
          (this.activeMipMapLevel = this.activeCubeFace = 0);
      }
      function c(t, e, i, n, r, s, o, h, l, u, c, p) {
        a.call(this, null, s, o, h, l, u, n, r, c, p),
          (this.image = { data: t, width: e, height: i }),
          (this.magFilter = void 0 !== l ? l : 1003),
          (this.minFilter = void 0 !== u ? u : 1003),
          (this.flipY = this.generateMipmaps = !1),
          (this.unpackAlignment = 1);
      }
      function p(t, e) {
        (this.min = void 0 !== t ? t : new s(1 / 0, 1 / 0, 1 / 0)),
          (this.max = void 0 !== e ? e : new s(-(1 / 0), -(1 / 0), -(1 / 0)));
      }
      function d(t, e) {
        (this.center = void 0 !== t ? t : new s()),
          (this.radius = void 0 !== e ? e : 0);
      }
      function f(t, e) {
        (this.normal = void 0 !== t ? t : new s(1, 0, 0)),
          (this.constant = void 0 !== e ? e : 0);
      }
      function m(t, e, i, n, r, s) {
        this.planes = [
          void 0 !== t ? t : new f(),
          void 0 !== e ? e : new f(),
          void 0 !== i ? i : new f(),
          void 0 !== n ? n : new f(),
          void 0 !== r ? r : new f(),
          void 0 !== s ? s : new f(),
        ];
      }
      function _(t, e, i) {
        return void 0 === e && void 0 === i
          ? this.set(t)
          : this.setRGB(t, e, i);
      }
      function g() {
        function t(r, s) {
          !1 !== i && (n(r, s), e.requestAnimationFrame(t));
        }
        var e = null,
          i = !1,
          n = null;
        return {
          start: function () {
            !0 !== i && null !== n && (e.requestAnimationFrame(t), (i = !0));
          },
          stop: function () {
            i = !1;
          },
          setAnimationLoop: function (t) {
            n = t;
          },
          setContext: function (t) {
            e = t;
          },
        };
      }
      function v(t) {
        function e(e, i) {
          var n = e.array,
            r = e.dynamic ? t.DYNAMIC_DRAW : t.STATIC_DRAW,
            s = t.createBuffer();
          return (
            t.bindBuffer(i, s),
            t.bufferData(i, n, r),
            e.onUploadCallback(),
            (i = t.FLOAT),
            n instanceof Float32Array
              ? (i = t.FLOAT)
              : n instanceof Float64Array
              ? console.warn(
                  "THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."
                )
              : n instanceof Uint16Array
              ? (i = t.UNSIGNED_SHORT)
              : n instanceof Int16Array
              ? (i = t.SHORT)
              : n instanceof Uint32Array
              ? (i = t.UNSIGNED_INT)
              : n instanceof Int32Array
              ? (i = t.INT)
              : n instanceof Int8Array
              ? (i = t.BYTE)
              : n instanceof Uint8Array && (i = t.UNSIGNED_BYTE),
            {
              buffer: s,
              type: i,
              bytesPerElement: n.BYTES_PER_ELEMENT,
              version: e.version,
            }
          );
        }
        var i = new WeakMap();
        return {
          get: function (t) {
            return t.isInterleavedBufferAttribute && (t = t.data), i.get(t);
          },
          remove: function (e) {
            e.isInterleavedBufferAttribute && (e = e.data);
            var n = i.get(e);
            n && (t.deleteBuffer(n.buffer), i.delete(e));
          },
          update: function (n, r) {
            n.isInterleavedBufferAttribute && (n = n.data);
            var s = i.get(n);
            if (void 0 === s) i.set(n, e(n, r));
            else if (s.version < n.version) {
              var o = n,
                a = o.array,
                h = o.updateRange;
              t.bindBuffer(r, s.buffer),
                !1 === o.dynamic
                  ? t.bufferData(r, a, t.STATIC_DRAW)
                  : -1 === h.count
                  ? t.bufferSubData(r, 0, a)
                  : 0 === h.count
                  ? console.error(
                      "THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."
                    )
                  : (t.bufferSubData(
                      r,
                      h.offset * a.BYTES_PER_ELEMENT,
                      a.subarray(h.offset, h.offset + h.count)
                    ),
                    (h.count = -1)),
                (s.version = n.version);
            }
          },
        };
      }
      function y(t, e, i, n, r, o) {
        (this.a = t),
          (this.b = e),
          (this.c = i),
          (this.normal = n && n.isVector3 ? n : new s()),
          (this.vertexNormals = Array.isArray(n) ? n : []),
          (this.color = r && r.isColor ? r : new _()),
          (this.vertexColors = Array.isArray(r) ? r : []),
          (this.materialIndex = void 0 !== o ? o : 0);
      }
      function x(t, e, i, n) {
        (this._x = t || 0),
          (this._y = e || 0),
          (this._z = i || 0),
          (this._order = n || x.DefaultOrder);
      }
      function w() {
        this.mask = 1;
      }
      function b() {
        Object.defineProperty(this, "id", { value: cs++ }),
          (this.uuid = ns.generateUUID()),
          (this.name = ""),
          (this.type = "Object3D"),
          (this.parent = null),
          (this.children = []),
          (this.up = b.DefaultUp.clone());
        var t = new s(),
          e = new x(),
          i = new r(),
          a = new s(1, 1, 1);
        e.onChange(function () {
          i.setFromEuler(e, !1);
        }),
          i.onChange(function () {
            e.setFromQuaternion(i, void 0, !1);
          }),
          Object.defineProperties(this, {
            position: { enumerable: !0, value: t },
            rotation: { enumerable: !0, value: e },
            quaternion: { enumerable: !0, value: i },
            scale: { enumerable: !0, value: a },
            modelViewMatrix: { value: new n() },
            normalMatrix: { value: new o() },
          }),
          (this.matrix = new n()),
          (this.matrixWorld = new n()),
          (this.matrixAutoUpdate = b.DefaultMatrixAutoUpdate),
          (this.matrixWorldNeedsUpdate = !1),
          (this.layers = new w()),
          (this.visible = !0),
          (this.receiveShadow = this.castShadow = !1),
          (this.frustumCulled = !0),
          (this.renderOrder = 0),
          (this.userData = {});
      }
      function T() {
        Object.defineProperty(this, "id", { value: (ps += 2) }),
          (this.uuid = ns.generateUUID()),
          (this.name = ""),
          (this.type = "Geometry"),
          (this.vertices = []),
          (this.colors = []),
          (this.faces = []),
          (this.faceVertexUvs = [[]]),
          (this.morphTargets = []),
          (this.morphNormals = []),
          (this.skinWeights = []),
          (this.skinIndices = []),
          (this.lineDistances = []),
          (this.boundingSphere = this.boundingBox = null),
          (this.groupsNeedUpdate =
            this.lineDistancesNeedUpdate =
            this.colorsNeedUpdate =
            this.normalsNeedUpdate =
            this.uvsNeedUpdate =
            this.verticesNeedUpdate =
            this.elementsNeedUpdate =
              !1);
      }
      function E(t, e, i) {
        if (Array.isArray(t))
          throw new TypeError(
            "THREE.BufferAttribute: array should be a Typed Array."
          );
        (this.name = ""),
          (this.array = t),
          (this.itemSize = e),
          (this.count = void 0 !== t ? t.length / e : 0),
          (this.normalized = !0 === i),
          (this.dynamic = !1),
          (this.updateRange = { offset: 0, count: -1 }),
          (this.version = 0);
      }
      function S(t, e, i) {
        E.call(this, new Int8Array(t), e, i);
      }
      function M(t, e, i) {
        E.call(this, new Uint8Array(t), e, i);
      }
      function C(t, e, i) {
        E.call(this, new Uint8ClampedArray(t), e, i);
      }
      function P(t, e, i) {
        E.call(this, new Int16Array(t), e, i);
      }
      function A(t, e, i) {
        E.call(this, new Uint16Array(t), e, i);
      }
      function R(t, e, i) {
        E.call(this, new Int32Array(t), e, i);
      }
      function L(t, e, i) {
        E.call(this, new Uint32Array(t), e, i);
      }
      function I(t, e, i) {
        E.call(this, new Float32Array(t), e, i);
      }
      function O(t, e, i) {
        E.call(this, new Float64Array(t), e, i);
      }
      function D() {
        (this.vertices = []),
          (this.normals = []),
          (this.colors = []),
          (this.uvs = []),
          (this.uvs2 = []),
          (this.groups = []),
          (this.morphTargets = {}),
          (this.skinWeights = []),
          (this.skinIndices = []),
          (this.boundingSphere = this.boundingBox = null),
          (this.groupsNeedUpdate =
            this.uvsNeedUpdate =
            this.colorsNeedUpdate =
            this.normalsNeedUpdate =
            this.verticesNeedUpdate =
              !1);
      }
      function k(t) {
        if (0 === t.length) return -(1 / 0);
        for (var e = t[0], i = 1, n = t.length; i < n; ++i)
          t[i] > e && (e = t[i]);
        return e;
      }
      function N() {
        Object.defineProperty(this, "id", { value: (ds += 2) }),
          (this.uuid = ns.generateUUID()),
          (this.name = ""),
          (this.type = "BufferGeometry"),
          (this.index = null),
          (this.attributes = {}),
          (this.morphAttributes = {}),
          (this.groups = []),
          (this.boundingSphere = this.boundingBox = null),
          (this.drawRange = { start: 0, count: 1 / 0 }),
          (this.userData = {});
      }
      function z(t, e, i, n, r, s) {
        T.call(this),
          (this.type = "BoxGeometry"),
          (this.parameters = {
            width: t,
            height: e,
            depth: i,
            widthSegments: n,
            heightSegments: r,
            depthSegments: s,
          }),
          this.fromBufferGeometry(new F(t, e, i, n, r, s)),
          this.mergeVertices();
      }
      function F(t, e, i, n, r, o) {
        function a(t, e, i, n, r, o, a, m, _, g, v) {
          var y = o / _,
            x = a / g,
            w = o / 2,
            b = a / 2,
            T = m / 2;
          a = _ + 1;
          var E,
            S,
            M = g + 1,
            C = (o = 0),
            P = new s();
          for (S = 0; S < M; S++) {
            var A = S * x - b;
            for (E = 0; E < a; E++)
              (P[t] = (E * y - w) * n),
                (P[e] = A * r),
                (P[i] = T),
                u.push(P.x, P.y, P.z),
                (P[t] = 0),
                (P[e] = 0),
                (P[i] = 0 < m ? 1 : -1),
                c.push(P.x, P.y, P.z),
                p.push(E / _),
                p.push(1 - S / g),
                (o += 1);
          }
          for (S = 0; S < g; S++)
            for (E = 0; E < _; E++)
              (t = d + E + a * (S + 1)),
                (e = d + (E + 1) + a * (S + 1)),
                (i = d + (E + 1) + a * S),
                l.push(d + E + a * S, t, i),
                l.push(t, e, i),
                (C += 6);
          h.addGroup(f, C, v), (f += C), (d += o);
        }
        N.call(this),
          (this.type = "BoxBufferGeometry"),
          (this.parameters = {
            width: t,
            height: e,
            depth: i,
            widthSegments: n,
            heightSegments: r,
            depthSegments: o,
          });
        var h = this;
        (t = t || 1),
          (e = e || 1),
          (i = i || 1),
          (n = Math.floor(n) || 1),
          (r = Math.floor(r) || 1),
          (o = Math.floor(o) || 1);
        var l = [],
          u = [],
          c = [],
          p = [],
          d = 0,
          f = 0;
        a("z", "y", "x", -1, -1, i, e, t, o, r, 0),
          a("z", "y", "x", 1, -1, i, e, -t, o, r, 1),
          a("x", "z", "y", 1, 1, t, i, e, n, o, 2),
          a("x", "z", "y", 1, -1, t, i, -e, n, o, 3),
          a("x", "y", "z", 1, -1, t, e, i, n, r, 4),
          a("x", "y", "z", -1, -1, t, e, -i, n, r, 5),
          this.setIndex(l),
          this.addAttribute("position", new I(u, 3)),
          this.addAttribute("normal", new I(c, 3)),
          this.addAttribute("uv", new I(p, 2));
      }
      function H(t, e, i, n) {
        T.call(this),
          (this.type = "PlaneGeometry"),
          (this.parameters = {
            width: t,
            height: e,
            widthSegments: i,
            heightSegments: n,
          }),
          this.fromBufferGeometry(new B(t, e, i, n)),
          this.mergeVertices();
      }
      function B(t, e, i, n) {
        N.call(this),
          (this.type = "PlaneBufferGeometry"),
          (this.parameters = {
            width: t,
            height: e,
            widthSegments: i,
            heightSegments: n,
          }),
          (t = t || 1),
          (e = e || 1);
        var r = t / 2,
          s = e / 2;
        (i = Math.floor(i) || 1), (n = Math.floor(n) || 1);
        var o = i + 1,
          a = n + 1,
          h = t / i,
          l = e / n,
          u = [],
          c = [],
          p = [],
          d = [];
        for (t = 0; t < a; t++) {
          var f = t * l - s;
          for (e = 0; e < o; e++)
            c.push(e * h - r, -f, 0),
              p.push(0, 0, 1),
              d.push(e / i),
              d.push(1 - t / n);
        }
        for (t = 0; t < n; t++)
          for (e = 0; e < i; e++)
            (r = e + o * (t + 1)),
              (s = e + 1 + o * (t + 1)),
              (a = e + 1 + o * t),
              u.push(e + o * t, r, a),
              u.push(r, s, a);
        this.setIndex(u),
          this.addAttribute("position", new I(c, 3)),
          this.addAttribute("normal", new I(p, 3)),
          this.addAttribute("uv", new I(d, 2));
      }
      function U() {
        Object.defineProperty(this, "id", { value: fs++ }),
          (this.uuid = ns.generateUUID()),
          (this.name = ""),
          (this.type = "Material"),
          (this.lights = this.fog = !0),
          (this.blending = 1),
          (this.side = 0),
          (this.flatShading = !1),
          (this.vertexColors = 0),
          (this.opacity = 1),
          (this.transparent = !1),
          (this.blendSrc = 204),
          (this.blendDst = 205),
          (this.blendEquation = 100),
          (this.blendEquationAlpha =
            this.blendDstAlpha =
            this.blendSrcAlpha =
              null),
          (this.depthFunc = 3),
          (this.depthWrite = this.depthTest = !0),
          (this.clippingPlanes = null),
          (this.clipShadows = this.clipIntersection = !1),
          (this.shadowSide = null),
          (this.colorWrite = !0),
          (this.precision = null),
          (this.polygonOffset = !1),
          (this.polygonOffsetUnits = this.polygonOffsetFactor = 0),
          (this.dithering = !1),
          (this.alphaTest = 0),
          (this.premultipliedAlpha = !1),
          (this.overdraw = 0),
          (this.visible = !0),
          (this.userData = {}),
          (this.needsUpdate = !0);
      }
      function G(t) {
        U.call(this),
          (this.type = "ShaderMaterial"),
          (this.defines = {}),
          (this.uniforms = {}),
          (this.vertexShader =
            "void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}"),
          (this.fragmentShader =
            "void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}"),
          (this.linewidth = 1),
          (this.wireframe = !1),
          (this.wireframeLinewidth = 1),
          (this.morphNormals =
            this.morphTargets =
            this.skinning =
            this.clipping =
            this.lights =
            this.fog =
              !1),
          (this.extensions = {
            derivatives: !1,
            fragDepth: !1,
            drawBuffers: !1,
            shaderTextureLOD: !1,
          }),
          (this.defaultAttributeValues = {
            color: [1, 1, 1],
            uv: [0, 0],
            uv2: [0, 0],
          }),
          (this.index0AttributeName = void 0),
          (this.uniformsNeedUpdate = !1),
          void 0 !== t &&
            (void 0 !== t.attributes &&
              console.error(
                "THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."
              ),
            this.setValues(t));
      }
      function V(t, e) {
        (this.origin = void 0 !== t ? t : new s()),
          (this.direction = void 0 !== e ? e : new s());
      }
      function j(t, e, i) {
        (this.a = void 0 !== t ? t : new s()),
          (this.b = void 0 !== e ? e : new s()),
          (this.c = void 0 !== i ? i : new s());
      }
      function W(t) {
        U.call(this),
          (this.type = "MeshBasicMaterial"),
          (this.color = new _(16777215)),
          (this.lightMap = this.map = null),
          (this.lightMapIntensity = 1),
          (this.aoMap = null),
          (this.aoMapIntensity = 1),
          (this.envMap = this.alphaMap = this.specularMap = null),
          (this.combine = 0),
          (this.reflectivity = 1),
          (this.refractionRatio = 0.98),
          (this.wireframe = !1),
          (this.wireframeLinewidth = 1),
          (this.wireframeLinejoin = this.wireframeLinecap = "round"),
          (this.lights = this.morphTargets = this.skinning = !1),
          this.setValues(t);
      }
      function X(t, e) {
        b.call(this),
          (this.type = "Mesh"),
          (this.geometry = void 0 !== t ? t : new N()),
          (this.material =
            void 0 !== e ? e : new W({ color: 16777215 * Math.random() })),
          (this.drawMode = 0),
          this.updateMorphTargets();
      }
      function q(t, e, i, n) {
        function r(t, i) {
          e.buffers.color.setClear(t.r, t.g, t.b, i, n);
        }
        var s,
          o,
          a = new _(0),
          h = 0;
        return {
          getClearColor: function () {
            return a;
          },
          setClearColor: function (t, e) {
            a.set(t), (h = void 0 !== e ? e : 1), r(a, h);
          },
          getClearAlpha: function () {
            return h;
          },
          setClearAlpha: function (t) {
            (h = t), r(a, h);
          },
          render: function (e, n, l, u) {
            (n = n.background),
              null === n ? r(a, h) : n && n.isColor && (r(n, 1), (u = !0)),
              (t.autoClear || u) &&
                t.clear(t.autoClearColor, t.autoClearDepth, t.autoClearStencil),
              n && n.isCubeTexture
                ? (void 0 === o &&
                    ((o = new X(
                      new F(1, 1, 1),
                      new G({
                        uniforms: as.clone(us.cube.uniforms),
                        vertexShader: us.cube.vertexShader,
                        fragmentShader: us.cube.fragmentShader,
                        side: 1,
                        depthTest: !0,
                        depthWrite: !1,
                        fog: !1,
                      })
                    )),
                    o.geometry.removeAttribute("normal"),
                    o.geometry.removeAttribute("uv"),
                    (o.onBeforeRender = function (t, e, i) {
                      this.matrixWorld.copyPosition(i.matrixWorld);
                    }),
                    i.update(o)),
                  (o.material.uniforms.tCube.value = n),
                  e.push(o, o.geometry, o.material, 0, null))
                : n &&
                  n.isTexture &&
                  (void 0 === s &&
                    ((s = new X(
                      new B(2, 2),
                      new G({
                        uniforms: as.clone(us.background.uniforms),
                        vertexShader: us.background.vertexShader,
                        fragmentShader: us.background.fragmentShader,
                        side: 0,
                        depthTest: !0,
                        depthWrite: !1,
                        fog: !1,
                      })
                    )),
                    s.geometry.removeAttribute("normal"),
                    i.update(s)),
                  (s.material.uniforms.t2D.value = n),
                  e.push(s, s.geometry, s.material, 0, null));
          },
        };
      }
      function Y(t, e, i, n) {
        var r;
        (this.setMode = function (t) {
          r = t;
        }),
          (this.render = function (e, n) {
            t.drawArrays(r, e, n), i.update(n, r);
          }),
          (this.renderInstances = function (s, o, a) {
            if (n.isWebGL2) var h = t;
            else if (((h = e.get("ANGLE_instanced_arrays")), null === h))
              return void console.error(
                "THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays."
              );
            h[n.isWebGL2 ? "drawArraysInstanced" : "drawArraysInstancedANGLE"](
              r,
              o,
              a,
              s.maxInstancedCount
            ),
              i.update(a, r, s.maxInstancedCount);
          });
      }
      function Z(t, e, i) {
        function n(e) {
          if ("highp" === e) {
            if (
              0 <
                t.getShaderPrecisionFormat(t.VERTEX_SHADER, t.HIGH_FLOAT)
                  .precision &&
              0 <
                t.getShaderPrecisionFormat(t.FRAGMENT_SHADER, t.HIGH_FLOAT)
                  .precision
            )
              return "highp";
            e = "mediump";
          }
          return "mediump" === e &&
            0 <
              t.getShaderPrecisionFormat(t.VERTEX_SHADER, t.MEDIUM_FLOAT)
                .precision &&
            0 <
              t.getShaderPrecisionFormat(t.FRAGMENT_SHADER, t.MEDIUM_FLOAT)
                .precision
            ? "mediump"
            : "lowp";
        }
        var r,
          s =
            "undefined" != typeof WebGL2RenderingContext &&
            t instanceof WebGL2RenderingContext,
          o = void 0 !== i.precision ? i.precision : "highp",
          a = n(o);
        a !== o &&
          (console.warn(
            "THREE.WebGLRenderer:",
            o,
            "not supported, using",
            a,
            "instead."
          ),
          (o = a)),
          (i = !0 === i.logarithmicDepthBuffer),
          (a = t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS));
        var h = t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),
          l = t.getParameter(t.MAX_TEXTURE_SIZE),
          u = t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),
          c = t.getParameter(t.MAX_VERTEX_ATTRIBS),
          p = t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),
          d = t.getParameter(t.MAX_VARYING_VECTORS),
          f = t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),
          m = 0 < h,
          _ = s || !!e.get("OES_texture_float");
        return {
          isWebGL2: s,
          getMaxAnisotropy: function () {
            if (void 0 !== r) return r;
            var i = e.get("EXT_texture_filter_anisotropic");
            return (r =
              null !== i
                ? t.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT)
                : 0);
          },
          getMaxPrecision: n,
          precision: o,
          logarithmicDepthBuffer: i,
          maxTextures: a,
          maxVertexTextures: h,
          maxTextureSize: l,
          maxCubemapSize: u,
          maxAttributes: c,
          maxVertexUniforms: p,
          maxVaryings: d,
          maxFragmentUniforms: f,
          vertexTextures: m,
          floatFragmentTextures: _,
          floatVertexTextures: m && _,
        };
      }
      function $() {
        function t() {
          u.value !== n && ((u.value = n), (u.needsUpdate = 0 < r)),
            (i.numPlanes = r),
            (i.numIntersection = 0);
        }
        function e(t, e, n, r) {
          var s = null !== t ? t.length : 0,
            o = null;
          if (0 !== s) {
            if (((o = u.value), !0 !== r || null === o))
              for (
                r = n + 4 * s,
                  e = e.matrixWorldInverse,
                  l.getNormalMatrix(e),
                  (null === o || o.length < r) && (o = new Float32Array(r)),
                  r = 0;
                r !== s;
                ++r, n += 4
              )
                h.copy(t[r]).applyMatrix4(e, l),
                  h.normal.toArray(o, n),
                  (o[n + 3] = h.constant);
            (u.value = o), (u.needsUpdate = !0);
          }
          return (i.numPlanes = s), o;
        }
        var i = this,
          n = null,
          r = 0,
          s = !1,
          a = !1,
          h = new f(),
          l = new o(),
          u = { value: null, needsUpdate: !1 };
        (this.uniform = u),
          (this.numIntersection = this.numPlanes = 0),
          (this.init = function (t, i, o) {
            var a = 0 !== t.length || i || 0 !== r || s;
            return (s = i), (n = e(t, o, 0)), (r = t.length), a;
          }),
          (this.beginShadows = function () {
            (a = !0), e(null);
          }),
          (this.endShadows = function () {
            (a = !1), t();
          }),
          (this.setState = function (i, o, h, l, c, p) {
            if (!s || null === i || 0 === i.length || (a && !h))
              a ? e(null) : t();
            else {
              h = a ? 0 : r;
              var d = 4 * h,
                f = c.clippingState || null;
              for (u.value = f, f = e(i, l, d, p), i = 0; i !== d; ++i)
                f[i] = n[i];
              (c.clippingState = f),
                (this.numIntersection = o ? this.numPlanes : 0),
                (this.numPlanes += h);
            }
          });
      }
      function J(t) {
        var e = {};
        return {
          get: function (i) {
            if (void 0 !== e[i]) return e[i];
            switch (i) {
              case "WEBGL_depth_texture":
                var n =
                  t.getExtension("WEBGL_depth_texture") ||
                  t.getExtension("MOZ_WEBGL_depth_texture") ||
                  t.getExtension("WEBKIT_WEBGL_depth_texture");
                break;
              case "EXT_texture_filter_anisotropic":
                n =
                  t.getExtension("EXT_texture_filter_anisotropic") ||
                  t.getExtension("MOZ_EXT_texture_filter_anisotropic") ||
                  t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");
                break;
              case "WEBGL_compressed_texture_s3tc":
                n =
                  t.getExtension("WEBGL_compressed_texture_s3tc") ||
                  t.getExtension("MOZ_WEBGL_compressed_texture_s3tc") ||
                  t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");
                break;
              case "WEBGL_compressed_texture_pvrtc":
                n =
                  t.getExtension("WEBGL_compressed_texture_pvrtc") ||
                  t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");
                break;
              default:
                n = t.getExtension(i);
            }
            return (
              null === n &&
                console.warn(
                  "THREE.WebGLRenderer: " + i + " extension not supported."
                ),
              (e[i] = n)
            );
          },
        };
      }
      function Q(t, e, i) {
        function n(t) {
          var o = t.target;
          (t = r[o.id]), null !== t.index && e.remove(t.index);
          for (var a in t.attributes) e.remove(t.attributes[a]);
          o.removeEventListener("dispose", n),
            delete r[o.id],
            (a = s[t.id]) && (e.remove(a), delete s[t.id]),
            i.memory.geometries--;
        }
        var r = {},
          s = {};
        return {
          get: function (t, e) {
            var s = r[e.id];
            return s
              ? s
              : (e.addEventListener("dispose", n),
                e.isBufferGeometry
                  ? (s = e)
                  : e.isGeometry &&
                    (void 0 === e._bufferGeometry &&
                      (e._bufferGeometry = new N().setFromObject(t)),
                    (s = e._bufferGeometry)),
                (r[e.id] = s),
                i.memory.geometries++,
                s);
          },
          update: function (i) {
            var n = i.index,
              r = i.attributes;
            null !== n && e.update(n, t.ELEMENT_ARRAY_BUFFER);
            for (var s in r) e.update(r[s], t.ARRAY_BUFFER);
            i = i.morphAttributes;
            for (s in i) {
              (n = i[s]), (r = 0);
              for (var o = n.length; r < o; r++) e.update(n[r], t.ARRAY_BUFFER);
            }
          },
          getWireframeAttribute: function (i) {
            var n = s[i.id];
            if (n) return n;
            n = [];
            var r = i.index,
              o = i.attributes;
            if (null !== r) {
              (r = r.array), (o = 0);
              for (var a = r.length; o < a; o += 3) {
                var h = r[o + 0],
                  l = r[o + 1],
                  u = r[o + 2];
                n.push(h, l, l, u, u, h);
              }
            } else
              for (
                r = o.position.array, o = 0, a = r.length / 3 - 1;
                o < a;
                o += 3
              )
                (h = o + 0), (l = o + 1), (u = o + 2), n.push(h, l, l, u, u, h);
            return (
              (n = new (65535 < k(n) ? L : A)(n, 1)),
              e.update(n, t.ELEMENT_ARRAY_BUFFER),
              (s[i.id] = n)
            );
          },
        };
      }
      function K(t, e, i, n) {
        var r, s, o;
        (this.setMode = function (t) {
          r = t;
        }),
          (this.setIndex = function (t) {
            (s = t.type), (o = t.bytesPerElement);
          }),
          (this.render = function (e, n) {
            t.drawElements(r, n, s, e * o), i.update(n, r);
          }),
          (this.renderInstances = function (a, h, l) {
            if (n.isWebGL2) var u = t;
            else if (((u = e.get("ANGLE_instanced_arrays")), null === u))
              return void console.error(
                "THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays."
              );
            u[
              n.isWebGL2
                ? "drawElementsInstanced"
                : "drawElementsInstancedANGLE"
            ](r, l, s, h * o, a.maxInstancedCount),
              i.update(l, r, a.maxInstancedCount);
          });
      }
      function tt(t) {
        var e = { frame: 0, calls: 0, triangles: 0, points: 0, lines: 0 };
        return {
          memory: { geometries: 0, textures: 0 },
          render: e,
          programs: null,
          autoReset: !0,
          reset: function () {
            e.frame++,
              (e.calls = 0),
              (e.triangles = 0),
              (e.points = 0),
              (e.lines = 0);
          },
          update: function (i, n, r) {
            switch (((r = r || 1), e.calls++, n)) {
              case t.TRIANGLES:
                e.triangles += (i / 3) * r;
                break;
              case t.TRIANGLE_STRIP:
              case t.TRIANGLE_FAN:
                e.triangles += r * (i - 2);
                break;
              case t.LINES:
                e.lines += (i / 2) * r;
                break;
              case t.LINE_STRIP:
                e.lines += r * (i - 1);
                break;
              case t.LINE_LOOP:
                e.lines += r * i;
                break;
              case t.POINTS:
                e.points += r * i;
                break;
              default:
                console.error("THREE.WebGLInfo: Unknown draw mode:", n);
            }
          },
        };
      }
      function et(t, e) {
        return Math.abs(e[1]) - Math.abs(t[1]);
      }
      function it(t) {
        var e = {},
          i = new Float32Array(8);
        return {
          update: function (n, r, s, o) {
            var a = n.morphTargetInfluences,
              h = a.length;
            if (((n = e[r.id]), void 0 === n)) {
              n = [];
              for (var l = 0; l < h; l++) n[l] = [l, 0];
              e[r.id] = n;
            }
            var u = s.morphTargets && r.morphAttributes.position;
            for (
              s = s.morphNormals && r.morphAttributes.normal, l = 0;
              l < h;
              l++
            ) {
              var c = n[l];
              0 !== c[1] &&
                (u && r.removeAttribute("morphTarget" + l),
                s && r.removeAttribute("morphNormal" + l));
            }
            for (l = 0; l < h; l++) (c = n[l]), (c[0] = l), (c[1] = a[l]);
            for (n.sort(et), l = 0; 8 > l; l++)
              (c = n[l]) && ((a = c[0]), (h = c[1]))
                ? (u && r.addAttribute("morphTarget" + l, u[a]),
                  s && r.addAttribute("morphNormal" + l, s[a]),
                  (i[l] = h))
                : (i[l] = 0);
            o.getUniforms().setValue(t, "morphTargetInfluences", i);
          },
        };
      }
      function nt(t, e) {
        var i = {};
        return {
          update: function (n) {
            var r = e.render.frame,
              s = n.geometry,
              o = t.get(n, s);
            return (
              i[o.id] !== r &&
                (s.isGeometry && o.updateFromObject(n),
                t.update(o),
                (i[o.id] = r)),
              o
            );
          },
          dispose: function () {
            i = {};
          },
        };
      }
      function rt(t, e, i, n, r, s, o, h, l, u) {
        (t = void 0 !== t ? t : []),
          a.call(this, t, void 0 !== e ? e : 301, i, n, r, s, o, h, l, u),
          (this.flipY = !1);
      }
      function st(t, e, i, n) {
        a.call(this, null),
          (this.image = { data: t, width: e, height: i, depth: n }),
          (this.minFilter = this.magFilter = 1003),
          (this.flipY = this.generateMipmaps = !1);
      }
      function ot(t, e, i) {
        var n = t[0];
        if (0 >= n || 0 < n) return t;
        var r = e * i,
          s = vs[r];
        if ((void 0 === s && ((s = new Float32Array(r)), (vs[r] = s)), 0 !== e))
          for (n.toArray(s, 0), n = 1, r = 0; n !== e; ++n)
            (r += i), t[n].toArray(s, r);
        return s;
      }
      function at(t, e) {
        if (t.length !== e.length) return !1;
        for (var i = 0, n = t.length; i < n; i++) if (t[i] !== e[i]) return !1;
        return !0;
      }
      function ht(t, e) {
        for (var i = 0, n = e.length; i < n; i++) t[i] = e[i];
      }
      function lt(t, e) {
        var i = ys[e];
        void 0 === i && ((i = new Int32Array(e)), (ys[e] = i));
        for (var n = 0; n !== e; ++n) i[n] = t.allocTextureUnit();
        return i;
      }
      function ut(t, e) {
        var i = this.cache;
        i[0] !== e && (t.uniform1f(this.addr, e), (i[0] = e));
      }
      function ct(t, e) {
        var i = this.cache;
        i[0] !== e && (t.uniform1i(this.addr, e), (i[0] = e));
      }
      function pt(t, e) {
        var i = this.cache;
        void 0 !== e.x
          ? (i[0] === e.x && i[1] === e.y) ||
            (t.uniform2f(this.addr, e.x, e.y), (i[0] = e.x), (i[1] = e.y))
          : at(i, e) || (t.uniform2fv(this.addr, e), ht(i, e));
      }
      function dt(t, e) {
        var i = this.cache;
        void 0 !== e.x
          ? (i[0] === e.x && i[1] === e.y && i[2] === e.z) ||
            (t.uniform3f(this.addr, e.x, e.y, e.z),
            (i[0] = e.x),
            (i[1] = e.y),
            (i[2] = e.z))
          : void 0 !== e.r
          ? (i[0] === e.r && i[1] === e.g && i[2] === e.b) ||
            (t.uniform3f(this.addr, e.r, e.g, e.b),
            (i[0] = e.r),
            (i[1] = e.g),
            (i[2] = e.b))
          : at(i, e) || (t.uniform3fv(this.addr, e), ht(i, e));
      }
      function ft(t, e) {
        var i = this.cache;
        void 0 !== e.x
          ? (i[0] === e.x && i[1] === e.y && i[2] === e.z && i[3] === e.w) ||
            (t.uniform4f(this.addr, e.x, e.y, e.z, e.w),
            (i[0] = e.x),
            (i[1] = e.y),
            (i[2] = e.z),
            (i[3] = e.w))
          : at(i, e) || (t.uniform4fv(this.addr, e), ht(i, e));
      }
      function mt(t, e) {
        var i = this.cache,
          n = e.elements;
        void 0 === n
          ? at(i, e) || (t.uniformMatrix2fv(this.addr, !1, e), ht(i, e))
          : at(i, n) ||
            (bs.set(n), t.uniformMatrix2fv(this.addr, !1, bs), ht(i, n));
      }
      function _t(t, e) {
        var i = this.cache,
          n = e.elements;
        void 0 === n
          ? at(i, e) || (t.uniformMatrix3fv(this.addr, !1, e), ht(i, e))
          : at(i, n) ||
            (ws.set(n), t.uniformMatrix3fv(this.addr, !1, ws), ht(i, n));
      }
      function gt(t, e) {
        var i = this.cache,
          n = e.elements;
        void 0 === n
          ? at(i, e) || (t.uniformMatrix4fv(this.addr, !1, e), ht(i, e))
          : at(i, n) ||
            (xs.set(n), t.uniformMatrix4fv(this.addr, !1, xs), ht(i, n));
      }
      function vt(t, e, i) {
        var n = this.cache,
          r = i.allocTextureUnit();
        n[0] !== r && (t.uniform1i(this.addr, r), (n[0] = r)),
          i.setTexture2D(e || ms, r);
      }
      function yt(t, e, i) {
        var n = this.cache,
          r = i.allocTextureUnit();
        n[0] !== r && (t.uniform1i(this.addr, r), (n[0] = r)),
          i.setTexture3D(e || _s, r);
      }
      function xt(t, e, i) {
        var n = this.cache,
          r = i.allocTextureUnit();
        n[0] !== r && (t.uniform1i(this.addr, r), (n[0] = r)),
          i.setTextureCube(e || gs, r);
      }
      function wt(t, e) {
        var i = this.cache;
        at(i, e) || (t.uniform2iv(this.addr, e), ht(i, e));
      }
      function bt(t, e) {
        var i = this.cache;
        at(i, e) || (t.uniform3iv(this.addr, e), ht(i, e));
      }
      function Tt(t, e) {
        var i = this.cache;
        at(i, e) || (t.uniform4iv(this.addr, e), ht(i, e));
      }
      function Et(t) {
        switch (t) {
          case 5126:
            return ut;
          case 35664:
            return pt;
          case 35665:
            return dt;
          case 35666:
            return ft;
          case 35674:
            return mt;
          case 35675:
            return _t;
          case 35676:
            return gt;
          case 35678:
          case 36198:
            return vt;
          case 35679:
            return yt;
          case 35680:
            return xt;
          case 5124:
          case 35670:
            return ct;
          case 35667:
          case 35671:
            return wt;
          case 35668:
          case 35672:
            return bt;
          case 35669:
          case 35673:
            return Tt;
        }
      }
      function St(t, e) {
        var i = this.cache;
        at(i, e) || (t.uniform1fv(this.addr, e), ht(i, e));
      }
      function Mt(t, e) {
        var i = this.cache;
        at(i, e) || (t.uniform1iv(this.addr, e), ht(i, e));
      }
      function Ct(t, e) {
        var i = this.cache;
        (e = ot(e, this.size, 2)),
          at(i, e) || (t.uniform2fv(this.addr, e), this.updateCache(e));
      }
      function Pt(t, e) {
        var i = this.cache;
        (e = ot(e, this.size, 3)),
          at(i, e) || (t.uniform3fv(this.addr, e), this.updateCache(e));
      }
      function At(t, e) {
        var i = this.cache;
        (e = ot(e, this.size, 4)),
          at(i, e) || (t.uniform4fv(this.addr, e), this.updateCache(e));
      }
      function Rt(t, e) {
        var i = this.cache;
        (e = ot(e, this.size, 4)),
          at(i, e) ||
            (t.uniformMatrix2fv(this.addr, !1, e), this.updateCache(e));
      }
      function Lt(t, e) {
        var i = this.cache;
        (e = ot(e, this.size, 9)),
          at(i, e) ||
            (t.uniformMatrix3fv(this.addr, !1, e), this.updateCache(e));
      }
      function It(t, e) {
        var i = this.cache;
        (e = ot(e, this.size, 16)),
          at(i, e) ||
            (t.uniformMatrix4fv(this.addr, !1, e), this.updateCache(e));
      }
      function Ot(t, e, i) {
        var n = this.cache,
          r = e.length,
          s = lt(i, r);
        for (
          !1 === at(n, s) && (t.uniform1iv(this.addr, s), ht(n, s)), t = 0;
          t !== r;
          ++t
        )
          i.setTexture2D(e[t] || ms, s[t]);
      }
      function Dt(t, e, i) {
        var n = this.cache,
          r = e.length,
          s = lt(i, r);
        for (
          !1 === at(n, s) && (t.uniform1iv(this.addr, s), ht(n, s)), t = 0;
          t !== r;
          ++t
        )
          i.setTextureCube(e[t] || gs, s[t]);
      }
      function kt(t) {
        switch (t) {
          case 5126:
            return St;
          case 35664:
            return Ct;
          case 35665:
            return Pt;
          case 35666:
            return At;
          case 35674:
            return Rt;
          case 35675:
            return Lt;
          case 35676:
            return It;
          case 35678:
            return Ot;
          case 35680:
            return Dt;
          case 5124:
          case 35670:
            return Mt;
          case 35667:
          case 35671:
            return wt;
          case 35668:
          case 35672:
            return bt;
          case 35669:
          case 35673:
            return Tt;
        }
      }
      function Nt(t, e, i) {
        (this.id = t),
          (this.addr = i),
          (this.cache = []),
          (this.setValue = Et(e.type));
      }
      function zt(t, e, i) {
        (this.id = t),
          (this.addr = i),
          (this.cache = []),
          (this.size = e.size),
          (this.setValue = kt(e.type));
      }
      function Ft(t) {
        (this.id = t), (this.seq = []), (this.map = {});
      }
      function Ht(t, e, i) {
        (this.seq = []),
          (this.map = {}),
          (this.renderer = i),
          (i = t.getProgramParameter(e, t.ACTIVE_UNIFORMS));
        for (var n = 0; n < i; ++n) {
          var r = t.getActiveUniform(e, n),
            s = t.getUniformLocation(e, r.name),
            o = this,
            a = r.name,
            h = a.length;
          for (Ts.lastIndex = 0; ; ) {
            var l = Ts.exec(a),
              u = Ts.lastIndex,
              c = l[1],
              p = l[3];
            if (
              ("]" === l[2] && (c |= 0),
              void 0 === p || ("[" === p && u + 2 === h))
            ) {
              (a = o),
                (r = void 0 === p ? new Nt(c, r, s) : new zt(c, r, s)),
                a.seq.push(r),
                (a.map[r.id] = r);
              break;
            }
            (p = o.map[c]),
              void 0 === p &&
                ((p = new Ft(c)),
                (c = o),
                (o = p),
                c.seq.push(o),
                (c.map[o.id] = o)),
              (o = p);
          }
        }
      }
      function Bt(t) {
        t = t.split("\n");
        for (var e = 0; e < t.length; e++) t[e] = e + 1 + ": " + t[e];
        return t.join("\n");
      }
      function Ut(t, e, i) {
        var n = t.createShader(e);
        return (
          t.shaderSource(n, i),
          t.compileShader(n),
          !1 === t.getShaderParameter(n, t.COMPILE_STATUS) &&
            console.error("THREE.WebGLShader: Shader couldn't compile."),
          "" !== t.getShaderInfoLog(n) &&
            console.warn(
              "THREE.WebGLShader: gl.getShaderInfoLog()",
              e === t.VERTEX_SHADER ? "vertex" : "fragment",
              t.getShaderInfoLog(n),
              Bt(i)
            ),
          n
        );
      }
      function Gt(t) {
        switch (t) {
          case 3e3:
            return ["Linear", "( value )"];
          case 3001:
            return ["sRGB", "( value )"];
          case 3002:
            return ["RGBE", "( value )"];
          case 3004:
            return ["RGBM", "( value, 7.0 )"];
          case 3005:
            return ["RGBM", "( value, 16.0 )"];
          case 3006:
            return ["RGBD", "( value, 256.0 )"];
          case 3007:
            return ["Gamma", "( value, float( GAMMA_FACTOR ) )"];
          default:
            throw Error("unsupported encoding: " + t);
        }
      }
      function Vt(t, e) {
        return (
          (e = Gt(e)),
          "vec4 " +
            t +
            "( vec4 value ) { return " +
            e[0] +
            "ToLinear" +
            e[1] +
            "; }"
        );
      }
      function jt(t, e) {
        return (
          (e = Gt(e)),
          "vec4 " + t + "( vec4 value ) { return LinearTo" + e[0] + e[1] + "; }"
        );
      }
      function Wt(t, e) {
        switch (e) {
          case 1:
            e = "Linear";
            break;
          case 2:
            e = "Reinhard";
            break;
          case 3:
            e = "Uncharted2";
            break;
          case 4:
            e = "OptimizedCineon";
            break;
          default:
            throw Error("unsupported toneMapping: " + e);
        }
        return (
          "vec3 " +
          t +
          "( vec3 color ) { return " +
          e +
          "ToneMapping( color ); }"
        );
      }
      function Xt(t, e, i) {
        return (
          (t = t || {}),
          [
            t.derivatives ||
            e.envMapCubeUV ||
            e.bumpMap ||
            (e.normalMap && !e.objectSpaceNormalMap) ||
            e.flatShading
              ? "#extension GL_OES_standard_derivatives : enable"
              : "",
            (t.fragDepth || e.logarithmicDepthBuffer) && i.get("EXT_frag_depth")
              ? "#extension GL_EXT_frag_depth : enable"
              : "",
            t.drawBuffers && i.get("WEBGL_draw_buffers")
              ? "#extension GL_EXT_draw_buffers : require"
              : "",
            (t.shaderTextureLOD || e.envMap) && i.get("EXT_shader_texture_lod")
              ? "#extension GL_EXT_shader_texture_lod : enable"
              : "",
          ]
            .filter(Yt)
            .join("\n")
        );
      }
      function qt(t) {
        var e,
          i = [];
        for (e in t) {
          var n = t[e];
          !1 !== n && i.push("#define " + e + " " + n);
        }
        return i.join("\n");
      }
      function Yt(t) {
        return "" !== t;
      }
      function Zt(t, e) {
        return t
          .replace(/NUM_DIR_LIGHTS/g, e.numDirLights)
          .replace(/NUM_SPOT_LIGHTS/g, e.numSpotLights)
          .replace(/NUM_RECT_AREA_LIGHTS/g, e.numRectAreaLights)
          .replace(/NUM_POINT_LIGHTS/g, e.numPointLights)
          .replace(/NUM_HEMI_LIGHTS/g, e.numHemiLights);
      }
      function $t(t, e) {
        return t
          .replace(/NUM_CLIPPING_PLANES/g, e.numClippingPlanes)
          .replace(
            /UNION_CLIPPING_PLANES/g,
            e.numClippingPlanes - e.numClipIntersection
          );
      }
      function Jt(t) {
        return t.replace(/^[ \t]*#include +<([\w\d./]+)>/gm, function (t, e) {
          if (((t = os[e]), void 0 === t))
            throw Error("Can not resolve #include <" + e + ">");
          return Jt(t);
        });
      }
      function Qt(t) {
        return t.replace(
          /#pragma unroll_loop[\s]+?for \( int i = (\d+); i < (\d+); i \+\+ \) \{([\s\S]+?)(?=\})\}/g,
          function (t, e, i, n) {
            for (t = "", e = parseInt(e); e < parseInt(i); e++)
              t += n.replace(/\[ i \]/g, "[ " + e + " ]");
            return t;
          }
        );
      }
      function Kt(t, e, i, n, r, s, o) {
        var a = t.context,
          h = n.defines,
          l = r.vertexShader,
          u = r.fragmentShader,
          c = "SHADOWMAP_TYPE_BASIC";
        1 === s.shadowMapType
          ? (c = "SHADOWMAP_TYPE_PCF")
          : 2 === s.shadowMapType && (c = "SHADOWMAP_TYPE_PCF_SOFT");
        var p = "ENVMAP_TYPE_CUBE",
          d = "ENVMAP_MODE_REFLECTION",
          f = "ENVMAP_BLENDING_MULTIPLY";
        if (s.envMap) {
          switch (n.envMap.mapping) {
            case 301:
            case 302:
              p = "ENVMAP_TYPE_CUBE";
              break;
            case 306:
            case 307:
              p = "ENVMAP_TYPE_CUBE_UV";
              break;
            case 303:
            case 304:
              p = "ENVMAP_TYPE_EQUIREC";
              break;
            case 305:
              p = "ENVMAP_TYPE_SPHERE";
          }
          switch (n.envMap.mapping) {
            case 302:
            case 304:
              d = "ENVMAP_MODE_REFRACTION";
          }
          switch (n.combine) {
            case 0:
              f = "ENVMAP_BLENDING_MULTIPLY";
              break;
            case 1:
              f = "ENVMAP_BLENDING_MIX";
              break;
            case 2:
              f = "ENVMAP_BLENDING_ADD";
          }
        }
        var m = 0 < t.gammaFactor ? t.gammaFactor : 1,
          _ = o.isWebGL2 ? "" : Xt(n.extensions, s, e),
          g = qt(h),
          v = a.createProgram();
        n.isRawShaderMaterial
          ? ((h = [g].filter(Yt).join("\n")),
            0 < h.length && (h += "\n"),
            (e = [_, g].filter(Yt).join("\n")),
            0 < e.length && (e += "\n"))
          : ((h = [
              "precision " + s.precision + " float;",
              "precision " + s.precision + " int;",
              "#define SHADER_NAME " + r.name,
              g,
              s.supportsVertexTextures ? "#define VERTEX_TEXTURES" : "",
              "#define GAMMA_FACTOR " + m,
              "#define MAX_BONES " + s.maxBones,
              s.useFog && s.fog ? "#define USE_FOG" : "",
              s.useFog && s.fogExp ? "#define FOG_EXP2" : "",
              s.map ? "#define USE_MAP" : "",
              s.envMap ? "#define USE_ENVMAP" : "",
              s.envMap ? "#define " + d : "",
              s.lightMap ? "#define USE_LIGHTMAP" : "",
              s.aoMap ? "#define USE_AOMAP" : "",
              s.emissiveMap ? "#define USE_EMISSIVEMAP" : "",
              s.bumpMap ? "#define USE_BUMPMAP" : "",
              s.normalMap ? "#define USE_NORMALMAP" : "",
              s.normalMap && s.objectSpaceNormalMap
                ? "#define OBJECTSPACE_NORMALMAP"
                : "",
              s.displacementMap && s.supportsVertexTextures
                ? "#define USE_DISPLACEMENTMAP"
                : "",
              s.specularMap ? "#define USE_SPECULARMAP" : "",
              s.roughnessMap ? "#define USE_ROUGHNESSMAP" : "",
              s.metalnessMap ? "#define USE_METALNESSMAP" : "",
              s.alphaMap ? "#define USE_ALPHAMAP" : "",
              s.vertexColors ? "#define USE_COLOR" : "",
              s.flatShading ? "#define FLAT_SHADED" : "",
              s.skinning ? "#define USE_SKINNING" : "",
              s.useVertexTexture ? "#define BONE_TEXTURE" : "",
              s.morphTargets ? "#define USE_MORPHTARGETS" : "",
              s.morphNormals && !1 === s.flatShading
                ? "#define USE_MORPHNORMALS"
                : "",
              s.doubleSided ? "#define DOUBLE_SIDED" : "",
              s.flipSided ? "#define FLIP_SIDED" : "",
              s.shadowMapEnabled ? "#define USE_SHADOWMAP" : "",
              s.shadowMapEnabled ? "#define " + c : "",
              s.sizeAttenuation ? "#define USE_SIZEATTENUATION" : "",
              s.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "",
              s.logarithmicDepthBuffer &&
              (o.isWebGL2 || e.get("EXT_frag_depth"))
                ? "#define USE_LOGDEPTHBUF_EXT"
                : "",
              "uniform mat4 modelMatrix;",
              "uniform mat4 modelViewMatrix;",
              "uniform mat4 projectionMatrix;",
              "uniform mat4 viewMatrix;",
              "uniform mat3 normalMatrix;",
              "uniform vec3 cameraPosition;",
              "attribute vec3 position;",
              "attribute vec3 normal;",
              "attribute vec2 uv;",
              "#ifdef USE_COLOR",
              "\tattribute vec3 color;",
              "#endif",
              "#ifdef USE_MORPHTARGETS",
              "\tattribute vec3 morphTarget0;",
              "\tattribute vec3 morphTarget1;",
              "\tattribute vec3 morphTarget2;",
              "\tattribute vec3 morphTarget3;",
              "\t#ifdef USE_MORPHNORMALS",
              "\t\tattribute vec3 morphNormal0;",
              "\t\tattribute vec3 morphNormal1;",
              "\t\tattribute vec3 morphNormal2;",
              "\t\tattribute vec3 morphNormal3;",
              "\t#else",
              "\t\tattribute vec3 morphTarget4;",
              "\t\tattribute vec3 morphTarget5;",
              "\t\tattribute vec3 morphTarget6;",
              "\t\tattribute vec3 morphTarget7;",
              "\t#endif",
              "#endif",
              "#ifdef USE_SKINNING",
              "\tattribute vec4 skinIndex;",
              "\tattribute vec4 skinWeight;",
              "#endif",
              "\n",
            ]
              .filter(Yt)
              .join("\n")),
            (e = [
              _,
              "precision " + s.precision + " float;",
              "precision " + s.precision + " int;",
              "#define SHADER_NAME " + r.name,
              g,
              s.alphaTest
                ? "#define ALPHATEST " +
                  s.alphaTest +
                  (s.alphaTest % 1 ? "" : ".0")
                : "",
              "#define GAMMA_FACTOR " + m,
              s.useFog && s.fog ? "#define USE_FOG" : "",
              s.useFog && s.fogExp ? "#define FOG_EXP2" : "",
              s.map ? "#define USE_MAP" : "",
              s.envMap ? "#define USE_ENVMAP" : "",
              s.envMap ? "#define " + p : "",
              s.envMap ? "#define " + d : "",
              s.envMap ? "#define " + f : "",
              s.lightMap ? "#define USE_LIGHTMAP" : "",
              s.aoMap ? "#define USE_AOMAP" : "",
              s.emissiveMap ? "#define USE_EMISSIVEMAP" : "",
              s.bumpMap ? "#define USE_BUMPMAP" : "",
              s.normalMap ? "#define USE_NORMALMAP" : "",
              s.normalMap && s.objectSpaceNormalMap
                ? "#define OBJECTSPACE_NORMALMAP"
                : "",
              s.specularMap ? "#define USE_SPECULARMAP" : "",
              s.roughnessMap ? "#define USE_ROUGHNESSMAP" : "",
              s.metalnessMap ? "#define USE_METALNESSMAP" : "",
              s.alphaMap ? "#define USE_ALPHAMAP" : "",
              s.vertexColors ? "#define USE_COLOR" : "",
              s.gradientMap ? "#define USE_GRADIENTMAP" : "",
              s.flatShading ? "#define FLAT_SHADED" : "",
              s.doubleSided ? "#define DOUBLE_SIDED" : "",
              s.flipSided ? "#define FLIP_SIDED" : "",
              s.shadowMapEnabled ? "#define USE_SHADOWMAP" : "",
              s.shadowMapEnabled ? "#define " + c : "",
              s.premultipliedAlpha ? "#define PREMULTIPLIED_ALPHA" : "",
              s.physicallyCorrectLights
                ? "#define PHYSICALLY_CORRECT_LIGHTS"
                : "",
              s.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "",
              s.logarithmicDepthBuffer &&
              (o.isWebGL2 || e.get("EXT_frag_depth"))
                ? "#define USE_LOGDEPTHBUF_EXT"
                : "",
              s.envMap && (o.isWebGL2 || e.get("EXT_shader_texture_lod"))
                ? "#define TEXTURE_LOD_EXT"
                : "",
              "uniform mat4 viewMatrix;",
              "uniform vec3 cameraPosition;",
              0 !== s.toneMapping ? "#define TONE_MAPPING" : "",
              0 !== s.toneMapping ? os.tonemapping_pars_fragment : "",
              0 !== s.toneMapping ? Wt("toneMapping", s.toneMapping) : "",
              s.dithering ? "#define DITHERING" : "",
              s.outputEncoding ||
              s.mapEncoding ||
              s.matcapEncoding ||
              s.envMapEncoding ||
              s.emissiveMapEncoding
                ? os.encodings_pars_fragment
                : "",
              s.mapEncoding ? Vt("mapTexelToLinear", s.mapEncoding) : "",
              s.matcapEncoding
                ? Vt("matcapTexelToLinear", s.matcapEncoding)
                : "",
              s.envMapEncoding
                ? Vt("envMapTexelToLinear", s.envMapEncoding)
                : "",
              s.emissiveMapEncoding
                ? Vt("emissiveMapTexelToLinear", s.emissiveMapEncoding)
                : "",
              s.outputEncoding
                ? jt("linearToOutputTexel", s.outputEncoding)
                : "",
              s.depthPacking ? "#define DEPTH_PACKING " + n.depthPacking : "",
              "\n",
            ]
              .filter(Yt)
              .join("\n"))),
          (l = Jt(l)),
          (l = Zt(l, s)),
          (l = $t(l, s)),
          (u = Jt(u)),
          (u = Zt(u, s)),
          (u = $t(u, s)),
          (l = Qt(l)),
          (u = Qt(u)),
          o.isWebGL2 &&
            !n.isRawShaderMaterial &&
            ((o = !1),
            (c = /^\s*#version\s+300\s+es\s*\n/),
            n.isShaderMaterial &&
              null !== l.match(c) &&
              null !== u.match(c) &&
              ((o = !0), (l = l.replace(c, "")), (u = u.replace(c, ""))),
            (h =
              "#version 300 es\n\n#define attribute in\n#define varying out\n#define texture2D texture\n" +
              h),
            (e =
              [
                "#version 300 es\n\n#define varying in",
                o ? "" : "out highp vec4 pc_fragColor;",
                o ? "" : "#define gl_FragColor pc_fragColor",
                "#define gl_FragDepthEXT gl_FragDepth\n#define texture2D texture\n#define textureCube texture\n#define texture2DProj textureProj\n#define texture2DLodEXT textureLod\n#define texture2DProjLodEXT textureProjLod\n#define textureCubeLodEXT textureLod\n#define texture2DGradEXT textureGrad\n#define texture2DProjGradEXT textureProjGrad\n#define textureCubeGradEXT textureGrad",
              ].join("\n") +
              "\n" +
              e)),
          (u = e + u),
          (l = Ut(a, a.VERTEX_SHADER, h + l)),
          (u = Ut(a, a.FRAGMENT_SHADER, u)),
          a.attachShader(v, l),
          a.attachShader(v, u),
          void 0 !== n.index0AttributeName
            ? a.bindAttribLocation(v, 0, n.index0AttributeName)
            : !0 === s.morphTargets && a.bindAttribLocation(v, 0, "position"),
          a.linkProgram(v),
          (s = a.getProgramInfoLog(v).trim()),
          (o = a.getShaderInfoLog(l).trim()),
          (c = a.getShaderInfoLog(u).trim()),
          (d = p = !0),
          !1 === a.getProgramParameter(v, a.LINK_STATUS)
            ? ((p = !1),
              console.error(
                "THREE.WebGLProgram: shader error: ",
                a.getError(),
                "gl.VALIDATE_STATUS",
                a.getProgramParameter(v, a.VALIDATE_STATUS),
                "gl.getProgramInfoLog",
                s,
                o,
                c
              ))
            : "" !== s
            ? console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()", s)
            : ("" !== o && "" !== c) || (d = !1),
          d &&
            (this.diagnostics = {
              runnable: p,
              material: n,
              programLog: s,
              vertexShader: { log: o, prefix: h },
              fragmentShader: { log: c, prefix: e },
            }),
          a.deleteShader(l),
          a.deleteShader(u);
        var y;
        this.getUniforms = function () {
          return void 0 === y && (y = new Ht(a, v, t)), y;
        };
        var x;
        return (
          (this.getAttributes = function () {
            if (void 0 === x) {
              for (
                var t = {},
                  e = a.getProgramParameter(v, a.ACTIVE_ATTRIBUTES),
                  i = 0;
                i < e;
                i++
              ) {
                var n = a.getActiveAttrib(v, i).name;
                t[n] = a.getAttribLocation(v, n);
              }
              x = t;
            }
            return x;
          }),
          (this.destroy = function () {
            a.deleteProgram(v), (this.program = void 0);
          }),
          Object.defineProperties(this, {
            uniforms: {
              get: function () {
                return (
                  console.warn(
                    "THREE.WebGLProgram: .uniforms is now .getUniforms()."
                  ),
                  this.getUniforms()
                );
              },
            },
            attributes: {
              get: function () {
                return (
                  console.warn(
                    "THREE.WebGLProgram: .attributes is now .getAttributes()."
                  ),
                  this.getAttributes()
                );
              },
            },
          }),
          (this.name = r.name),
          (this.id = Es++),
          (this.code = i),
          (this.usedTimes = 1),
          (this.program = v),
          (this.vertexShader = l),
          (this.fragmentShader = u),
          this
        );
      }
      function te(t, e, i) {
        function n(t, e) {
          if (t)
            t.isTexture
              ? (i = t.encoding)
              : t.isWebGLRenderTarget &&
                (console.warn(
                  "THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."
                ),
                (i = t.texture.encoding));
          else var i = 3e3;
          return 3e3 === i && e && (i = 3007), i;
        }
        var r = [],
          s = {
            MeshDepthMaterial: "depth",
            MeshDistanceMaterial: "distanceRGBA",
            MeshNormalMaterial: "normal",
            MeshBasicMaterial: "basic",
            MeshLambertMaterial: "lambert",
            MeshPhongMaterial: "phong",
            MeshToonMaterial: "phong",
            MeshStandardMaterial: "physical",
            MeshPhysicalMaterial: "physical",
            MeshMatcapMaterial: "matcap",
            LineBasicMaterial: "basic",
            LineDashedMaterial: "dashed",
            PointsMaterial: "points",
            ShadowMaterial: "shadow",
            SpriteMaterial: "sprite",
          },
          o =
            "precision supportsVertexTextures map mapEncoding matcapEncoding envMap envMapMode envMapEncoding lightMap aoMap emissiveMap emissiveMapEncoding bumpMap normalMap objectSpaceNormalMap displacementMap specularMap roughnessMap metalnessMap gradientMap alphaMap combine vertexColors fog useFog fogExp flatShading sizeAttenuation logarithmicDepthBuffer skinning maxBones useVertexTexture morphTargets morphNormals maxMorphTargets maxMorphNormals premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights numRectAreaLights shadowMapEnabled shadowMapType toneMapping physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes numClipIntersection depthPacking dithering".split(
              " "
            );
        (this.getParameters = function (e, r, o, a, h, l, u) {
          var c = s[e.type];
          if (u.isSkinnedMesh) {
            var p = u.skeleton.bones;
            if (i.floatVertexTextures) p = 1024;
            else {
              var d = Math.min(
                Math.floor((i.maxVertexUniforms - 20) / 4),
                p.length
              );
              d < p.length
                ? (console.warn(
                    "THREE.WebGLRenderer: Skeleton has " +
                      p.length +
                      " bones. This GPU supports " +
                      d +
                      "."
                  ),
                  (p = 0))
                : (p = d);
            }
          } else p = 0;
          (d = i.precision),
            null !== e.precision &&
              ((d = i.getMaxPrecision(e.precision)),
              d !== e.precision &&
                console.warn(
                  "THREE.WebGLProgram.getParameters:",
                  e.precision,
                  "not supported, using",
                  d,
                  "instead."
                ));
          var f = t.getRenderTarget();
          return {
            shaderID: c,
            precision: d,
            supportsVertexTextures: i.vertexTextures,
            outputEncoding: n(f ? f.texture : null, t.gammaOutput),
            map: !!e.map,
            mapEncoding: n(e.map, t.gammaInput),
            matcap: !!e.matcap,
            matcapEncoding: n(e.matcap, t.gammaInput),
            envMap: !!e.envMap,
            envMapMode: e.envMap && e.envMap.mapping,
            envMapEncoding: n(e.envMap, t.gammaInput),
            envMapCubeUV:
              !!e.envMap &&
              (306 === e.envMap.mapping || 307 === e.envMap.mapping),
            lightMap: !!e.lightMap,
            aoMap: !!e.aoMap,
            emissiveMap: !!e.emissiveMap,
            emissiveMapEncoding: n(e.emissiveMap, t.gammaInput),
            bumpMap: !!e.bumpMap,
            normalMap: !!e.normalMap,
            objectSpaceNormalMap: 1 === e.normalMapType,
            displacementMap: !!e.displacementMap,
            roughnessMap: !!e.roughnessMap,
            metalnessMap: !!e.metalnessMap,
            specularMap: !!e.specularMap,
            alphaMap: !!e.alphaMap,
            gradientMap: !!e.gradientMap,
            combine: e.combine,
            vertexColors: e.vertexColors,
            fog: !!a,
            useFog: e.fog,
            fogExp: a && a.isFogExp2,
            flatShading: e.flatShading,
            sizeAttenuation: e.sizeAttenuation,
            logarithmicDepthBuffer: i.logarithmicDepthBuffer,
            skinning: e.skinning && 0 < p,
            maxBones: p,
            useVertexTexture: i.floatVertexTextures,
            morphTargets: e.morphTargets,
            morphNormals: e.morphNormals,
            maxMorphTargets: t.maxMorphTargets,
            maxMorphNormals: t.maxMorphNormals,
            numDirLights: r.directional.length,
            numPointLights: r.point.length,
            numSpotLights: r.spot.length,
            numRectAreaLights: r.rectArea.length,
            numHemiLights: r.hemi.length,
            numClippingPlanes: h,
            numClipIntersection: l,
            dithering: e.dithering,
            shadowMapEnabled:
              t.shadowMap.enabled && u.receiveShadow && 0 < o.length,
            shadowMapType: t.shadowMap.type,
            toneMapping: t.toneMapping,
            physicallyCorrectLights: t.physicallyCorrectLights,
            premultipliedAlpha: e.premultipliedAlpha,
            alphaTest: e.alphaTest,
            doubleSided: 2 === e.side,
            flipSided: 1 === e.side,
            depthPacking: void 0 !== e.depthPacking && e.depthPacking,
          };
        }),
          (this.getProgramCode = function (e, i) {
            var n = [];
            if (
              (i.shaderID
                ? n.push(i.shaderID)
                : (n.push(e.fragmentShader), n.push(e.vertexShader)),
              void 0 !== e.defines)
            )
              for (var r in e.defines) n.push(r), n.push(e.defines[r]);
            for (r = 0; r < o.length; r++) n.push(i[o[r]]);
            return (
              n.push(e.onBeforeCompile.toString()),
              n.push(t.gammaOutput),
              n.join()
            );
          }),
          (this.acquireProgram = function (n, s, o, a) {
            for (var h, l = 0, u = r.length; l < u; l++) {
              var c = r[l];
              if (c.code === a) {
                (h = c), ++h.usedTimes;
                break;
              }
            }
            return (
              void 0 === h && ((h = new Kt(t, e, a, n, s, o, i)), r.push(h)), h
            );
          }),
          (this.releaseProgram = function (t) {
            if (0 === --t.usedTimes) {
              var e = r.indexOf(t);
              (r[e] = r[r.length - 1]), r.pop(), t.destroy();
            }
          }),
          (this.programs = r);
      }
      function ee() {
        var t = new WeakMap();
        return {
          get: function (e) {
            var i = t.get(e);
            return void 0 === i && ((i = {}), t.set(e, i)), i;
          },
          remove: function (e) {
            t.delete(e);
          },
          update: function (e, i, n) {
            t.get(e)[i] = n;
          },
          dispose: function () {
            t = new WeakMap();
          },
        };
      }
      function ie(t, e) {
        return t.renderOrder !== e.renderOrder
          ? t.renderOrder - e.renderOrder
          : t.program && e.program && t.program !== e.program
          ? t.program.id - e.program.id
          : t.material.id !== e.material.id
          ? t.material.id - e.material.id
          : t.z !== e.z
          ? t.z - e.z
          : t.id - e.id;
      }
      function ne(t, e) {
        return t.renderOrder !== e.renderOrder
          ? t.renderOrder - e.renderOrder
          : t.z !== e.z
          ? e.z - t.z
          : t.id - e.id;
      }
      function re() {
        var t = [],
          e = 0,
          i = [],
          n = [];
        return {
          opaque: i,
          transparent: n,
          init: function () {
            (e = 0), (i.length = 0), (n.length = 0);
          },
          push: function (r, s, o, a, h) {
            var l = t[e];
            void 0 === l
              ? ((l = {
                  id: r.id,
                  object: r,
                  geometry: s,
                  material: o,
                  program: o.program,
                  renderOrder: r.renderOrder,
                  z: a,
                  group: h,
                }),
                (t[e] = l))
              : ((l.id = r.id),
                (l.object = r),
                (l.geometry = s),
                (l.material = o),
                (l.program = o.program),
                (l.renderOrder = r.renderOrder),
                (l.z = a),
                (l.group = h)),
              (!0 === o.transparent ? n : i).push(l),
              e++;
          },
          sort: function () {
            1 < i.length && i.sort(ie), 1 < n.length && n.sort(ne);
          },
        };
      }
      function se() {
        var t = {};
        return {
          get: function (e, i) {
            return (
              (e = e.id + "," + i.id),
              (i = t[e]),
              void 0 === i && ((i = new re()), (t[e] = i)),
              i
            );
          },
          dispose: function () {
            t = {};
          },
        };
      }
      function oe() {
        var t = {};
        return {
          get: function (e) {
            if (void 0 !== t[e.id]) return t[e.id];
            switch (e.type) {
              case "DirectionalLight":
                var n = {
                  direction: new s(),
                  color: new _(),
                  shadow: !1,
                  shadowBias: 0,
                  shadowRadius: 1,
                  shadowMapSize: new i(),
                };
                break;
              case "SpotLight":
                n = {
                  position: new s(),
                  direction: new s(),
                  color: new _(),
                  distance: 0,
                  coneCos: 0,
                  penumbraCos: 0,
                  decay: 0,
                  shadow: !1,
                  shadowBias: 0,
                  shadowRadius: 1,
                  shadowMapSize: new i(),
                };
                break;
              case "PointLight":
                n = {
                  position: new s(),
                  color: new _(),
                  distance: 0,
                  decay: 0,
                  shadow: !1,
                  shadowBias: 0,
                  shadowRadius: 1,
                  shadowMapSize: new i(),
                  shadowCameraNear: 1,
                  shadowCameraFar: 1e3,
                };
                break;
              case "HemisphereLight":
                n = {
                  direction: new s(),
                  skyColor: new _(),
                  groundColor: new _(),
                };
                break;
              case "RectAreaLight":
                n = {
                  color: new _(),
                  position: new s(),
                  halfWidth: new s(),
                  halfHeight: new s(),
                };
            }
            return (t[e.id] = n);
          },
        };
      }
      function ae() {
        var t = new oe(),
          e = {
            id: Ss++,
            hash: {
              stateID: -1,
              directionalLength: -1,
              pointLength: -1,
              spotLength: -1,
              rectAreaLength: -1,
              hemiLength: -1,
              shadowsLength: -1,
            },
            ambient: [0, 0, 0],
            directional: [],
            directionalShadowMap: [],
            directionalShadowMatrix: [],
            spot: [],
            spotShadowMap: [],
            spotShadowMatrix: [],
            rectArea: [],
            point: [],
            pointShadowMap: [],
            pointShadowMatrix: [],
            hemi: [],
          },
          i = new s(),
          r = new n(),
          o = new n();
        return {
          setup: function (n, s, a) {
            var h = 0,
              l = 0,
              u = 0,
              c = 0,
              p = 0,
              d = 0,
              f = 0,
              m = 0;
            a = a.matrixWorldInverse;
            for (var _ = 0, g = n.length; _ < g; _++) {
              var v = n[_],
                y = v.color,
                x = v.intensity,
                w = v.distance,
                b = v.shadow && v.shadow.map ? v.shadow.map.texture : null;
              if (v.isAmbientLight)
                (h += y.r * x), (l += y.g * x), (u += y.b * x);
              else if (v.isDirectionalLight) {
                var T = t.get(v);
                T.color.copy(v.color).multiplyScalar(v.intensity),
                  T.direction.setFromMatrixPosition(v.matrixWorld),
                  i.setFromMatrixPosition(v.target.matrixWorld),
                  T.direction.sub(i),
                  T.direction.transformDirection(a),
                  (T.shadow = v.castShadow) &&
                    ((y = v.shadow),
                    (T.shadowBias = y.bias),
                    (T.shadowRadius = y.radius),
                    (T.shadowMapSize = y.mapSize)),
                  (e.directionalShadowMap[c] = b),
                  (e.directionalShadowMatrix[c] = v.shadow.matrix),
                  (e.directional[c] = T),
                  c++;
              } else
                v.isSpotLight
                  ? ((T = t.get(v)),
                    T.position.setFromMatrixPosition(v.matrixWorld),
                    T.position.applyMatrix4(a),
                    T.color.copy(y).multiplyScalar(x),
                    (T.distance = w),
                    T.direction.setFromMatrixPosition(v.matrixWorld),
                    i.setFromMatrixPosition(v.target.matrixWorld),
                    T.direction.sub(i),
                    T.direction.transformDirection(a),
                    (T.coneCos = Math.cos(v.angle)),
                    (T.penumbraCos = Math.cos(v.angle * (1 - v.penumbra))),
                    (T.decay = v.decay),
                    (T.shadow = v.castShadow) &&
                      ((y = v.shadow),
                      (T.shadowBias = y.bias),
                      (T.shadowRadius = y.radius),
                      (T.shadowMapSize = y.mapSize)),
                    (e.spotShadowMap[d] = b),
                    (e.spotShadowMatrix[d] = v.shadow.matrix),
                    (e.spot[d] = T),
                    d++)
                  : v.isRectAreaLight
                  ? ((T = t.get(v)),
                    T.color.copy(y).multiplyScalar(x),
                    T.position.setFromMatrixPosition(v.matrixWorld),
                    T.position.applyMatrix4(a),
                    o.identity(),
                    r.copy(v.matrixWorld),
                    r.premultiply(a),
                    o.extractRotation(r),
                    T.halfWidth.set(0.5 * v.width, 0, 0),
                    T.halfHeight.set(0, 0.5 * v.height, 0),
                    T.halfWidth.applyMatrix4(o),
                    T.halfHeight.applyMatrix4(o),
                    (e.rectArea[f] = T),
                    f++)
                  : v.isPointLight
                  ? ((T = t.get(v)),
                    T.position.setFromMatrixPosition(v.matrixWorld),
                    T.position.applyMatrix4(a),
                    T.color.copy(v.color).multiplyScalar(v.intensity),
                    (T.distance = v.distance),
                    (T.decay = v.decay),
                    (T.shadow = v.castShadow) &&
                      ((y = v.shadow),
                      (T.shadowBias = y.bias),
                      (T.shadowRadius = y.radius),
                      (T.shadowMapSize = y.mapSize),
                      (T.shadowCameraNear = y.camera.near),
                      (T.shadowCameraFar = y.camera.far)),
                    (e.pointShadowMap[p] = b),
                    (e.pointShadowMatrix[p] = v.shadow.matrix),
                    (e.point[p] = T),
                    p++)
                  : v.isHemisphereLight &&
                    ((T = t.get(v)),
                    T.direction.setFromMatrixPosition(v.matrixWorld),
                    T.direction.transformDirection(a),
                    T.direction.normalize(),
                    T.skyColor.copy(v.color).multiplyScalar(x),
                    T.groundColor.copy(v.groundColor).multiplyScalar(x),
                    (e.hemi[m] = T),
                    m++);
            }
            (e.ambient[0] = h),
              (e.ambient[1] = l),
              (e.ambient[2] = u),
              (e.directional.length = c),
              (e.spot.length = d),
              (e.rectArea.length = f),
              (e.point.length = p),
              (e.hemi.length = m),
              (e.hash.stateID = e.id),
              (e.hash.directionalLength = c),
              (e.hash.pointLength = p),
              (e.hash.spotLength = d),
              (e.hash.rectAreaLength = f),
              (e.hash.hemiLength = m),
              (e.hash.shadowsLength = s.length);
          },
          state: e,
        };
      }
      function he() {
        var t = new ae(),
          e = [],
          i = [];
        return {
          init: function () {
            (e.length = 0), (i.length = 0);
          },
          state: { lightsArray: e, shadowsArray: i, lights: t },
          setupLights: function (n) {
            t.setup(e, i, n);
          },
          pushLight: function (t) {
            e.push(t);
          },
          pushShadow: function (t) {
            i.push(t);
          },
        };
      }
      function le() {
        var t = {};
        return {
          get: function (e, i) {
            if (void 0 === t[e.id]) {
              var n = new he();
              (t[e.id] = {}), (t[e.id][i.id] = n);
            } else
              void 0 === t[e.id][i.id]
                ? ((n = new he()), (t[e.id][i.id] = n))
                : (n = t[e.id][i.id]);
            return n;
          },
          dispose: function () {
            t = {};
          },
        };
      }
      function ue(t) {
        U.call(this),
          (this.type = "MeshDepthMaterial"),
          (this.depthPacking = 3200),
          (this.morphTargets = this.skinning = !1),
          (this.displacementMap = this.alphaMap = this.map = null),
          (this.displacementScale = 1),
          (this.displacementBias = 0),
          (this.wireframe = !1),
          (this.wireframeLinewidth = 1),
          (this.lights = this.fog = !1),
          this.setValues(t);
      }
      function ce(t) {
        U.call(this),
          (this.type = "MeshDistanceMaterial"),
          (this.referencePosition = new s()),
          (this.nearDistance = 1),
          (this.farDistance = 1e3),
          (this.morphTargets = this.skinning = !1),
          (this.displacementMap = this.alphaMap = this.map = null),
          (this.displacementScale = 1),
          (this.displacementBias = 0),
          (this.lights = this.fog = !1),
          this.setValues(t);
      }
      function pe(t, e, r) {
        function o(e, i, n, r, s, o) {
          var a = e.geometry,
            h = g,
            l = e.customDepthMaterial;
          return (
            n && ((h = v), (l = e.customDistanceMaterial)),
            l
              ? (h = l)
              : ((l = !1),
                i.morphTargets &&
                  (a && a.isBufferGeometry
                    ? (l =
                        a.morphAttributes &&
                        a.morphAttributes.position &&
                        0 < a.morphAttributes.position.length)
                    : a &&
                      a.isGeometry &&
                      (l = a.morphTargets && 0 < a.morphTargets.length)),
                e.isSkinnedMesh &&
                  !1 === i.skinning &&
                  console.warn(
                    "THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",
                    e
                  ),
                (e = e.isSkinnedMesh && i.skinning),
                (a = 0),
                l && (a |= 1),
                e && (a |= 2),
                (h = h[a])),
            t.localClippingEnabled &&
              !0 === i.clipShadows &&
              0 !== i.clippingPlanes.length &&
              ((a = h.uuid),
              (l = i.uuid),
              (e = y[a]),
              void 0 === e && ((e = {}), (y[a] = e)),
              (a = e[l]),
              void 0 === a && ((a = h.clone()), (e[l] = a)),
              (h = a)),
            (h.visible = i.visible),
            (h.wireframe = i.wireframe),
            (h.side = null != i.shadowSide ? i.shadowSide : x[i.side]),
            (h.clipShadows = i.clipShadows),
            (h.clippingPlanes = i.clippingPlanes),
            (h.clipIntersection = i.clipIntersection),
            (h.wireframeLinewidth = i.wireframeLinewidth),
            (h.linewidth = i.linewidth),
            n &&
              h.isMeshDistanceMaterial &&
              (h.referencePosition.copy(r),
              (h.nearDistance = s),
              (h.farDistance = o)),
            h
          );
        }
        function a(i, n, r, s) {
          if (!1 !== i.visible) {
            if (
              i.layers.test(n.layers) &&
              (i.isMesh || i.isLine || i.isPoints) &&
              i.castShadow &&
              (!i.frustumCulled || u.intersectsObject(i))
            ) {
              i.modelViewMatrix.multiplyMatrices(
                r.matrixWorldInverse,
                i.matrixWorld
              );
              var h = e.update(i),
                l = i.material;
              if (Array.isArray(l))
                for (var c = h.groups, p = 0, d = c.length; p < d; p++) {
                  var f = c[p],
                    m = l[f.materialIndex];
                  m &&
                    m.visible &&
                    ((m = o(i, m, s, _, r.near, r.far)),
                    t.renderBufferDirect(r, null, h, m, i, f));
                }
              else
                l.visible &&
                  ((m = o(i, l, s, _, r.near, r.far)),
                  t.renderBufferDirect(r, null, h, m, i, null));
            }
            for (i = i.children, h = 0, l = i.length; h < l; h++)
              a(i[h], n, r, s);
          }
        }
        var u = new m(),
          c = new n(),
          p = new i(),
          d = new i(r, r),
          f = new s(),
          _ = new s(),
          g = Array(4),
          v = Array(4),
          y = {},
          x = { 0: 1, 1: 0, 2: 2 },
          w = [
            new s(1, 0, 0),
            new s(-1, 0, 0),
            new s(0, 0, 1),
            new s(0, 0, -1),
            new s(0, 1, 0),
            new s(0, -1, 0),
          ],
          b = [
            new s(0, 1, 0),
            new s(0, 1, 0),
            new s(0, 1, 0),
            new s(0, 1, 0),
            new s(0, 0, 1),
            new s(0, 0, -1),
          ],
          T = [new h(), new h(), new h(), new h(), new h(), new h()];
        for (r = 0; 4 !== r; ++r) {
          var E = 0 !== (1 & r),
            S = 0 !== (2 & r),
            M = new ue({ depthPacking: 3201, morphTargets: E, skinning: S });
          (g[r] = M),
            (E = new ce({ morphTargets: E, skinning: S })),
            (v[r] = E);
        }
        var C = this;
        (this.enabled = !1),
          (this.autoUpdate = !0),
          (this.needsUpdate = !1),
          (this.type = 1),
          (this.render = function (e, i, n) {
            if (
              !1 !== C.enabled &&
              (!1 !== C.autoUpdate || !1 !== C.needsUpdate) &&
              0 !== e.length
            ) {
              var r = t.state;
              r.disable(t.context.BLEND),
                r.buffers.color.setClear(1, 1, 1, 1),
                r.buffers.depth.setTest(!0),
                r.setScissorTest(!1);
              for (var s, o = 0, h = e.length; o < h; o++) {
                var m = e[o];
                s = m.shadow;
                var g = m && m.isPointLight;
                if (void 0 === s)
                  console.warn("THREE.WebGLShadowMap:", m, "has no shadow.");
                else {
                  var v = s.camera;
                  if ((p.copy(s.mapSize), p.min(d), g)) {
                    var y = p.x,
                      x = p.y;
                    T[0].set(2 * y, x, y, x),
                      T[1].set(0, x, y, x),
                      T[2].set(3 * y, x, y, x),
                      T[3].set(y, x, y, x),
                      T[4].set(3 * y, 0, y, x),
                      T[5].set(y, 0, y, x),
                      (p.x *= 4),
                      (p.y *= 2);
                  }
                  for (
                    null === s.map &&
                      ((s.map = new l(p.x, p.y, {
                        minFilter: 1003,
                        magFilter: 1003,
                        format: 1023,
                      })),
                      (s.map.texture.name = m.name + ".shadowMap"),
                      v.updateProjectionMatrix()),
                      s.isSpotLightShadow && s.update(m),
                      y = s.map,
                      x = s.matrix,
                      _.setFromMatrixPosition(m.matrixWorld),
                      v.position.copy(_),
                      g
                        ? ((s = 6), x.makeTranslation(-_.x, -_.y, -_.z))
                        : ((s = 1),
                          f.setFromMatrixPosition(m.target.matrixWorld),
                          v.lookAt(f),
                          v.updateMatrixWorld(),
                          x.set(
                            0.5,
                            0,
                            0,
                            0.5,
                            0,
                            0.5,
                            0,
                            0.5,
                            0,
                            0,
                            0.5,
                            0.5,
                            0,
                            0,
                            0,
                            1
                          ),
                          x.multiply(v.projectionMatrix),
                          x.multiply(v.matrixWorldInverse)),
                      t.setRenderTarget(y),
                      t.clear(),
                      m = 0;
                    m < s;
                    m++
                  )
                    g &&
                      (f.copy(v.position),
                      f.add(w[m]),
                      v.up.copy(b[m]),
                      v.lookAt(f),
                      v.updateMatrixWorld(),
                      r.viewport(T[m])),
                      c.multiplyMatrices(
                        v.projectionMatrix,
                        v.matrixWorldInverse
                      ),
                      u.setFromMatrix(c),
                      a(i, n, v, g);
                }
              }
              C.needsUpdate = !1;
            }
          });
      }
      function de(t, e, i, n) {
        function r(e, i, n) {
          var r = new Uint8Array(4),
            s = t.createTexture();
          for (
            t.bindTexture(e, s),
              t.texParameteri(e, t.TEXTURE_MIN_FILTER, t.NEAREST),
              t.texParameteri(e, t.TEXTURE_MAG_FILTER, t.NEAREST),
              e = 0;
            e < n;
            e++
          )
            t.texImage2D(i + e, 0, t.RGBA, 1, 1, 0, t.RGBA, t.UNSIGNED_BYTE, r);
          return s;
        }
        function s(i, r) {
          (v[i] = 1),
            0 === y[i] && (t.enableVertexAttribArray(i), (y[i] = 1)),
            x[i] !== r &&
              ((n.isWebGL2 ? t : e.get("ANGLE_instanced_arrays"))[
                n.isWebGL2 ? "vertexAttribDivisor" : "vertexAttribDivisorANGLE"
              ](i, r),
              (x[i] = r));
        }
        function o(e) {
          !0 !== w[e] && (t.enable(e), (w[e] = !0));
        }
        function a(e) {
          !1 !== w[e] && (t.disable(e), (w[e] = !1));
        }
        function l(e, n, r, s, h, l, u, c) {
          if (0 === e) E && (a(t.BLEND), (E = !1));
          else if ((E || (o(t.BLEND), (E = !0)), 5 !== e)) {
            if (e !== S || c !== I) {
              if (
                ((100 === M && 100 === A) ||
                  (t.blendEquation(t.FUNC_ADD), (A = M = 100)),
                c)
              )
                switch (e) {
                  case 1:
                    t.blendFuncSeparate(
                      t.ONE,
                      t.ONE_MINUS_SRC_ALPHA,
                      t.ONE,
                      t.ONE_MINUS_SRC_ALPHA
                    );
                    break;
                  case 2:
                    t.blendFunc(t.ONE, t.ONE);
                    break;
                  case 3:
                    t.blendFuncSeparate(
                      t.ZERO,
                      t.ZERO,
                      t.ONE_MINUS_SRC_COLOR,
                      t.ONE_MINUS_SRC_ALPHA
                    );
                    break;
                  case 4:
                    t.blendFuncSeparate(
                      t.ZERO,
                      t.SRC_COLOR,
                      t.ZERO,
                      t.SRC_ALPHA
                    );
                    break;
                  default:
                    console.error("THREE.WebGLState: Invalid blending: ", e);
                }
              else
                switch (e) {
                  case 1:
                    t.blendFuncSeparate(
                      t.SRC_ALPHA,
                      t.ONE_MINUS_SRC_ALPHA,
                      t.ONE,
                      t.ONE_MINUS_SRC_ALPHA
                    );
                    break;
                  case 2:
                    t.blendFunc(t.SRC_ALPHA, t.ONE);
                    break;
                  case 3:
                    t.blendFunc(t.ZERO, t.ONE_MINUS_SRC_COLOR);
                    break;
                  case 4:
                    t.blendFunc(t.ZERO, t.SRC_COLOR);
                    break;
                  default:
                    console.error("THREE.WebGLState: Invalid blending: ", e);
                }
              (L = R = P = C = null), (S = e), (I = c);
            }
          } else
            (h = h || n),
              (l = l || r),
              (u = u || s),
              (n === M && h === A) ||
                (t.blendEquationSeparate(i.convert(n), i.convert(h)),
                (M = n),
                (A = h)),
              (r === C && s === P && l === R && u === L) ||
                (t.blendFuncSeparate(
                  i.convert(r),
                  i.convert(s),
                  i.convert(l),
                  i.convert(u)
                ),
                (C = r),
                (P = s),
                (R = l),
                (L = u)),
              (S = e),
              (I = null);
        }
        function u(e) {
          O !== e && (e ? t.frontFace(t.CW) : t.frontFace(t.CCW), (O = e));
        }
        function c(e) {
          0 !== e
            ? (o(t.CULL_FACE),
              e !== D &&
                (1 === e
                  ? t.cullFace(t.BACK)
                  : 2 === e
                  ? t.cullFace(t.FRONT)
                  : t.cullFace(t.FRONT_AND_BACK)))
            : a(t.CULL_FACE),
            (D = e);
        }
        function p(e, i, n) {
          e
            ? (o(t.POLYGON_OFFSET_FILL),
              (N !== i || z !== n) && (t.polygonOffset(i, n), (N = i), (z = n)))
            : a(t.POLYGON_OFFSET_FILL);
        }
        function d(e) {
          void 0 === e && (e = t.TEXTURE0 + F - 1),
            B !== e && (t.activeTexture(e), (B = e));
        }
        var f = new (function () {
            var e = !1,
              i = new h(),
              n = null,
              r = new h(0, 0, 0, 0);
            return {
              setMask: function (i) {
                n === i || e || (t.colorMask(i, i, i, i), (n = i));
              },
              setLocked: function (t) {
                e = t;
              },
              setClear: function (e, n, s, o, a) {
                !0 === a && ((e *= o), (n *= o), (s *= o)),
                  i.set(e, n, s, o),
                  !1 === r.equals(i) && (t.clearColor(e, n, s, o), r.copy(i));
              },
              reset: function () {
                (e = !1), (n = null), r.set(-1, 0, 0, 0);
              },
            };
          })(),
          m = new (function () {
            var e = !1,
              i = null,
              n = null,
              r = null;
            return {
              setTest: function (e) {
                e ? o(t.DEPTH_TEST) : a(t.DEPTH_TEST);
              },
              setMask: function (n) {
                i === n || e || (t.depthMask(n), (i = n));
              },
              setFunc: function (e) {
                if (n !== e) {
                  if (e)
                    switch (e) {
                      case 0:
                        t.depthFunc(t.NEVER);
                        break;
                      case 1:
                        t.depthFunc(t.ALWAYS);
                        break;
                      case 2:
                        t.depthFunc(t.LESS);
                        break;
                      case 3:
                        t.depthFunc(t.LEQUAL);
                        break;
                      case 4:
                        t.depthFunc(t.EQUAL);
                        break;
                      case 5:
                        t.depthFunc(t.GEQUAL);
                        break;
                      case 6:
                        t.depthFunc(t.GREATER);
                        break;
                      case 7:
                        t.depthFunc(t.NOTEQUAL);
                        break;
                      default:
                        t.depthFunc(t.LEQUAL);
                    }
                  else t.depthFunc(t.LEQUAL);
                  n = e;
                }
              },
              setLocked: function (t) {
                e = t;
              },
              setClear: function (e) {
                r !== e && (t.clearDepth(e), (r = e));
              },
              reset: function () {
                (e = !1), (r = n = i = null);
              },
            };
          })(),
          _ = new (function () {
            var e = !1,
              i = null,
              n = null,
              r = null,
              s = null,
              h = null,
              l = null,
              u = null,
              c = null;
            return {
              setTest: function (e) {
                e ? o(t.STENCIL_TEST) : a(t.STENCIL_TEST);
              },
              setMask: function (n) {
                i === n || e || (t.stencilMask(n), (i = n));
              },
              setFunc: function (e, i, o) {
                (n === e && r === i && s === o) ||
                  (t.stencilFunc(e, i, o), (n = e), (r = i), (s = o));
              },
              setOp: function (e, i, n) {
                (h === e && l === i && u === n) ||
                  (t.stencilOp(e, i, n), (h = e), (l = i), (u = n));
              },
              setLocked: function (t) {
                e = t;
              },
              setClear: function (e) {
                c !== e && (t.clearStencil(e), (c = e));
              },
              reset: function () {
                (e = !1), (c = u = l = h = s = r = n = i = null);
              },
            };
          })(),
          g = t.getParameter(t.MAX_VERTEX_ATTRIBS),
          v = new Uint8Array(g),
          y = new Uint8Array(g),
          x = new Uint8Array(g),
          w = {},
          b = null,
          T = null,
          E = null,
          S = null,
          M = null,
          C = null,
          P = null,
          A = null,
          R = null,
          L = null,
          I = !1,
          O = null,
          D = null,
          k = null,
          N = null,
          z = null,
          F = t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS),
          H = !1;
        (g = 0),
          (g = t.getParameter(t.VERSION)),
          -1 !== g.indexOf("WebGL")
            ? ((g = parseFloat(/^WebGL ([0-9])/.exec(g)[1])), (H = 1 <= g))
            : -1 !== g.indexOf("OpenGL ES") &&
              ((g = parseFloat(/^OpenGL ES ([0-9])/.exec(g)[1])), (H = 2 <= g));
        var B = null,
          U = {},
          G = new h(),
          V = new h(),
          j = {};
        return (
          (j[t.TEXTURE_2D] = r(t.TEXTURE_2D, t.TEXTURE_2D, 1)),
          (j[t.TEXTURE_CUBE_MAP] = r(
            t.TEXTURE_CUBE_MAP,
            t.TEXTURE_CUBE_MAP_POSITIVE_X,
            6
          )),
          f.setClear(0, 0, 0, 1),
          m.setClear(1),
          _.setClear(0),
          o(t.DEPTH_TEST),
          m.setFunc(3),
          u(!1),
          c(1),
          o(t.CULL_FACE),
          l(0),
          {
            buffers: { color: f, depth: m, stencil: _ },
            initAttributes: function () {
              for (var t = 0, e = v.length; t < e; t++) v[t] = 0;
            },
            enableAttribute: function (t) {
              s(t, 0);
            },
            enableAttributeAndDivisor: s,
            disableUnusedAttributes: function () {
              for (var e = 0, i = y.length; e !== i; ++e)
                y[e] !== v[e] && (t.disableVertexAttribArray(e), (y[e] = 0));
            },
            enable: o,
            disable: a,
            getCompressedTextureFormats: function () {
              if (
                null === b &&
                ((b = []),
                e.get("WEBGL_compressed_texture_pvrtc") ||
                  e.get("WEBGL_compressed_texture_s3tc") ||
                  e.get("WEBGL_compressed_texture_etc1") ||
                  e.get("WEBGL_compressed_texture_astc"))
              )
                for (
                  var i = t.getParameter(t.COMPRESSED_TEXTURE_FORMATS), n = 0;
                  n < i.length;
                  n++
                )
                  b.push(i[n]);
              return b;
            },
            useProgram: function (e) {
              return T !== e && (t.useProgram(e), (T = e), !0);
            },
            setBlending: l,
            setMaterial: function (e, i) {
              2 === e.side ? a(t.CULL_FACE) : o(t.CULL_FACE);
              var n = 1 === e.side;
              i && (n = !n),
                u(n),
                1 === e.blending && !1 === e.transparent
                  ? l(0)
                  : l(
                      e.blending,
                      e.blendEquation,
                      e.blendSrc,
                      e.blendDst,
                      e.blendEquationAlpha,
                      e.blendSrcAlpha,
                      e.blendDstAlpha,
                      e.premultipliedAlpha
                    ),
                m.setFunc(e.depthFunc),
                m.setTest(e.depthTest),
                m.setMask(e.depthWrite),
                f.setMask(e.colorWrite),
                p(e.polygonOffset, e.polygonOffsetFactor, e.polygonOffsetUnits);
            },
            setFlipSided: u,
            setCullFace: c,
            setLineWidth: function (e) {
              e !== k && (H && t.lineWidth(e), (k = e));
            },
            setPolygonOffset: p,
            setScissorTest: function (e) {
              e ? o(t.SCISSOR_TEST) : a(t.SCISSOR_TEST);
            },
            activeTexture: d,
            bindTexture: function (e, i) {
              null === B && d();
              var n = U[B];
              void 0 === n &&
                ((n = { type: void 0, texture: void 0 }), (U[B] = n)),
                (n.type === e && n.texture === i) ||
                  (t.bindTexture(e, i || j[e]), (n.type = e), (n.texture = i));
            },
            compressedTexImage2D: function () {
              try {
                t.compressedTexImage2D.apply(t, arguments);
              } catch (t) {
                console.error("THREE.WebGLState:", t);
              }
            },
            texImage2D: function () {
              try {
                t.texImage2D.apply(t, arguments);
              } catch (t) {
                console.error("THREE.WebGLState:", t);
              }
            },
            texImage3D: function () {
              try {
                t.texImage3D.apply(t, arguments);
              } catch (t) {
                console.error("THREE.WebGLState:", t);
              }
            },
            scissor: function (e) {
              !1 === G.equals(e) && (t.scissor(e.x, e.y, e.z, e.w), G.copy(e));
            },
            viewport: function (e) {
              !1 === V.equals(e) && (t.viewport(e.x, e.y, e.z, e.w), V.copy(e));
            },
            reset: function () {
              for (var e = 0; e < y.length; e++)
                1 === y[e] && (t.disableVertexAttribArray(e), (y[e] = 0));
              (w = {}),
                (B = b = null),
                (U = {}),
                (D = O = S = T = null),
                f.reset(),
                m.reset(),
                _.reset();
            },
          }
        );
      }
      function fe(t, e, i, n, r, s, o) {
        function a(t, e) {
          if (t.width > e || t.height > e) {
            if ("data" in t)
              return void console.warn(
                "THREE.WebGLRenderer: image in DataTexture is too big (" +
                  t.width +
                  "x" +
                  t.height +
                  ")."
              );
            e /= Math.max(t.width, t.height);
            var i = document.createElementNS(
              "http://www.w3.org/1999/xhtml",
              "canvas"
            );
            return (
              (i.width = Math.floor(t.width * e)),
              (i.height = Math.floor(t.height * e)),
              i
                .getContext("2d")
                .drawImage(t, 0, 0, t.width, t.height, 0, 0, i.width, i.height),
              console.warn(
                "THREE.WebGLRenderer: image is too big (" +
                  t.width +
                  "x" +
                  t.height +
                  "). Resized to " +
                  i.width +
                  "x" +
                  i.height
              ),
              i
            );
          }
          return t;
        }
        function h(t) {
          return ns.isPowerOfTwo(t.width) && ns.isPowerOfTwo(t.height);
        }
        function l(t, e) {
          return (
            t.generateMipmaps &&
            e &&
            1003 !== t.minFilter &&
            1006 !== t.minFilter
          );
        }
        function u(e, i, r, s) {
          t.generateMipmap(e),
            (n.get(i).__maxMipLevel = Math.log(Math.max(r, s)) * Math.LOG2E);
        }
        function c(e, i) {
          if (!r.isWebGL2) return e;
          if (e === t.RED) {
            if (i === t.FLOAT) return t.R32F;
            if (i === t.HALF_FLOAT) return t.R16F;
            if (i === t.UNSIGNED_BYTE) return t.R8;
          }
          if (e === t.RGB) {
            if (i === t.FLOAT) return t.RGB32F;
            if (i === t.HALF_FLOAT) return t.RGB16F;
            if (i === t.UNSIGNED_BYTE) return t.RGB8;
          }
          if (e === t.RGBA) {
            if (i === t.FLOAT) return t.RGBA32F;
            if (i === t.HALF_FLOAT) return t.RGBA16F;
            if (i === t.UNSIGNED_BYTE) return t.RGBA8;
          }
          return e;
        }
        function p(e) {
          return 1003 === e || 1004 === e || 1005 === e ? t.NEAREST : t.LINEAR;
        }
        function d(e) {
          (e = e.target), e.removeEventListener("dispose", d);
          t: {
            var i = n.get(e);
            if (e.image && i.__image__webglTextureCube)
              t.deleteTexture(i.__image__webglTextureCube);
            else {
              if (void 0 === i.__webglInit) break t;
              t.deleteTexture(i.__webglTexture);
            }
            n.remove(e);
          }
          e.isVideoTexture && delete w[e.id], o.memory.textures--;
        }
        function f(e) {
          (e = e.target), e.removeEventListener("dispose", f);
          var i = n.get(e),
            r = n.get(e.texture);
          if (e) {
            if (
              (void 0 !== r.__webglTexture && t.deleteTexture(r.__webglTexture),
              e.depthTexture && e.depthTexture.dispose(),
              e.isWebGLRenderTargetCube)
            )
              for (r = 0; 6 > r; r++)
                t.deleteFramebuffer(i.__webglFramebuffer[r]),
                  i.__webglDepthbuffer &&
                    t.deleteRenderbuffer(i.__webglDepthbuffer[r]);
            else
              t.deleteFramebuffer(i.__webglFramebuffer),
                i.__webglDepthbuffer &&
                  t.deleteRenderbuffer(i.__webglDepthbuffer);
            n.remove(e.texture), n.remove(e);
          }
          o.memory.textures--;
        }
        function m(e, r) {
          var s = n.get(e);
          if (e.isVideoTexture) {
            var a = e.id,
              h = o.render.frame;
            w[a] !== h && ((w[a] = h), e.update());
          }
          if (0 < e.version && s.__version !== e.version)
            if (((a = e.image), void 0 === a))
              console.warn(
                "THREE.WebGLRenderer: Texture marked for update but image is undefined"
              );
            else {
              if (!1 !== a.complete) return void g(s, e, r);
              console.warn(
                "THREE.WebGLRenderer: Texture marked for update but image is incomplete"
              );
            }
          i.activeTexture(t.TEXTURE0 + r),
            i.bindTexture(t.TEXTURE_2D, s.__webglTexture);
        }
        function _(i, o, a) {
          a
            ? (t.texParameteri(i, t.TEXTURE_WRAP_S, s.convert(o.wrapS)),
              t.texParameteri(i, t.TEXTURE_WRAP_T, s.convert(o.wrapT)),
              t.texParameteri(i, t.TEXTURE_MAG_FILTER, s.convert(o.magFilter)),
              t.texParameteri(i, t.TEXTURE_MIN_FILTER, s.convert(o.minFilter)))
            : (t.texParameteri(i, t.TEXTURE_WRAP_S, t.CLAMP_TO_EDGE),
              t.texParameteri(i, t.TEXTURE_WRAP_T, t.CLAMP_TO_EDGE),
              (1001 === o.wrapS && 1001 === o.wrapT) ||
                console.warn(
                  "THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."
                ),
              t.texParameteri(i, t.TEXTURE_MAG_FILTER, p(o.magFilter)),
              t.texParameteri(i, t.TEXTURE_MIN_FILTER, p(o.minFilter)),
              1003 !== o.minFilter &&
                1006 !== o.minFilter &&
                console.warn(
                  "THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."
                )),
            !(a = e.get("EXT_texture_filter_anisotropic")) ||
              (1015 === o.type && null === e.get("OES_texture_float_linear")) ||
              (1016 === o.type &&
                null ===
                  (r.isWebGL2 || e.get("OES_texture_half_float_linear"))) ||
              !(1 < o.anisotropy || n.get(o).__currentAnisotropy) ||
              (t.texParameterf(
                i,
                a.TEXTURE_MAX_ANISOTROPY_EXT,
                Math.min(o.anisotropy, r.getMaxAnisotropy())
              ),
              (n.get(o).__currentAnisotropy = o.anisotropy));
        }
        function g(e, n, p) {
          var f = n.isDataTexture3D ? t.TEXTURE_3D : t.TEXTURE_2D;
          void 0 === e.__webglInit &&
            ((e.__webglInit = !0),
            n.addEventListener("dispose", d),
            (e.__webglTexture = t.createTexture()),
            o.memory.textures++),
            i.activeTexture(t.TEXTURE0 + p),
            i.bindTexture(f, e.__webglTexture),
            t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL, n.flipY),
            t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL, n.premultiplyAlpha),
            t.pixelStorei(t.UNPACK_ALIGNMENT, n.unpackAlignment),
            (p = a(n.image, r.maxTextureSize));
          var m =
            !r.isWebGL2 &&
            (1001 !== n.wrapS ||
              1001 !== n.wrapT ||
              (1003 !== n.minFilter && 1006 !== n.minFilter));
          m &&
            !1 === h(p) &&
            (p instanceof HTMLImageElement ||
              p instanceof HTMLCanvasElement ||
              p instanceof ImageBitmap) &&
            (void 0 === x &&
              (x = document.createElementNS(
                "http://www.w3.org/1999/xhtml",
                "canvas"
              )),
            (x.width = ns.floorPowerOfTwo(p.width)),
            (x.height = ns.floorPowerOfTwo(p.height)),
            x.getContext("2d").drawImage(p, 0, 0, x.width, x.height),
            console.warn(
              "THREE.WebGLRenderer: image is not power of two (" +
                p.width +
                "x" +
                p.height +
                "). Resized to " +
                x.width +
                "x" +
                x.height
            ),
            (p = x)),
            (m = h(p));
          var g = s.convert(n.format),
            v = s.convert(n.type),
            y = c(g, v);
          _(f, n, m);
          var w = n.mipmaps;
          if (n.isDepthTexture) {
            if (((y = t.DEPTH_COMPONENT), 1015 === n.type)) {
              if (!r.isWebGL2)
                throw Error("Float Depth Texture only supported in WebGL2.0");
              y = t.DEPTH_COMPONENT32F;
            } else r.isWebGL2 && (y = t.DEPTH_COMPONENT16);
            1026 === n.format &&
              y === t.DEPTH_COMPONENT &&
              1012 !== n.type &&
              1014 !== n.type &&
              (console.warn(
                "THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."
              ),
              (n.type = 1012),
              (v = s.convert(n.type))),
              1027 === n.format &&
                ((y = t.DEPTH_STENCIL),
                1020 !== n.type &&
                  (console.warn(
                    "THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."
                  ),
                  (n.type = 1020),
                  (v = s.convert(n.type)))),
              i.texImage2D(
                t.TEXTURE_2D,
                0,
                y,
                p.width,
                p.height,
                0,
                g,
                v,
                null
              );
          } else if (n.isDataTexture)
            if (0 < w.length && m) {
              for (var b = 0, T = w.length; b < T; b++)
                (f = w[b]),
                  i.texImage2D(
                    t.TEXTURE_2D,
                    b,
                    y,
                    f.width,
                    f.height,
                    0,
                    g,
                    v,
                    f.data
                  );
              (n.generateMipmaps = !1), (e.__maxMipLevel = w.length - 1);
            } else
              i.texImage2D(
                t.TEXTURE_2D,
                0,
                y,
                p.width,
                p.height,
                0,
                g,
                v,
                p.data
              ),
                (e.__maxMipLevel = 0);
          else if (n.isCompressedTexture) {
            for (b = 0, T = w.length; b < T; b++)
              (f = w[b]),
                1023 !== n.format && 1022 !== n.format
                  ? -1 < i.getCompressedTextureFormats().indexOf(g)
                    ? i.compressedTexImage2D(
                        t.TEXTURE_2D,
                        b,
                        y,
                        f.width,
                        f.height,
                        0,
                        f.data
                      )
                    : console.warn(
                        "THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"
                      )
                  : i.texImage2D(
                      t.TEXTURE_2D,
                      b,
                      y,
                      f.width,
                      f.height,
                      0,
                      g,
                      v,
                      f.data
                    );
            e.__maxMipLevel = w.length - 1;
          } else if (n.isDataTexture3D)
            i.texImage3D(
              t.TEXTURE_3D,
              0,
              y,
              p.width,
              p.height,
              p.depth,
              0,
              g,
              v,
              p.data
            ),
              (e.__maxMipLevel = 0);
          else if (0 < w.length && m) {
            for (b = 0, T = w.length; b < T; b++)
              (f = w[b]), i.texImage2D(t.TEXTURE_2D, b, y, g, v, f);
            (n.generateMipmaps = !1), (e.__maxMipLevel = w.length - 1);
          } else
            i.texImage2D(t.TEXTURE_2D, 0, y, g, v, p), (e.__maxMipLevel = 0);
          l(n, m) && u(t.TEXTURE_2D, n, p.width, p.height),
            (e.__version = n.version),
            n.onUpdate && n.onUpdate(n);
        }
        function v(e, r, o, a) {
          var h = s.convert(r.texture.format),
            l = s.convert(r.texture.type),
            u = c(h, l);
          i.texImage2D(a, 0, u, r.width, r.height, 0, h, l, null),
            t.bindFramebuffer(t.FRAMEBUFFER, e),
            t.framebufferTexture2D(
              t.FRAMEBUFFER,
              o,
              a,
              n.get(r.texture).__webglTexture,
              0
            ),
            t.bindFramebuffer(t.FRAMEBUFFER, null);
        }
        function y(e, i) {
          t.bindRenderbuffer(t.RENDERBUFFER, e),
            i.depthBuffer && !i.stencilBuffer
              ? (t.renderbufferStorage(
                  t.RENDERBUFFER,
                  t.DEPTH_COMPONENT16,
                  i.width,
                  i.height
                ),
                t.framebufferRenderbuffer(
                  t.FRAMEBUFFER,
                  t.DEPTH_ATTACHMENT,
                  t.RENDERBUFFER,
                  e
                ))
              : i.depthBuffer && i.stencilBuffer
              ? (t.renderbufferStorage(
                  t.RENDERBUFFER,
                  t.DEPTH_STENCIL,
                  i.width,
                  i.height
                ),
                t.framebufferRenderbuffer(
                  t.FRAMEBUFFER,
                  t.DEPTH_STENCIL_ATTACHMENT,
                  t.RENDERBUFFER,
                  e
                ))
              : t.renderbufferStorage(
                  t.RENDERBUFFER,
                  t.RGBA4,
                  i.width,
                  i.height
                ),
            t.bindRenderbuffer(t.RENDERBUFFER, null);
        }
        var x,
          w = {};
        (this.setTexture2D = m),
          (this.setTexture3D = function (e, r) {
            var s = n.get(e);
            0 < e.version && s.__version !== e.version
              ? g(s, e, r)
              : (i.activeTexture(t.TEXTURE0 + r),
                i.bindTexture(t.TEXTURE_3D, s.__webglTexture));
          }),
          (this.setTextureCube = function (e, p) {
            var f = n.get(e);
            if (6 === e.image.length)
              if (0 < e.version && f.__version !== e.version) {
                f.__image__webglTextureCube ||
                  (e.addEventListener("dispose", d),
                  (f.__image__webglTextureCube = t.createTexture()),
                  o.memory.textures++),
                  i.activeTexture(t.TEXTURE0 + p),
                  i.bindTexture(
                    t.TEXTURE_CUBE_MAP,
                    f.__image__webglTextureCube
                  ),
                  t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL, e.flipY),
                  (p = e && e.isCompressedTexture);
                for (
                  var m = e.image[0] && e.image[0].isDataTexture, g = [], v = 0;
                  6 > v;
                  v++
                )
                  g[v] =
                    p || m
                      ? m
                        ? e.image[v].image
                        : e.image[v]
                      : a(e.image[v], r.maxCubemapSize);
                var y = g[0],
                  x = h(y),
                  w = s.convert(e.format),
                  b = s.convert(e.type),
                  T = c(w, b);
                for (_(t.TEXTURE_CUBE_MAP, e, x), v = 0; 6 > v; v++)
                  if (p)
                    for (
                      var E, S = g[v].mipmaps, M = 0, C = S.length;
                      M < C;
                      M++
                    )
                      (E = S[M]),
                        1023 !== e.format && 1022 !== e.format
                          ? -1 < i.getCompressedTextureFormats().indexOf(w)
                            ? i.compressedTexImage2D(
                                t.TEXTURE_CUBE_MAP_POSITIVE_X + v,
                                M,
                                T,
                                E.width,
                                E.height,
                                0,
                                E.data
                              )
                            : console.warn(
                                "THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"
                              )
                          : i.texImage2D(
                              t.TEXTURE_CUBE_MAP_POSITIVE_X + v,
                              M,
                              T,
                              E.width,
                              E.height,
                              0,
                              w,
                              b,
                              E.data
                            );
                  else
                    m
                      ? i.texImage2D(
                          t.TEXTURE_CUBE_MAP_POSITIVE_X + v,
                          0,
                          T,
                          g[v].width,
                          g[v].height,
                          0,
                          w,
                          b,
                          g[v].data
                        )
                      : i.texImage2D(
                          t.TEXTURE_CUBE_MAP_POSITIVE_X + v,
                          0,
                          T,
                          w,
                          b,
                          g[v]
                        );
                (f.__maxMipLevel = p ? S.length - 1 : 0),
                  l(e, x) && u(t.TEXTURE_CUBE_MAP, e, y.width, y.height),
                  (f.__version = e.version),
                  e.onUpdate && e.onUpdate(e);
              } else
                i.activeTexture(t.TEXTURE0 + p),
                  i.bindTexture(
                    t.TEXTURE_CUBE_MAP,
                    f.__image__webglTextureCube
                  );
          }),
          (this.setTextureCubeDynamic = function (e, r) {
            i.activeTexture(t.TEXTURE0 + r),
              i.bindTexture(t.TEXTURE_CUBE_MAP, n.get(e).__webglTexture);
          }),
          (this.setupRenderTarget = function (e) {
            var r = n.get(e),
              s = n.get(e.texture);
            e.addEventListener("dispose", f),
              (s.__webglTexture = t.createTexture()),
              o.memory.textures++;
            var a = !0 === e.isWebGLRenderTargetCube,
              c = h(e);
            if (a) {
              r.__webglFramebuffer = [];
              for (var p = 0; 6 > p; p++)
                r.__webglFramebuffer[p] = t.createFramebuffer();
            } else r.__webglFramebuffer = t.createFramebuffer();
            if (a) {
              for (
                i.bindTexture(t.TEXTURE_CUBE_MAP, s.__webglTexture),
                  _(t.TEXTURE_CUBE_MAP, e.texture, c),
                  p = 0;
                6 > p;
                p++
              )
                v(
                  r.__webglFramebuffer[p],
                  e,
                  t.COLOR_ATTACHMENT0,
                  t.TEXTURE_CUBE_MAP_POSITIVE_X + p
                );
              l(e.texture, c) &&
                u(t.TEXTURE_CUBE_MAP, e.texture, e.width, e.height),
                i.bindTexture(t.TEXTURE_CUBE_MAP, null);
            } else
              i.bindTexture(t.TEXTURE_2D, s.__webglTexture),
                _(t.TEXTURE_2D, e.texture, c),
                v(r.__webglFramebuffer, e, t.COLOR_ATTACHMENT0, t.TEXTURE_2D),
                l(e.texture, c) &&
                  u(t.TEXTURE_2D, e.texture, e.width, e.height),
                i.bindTexture(t.TEXTURE_2D, null);
            if (e.depthBuffer) {
              if (
                ((r = n.get(e)),
                (s = !0 === e.isWebGLRenderTargetCube),
                e.depthTexture)
              ) {
                if (s)
                  throw Error(
                    "target.depthTexture not supported in Cube render targets"
                  );
                if (e && e.isWebGLRenderTargetCube)
                  throw Error(
                    "Depth Texture with cube render targets is not supported"
                  );
                if (
                  (t.bindFramebuffer(t.FRAMEBUFFER, r.__webglFramebuffer),
                  !e.depthTexture || !e.depthTexture.isDepthTexture)
                )
                  throw Error(
                    "renderTarget.depthTexture must be an instance of THREE.DepthTexture"
                  );
                if (
                  ((n.get(e.depthTexture).__webglTexture &&
                    e.depthTexture.image.width === e.width &&
                    e.depthTexture.image.height === e.height) ||
                    ((e.depthTexture.image.width = e.width),
                    (e.depthTexture.image.height = e.height),
                    (e.depthTexture.needsUpdate = !0)),
                  m(e.depthTexture, 0),
                  (r = n.get(e.depthTexture).__webglTexture),
                  1026 === e.depthTexture.format)
                )
                  t.framebufferTexture2D(
                    t.FRAMEBUFFER,
                    t.DEPTH_ATTACHMENT,
                    t.TEXTURE_2D,
                    r,
                    0
                  );
                else {
                  if (1027 !== e.depthTexture.format)
                    throw Error("Unknown depthTexture format");
                  t.framebufferTexture2D(
                    t.FRAMEBUFFER,
                    t.DEPTH_STENCIL_ATTACHMENT,
                    t.TEXTURE_2D,
                    r,
                    0
                  );
                }
              } else if (s)
                for (r.__webglDepthbuffer = [], s = 0; 6 > s; s++)
                  t.bindFramebuffer(t.FRAMEBUFFER, r.__webglFramebuffer[s]),
                    (r.__webglDepthbuffer[s] = t.createRenderbuffer()),
                    y(r.__webglDepthbuffer[s], e);
              else
                t.bindFramebuffer(t.FRAMEBUFFER, r.__webglFramebuffer),
                  (r.__webglDepthbuffer = t.createRenderbuffer()),
                  y(r.__webglDepthbuffer, e);
              t.bindFramebuffer(t.FRAMEBUFFER, null);
            }
          }),
          (this.updateRenderTargetMipmap = function (e) {
            var r = e.texture,
              s = h(e);
            if (l(r, s)) {
              s = e.isWebGLRenderTargetCube ? t.TEXTURE_CUBE_MAP : t.TEXTURE_2D;
              var o = n.get(r).__webglTexture;
              i.bindTexture(s, o),
                u(s, r, e.width, e.height),
                i.bindTexture(s, null);
            }
          });
      }
      function me(t, e, i) {
        return {
          convert: function (n) {
            if (1e3 === n) return t.REPEAT;
            if (1001 === n) return t.CLAMP_TO_EDGE;
            if (1002 === n) return t.MIRRORED_REPEAT;
            if (1003 === n) return t.NEAREST;
            if (1004 === n) return t.NEAREST_MIPMAP_NEAREST;
            if (1005 === n) return t.NEAREST_MIPMAP_LINEAR;
            if (1006 === n) return t.LINEAR;
            if (1007 === n) return t.LINEAR_MIPMAP_NEAREST;
            if (1008 === n) return t.LINEAR_MIPMAP_LINEAR;
            if (1009 === n) return t.UNSIGNED_BYTE;
            if (1017 === n) return t.UNSIGNED_SHORT_4_4_4_4;
            if (1018 === n) return t.UNSIGNED_SHORT_5_5_5_1;
            if (1019 === n) return t.UNSIGNED_SHORT_5_6_5;
            if (1010 === n) return t.BYTE;
            if (1011 === n) return t.SHORT;
            if (1012 === n) return t.UNSIGNED_SHORT;
            if (1013 === n) return t.INT;
            if (1014 === n) return t.UNSIGNED_INT;
            if (1015 === n) return t.FLOAT;
            if (1016 === n) {
              if (i.isWebGL2) return t.HALF_FLOAT;
              var r = e.get("OES_texture_half_float");
              if (null !== r) return r.HALF_FLOAT_OES;
            }
            if (1021 === n) return t.ALPHA;
            if (1022 === n) return t.RGB;
            if (1023 === n) return t.RGBA;
            if (1024 === n) return t.LUMINANCE;
            if (1025 === n) return t.LUMINANCE_ALPHA;
            if (1026 === n) return t.DEPTH_COMPONENT;
            if (1027 === n) return t.DEPTH_STENCIL;
            if (1028 === n) return t.RED;
            if (100 === n) return t.FUNC_ADD;
            if (101 === n) return t.FUNC_SUBTRACT;
            if (102 === n) return t.FUNC_REVERSE_SUBTRACT;
            if (200 === n) return t.ZERO;
            if (201 === n) return t.ONE;
            if (202 === n) return t.SRC_COLOR;
            if (203 === n) return t.ONE_MINUS_SRC_COLOR;
            if (204 === n) return t.SRC_ALPHA;
            if (205 === n) return t.ONE_MINUS_SRC_ALPHA;
            if (206 === n) return t.DST_ALPHA;
            if (207 === n) return t.ONE_MINUS_DST_ALPHA;
            if (208 === n) return t.DST_COLOR;
            if (209 === n) return t.ONE_MINUS_DST_COLOR;
            if (210 === n) return t.SRC_ALPHA_SATURATE;
            if (
              (33776 === n || 33777 === n || 33778 === n || 33779 === n) &&
              ((r = e.get("WEBGL_compressed_texture_s3tc")), null !== r)
            ) {
              if (33776 === n) return r.COMPRESSED_RGB_S3TC_DXT1_EXT;
              if (33777 === n) return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;
              if (33778 === n) return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;
              if (33779 === n) return r.COMPRESSED_RGBA_S3TC_DXT5_EXT;
            }
            if (
              (35840 === n || 35841 === n || 35842 === n || 35843 === n) &&
              ((r = e.get("WEBGL_compressed_texture_pvrtc")), null !== r)
            ) {
              if (35840 === n) return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;
              if (35841 === n) return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;
              if (35842 === n) return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;
              if (35843 === n) return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;
            }
            if (
              36196 === n &&
              ((r = e.get("WEBGL_compressed_texture_etc1")), null !== r)
            )
              return r.COMPRESSED_RGB_ETC1_WEBGL;
            if (
              (37808 === n ||
                37809 === n ||
                37810 === n ||
                37811 === n ||
                37812 === n ||
                37813 === n ||
                37814 === n ||
                37815 === n ||
                37816 === n ||
                37817 === n ||
                37818 === n ||
                37819 === n ||
                37820 === n ||
                37821 === n) &&
              ((r = e.get("WEBGL_compressed_texture_astc")), null !== r)
            )
              return n;
            if (103 === n || 104 === n) {
              if (i.isWebGL2) {
                if (103 === n) return t.MIN;
                if (104 === n) return t.MAX;
              }
              if (((r = e.get("EXT_blend_minmax")), null !== r)) {
                if (103 === n) return r.MIN_EXT;
                if (104 === n) return r.MAX_EXT;
              }
            }
            if (1020 === n) {
              if (i.isWebGL2) return t.UNSIGNED_INT_24_8;
              if (((r = e.get("WEBGL_depth_texture")), null !== r))
                return r.UNSIGNED_INT_24_8_WEBGL;
            }
            return 0;
          },
        };
      }
      function _e() {
        b.call(this), (this.type = "Group");
      }
      function ge() {
        b.call(this),
          (this.type = "Camera"),
          (this.matrixWorldInverse = new n()),
          (this.projectionMatrix = new n()),
          (this.projectionMatrixInverse = new n());
      }
      function ve(t, e, i, n) {
        ge.call(this),
          (this.type = "PerspectiveCamera"),
          (this.fov = void 0 !== t ? t : 50),
          (this.zoom = 1),
          (this.near = void 0 !== i ? i : 0.1),
          (this.far = void 0 !== n ? n : 2e3),
          (this.focus = 10),
          (this.aspect = void 0 !== e ? e : 1),
          (this.view = null),
          (this.filmGauge = 35),
          (this.filmOffset = 0),
          this.updateProjectionMatrix();
      }
      function ye(t) {
        ve.call(this), (this.cameras = t || []);
      }
      function xe(t) {
        function e() {
          return null !== a && !0 === a.isPresenting;
        }
        function i() {
          if (e()) {
            var i = a.getEyeParameters("left"),
              n = i.renderWidth;
            (i = i.renderHeight),
              (T = t.getPixelRatio()),
              (b = t.getSize()),
              t.setDrawingBufferSize(2 * n, i, 1),
              S.start();
          } else o.enabled && t.setDrawingBufferSize(b.width, b.height, T), S.stop();
        }
        var o = this,
          a = null,
          l = null,
          u = null,
          c = [],
          p = new n(),
          d = new n(),
          f = "stage";
        "undefined" != typeof window &&
          "VRFrameData" in window &&
          ((l = new window.VRFrameData()),
          window.addEventListener("vrdisplaypresentchange", i, !1));
        var m = new n(),
          _ = new r(),
          v = new s(),
          y = new ve();
        (y.bounds = new h(0, 0, 0.5, 1)), y.layers.enable(1);
        var x = new ve();
        (x.bounds = new h(0.5, 0, 0.5, 1)), x.layers.enable(2);
        var w = new ye([y, x]);
        w.layers.enable(1), w.layers.enable(2);
        var b,
          T,
          E = [];
        (this.enabled = !1),
          (this.getController = function (t) {
            var e = c[t];
            return (
              void 0 === e &&
                ((e = new _e()),
                (e.matrixAutoUpdate = !1),
                (e.visible = !1),
                (c[t] = e)),
              e
            );
          }),
          (this.getDevice = function () {
            return a;
          }),
          (this.setDevice = function (t) {
            void 0 !== t && (a = t), S.setContext(t);
          }),
          (this.setFrameOfReferenceType = function (t) {
            f = t;
          }),
          (this.setPoseTarget = function (t) {
            void 0 !== t && (u = t);
          }),
          (this.getCamera = function (t) {
            var e = "stage" === f ? 1.6 : 0;
            if (null === a) return t.position.set(0, e, 0), t;
            if (
              ((a.depthNear = t.near),
              (a.depthFar = t.far),
              a.getFrameData(l),
              "stage" === f)
            ) {
              var i = a.stageParameters;
              i
                ? p.fromArray(i.sittingToStandingTransform)
                : p.makeTranslation(0, e, 0);
            }
            if (
              ((e = l.pose),
              (i = null !== u ? u : t),
              i.matrix.copy(p),
              i.matrix.decompose(i.position, i.quaternion, i.scale),
              null !== e.orientation &&
                (_.fromArray(e.orientation), i.quaternion.multiply(_)),
              null !== e.position &&
                (_.setFromRotationMatrix(p),
                v.fromArray(e.position),
                v.applyQuaternion(_),
                i.position.add(v)),
              i.updateMatrixWorld(),
              !1 === a.isPresenting)
            )
              return t;
            (y.near = t.near),
              (x.near = t.near),
              (y.far = t.far),
              (x.far = t.far),
              w.matrixWorld.copy(t.matrixWorld),
              w.matrixWorldInverse.copy(t.matrixWorldInverse),
              y.matrixWorldInverse.fromArray(l.leftViewMatrix),
              x.matrixWorldInverse.fromArray(l.rightViewMatrix),
              d.getInverse(p),
              "stage" === f &&
                (y.matrixWorldInverse.multiply(d),
                x.matrixWorldInverse.multiply(d)),
              (t = i.parent),
              null !== t &&
                (m.getInverse(t.matrixWorld),
                y.matrixWorldInverse.multiply(m),
                x.matrixWorldInverse.multiply(m)),
              y.matrixWorld.getInverse(y.matrixWorldInverse),
              x.matrixWorld.getInverse(x.matrixWorldInverse),
              y.projectionMatrix.fromArray(l.leftProjectionMatrix),
              x.projectionMatrix.fromArray(l.rightProjectionMatrix),
              w.projectionMatrix.copy(y.projectionMatrix),
              (t = a.getLayers()),
              t.length &&
                ((t = t[0]),
                null !== t.leftBounds &&
                  4 === t.leftBounds.length &&
                  y.bounds.fromArray(t.leftBounds),
                null !== t.rightBounds &&
                  4 === t.rightBounds.length &&
                  x.bounds.fromArray(t.rightBounds));
            t: for (t = 0; t < c.length; t++) {
              e = c[t];
              e: {
                i = t;
                for (
                  var n = navigator.getGamepads && navigator.getGamepads(),
                    r = 0,
                    s = 0,
                    o = n.length;
                  r < o;
                  r++
                ) {
                  var h = n[r];
                  if (
                    h &&
                    ("Daydream Controller" === h.id ||
                      "Gear VR Controller" === h.id ||
                      "Oculus Go Controller" === h.id ||
                      "OpenVR Gamepad" === h.id ||
                      h.id.startsWith("Oculus Touch") ||
                      h.id.startsWith("Spatial Controller"))
                  ) {
                    if (s === i) {
                      i = h;
                      break e;
                    }
                    s++;
                  }
                }
                i = void 0;
              }
              if (void 0 !== i && void 0 !== i.pose) {
                if (null === i.pose) break t;
                (n = i.pose),
                  !1 === n.hasPosition && e.position.set(0.2, -0.6, -0.05),
                  null !== n.position && e.position.fromArray(n.position),
                  null !== n.orientation &&
                    e.quaternion.fromArray(n.orientation),
                  e.matrix.compose(e.position, e.quaternion, e.scale),
                  e.matrix.premultiply(p),
                  e.matrix.decompose(e.position, e.quaternion, e.scale),
                  (e.matrixWorldNeedsUpdate = !0),
                  (e.visible = !0),
                  (n = "Daydream Controller" === i.id ? 0 : 1),
                  E[t] !== i.buttons[n].pressed &&
                    ((E[t] = i.buttons[n].pressed),
                    !0 === E[t]
                      ? e.dispatchEvent({ type: "selectstart" })
                      : (e.dispatchEvent({ type: "selectend" }),
                        e.dispatchEvent({ type: "select" })));
              } else e.visible = !1;
            }
            return w;
          }),
          (this.getStandingMatrix = function () {
            return p;
          }),
          (this.isPresenting = e);
        var S = new g();
        (this.setAnimationLoop = function (t) {
          S.setAnimationLoop(t);
        }),
          (this.submitFrame = function () {
            e() && a.submitFrame();
          }),
          (this.dispose = function () {
            "undefined" != typeof window &&
              window.removeEventListener("vrdisplaypresentchange", i);
          });
      }
      function we(t) {
        function e() {
          return null !== a && null !== l;
        }
        function i(t) {
          var e = p[d.indexOf(t.inputSource)];
          e && e.dispatchEvent({ type: t.type });
        }
        function n() {
          t.setFramebuffer(null), y.stop();
        }
        function r(t, e) {
          null === e
            ? t.matrixWorld.copy(t.matrix)
            : t.matrixWorld.multiplyMatrices(e.matrixWorld, t.matrix),
            t.matrixWorldInverse.getInverse(t.matrixWorld);
        }
        var s = t.context,
          o = null,
          a = null,
          l = null,
          u = "stage",
          c = null,
          p = [],
          d = [],
          f = new ve();
        f.layers.enable(1), (f.viewport = new h());
        var m = new ve();
        m.layers.enable(2), (m.viewport = new h());
        var _ = new ye([f, m]);
        _.layers.enable(1),
          _.layers.enable(2),
          (this.enabled = !1),
          (this.getController = function (t) {
            var e = p[t];
            return (
              void 0 === e &&
                ((e = new _e()),
                (e.matrixAutoUpdate = !1),
                (e.visible = !1),
                (p[t] = e)),
              e
            );
          }),
          (this.getDevice = function () {
            return o;
          }),
          (this.setDevice = function (t) {
            void 0 !== t && (o = t),
              t instanceof XRDevice && s.setCompatibleXRDevice(t);
          }),
          (this.setFrameOfReferenceType = function (t) {
            u = t;
          }),
          (this.setSession = function (e) {
            (a = e),
              null !== a &&
                (a.addEventListener("select", i),
                a.addEventListener("selectstart", i),
                a.addEventListener("selectend", i),
                a.addEventListener("end", n),
                (a.baseLayer = new XRWebGLLayer(a, s)),
                a.requestFrameOfReference(u).then(function (e) {
                  (l = e),
                    t.setFramebuffer(a.baseLayer.framebuffer),
                    y.setContext(a),
                    y.start();
                }),
                (d = a.getInputSources()),
                a.addEventListener("inputsourceschange", function () {
                  (d = a.getInputSources()), console.log(d);
                }));
          }),
          (this.getCamera = function (t) {
            if (e()) {
              var i = t.parent,
                n = _.cameras;
              r(_, i);
              for (var s = 0; s < n.length; s++) r(n[s], i);
              for (
                t.matrixWorld.copy(_.matrixWorld),
                  t = t.children,
                  s = 0,
                  i = t.length;
                s < i;
                s++
              )
                t[s].updateMatrixWorld(!0);
              return _;
            }
            return t;
          }),
          (this.isPresenting = e);
        var v = null,
          y = new g();
        y.setAnimationLoop(function (t, e) {
          if (((c = e.getDevicePose(l)), null !== c))
            for (var i = a.baseLayer, n = e.views, r = 0; r < n.length; r++) {
              var s = n[r],
                o = i.getViewport(s),
                h = c.getViewMatrix(s),
                u = _.cameras[r];
              u.matrix.fromArray(h).getInverse(u.matrix),
                u.projectionMatrix.fromArray(s.projectionMatrix),
                u.viewport.set(o.x, o.y, o.width, o.height),
                0 === r &&
                  (_.matrix.copy(u.matrix),
                  _.projectionMatrix.copy(u.projectionMatrix));
            }
          for (r = 0; r < p.length; r++)
            (i = p[r]),
              (n = d[r]) && ((n = e.getInputPose(n, l)), null !== n)
                ? ("targetRay" in n
                    ? (i.matrix.elements = n.targetRay.transformMatrix)
                    : "pointerMatrix" in n &&
                      (i.matrix.elements = n.pointerMatrix),
                  i.matrix.decompose(i.position, i.rotation, i.scale),
                  (i.visible = !0))
                : (i.visible = !1);
          v && v(t);
        }),
          (this.setAnimationLoop = function (t) {
            v = t;
          }),
          (this.dispose = function () {}),
          (this.getStandingMatrix = function () {
            return (
              console.warn(
                "THREE.WebXRManager: getStandingMatrix() is no longer needed."
              ),
              new THREE.Matrix4()
            );
          }),
          (this.submitFrame = function () {});
      }
      function be(t) {
        function e() {
          (gt = new J(_t)),
            (vt = new Z(_t, gt, t)),
            vt.isWebGL2 ||
              (gt.get("WEBGL_depth_texture"),
              gt.get("OES_texture_float"),
              gt.get("OES_texture_half_float"),
              gt.get("OES_texture_half_float_linear"),
              gt.get("OES_standard_derivatives"),
              gt.get("OES_element_index_uint"),
              gt.get("ANGLE_instanced_arrays")),
            gt.get("OES_texture_float_linear"),
            (Ot = new me(_t, gt, vt)),
            (yt = new de(_t, gt, Ot, vt)),
            yt.scissor(W.copy(ht).multiplyScalar(ot)),
            yt.viewport(j.copy(at).multiplyScalar(ot)),
            (xt = new tt(_t)),
            (wt = new ee()),
            (bt = new fe(_t, gt, yt, wt, vt, Ot, xt)),
            (Tt = new v(_t)),
            (Et = new Q(_t, Tt, xt)),
            (St = new nt(Et, xt)),
            (Rt = new it(_t)),
            (Mt = new te(D, gt, vt)),
            (Ct = new se()),
            (Pt = new le()),
            (At = new q(D, yt, St, A)),
            (Lt = new Y(_t, gt, xt, vt)),
            (It = new K(_t, gt, xt, vt)),
            (xt.programs = Mt.programs),
            (D.context = _t),
            (D.capabilities = vt),
            (D.extensions = gt),
            (D.properties = wt),
            (D.renderLists = Ct),
            (D.state = yt),
            (D.info = xt);
        }
        function i(t) {
          t.preventDefault(),
            console.log("THREE.WebGLRenderer: Context Lost."),
            (k = !0);
        }
        function r() {
          console.log("THREE.WebGLRenderer: Context Restored."), (k = !1), e();
        }
        function o(t) {
          (t = t.target),
            t.removeEventListener("dispose", o),
            a(t),
            wt.remove(t);
        }
        function a(t) {
          var e = wt.get(t).program;
          (t.program = void 0), void 0 !== e && Mt.releaseProgram(e);
        }
        function l(t, e) {
          t.render(function (t) {
            D.renderBufferImmediate(t, e);
          });
        }
        function u(t, e, i) {
          if (!1 !== t.visible) {
            if (t.layers.test(e.layers))
              if (t.isLight) O.pushLight(t), t.castShadow && O.pushShadow(t);
              else if (t.isSprite) {
                if (!t.frustumCulled || ut.intersectsSprite(t)) {
                  i && mt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(ft);
                  var n = St.update(t),
                    r = t.material;
                  I.push(t, n, r, mt.z, null);
                }
              } else if (t.isImmediateRenderObject)
                i && mt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(ft),
                  I.push(t, null, t.material, mt.z, null);
              else if (
                (t.isMesh || t.isLine || t.isPoints) &&
                (t.isSkinnedMesh && t.skeleton.update(),
                !t.frustumCulled || ut.intersectsObject(t))
              )
                if (
                  (i &&
                    mt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(ft),
                  (n = St.update(t)),
                  (r = t.material),
                  Array.isArray(r))
                )
                  for (var s = n.groups, o = 0, a = s.length; o < a; o++) {
                    var h = s[o],
                      l = r[h.materialIndex];
                    l && l.visible && I.push(t, n, l, mt.z, h);
                  }
                else r.visible && I.push(t, n, r, mt.z, null);
            for (t = t.children, o = 0, a = t.length; o < a; o++) u(t[o], e, i);
          }
        }
        function p(t, e, i, n) {
          for (var r = 0, s = t.length; r < s; r++) {
            var o = t[r],
              a = o.object,
              h = o.geometry,
              l = void 0 === n ? o.material : n;
            if (((o = o.group), i.isArrayCamera)) {
              V = i;
              for (var u = i.cameras, c = 0, p = u.length; c < p; c++) {
                var f = u[c];
                if (a.layers.test(f.layers)) {
                  if ("viewport" in f) yt.viewport(j.copy(f.viewport));
                  else {
                    var m = f.bounds;
                    yt.viewport(
                      j
                        .set(m.x * rt, m.y * st, m.z * rt, m.w * st)
                        .multiplyScalar(ot)
                    );
                  }
                  O.setupLights(f), d(a, e, f, h, l, o);
                }
              }
            } else (V = null), d(a, e, i, h, l, o);
          }
        }
        function d(t, e, i, n, r, s) {
          if (
            (t.onBeforeRender(D, e, i, n, r, s),
            (O = Pt.get(e, V || i)),
            t.modelViewMatrix.multiplyMatrices(
              i.matrixWorldInverse,
              t.matrixWorld
            ),
            t.normalMatrix.getNormalMatrix(t.modelViewMatrix),
            t.isImmediateRenderObject)
          ) {
            yt.setMaterial(r);
            var o = _(i, e.fog, r, t);
            (B = b = null), (U = !1), l(t, o);
          } else D.renderBufferDirect(i, e.fog, n, r, t, s);
          t.onAfterRender(D, e, i, n, r, s), (O = Pt.get(e, V || i));
        }
        function f(t, e, i) {
          var n = wt.get(t),
            r = O.state.lights,
            s = n.lightsHash,
            h = r.state.hash;
          i = Mt.getParameters(
            t,
            r.state,
            O.state.shadowsArray,
            e,
            ct.numPlanes,
            ct.numIntersection,
            i
          );
          var l = Mt.getProgramCode(t, i),
            u = n.program,
            c = !0;
          if (void 0 === u) t.addEventListener("dispose", o);
          else if (u.code !== l) a(t);
          else {
            if (
              s.stateID !== h.stateID ||
              s.directionalLength !== h.directionalLength ||
              s.pointLength !== h.pointLength ||
              s.spotLength !== h.spotLength ||
              s.rectAreaLength !== h.rectAreaLength ||
              s.hemiLength !== h.hemiLength ||
              s.shadowsLength !== h.shadowsLength
            )
              (s.stateID = h.stateID),
                (s.directionalLength = h.directionalLength),
                (s.pointLength = h.pointLength),
                (s.spotLength = h.spotLength),
                (s.rectAreaLength = h.rectAreaLength),
                (s.hemiLength = h.hemiLength),
                (s.shadowsLength = h.shadowsLength);
            else if (void 0 !== i.shaderID) return;
            c = !1;
          }
          if (
            (c &&
              (i.shaderID
                ? ((l = us[i.shaderID]),
                  (n.shader = {
                    name: t.type,
                    uniforms: as.clone(l.uniforms),
                    vertexShader: l.vertexShader,
                    fragmentShader: l.fragmentShader,
                  }))
                : (n.shader = {
                    name: t.type,
                    uniforms: t.uniforms,
                    vertexShader: t.vertexShader,
                    fragmentShader: t.fragmentShader,
                  }),
              t.onBeforeCompile(n.shader, D),
              (l = Mt.getProgramCode(t, i)),
              (u = Mt.acquireProgram(t, n.shader, i, l)),
              (n.program = u),
              (t.program = u)),
            (i = u.getAttributes()),
            t.morphTargets)
          )
            for (l = t.numSupportedMorphTargets = 0; l < D.maxMorphTargets; l++)
              0 <= i["morphTarget" + l] && t.numSupportedMorphTargets++;
          if (t.morphNormals)
            for (l = t.numSupportedMorphNormals = 0; l < D.maxMorphNormals; l++)
              0 <= i["morphNormal" + l] && t.numSupportedMorphNormals++;
          (i = n.shader.uniforms),
            ((t.isShaderMaterial || t.isRawShaderMaterial) &&
              !0 !== t.clipping) ||
              ((n.numClippingPlanes = ct.numPlanes),
              (n.numIntersection = ct.numIntersection),
              (i.clippingPlanes = ct.uniform)),
            (n.fog = e),
            void 0 === s && (n.lightsHash = s = {}),
            (s.stateID = h.stateID),
            (s.directionalLength = h.directionalLength),
            (s.pointLength = h.pointLength),
            (s.spotLength = h.spotLength),
            (s.rectAreaLength = h.rectAreaLength),
            (s.hemiLength = h.hemiLength),
            (s.shadowsLength = h.shadowsLength),
            t.lights &&
              ((i.ambientLightColor.value = r.state.ambient),
              (i.directionalLights.value = r.state.directional),
              (i.spotLights.value = r.state.spot),
              (i.rectAreaLights.value = r.state.rectArea),
              (i.pointLights.value = r.state.point),
              (i.hemisphereLights.value = r.state.hemi),
              (i.directionalShadowMap.value = r.state.directionalShadowMap),
              (i.directionalShadowMatrix.value =
                r.state.directionalShadowMatrix),
              (i.spotShadowMap.value = r.state.spotShadowMap),
              (i.spotShadowMatrix.value = r.state.spotShadowMatrix),
              (i.pointShadowMap.value = r.state.pointShadowMap),
              (i.pointShadowMatrix.value = r.state.pointShadowMatrix)),
            (t = n.program.getUniforms()),
            (t = Ht.seqWithValue(t.seq, i)),
            (n.uniformsList = t);
        }
        function _(t, e, i, n) {
          et = 0;
          var r = wt.get(i),
            s = r.lightsHash,
            o = O.state.lights.state.hash;
          pt &&
            (dt || t !== G) &&
            ct.setState(
              i.clippingPlanes,
              i.clipIntersection,
              i.clipShadows,
              t,
              r,
              t === G && i.id === H
            ),
            !1 === i.needsUpdate &&
              (void 0 === r.program
                ? (i.needsUpdate = !0)
                : i.fog && r.fog !== e
                ? (i.needsUpdate = !0)
                : !i.lights ||
                  (s.stateID === o.stateID &&
                    s.directionalLength === o.directionalLength &&
                    s.pointLength === o.pointLength &&
                    s.spotLength === o.spotLength &&
                    s.rectAreaLength === o.rectAreaLength &&
                    s.hemiLength === o.hemiLength &&
                    s.shadowsLength === o.shadowsLength)
                ? void 0 === r.numClippingPlanes ||
                  (r.numClippingPlanes === ct.numPlanes &&
                    r.numIntersection === ct.numIntersection) ||
                  (i.needsUpdate = !0)
                : (i.needsUpdate = !0)),
            i.needsUpdate && (f(i, e, n), (i.needsUpdate = !1));
          var a = !1,
            h = !1,
            l = !1;
          (s = r.program), (o = s.getUniforms());
          var u = r.shader.uniforms;
          if (
            (yt.useProgram(s.program) && (l = h = a = !0),
            i.id !== H && ((H = i.id), (h = !0)),
            (a || G !== t) &&
              (o.setValue(_t, "projectionMatrix", t.projectionMatrix),
              vt.logarithmicDepthBuffer &&
                o.setValue(
                  _t,
                  "logDepthBufFC",
                  2 / (Math.log(t.far + 1) / Math.LN2)
                ),
              G !== t && ((G = t), (l = h = !0)),
              (i.isShaderMaterial ||
                i.isMeshPhongMaterial ||
                i.isMeshStandardMaterial ||
                i.envMap) &&
                ((a = o.map.cameraPosition),
                void 0 !== a &&
                  a.setValue(_t, mt.setFromMatrixPosition(t.matrixWorld))),
              (i.isMeshPhongMaterial ||
                i.isMeshLambertMaterial ||
                i.isMeshBasicMaterial ||
                i.isMeshStandardMaterial ||
                i.isShaderMaterial ||
                i.skinning) &&
                o.setValue(_t, "viewMatrix", t.matrixWorldInverse)),
            i.skinning &&
              (o.setOptional(_t, n, "bindMatrix"),
              o.setOptional(_t, n, "bindMatrixInverse"),
              (t = n.skeleton)))
          )
            if (((a = t.bones), vt.floatVertexTextures)) {
              if (void 0 === t.boneTexture) {
                (a = Math.sqrt(4 * a.length)),
                  (a = ns.ceilPowerOfTwo(a)),
                  (a = Math.max(a, 4));
                var p = new Float32Array(a * a * 4);
                p.set(t.boneMatrices);
                var d = new c(p, a, a, 1023, 1015);
                (d.needsUpdate = !0),
                  (t.boneMatrices = p),
                  (t.boneTexture = d),
                  (t.boneTextureSize = a);
              }
              o.setValue(_t, "boneTexture", t.boneTexture),
                o.setValue(_t, "boneTextureSize", t.boneTextureSize);
            } else o.setOptional(_t, t, "boneMatrices");
          return (
            h &&
              (o.setValue(_t, "toneMappingExposure", D.toneMappingExposure),
              o.setValue(_t, "toneMappingWhitePoint", D.toneMappingWhitePoint),
              i.lights &&
                ((h = l),
                (u.ambientLightColor.needsUpdate = h),
                (u.directionalLights.needsUpdate = h),
                (u.pointLights.needsUpdate = h),
                (u.spotLights.needsUpdate = h),
                (u.rectAreaLights.needsUpdate = h),
                (u.hemisphereLights.needsUpdate = h)),
              e &&
                i.fog &&
                ((u.fogColor.value = e.color),
                e.isFog
                  ? ((u.fogNear.value = e.near), (u.fogFar.value = e.far))
                  : e.isFogExp2 && (u.fogDensity.value = e.density)),
              i.isMeshBasicMaterial
                ? y(u, i)
                : i.isMeshLambertMaterial
                ? (y(u, i),
                  i.emissiveMap && (u.emissiveMap.value = i.emissiveMap))
                : i.isMeshPhongMaterial
                ? (y(u, i),
                  i.isMeshToonMaterial
                    ? (x(u, i),
                      i.gradientMap && (u.gradientMap.value = i.gradientMap))
                    : x(u, i))
                : i.isMeshStandardMaterial
                ? (y(u, i),
                  i.isMeshPhysicalMaterial
                    ? (w(u, i),
                      (u.reflectivity.value = i.reflectivity),
                      (u.clearCoat.value = i.clearCoat),
                      (u.clearCoatRoughness.value = i.clearCoatRoughness))
                    : w(u, i))
                : i.isMeshMatcapMaterial
                ? (y(u, i),
                  i.matcap && (u.matcap.value = i.matcap),
                  i.bumpMap &&
                    ((u.bumpMap.value = i.bumpMap),
                    (u.bumpScale.value = i.bumpScale),
                    1 === i.side && (u.bumpScale.value *= -1)),
                  i.normalMap &&
                    ((u.normalMap.value = i.normalMap),
                    u.normalScale.value.copy(i.normalScale),
                    1 === i.side && u.normalScale.value.negate()),
                  i.displacementMap &&
                    ((u.displacementMap.value = i.displacementMap),
                    (u.displacementScale.value = i.displacementScale),
                    (u.displacementBias.value = i.displacementBias)))
                : i.isMeshDepthMaterial
                ? (y(u, i),
                  i.displacementMap &&
                    ((u.displacementMap.value = i.displacementMap),
                    (u.displacementScale.value = i.displacementScale),
                    (u.displacementBias.value = i.displacementBias)))
                : i.isMeshDistanceMaterial
                ? (y(u, i),
                  i.displacementMap &&
                    ((u.displacementMap.value = i.displacementMap),
                    (u.displacementScale.value = i.displacementScale),
                    (u.displacementBias.value = i.displacementBias)),
                  u.referencePosition.value.copy(i.referencePosition),
                  (u.nearDistance.value = i.nearDistance),
                  (u.farDistance.value = i.farDistance))
                : i.isMeshNormalMaterial
                ? (y(u, i),
                  i.bumpMap &&
                    ((u.bumpMap.value = i.bumpMap),
                    (u.bumpScale.value = i.bumpScale),
                    1 === i.side && (u.bumpScale.value *= -1)),
                  i.normalMap &&
                    ((u.normalMap.value = i.normalMap),
                    u.normalScale.value.copy(i.normalScale),
                    1 === i.side && u.normalScale.value.negate()),
                  i.displacementMap &&
                    ((u.displacementMap.value = i.displacementMap),
                    (u.displacementScale.value = i.displacementScale),
                    (u.displacementBias.value = i.displacementBias)))
                : i.isLineBasicMaterial
                ? ((u.diffuse.value = i.color),
                  (u.opacity.value = i.opacity),
                  i.isLineDashedMaterial &&
                    ((u.dashSize.value = i.dashSize),
                    (u.totalSize.value = i.dashSize + i.gapSize),
                    (u.scale.value = i.scale)))
                : i.isPointsMaterial
                ? ((u.diffuse.value = i.color),
                  (u.opacity.value = i.opacity),
                  (u.size.value = i.size * ot),
                  (u.scale.value = 0.5 * st),
                  (u.map.value = i.map),
                  null !== i.map &&
                    (!0 === i.map.matrixAutoUpdate && i.map.updateMatrix(),
                    u.uvTransform.value.copy(i.map.matrix)))
                : i.isSpriteMaterial
                ? ((u.diffuse.value = i.color),
                  (u.opacity.value = i.opacity),
                  (u.rotation.value = i.rotation),
                  (u.map.value = i.map),
                  null !== i.map &&
                    (!0 === i.map.matrixAutoUpdate && i.map.updateMatrix(),
                    u.uvTransform.value.copy(i.map.matrix)))
                : i.isShadowMaterial &&
                  ((u.color.value = i.color), (u.opacity.value = i.opacity)),
              void 0 !== u.ltc_1 && (u.ltc_1.value = ls.LTC_1),
              void 0 !== u.ltc_2 && (u.ltc_2.value = ls.LTC_2),
              Ht.upload(_t, r.uniformsList, u, D)),
            i.isShaderMaterial &&
              !0 === i.uniformsNeedUpdate &&
              (Ht.upload(_t, r.uniformsList, u, D),
              (i.uniformsNeedUpdate = !1)),
            i.isSpriteMaterial && o.setValue(_t, "center", n.center),
            o.setValue(_t, "modelViewMatrix", n.modelViewMatrix),
            o.setValue(_t, "normalMatrix", n.normalMatrix),
            o.setValue(_t, "modelMatrix", n.matrixWorld),
            s
          );
        }
        function y(t, e) {
          if (
            ((t.opacity.value = e.opacity),
            e.color && (t.diffuse.value = e.color),
            e.emissive &&
              t.emissive.value
                .copy(e.emissive)
                .multiplyScalar(e.emissiveIntensity),
            e.map && (t.map.value = e.map),
            e.alphaMap && (t.alphaMap.value = e.alphaMap),
            e.specularMap && (t.specularMap.value = e.specularMap),
            e.envMap &&
              ((t.envMap.value = e.envMap),
              (t.flipEnvMap.value =
                e.envMap && e.envMap.isCubeTexture ? -1 : 1),
              (t.reflectivity.value = e.reflectivity),
              (t.refractionRatio.value = e.refractionRatio),
              (t.maxMipLevel.value = wt.get(e.envMap).__maxMipLevel)),
            e.lightMap &&
              ((t.lightMap.value = e.lightMap),
              (t.lightMapIntensity.value = e.lightMapIntensity)),
            e.aoMap &&
              ((t.aoMap.value = e.aoMap),
              (t.aoMapIntensity.value = e.aoMapIntensity)),
            e.map)
          )
            var i = e.map;
          else
            e.specularMap
              ? (i = e.specularMap)
              : e.displacementMap
              ? (i = e.displacementMap)
              : e.normalMap
              ? (i = e.normalMap)
              : e.bumpMap
              ? (i = e.bumpMap)
              : e.roughnessMap
              ? (i = e.roughnessMap)
              : e.metalnessMap
              ? (i = e.metalnessMap)
              : e.alphaMap
              ? (i = e.alphaMap)
              : e.emissiveMap && (i = e.emissiveMap);
          void 0 !== i &&
            (i.isWebGLRenderTarget && (i = i.texture),
            !0 === i.matrixAutoUpdate && i.updateMatrix(),
            t.uvTransform.value.copy(i.matrix));
        }
        function x(t, e) {
          (t.specular.value = e.specular),
            (t.shininess.value = Math.max(e.shininess, 1e-4)),
            e.emissiveMap && (t.emissiveMap.value = e.emissiveMap),
            e.bumpMap &&
              ((t.bumpMap.value = e.bumpMap),
              (t.bumpScale.value = e.bumpScale),
              1 === e.side && (t.bumpScale.value *= -1)),
            e.normalMap &&
              ((t.normalMap.value = e.normalMap),
              t.normalScale.value.copy(e.normalScale),
              1 === e.side && t.normalScale.value.negate()),
            e.displacementMap &&
              ((t.displacementMap.value = e.displacementMap),
              (t.displacementScale.value = e.displacementScale),
              (t.displacementBias.value = e.displacementBias));
        }
        function w(t, e) {
          (t.roughness.value = e.roughness),
            (t.metalness.value = e.metalness),
            e.roughnessMap && (t.roughnessMap.value = e.roughnessMap),
            e.metalnessMap && (t.metalnessMap.value = e.metalnessMap),
            e.emissiveMap && (t.emissiveMap.value = e.emissiveMap),
            e.bumpMap &&
              ((t.bumpMap.value = e.bumpMap),
              (t.bumpScale.value = e.bumpScale),
              1 === e.side && (t.bumpScale.value *= -1)),
            e.normalMap &&
              ((t.normalMap.value = e.normalMap),
              t.normalScale.value.copy(e.normalScale),
              1 === e.side && t.normalScale.value.negate()),
            e.displacementMap &&
              ((t.displacementMap.value = e.displacementMap),
              (t.displacementScale.value = e.displacementScale),
              (t.displacementBias.value = e.displacementBias)),
            e.envMap && (t.envMapIntensity.value = e.envMapIntensity);
        }
        var b;
        console.log("THREE.WebGLRenderer", "97"), (t = t || {});
        var T =
            void 0 !== t.canvas
              ? t.canvas
              : document.createElementNS(
                  "http://www.w3.org/1999/xhtml",
                  "canvas"
                ),
          E = void 0 !== t.context ? t.context : null,
          S = void 0 !== t.alpha && t.alpha,
          M = void 0 === t.depth || t.depth,
          C = void 0 === t.stencil || t.stencil,
          P = void 0 !== t.antialias && t.antialias,
          A = void 0 === t.premultipliedAlpha || t.premultipliedAlpha,
          R = void 0 !== t.preserveDrawingBuffer && t.preserveDrawingBuffer,
          L = void 0 !== t.powerPreference ? t.powerPreference : "default",
          I = null,
          O = null;
        (this.domElement = T),
          (this.context = null),
          (this.sortObjects =
            this.autoClearStencil =
            this.autoClearDepth =
            this.autoClearColor =
            this.autoClear =
              !0),
          (this.clippingPlanes = []),
          (this.localClippingEnabled = !1),
          (this.gammaFactor = 2),
          (this.physicallyCorrectLights =
            this.gammaOutput =
            this.gammaInput =
              !1),
          (this.toneMappingWhitePoint =
            this.toneMappingExposure =
            this.toneMapping =
              1),
          (this.maxMorphTargets = 8),
          (this.maxMorphNormals = 4);
        var D = this,
          k = !1,
          N = null,
          z = null,
          F = null,
          H = -1,
          B = (b = null),
          U = !1,
          G = null,
          V = null,
          j = new h(),
          W = new h(),
          X = null,
          et = 0,
          rt = T.width,
          st = T.height,
          ot = 1,
          at = new h(0, 0, rt, st),
          ht = new h(0, 0, rt, st),
          lt = !1,
          ut = new m(),
          ct = new $(),
          pt = !1,
          dt = !1,
          ft = new n(),
          mt = new s();
        try {
          (S = {
            alpha: S,
            depth: M,
            stencil: C,
            antialias: P,
            premultipliedAlpha: A,
            preserveDrawingBuffer: R,
            powerPreference: L,
          }),
            T.addEventListener("webglcontextlost", i, !1),
            T.addEventListener("webglcontextrestored", r, !1);
          var _t =
            E ||
            T.getContext("webgl", S) ||
            T.getContext("experimental-webgl", S);
          if (null === _t) {
            if (null !== T.getContext("webgl"))
              throw Error(
                "Error creating WebGL context with your selected attributes."
              );
            throw Error("Error creating WebGL context.");
          }
          void 0 === _t.getShaderPrecisionFormat &&
            (_t.getShaderPrecisionFormat = function () {
              return { rangeMin: 1, rangeMax: 1, precision: 1 };
            });
        } catch (t) {
          console.error("THREE.WebGLRenderer: " + t.message);
        }
        var gt, vt, yt, xt, wt, bt, Tt, Et, St, Mt, Ct, Pt, At, Rt, Lt, It, Ot;
        e();
        var Dt = null;
        "undefined" != typeof navigator &&
          (Dt = "xr" in navigator ? new we(D) : new xe(D)),
          (this.vr = Dt);
        var kt = new pe(D, St, vt.maxTextureSize);
        (this.shadowMap = kt),
          (this.getContext = function () {
            return _t;
          }),
          (this.getContextAttributes = function () {
            return _t.getContextAttributes();
          }),
          (this.forceContextLoss = function () {
            var t = gt.get("WEBGL_lose_context");
            t && t.loseContext();
          }),
          (this.forceContextRestore = function () {
            var t = gt.get("WEBGL_lose_context");
            t && t.restoreContext();
          }),
          (this.getPixelRatio = function () {
            return ot;
          }),
          (this.setPixelRatio = function (t) {
            void 0 !== t && ((ot = t), this.setSize(rt, st, !1));
          }),
          (this.getSize = function () {
            return { width: rt, height: st };
          }),
          (this.setSize = function (t, e, i) {
            Dt.isPresenting()
              ? console.warn(
                  "THREE.WebGLRenderer: Can't change size while VR device is presenting."
                )
              : ((rt = t),
                (st = e),
                (T.width = t * ot),
                (T.height = e * ot),
                !1 !== i &&
                  ((T.style.width = t + "px"), (T.style.height = e + "px")),
                this.setViewport(0, 0, t, e));
          }),
          (this.getDrawingBufferSize = function () {
            return { width: rt * ot, height: st * ot };
          }),
          (this.setDrawingBufferSize = function (t, e, i) {
            (rt = t),
              (st = e),
              (ot = i),
              (T.width = t * i),
              (T.height = e * i),
              this.setViewport(0, 0, t, e);
          }),
          (this.getCurrentViewport = function () {
            return j;
          }),
          (this.setViewport = function (t, e, i, n) {
            at.set(t, st - e - n, i, n),
              yt.viewport(j.copy(at).multiplyScalar(ot));
          }),
          (this.setScissor = function (t, e, i, n) {
            ht.set(t, st - e - n, i, n),
              yt.scissor(W.copy(ht).multiplyScalar(ot));
          }),
          (this.setScissorTest = function (t) {
            yt.setScissorTest((lt = t));
          }),
          (this.getClearColor = function () {
            return At.getClearColor();
          }),
          (this.setClearColor = function () {
            At.setClearColor.apply(At, arguments);
          }),
          (this.getClearAlpha = function () {
            return At.getClearAlpha();
          }),
          (this.setClearAlpha = function () {
            At.setClearAlpha.apply(At, arguments);
          }),
          (this.clear = function (t, e, i) {
            var n = 0;
            (void 0 === t || t) && (n |= _t.COLOR_BUFFER_BIT),
              (void 0 === e || e) && (n |= _t.DEPTH_BUFFER_BIT),
              (void 0 === i || i) && (n |= _t.STENCIL_BUFFER_BIT),
              _t.clear(n);
          }),
          (this.clearColor = function () {
            this.clear(!0, !1, !1);
          }),
          (this.clearDepth = function () {
            this.clear(!1, !0, !1);
          }),
          (this.clearStencil = function () {
            this.clear(!1, !1, !0);
          }),
          (this.dispose = function () {
            T.removeEventListener("webglcontextlost", i, !1),
              T.removeEventListener("webglcontextrestored", r, !1),
              Ct.dispose(),
              Pt.dispose(),
              wt.dispose(),
              St.dispose(),
              Dt.dispose(),
              zt.stop();
          }),
          (this.renderBufferImmediate = function (t, e) {
            yt.initAttributes();
            var i = wt.get(t);
            t.hasPositions && !i.position && (i.position = _t.createBuffer()),
              t.hasNormals && !i.normal && (i.normal = _t.createBuffer()),
              t.hasUvs && !i.uv && (i.uv = _t.createBuffer()),
              t.hasColors && !i.color && (i.color = _t.createBuffer()),
              (e = e.getAttributes()),
              t.hasPositions &&
                (_t.bindBuffer(_t.ARRAY_BUFFER, i.position),
                _t.bufferData(
                  _t.ARRAY_BUFFER,
                  t.positionArray,
                  _t.DYNAMIC_DRAW
                ),
                yt.enableAttribute(e.position),
                _t.vertexAttribPointer(e.position, 3, _t.FLOAT, !1, 0, 0)),
              t.hasNormals &&
                (_t.bindBuffer(_t.ARRAY_BUFFER, i.normal),
                _t.bufferData(_t.ARRAY_BUFFER, t.normalArray, _t.DYNAMIC_DRAW),
                yt.enableAttribute(e.normal),
                _t.vertexAttribPointer(e.normal, 3, _t.FLOAT, !1, 0, 0)),
              t.hasUvs &&
                (_t.bindBuffer(_t.ARRAY_BUFFER, i.uv),
                _t.bufferData(_t.ARRAY_BUFFER, t.uvArray, _t.DYNAMIC_DRAW),
                yt.enableAttribute(e.uv),
                _t.vertexAttribPointer(e.uv, 2, _t.FLOAT, !1, 0, 0)),
              t.hasColors &&
                (_t.bindBuffer(_t.ARRAY_BUFFER, i.color),
                _t.bufferData(_t.ARRAY_BUFFER, t.colorArray, _t.DYNAMIC_DRAW),
                yt.enableAttribute(e.color),
                _t.vertexAttribPointer(e.color, 3, _t.FLOAT, !1, 0, 0)),
              yt.disableUnusedAttributes(),
              _t.drawArrays(_t.TRIANGLES, 0, t.count),
              (t.count = 0);
          }),
          (this.renderBufferDirect = function (t, e, i, n, r, s) {
            var o = r.isMesh && 0 > r.normalMatrix.determinant();
            yt.setMaterial(n, o);
            var a = _(t, e, n, r),
              h = !1;
            (b === i.id && B === a.id && U === (!0 === n.wireframe)) ||
              ((b = i.id), (B = a.id), (U = !0 === n.wireframe), (h = !0)),
              r.morphTargetInfluences && (Rt.update(r, i, n, a), (h = !0)),
              (o = i.index);
            var l = i.attributes.position;
            if (
              ((e = 1),
              !0 === n.wireframe &&
                ((o = Et.getWireframeAttribute(i)), (e = 2)),
              (t = Lt),
              null !== o)
            ) {
              var u = Tt.get(o);
              (t = It), t.setIndex(u);
            }
            if (h) {
              if (
                i &&
                i.isInstancedBufferGeometry & !vt.isWebGL2 &&
                null === gt.get("ANGLE_instanced_arrays")
              )
                console.error(
                  "THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays."
                );
              else {
                yt.initAttributes(),
                  (h = i.attributes),
                  (a = a.getAttributes());
                var c = n.defaultAttributeValues;
                for (T in a) {
                  var p = a[T];
                  if (0 <= p) {
                    var d = h[T];
                    if (void 0 !== d) {
                      var f = d.normalized,
                        m = d.itemSize,
                        g = Tt.get(d);
                      if (void 0 !== g) {
                        var v = g.buffer,
                          y = g.type;
                        if (
                          ((g = g.bytesPerElement),
                          d.isInterleavedBufferAttribute)
                        ) {
                          var x = d.data,
                            w = x.stride;
                          (d = d.offset),
                            x && x.isInstancedInterleavedBuffer
                              ? (yt.enableAttributeAndDivisor(
                                  p,
                                  x.meshPerAttribute
                                ),
                                void 0 === i.maxInstancedCount &&
                                  (i.maxInstancedCount =
                                    x.meshPerAttribute * x.count))
                              : yt.enableAttribute(p),
                            _t.bindBuffer(_t.ARRAY_BUFFER, v),
                            _t.vertexAttribPointer(p, m, y, f, w * g, d * g);
                        } else
                          d.isInstancedBufferAttribute
                            ? (yt.enableAttributeAndDivisor(
                                p,
                                d.meshPerAttribute
                              ),
                              void 0 === i.maxInstancedCount &&
                                (i.maxInstancedCount =
                                  d.meshPerAttribute * d.count))
                            : yt.enableAttribute(p),
                            _t.bindBuffer(_t.ARRAY_BUFFER, v),
                            _t.vertexAttribPointer(p, m, y, f, 0, 0);
                      }
                    } else if (void 0 !== c && ((f = c[T]), void 0 !== f))
                      switch (f.length) {
                        case 2:
                          _t.vertexAttrib2fv(p, f);
                          break;
                        case 3:
                          _t.vertexAttrib3fv(p, f);
                          break;
                        case 4:
                          _t.vertexAttrib4fv(p, f);
                          break;
                        default:
                          _t.vertexAttrib1fv(p, f);
                      }
                  }
                }
                yt.disableUnusedAttributes();
              }
              null !== o && _t.bindBuffer(_t.ELEMENT_ARRAY_BUFFER, u.buffer);
            }
            (u = 1 / 0),
              null !== o ? (u = o.count) : void 0 !== l && (u = l.count),
              (o = i.drawRange.start * e),
              (l = null !== s ? s.start * e : 0);
            var T = Math.max(o, l);
            if (
              ((s = Math.max(
                0,
                Math.min(
                  u,
                  o + i.drawRange.count * e,
                  l + (null !== s ? s.count * e : 1 / 0)
                ) -
                  1 -
                  T +
                  1
              )),
              0 !== s)
            ) {
              if (r.isMesh)
                if (!0 === n.wireframe)
                  yt.setLineWidth(n.wireframeLinewidth * (null === z ? ot : 1)),
                    t.setMode(_t.LINES);
                else
                  switch (r.drawMode) {
                    case 0:
                      t.setMode(_t.TRIANGLES);
                      break;
                    case 1:
                      t.setMode(_t.TRIANGLE_STRIP);
                      break;
                    case 2:
                      t.setMode(_t.TRIANGLE_FAN);
                  }
              else
                r.isLine
                  ? ((n = n.linewidth),
                    void 0 === n && (n = 1),
                    yt.setLineWidth(n * (null === z ? ot : 1)),
                    r.isLineSegments
                      ? t.setMode(_t.LINES)
                      : r.isLineLoop
                      ? t.setMode(_t.LINE_LOOP)
                      : t.setMode(_t.LINE_STRIP))
                  : r.isPoints
                  ? t.setMode(_t.POINTS)
                  : r.isSprite && t.setMode(_t.TRIANGLES);
              i && i.isInstancedBufferGeometry
                ? 0 < i.maxInstancedCount && t.renderInstances(i, T, s)
                : t.render(T, s);
            }
          }),
          (this.compile = function (t, e) {
            (O = Pt.get(t, e)),
              O.init(),
              t.traverse(function (t) {
                t.isLight && (O.pushLight(t), t.castShadow && O.pushShadow(t));
              }),
              O.setupLights(e),
              t.traverse(function (e) {
                if (e.material)
                  if (Array.isArray(e.material))
                    for (var i = 0; i < e.material.length; i++)
                      f(e.material[i], t.fog, e);
                  else f(e.material, t.fog, e);
              });
          });
        var Nt = null,
          zt = new g();
        zt.setAnimationLoop(function (t) {
          Dt.isPresenting() || (Nt && Nt(t));
        }),
          "undefined" != typeof window && zt.setContext(window),
          (this.setAnimationLoop = function (t) {
            (Nt = t), Dt.setAnimationLoop(t), zt.start();
          }),
          (this.render = function (t, e, i, n) {
            if (e && e.isCamera) {
              if (!k) {
                (B = b = null),
                  (U = !1),
                  (H = -1),
                  (G = null),
                  !0 === t.autoUpdate && t.updateMatrixWorld(),
                  null === e.parent && e.updateMatrixWorld(),
                  Dt.enabled && (e = Dt.getCamera(e)),
                  (O = Pt.get(t, e)),
                  O.init(),
                  t.onBeforeRender(D, t, e, i),
                  ft.multiplyMatrices(e.projectionMatrix, e.matrixWorldInverse),
                  ut.setFromMatrix(ft),
                  (dt = this.localClippingEnabled),
                  (pt = ct.init(this.clippingPlanes, dt, e)),
                  (I = Ct.get(t, e)),
                  I.init(),
                  u(t, e, D.sortObjects),
                  !0 === D.sortObjects && I.sort(),
                  pt && ct.beginShadows(),
                  kt.render(O.state.shadowsArray, t, e),
                  O.setupLights(e),
                  pt && ct.endShadows(),
                  this.info.autoReset && this.info.reset(),
                  void 0 === i && (i = null),
                  this.setRenderTarget(i),
                  At.render(I, t, e, n),
                  (n = I.opaque);
                var r = I.transparent;
                if (t.overrideMaterial) {
                  var s = t.overrideMaterial;
                  n.length && p(n, t, e, s), r.length && p(r, t, e, s);
                } else n.length && p(n, t, e), r.length && p(r, t, e);
                i && bt.updateRenderTargetMipmap(i),
                  yt.buffers.depth.setTest(!0),
                  yt.buffers.depth.setMask(!0),
                  yt.buffers.color.setMask(!0),
                  yt.setPolygonOffset(!1),
                  t.onAfterRender(D, t, e),
                  Dt.enabled && Dt.submitFrame(),
                  (O = I = null);
              }
            } else
              console.error(
                "THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera."
              );
          }),
          (this.allocTextureUnit = function () {
            var t = et;
            return (
              t >= vt.maxTextures &&
                console.warn(
                  "THREE.WebGLRenderer: Trying to use " +
                    t +
                    " texture units while this GPU supports only " +
                    vt.maxTextures
                ),
              (et += 1),
              t
            );
          }),
          (this.setTexture2D = (function () {
            var t = !1;
            return function (e, i) {
              e &&
                e.isWebGLRenderTarget &&
                (t ||
                  (console.warn(
                    "THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."
                  ),
                  (t = !0)),
                (e = e.texture)),
                bt.setTexture2D(e, i);
            };
          })()),
          (this.setTexture3D = (function () {
            return function (t, e) {
              bt.setTexture3D(t, e);
            };
          })()),
          (this.setTexture = (function () {
            var t = !1;
            return function (e, i) {
              t ||
                (console.warn(
                  "THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."
                ),
                (t = !0)),
                bt.setTexture2D(e, i);
            };
          })()),
          (this.setTextureCube = (function () {
            var t = !1;
            return function (e, i) {
              e &&
                e.isWebGLRenderTargetCube &&
                (t ||
                  (console.warn(
                    "THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."
                  ),
                  (t = !0)),
                (e = e.texture)),
                (e && e.isCubeTexture) ||
                (Array.isArray(e.image) && 6 === e.image.length)
                  ? bt.setTextureCube(e, i)
                  : bt.setTextureCubeDynamic(e, i);
            };
          })()),
          (this.setFramebuffer = function (t) {
            N = t;
          }),
          (this.getRenderTarget = function () {
            return z;
          }),
          (this.setRenderTarget = function (t) {
            (z = t) &&
              void 0 === wt.get(t).__webglFramebuffer &&
              bt.setupRenderTarget(t);
            var e = N,
              i = !1;
            t
              ? ((e = wt.get(t).__webglFramebuffer),
                t.isWebGLRenderTargetCube &&
                  ((e = e[t.activeCubeFace]), (i = !0)),
                j.copy(t.viewport),
                W.copy(t.scissor),
                (X = t.scissorTest))
              : (j.copy(at).multiplyScalar(ot),
                W.copy(ht).multiplyScalar(ot),
                (X = lt)),
              F !== e && (_t.bindFramebuffer(_t.FRAMEBUFFER, e), (F = e)),
              yt.viewport(j),
              yt.scissor(W),
              yt.setScissorTest(X),
              i &&
                ((i = wt.get(t.texture)),
                _t.framebufferTexture2D(
                  _t.FRAMEBUFFER,
                  _t.COLOR_ATTACHMENT0,
                  _t.TEXTURE_CUBE_MAP_POSITIVE_X + t.activeCubeFace,
                  i.__webglTexture,
                  t.activeMipMapLevel
                ));
          }),
          (this.readRenderTargetPixels = function (t, e, i, n, r, s) {
            if (t && t.isWebGLRenderTarget) {
              var o = wt.get(t).__webglFramebuffer;
              if (o) {
                var a = !1;
                o !== F && (_t.bindFramebuffer(_t.FRAMEBUFFER, o), (a = !0));
                try {
                  var h = t.texture,
                    l = h.format,
                    u = h.type;
                  1023 !== l &&
                  Ot.convert(l) !==
                    _t.getParameter(_t.IMPLEMENTATION_COLOR_READ_FORMAT)
                    ? console.error(
                        "THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."
                      )
                    : 1009 === u ||
                      Ot.convert(u) ===
                        _t.getParameter(_t.IMPLEMENTATION_COLOR_READ_TYPE) ||
                      (1015 === u &&
                        (vt.isWebGL2 ||
                          gt.get("OES_texture_float") ||
                          gt.get("WEBGL_color_buffer_float"))) ||
                      (1016 === u &&
                        (vt.isWebGL2
                          ? gt.get("EXT_color_buffer_float")
                          : gt.get("EXT_color_buffer_half_float")))
                    ? _t.checkFramebufferStatus(_t.FRAMEBUFFER) ===
                      _t.FRAMEBUFFER_COMPLETE
                      ? 0 <= e &&
                        e <= t.width - n &&
                        0 <= i &&
                        i <= t.height - r &&
                        _t.readPixels(
                          e,
                          i,
                          n,
                          r,
                          Ot.convert(l),
                          Ot.convert(u),
                          s
                        )
                      : console.error(
                          "THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."
                        )
                    : console.error(
                        "THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type."
                      );
                } finally {
                  a && _t.bindFramebuffer(_t.FRAMEBUFFER, F);
                }
              }
            } else
              console.error(
                "THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget."
              );
          }),
          (this.copyFramebufferToTexture = function (t, e, i) {
            var n = e.image.width,
              r = e.image.height,
              s = Ot.convert(e.format);
            this.setTexture2D(e, 0),
              _t.copyTexImage2D(_t.TEXTURE_2D, i || 0, s, t.x, t.y, n, r, 0);
          }),
          (this.copyTextureToTexture = function (t, e, i, n) {
            var r = e.image.width,
              s = e.image.height,
              o = Ot.convert(i.format),
              a = Ot.convert(i.type);
            this.setTexture2D(i, 0),
              e.isDataTexture
                ? _t.texSubImage2D(
                    _t.TEXTURE_2D,
                    n || 0,
                    t.x,
                    t.y,
                    r,
                    s,
                    o,
                    a,
                    e.image.data
                  )
                : _t.texSubImage2D(
                    _t.TEXTURE_2D,
                    n || 0,
                    t.x,
                    t.y,
                    o,
                    a,
                    e.image
                  );
          });
      }
      function Te(t, e) {
        (this.name = ""),
          (this.color = new _(t)),
          (this.density = void 0 !== e ? e : 25e-5);
      }
      function Ee(t, e, i) {
        (this.name = ""),
          (this.color = new _(t)),
          (this.near = void 0 !== e ? e : 1),
          (this.far = void 0 !== i ? i : 1e3);
      }
      function Se() {
        b.call(this),
          (this.type = "Scene"),
          (this.overrideMaterial = this.fog = this.background = null),
          (this.autoUpdate = !0);
      }
      function Me(t, e) {
        (this.array = t),
          (this.stride = e),
          (this.count = void 0 !== t ? t.length / e : 0),
          (this.dynamic = !1),
          (this.updateRange = { offset: 0, count: -1 }),
          (this.version = 0);
      }
      function Ce(t, e, i, n) {
        (this.data = t),
          (this.itemSize = e),
          (this.offset = i),
          (this.normalized = !0 === n);
      }
      function Pe(t) {
        U.call(this),
          (this.type = "SpriteMaterial"),
          (this.color = new _(16777215)),
          (this.map = null),
          (this.rotation = 0),
          (this.sizeAttenuation = !0),
          (this.lights = !1),
          (this.transparent = !0),
          this.setValues(t);
      }
      function Ae(t) {
        if ((b.call(this), (this.type = "Sprite"), void 0 === Ms)) {
          Ms = new N();
          var e = new Float32Array([
            -0.5, -0.5, 0, 0, 0, 0.5, -0.5, 0, 1, 0, 0.5, 0.5, 0, 1, 1, -0.5,
            0.5, 0, 0, 1,
          ]);
          (e = new Me(e, 5)),
            Ms.setIndex([0, 1, 2, 0, 2, 3]),
            Ms.addAttribute("position", new Ce(e, 3, 0, !1)),
            Ms.addAttribute("uv", new Ce(e, 2, 3, !1));
        }
        (this.geometry = Ms),
          (this.material = void 0 !== t ? t : new Pe()),
          (this.center = new i(0.5, 0.5));
      }
      function Re() {
        b.call(this),
          (this.type = "LOD"),
          Object.defineProperties(this, {
            levels: { enumerable: !0, value: [] },
          });
      }
      function Le(t, e) {
        if (
          ((t = t || []),
          (this.bones = t.slice(0)),
          (this.boneMatrices = new Float32Array(16 * this.bones.length)),
          void 0 === e)
        )
          this.calculateInverses();
        else if (this.bones.length === e.length) this.boneInverses = e.slice(0);
        else
          for (
            console.warn("THREE.Skeleton boneInverses is the wrong length."),
              this.boneInverses = [],
              t = 0,
              e = this.bones.length;
            t < e;
            t++
          )
            this.boneInverses.push(new n());
      }
      function Ie() {
        b.call(this), (this.type = "Bone");
      }
      function Oe(t, e) {
        X.call(this, t, e),
          (this.type = "SkinnedMesh"),
          (this.bindMode = "attached"),
          (this.bindMatrix = new n()),
          (this.bindMatrixInverse = new n()),
          (t = this.initBones()),
          (t = new Le(t)),
          this.bind(t, this.matrixWorld),
          this.normalizeSkinWeights();
      }
      function De(t) {
        U.call(this),
          (this.type = "LineBasicMaterial"),
          (this.color = new _(16777215)),
          (this.linewidth = 1),
          (this.linejoin = this.linecap = "round"),
          (this.lights = !1),
          this.setValues(t);
      }
      function ke(t, e, i) {
        1 === i &&
          console.error(
            "THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."
          ),
          b.call(this),
          (this.type = "Line"),
          (this.geometry = void 0 !== t ? t : new N()),
          (this.material =
            void 0 !== e ? e : new De({ color: 16777215 * Math.random() }));
      }
      function Ne(t, e) {
        ke.call(this, t, e), (this.type = "LineSegments");
      }
      function ze(t, e) {
        ke.call(this, t, e), (this.type = "LineLoop");
      }
      function Fe(t) {
        U.call(this),
          (this.type = "PointsMaterial"),
          (this.color = new _(16777215)),
          (this.map = null),
          (this.size = 1),
          (this.sizeAttenuation = !0),
          (this.lights = this.morphTargets = !1),
          this.setValues(t);
      }
      function He(t, e) {
        b.call(this),
          (this.type = "Points"),
          (this.geometry = void 0 !== t ? t : new N()),
          (this.material =
            void 0 !== e ? e : new Fe({ color: 16777215 * Math.random() }));
      }
      function Be(t, e, i, n, r, s, o, h, l) {
        a.call(this, t, e, i, n, r, s, o, h, l), (this.generateMipmaps = !1);
      }
      function Ue(t, e, i, n, r, s, o, h, l, u, c, p) {
        a.call(this, null, s, o, h, l, u, n, r, c, p),
          (this.image = { width: e, height: i }),
          (this.mipmaps = t),
          (this.generateMipmaps = this.flipY = !1);
      }
      function Ge(t, e, i, n, r, s, o, h, l) {
        a.call(this, t, e, i, n, r, s, o, h, l), (this.needsUpdate = !0);
      }
      function Ve(t, e, i, n, r, s, o, h, l, u) {
        if (((u = void 0 !== u ? u : 1026), 1026 !== u && 1027 !== u))
          throw Error(
            "DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat"
          );
        void 0 === i && 1026 === u && (i = 1012),
          void 0 === i && 1027 === u && (i = 1020),
          a.call(this, null, n, r, s, o, h, u, i, l),
          (this.image = { width: t, height: e }),
          (this.magFilter = void 0 !== o ? o : 1003),
          (this.minFilter = void 0 !== h ? h : 1003),
          (this.generateMipmaps = this.flipY = !1);
      }
      function je(t) {
        N.call(this), (this.type = "WireframeGeometry");
        var e,
          i,
          n,
          r = [],
          o = [0, 0],
          a = {},
          h = ["a", "b", "c"];
        if (t && t.isGeometry) {
          var l = t.faces,
            u = 0;
          for (i = l.length; u < i; u++) {
            var c = l[u];
            for (e = 0; 3 > e; e++) {
              var p = c[h[e]],
                d = c[h[(e + 1) % 3]];
              (o[0] = Math.min(p, d)),
                (o[1] = Math.max(p, d)),
                (p = o[0] + "," + o[1]),
                void 0 === a[p] && (a[p] = { index1: o[0], index2: o[1] });
            }
          }
          for (p in a)
            (u = a[p]),
              (h = t.vertices[u.index1]),
              r.push(h.x, h.y, h.z),
              (h = t.vertices[u.index2]),
              r.push(h.x, h.y, h.z);
        } else if (t && t.isBufferGeometry)
          if (((h = new s()), null !== t.index)) {
            (l = t.attributes.position), (c = t.index);
            var f = t.groups;
            for (
              0 === f.length &&
                (f = [{ start: 0, count: c.count, materialIndex: 0 }]),
                t = 0,
                n = f.length;
              t < n;
              ++t
            )
              for (
                u = f[t], e = u.start, i = u.count, u = e, i = e + i;
                u < i;
                u += 3
              )
                for (e = 0; 3 > e; e++)
                  (p = c.getX(u + e)),
                    (d = c.getX(u + ((e + 1) % 3))),
                    (o[0] = Math.min(p, d)),
                    (o[1] = Math.max(p, d)),
                    (p = o[0] + "," + o[1]),
                    void 0 === a[p] && (a[p] = { index1: o[0], index2: o[1] });
            for (p in a)
              (u = a[p]),
                h.fromBufferAttribute(l, u.index1),
                r.push(h.x, h.y, h.z),
                h.fromBufferAttribute(l, u.index2),
                r.push(h.x, h.y, h.z);
          } else
            for (l = t.attributes.position, u = 0, i = l.count / 3; u < i; u++)
              for (e = 0; 3 > e; e++)
                (a = 3 * u + e),
                  h.fromBufferAttribute(l, a),
                  r.push(h.x, h.y, h.z),
                  (a = 3 * u + ((e + 1) % 3)),
                  h.fromBufferAttribute(l, a),
                  r.push(h.x, h.y, h.z);
        this.addAttribute("position", new I(r, 3));
      }
      function We(t, e, i) {
        T.call(this),
          (this.type = "ParametricGeometry"),
          (this.parameters = { func: t, slices: e, stacks: i }),
          this.fromBufferGeometry(new Xe(t, e, i)),
          this.mergeVertices();
      }
      function Xe(t, e, i) {
        N.call(this),
          (this.type = "ParametricBufferGeometry"),
          (this.parameters = { func: t, slices: e, stacks: i });
        var n,
          r,
          o = [],
          a = [],
          h = [],
          l = [],
          u = new s(),
          c = new s(),
          p = new s(),
          d = new s(),
          f = new s();
        3 > t.length &&
          console.error(
            "THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter."
          );
        var m = e + 1;
        for (n = 0; n <= i; n++) {
          var _ = n / i;
          for (r = 0; r <= e; r++) {
            var g = r / e;
            t(g, _, c),
              a.push(c.x, c.y, c.z),
              0 <= g - 1e-5
                ? (t(g - 1e-5, _, p), d.subVectors(c, p))
                : (t(g + 1e-5, _, p), d.subVectors(p, c)),
              0 <= _ - 1e-5
                ? (t(g, _ - 1e-5, p), f.subVectors(c, p))
                : (t(g, _ + 1e-5, p), f.subVectors(p, c)),
              u.crossVectors(d, f).normalize(),
              h.push(u.x, u.y, u.z),
              l.push(g, _);
          }
        }
        for (n = 0; n < i; n++)
          for (r = 0; r < e; r++)
            (t = n * m + r + 1),
              (u = (n + 1) * m + r + 1),
              (c = (n + 1) * m + r),
              o.push(n * m + r, t, c),
              o.push(t, u, c);
        this.setIndex(o),
          this.addAttribute("position", new I(a, 3)),
          this.addAttribute("normal", new I(h, 3)),
          this.addAttribute("uv", new I(l, 2));
      }
      function qe(t, e, i, n) {
        T.call(this),
          (this.type = "PolyhedronGeometry"),
          (this.parameters = { vertices: t, indices: e, radius: i, detail: n }),
          this.fromBufferGeometry(new Ye(t, e, i, n)),
          this.mergeVertices();
      }
      function Ye(t, e, n, r) {
        function o(t) {
          l.push(t.x, t.y, t.z);
        }
        function a(e, i) {
          (e *= 3), (i.x = t[e + 0]), (i.y = t[e + 1]), (i.z = t[e + 2]);
        }
        function h(t, e, i, n) {
          0 > n && 1 === t.x && (u[e] = t.x - 1),
            0 === i.x && 0 === i.z && (u[e] = n / 2 / Math.PI + 0.5);
        }
        N.call(this),
          (this.type = "PolyhedronBufferGeometry"),
          (this.parameters = { vertices: t, indices: e, radius: n, detail: r }),
          (n = n || 1),
          (r = r || 0);
        var l = [],
          u = [];
        !(function (t) {
          for (
            var i = new s(), n = new s(), r = new s(), h = 0;
            h < e.length;
            h += 3
          ) {
            a(e[h + 0], i), a(e[h + 1], n), a(e[h + 2], r);
            var l,
              u,
              c = i,
              p = n,
              d = r,
              f = Math.pow(2, t),
              m = [];
            for (u = 0; u <= f; u++) {
              m[u] = [];
              var _ = c.clone().lerp(d, u / f),
                g = p.clone().lerp(d, u / f),
                v = f - u;
              for (l = 0; l <= v; l++)
                m[u][l] = 0 === l && u === f ? _ : _.clone().lerp(g, l / v);
            }
            for (u = 0; u < f; u++)
              for (l = 0; l < 2 * (f - u) - 1; l++)
                (c = Math.floor(l / 2)),
                  0 === l % 2
                    ? (o(m[u][c + 1]), o(m[u + 1][c]), o(m[u][c]))
                    : (o(m[u][c + 1]), o(m[u + 1][c + 1]), o(m[u + 1][c]));
          }
        })(r),
          (function (t) {
            for (var e = new s(), i = 0; i < l.length; i += 3)
              (e.x = l[i + 0]),
                (e.y = l[i + 1]),
                (e.z = l[i + 2]),
                e.normalize().multiplyScalar(t),
                (l[i + 0] = e.x),
                (l[i + 1] = e.y),
                (l[i + 2] = e.z);
          })(n),
          (function () {
            for (var t = new s(), e = 0; e < l.length; e += 3)
              (t.x = l[e + 0]),
                (t.y = l[e + 1]),
                (t.z = l[e + 2]),
                u.push(
                  Math.atan2(t.z, -t.x) / 2 / Math.PI + 0.5,
                  1 -
                    (Math.atan2(-t.y, Math.sqrt(t.x * t.x + t.z * t.z)) /
                      Math.PI +
                      0.5)
                );
            (t = new s()), (e = new s());
            for (
              var n = new s(),
                r = new s(),
                o = new i(),
                a = new i(),
                c = new i(),
                p = 0,
                d = 0;
              p < l.length;
              p += 9, d += 6
            ) {
              t.set(l[p + 0], l[p + 1], l[p + 2]),
                e.set(l[p + 3], l[p + 4], l[p + 5]),
                n.set(l[p + 6], l[p + 7], l[p + 8]),
                o.set(u[d + 0], u[d + 1]),
                a.set(u[d + 2], u[d + 3]),
                c.set(u[d + 4], u[d + 5]),
                r.copy(t).add(e).add(n).divideScalar(3);
              var f = Math.atan2(r.z, -r.x);
              h(o, d + 0, t, f), h(a, d + 2, e, f), h(c, d + 4, n, f);
            }
            for (t = 0; t < u.length; t += 6)
              (e = u[t + 0]),
                (n = u[t + 2]),
                (r = u[t + 4]),
                (o = Math.min(e, n, r)),
                0.9 < Math.max(e, n, r) &&
                  0.1 > o &&
                  (0.2 > e && (u[t + 0] += 1),
                  0.2 > n && (u[t + 2] += 1),
                  0.2 > r && (u[t + 4] += 1));
          })(),
          this.addAttribute("position", new I(l, 3)),
          this.addAttribute("normal", new I(l.slice(), 3)),
          this.addAttribute("uv", new I(u, 2)),
          0 === r ? this.computeVertexNormals() : this.normalizeNormals();
      }
      function Ze(t, e) {
        T.call(this),
          (this.type = "TetrahedronGeometry"),
          (this.parameters = { radius: t, detail: e }),
          this.fromBufferGeometry(new $e(t, e)),
          this.mergeVertices();
      }
      function $e(t, e) {
        Ye.call(
          this,
          [1, 1, 1, -1, -1, 1, -1, 1, -1, 1, -1, -1],
          [2, 1, 0, 0, 3, 2, 1, 3, 0, 2, 3, 1],
          t,
          e
        ),
          (this.type = "TetrahedronBufferGeometry"),
          (this.parameters = { radius: t, detail: e });
      }
      function Je(t, e) {
        T.call(this),
          (this.type = "OctahedronGeometry"),
          (this.parameters = { radius: t, detail: e }),
          this.fromBufferGeometry(new Qe(t, e)),
          this.mergeVertices();
      }
      function Qe(t, e) {
        Ye.call(
          this,
          [1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1],
          [
            0, 2, 4, 0, 4, 3, 0, 3, 5, 0, 5, 2, 1, 2, 5, 1, 5, 3, 1, 3, 4, 1, 4,
            2,
          ],
          t,
          e
        ),
          (this.type = "OctahedronBufferGeometry"),
          (this.parameters = { radius: t, detail: e });
      }
      function Ke(t, e) {
        T.call(this),
          (this.type = "IcosahedronGeometry"),
          (this.parameters = { radius: t, detail: e }),
          this.fromBufferGeometry(new ti(t, e)),
          this.mergeVertices();
      }
      function ti(t, e) {
        var i = (1 + Math.sqrt(5)) / 2;
        Ye.call(
          this,
          [
            -1,
            i,
            0,
            1,
            i,
            0,
            -1,
            -i,
            0,
            1,
            -i,
            0,
            0,
            -1,
            i,
            0,
            1,
            i,
            0,
            -1,
            -i,
            0,
            1,
            -i,
            i,
            0,
            -1,
            i,
            0,
            1,
            -i,
            0,
            -1,
            -i,
            0,
            1,
          ],
          [
            0, 11, 5, 0, 5, 1, 0, 1, 7, 0, 7, 10, 0, 10, 11, 1, 5, 9, 5, 11, 4,
            11, 10, 2, 10, 7, 6, 7, 1, 8, 3, 9, 4, 3, 4, 2, 3, 2, 6, 3, 6, 8, 3,
            8, 9, 4, 9, 5, 2, 4, 11, 6, 2, 10, 8, 6, 7, 9, 8, 1,
          ],
          t,
          e
        ),
          (this.type = "IcosahedronBufferGeometry"),
          (this.parameters = { radius: t, detail: e });
      }
      function ei(t, e) {
        T.call(this),
          (this.type = "DodecahedronGeometry"),
          (this.parameters = { radius: t, detail: e }),
          this.fromBufferGeometry(new ii(t, e)),
          this.mergeVertices();
      }
      function ii(t, e) {
        var i = (1 + Math.sqrt(5)) / 2,
          n = 1 / i;
        Ye.call(
          this,
          [
            -1,
            -1,
            -1,
            -1,
            -1,
            1,
            -1,
            1,
            -1,
            -1,
            1,
            1,
            1,
            -1,
            -1,
            1,
            -1,
            1,
            1,
            1,
            -1,
            1,
            1,
            1,
            0,
            -n,
            -i,
            0,
            -n,
            i,
            0,
            n,
            -i,
            0,
            n,
            i,
            -n,
            -i,
            0,
            -n,
            i,
            0,
            n,
            -i,
            0,
            n,
            i,
            0,
            -i,
            0,
            -n,
            i,
            0,
            -n,
            -i,
            0,
            n,
            i,
            0,
            n,
          ],
          [
            3, 11, 7, 3, 7, 15, 3, 15, 13, 7, 19, 17, 7, 17, 6, 7, 6, 15, 17, 4,
            8, 17, 8, 10, 17, 10, 6, 8, 0, 16, 8, 16, 2, 8, 2, 10, 0, 12, 1, 0,
            1, 18, 0, 18, 16, 6, 10, 2, 6, 2, 13, 6, 13, 15, 2, 16, 18, 2, 18,
            3, 2, 3, 13, 18, 1, 9, 18, 9, 11, 18, 11, 3, 4, 14, 12, 4, 12, 0, 4,
            0, 8, 11, 9, 5, 11, 5, 19, 11, 19, 7, 19, 5, 14, 19, 14, 4, 19, 4,
            17, 1, 12, 14, 1, 14, 5, 1, 5, 9,
          ],
          t,
          e
        ),
          (this.type = "DodecahedronBufferGeometry"),
          (this.parameters = { radius: t, detail: e });
      }
      function ni(t, e, i, n, r, s) {
        T.call(this),
          (this.type = "TubeGeometry"),
          (this.parameters = {
            path: t,
            tubularSegments: e,
            radius: i,
            radialSegments: n,
            closed: r,
          }),
          void 0 !== s &&
            console.warn("THREE.TubeGeometry: taper has been removed."),
          (t = new ri(t, e, i, n, r)),
          (this.tangents = t.tangents),
          (this.normals = t.normals),
          (this.binormals = t.binormals),
          this.fromBufferGeometry(t),
          this.mergeVertices();
      }
      function ri(t, e, n, r, o) {
        function a(i) {
          f = t.getPointAt(i / e, f);
          var s = h.normals[i];
          for (i = h.binormals[i], u = 0; u <= r; u++) {
            var o = (u / r) * Math.PI * 2,
              a = Math.sin(o);
            (o = -Math.cos(o)),
              (p.x = o * s.x + a * i.x),
              (p.y = o * s.y + a * i.y),
              (p.z = o * s.z + a * i.z),
              p.normalize(),
              _.push(p.x, p.y, p.z),
              (c.x = f.x + n * p.x),
              (c.y = f.y + n * p.y),
              (c.z = f.z + n * p.z),
              m.push(c.x, c.y, c.z);
          }
        }
        N.call(this),
          (this.type = "TubeBufferGeometry"),
          (this.parameters = {
            path: t,
            tubularSegments: e,
            radius: n,
            radialSegments: r,
            closed: o,
          }),
          (e = e || 64),
          (n = n || 1),
          (r = r || 8),
          (o = o || !1);
        var h = t.computeFrenetFrames(e, o);
        (this.tangents = h.tangents),
          (this.normals = h.normals),
          (this.binormals = h.binormals);
        var l,
          u,
          c = new s(),
          p = new s(),
          d = new i(),
          f = new s(),
          m = [],
          _ = [],
          g = [],
          v = [];
        for (l = 0; l < e; l++) a(l);
        for (a(!1 === o ? e : 0), l = 0; l <= e; l++)
          for (u = 0; u <= r; u++)
            (d.x = l / e), (d.y = u / r), g.push(d.x, d.y);
        !(function () {
          for (u = 1; u <= e; u++)
            for (l = 1; l <= r; l++) {
              var t = (r + 1) * u + (l - 1),
                i = (r + 1) * u + l,
                n = (r + 1) * (u - 1) + l;
              v.push((r + 1) * (u - 1) + (l - 1), t, n), v.push(t, i, n);
            }
        })(),
          this.setIndex(v),
          this.addAttribute("position", new I(m, 3)),
          this.addAttribute("normal", new I(_, 3)),
          this.addAttribute("uv", new I(g, 2));
      }
      function si(t, e, i, n, r, s, o) {
        T.call(this),
          (this.type = "TorusKnotGeometry"),
          (this.parameters = {
            radius: t,
            tube: e,
            tubularSegments: i,
            radialSegments: n,
            p: r,
            q: s,
          }),
          void 0 !== o &&
            console.warn(
              "THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."
            ),
          this.fromBufferGeometry(new oi(t, e, i, n, r, s)),
          this.mergeVertices();
      }
      function oi(t, e, i, n, r, o) {
        function a(t, e, i, n, r) {
          var s = Math.sin(t);
          (e = (i / e) * t),
            (i = Math.cos(e)),
            (r.x = n * (2 + i) * 0.5 * Math.cos(t)),
            (r.y = n * (2 + i) * s * 0.5),
            (r.z = n * Math.sin(e) * 0.5);
        }
        N.call(this),
          (this.type = "TorusKnotBufferGeometry"),
          (this.parameters = {
            radius: t,
            tube: e,
            tubularSegments: i,
            radialSegments: n,
            p: r,
            q: o,
          }),
          (t = t || 1),
          (e = e || 0.4),
          (i = Math.floor(i) || 64),
          (n = Math.floor(n) || 8),
          (r = r || 2),
          (o = o || 3);
        var h,
          l = [],
          u = [],
          c = [],
          p = [],
          d = new s(),
          f = new s(),
          m = new s(),
          _ = new s(),
          g = new s(),
          v = new s(),
          y = new s();
        for (h = 0; h <= i; ++h) {
          var x = (h / i) * r * Math.PI * 2;
          for (
            a(x, r, o, t, m),
              a(x + 0.01, r, o, t, _),
              v.subVectors(_, m),
              y.addVectors(_, m),
              g.crossVectors(v, y),
              y.crossVectors(g, v),
              g.normalize(),
              y.normalize(),
              x = 0;
            x <= n;
            ++x
          ) {
            var w = (x / n) * Math.PI * 2,
              b = -e * Math.cos(w);
            (w = e * Math.sin(w)),
              (d.x = m.x + (b * y.x + w * g.x)),
              (d.y = m.y + (b * y.y + w * g.y)),
              (d.z = m.z + (b * y.z + w * g.z)),
              u.push(d.x, d.y, d.z),
              f.subVectors(d, m).normalize(),
              c.push(f.x, f.y, f.z),
              p.push(h / i),
              p.push(x / n);
          }
        }
        for (x = 1; x <= i; x++)
          for (h = 1; h <= n; h++)
            (t = (n + 1) * x + (h - 1)),
              (e = (n + 1) * x + h),
              (r = (n + 1) * (x - 1) + h),
              l.push((n + 1) * (x - 1) + (h - 1), t, r),
              l.push(t, e, r);
        this.setIndex(l),
          this.addAttribute("position", new I(u, 3)),
          this.addAttribute("normal", new I(c, 3)),
          this.addAttribute("uv", new I(p, 2));
      }
      function ai(t, e, i, n, r) {
        T.call(this),
          (this.type = "TorusGeometry"),
          (this.parameters = {
            radius: t,
            tube: e,
            radialSegments: i,
            tubularSegments: n,
            arc: r,
          }),
          this.fromBufferGeometry(new hi(t, e, i, n, r)),
          this.mergeVertices();
      }
      function hi(t, e, i, n, r) {
        N.call(this),
          (this.type = "TorusBufferGeometry"),
          (this.parameters = {
            radius: t,
            tube: e,
            radialSegments: i,
            tubularSegments: n,
            arc: r,
          }),
          (t = t || 1),
          (e = e || 0.4),
          (i = Math.floor(i) || 8),
          (n = Math.floor(n) || 6),
          (r = r || 2 * Math.PI);
        var o,
          a,
          h = [],
          l = [],
          u = [],
          c = [],
          p = new s(),
          d = new s(),
          f = new s();
        for (o = 0; o <= i; o++)
          for (a = 0; a <= n; a++) {
            var m = (a / n) * r,
              _ = (o / i) * Math.PI * 2;
            (d.x = (t + e * Math.cos(_)) * Math.cos(m)),
              (d.y = (t + e * Math.cos(_)) * Math.sin(m)),
              (d.z = e * Math.sin(_)),
              l.push(d.x, d.y, d.z),
              (p.x = t * Math.cos(m)),
              (p.y = t * Math.sin(m)),
              f.subVectors(d, p).normalize(),
              u.push(f.x, f.y, f.z),
              c.push(a / n),
              c.push(o / i);
          }
        for (o = 1; o <= i; o++)
          for (a = 1; a <= n; a++)
            (t = (n + 1) * (o - 1) + a - 1),
              (e = (n + 1) * (o - 1) + a),
              (r = (n + 1) * o + a),
              h.push((n + 1) * o + a - 1, t, r),
              h.push(t, e, r);
        this.setIndex(h),
          this.addAttribute("position", new I(l, 3)),
          this.addAttribute("normal", new I(u, 3)),
          this.addAttribute("uv", new I(c, 2));
      }
      function li(t, e, i, n, r) {
        for (var s, o = 0, a = e, h = i - n; a < i; a += n)
          (o += (t[h] - t[a]) * (t[a + 1] + t[h + 1])), (h = a);
        if (r === 0 < o)
          for (r = e; r < i; r += n) s = bi(r, t[r], t[r + 1], s);
        else for (r = i - n; r >= e; r -= n) s = bi(r, t[r], t[r + 1], s);
        return s && vi(s, s.next) && (Ti(s), (s = s.next)), s;
      }
      function ui(t, e) {
        if (!t) return t;
        e || (e = t);
        do {
          var i = !1;
          if (t.steiner || (!vi(t, t.next) && 0 !== gi(t.prev, t, t.next)))
            t = t.next;
          else {
            if ((Ti(t), (t = e = t.prev), t === t.next)) break;
            i = !0;
          }
        } while (i || t !== e);
        return e;
      }
      function ci(t, e, i, n, r, s, o) {
        if (t) {
          if (!o && s) {
            var a = t,
              h = a;
            do
              null === h.z && (h.z = fi(h.x, h.y, n, r, s)),
                (h.prevZ = h.prev),
                (h = h.nextZ = h.next);
            while (h !== a);
            (h.prevZ.nextZ = null), (h.prevZ = null), (a = h);
            var l,
              u,
              c,
              p,
              d = 1;
            do {
              h = a;
              var f = (a = null);
              for (u = 0; h; ) {
                u++;
                var m = h;
                for (l = c = 0; l < d && (c++, (m = m.nextZ)); l++);
                for (p = d; 0 < c || (0 < p && m); )
                  0 !== c && (0 === p || !m || h.z <= m.z)
                    ? ((l = h), (h = h.nextZ), c--)
                    : ((l = m), (m = m.nextZ), p--),
                    f ? (f.nextZ = l) : (a = l),
                    (l.prevZ = f),
                    (f = l);
                h = m;
              }
              (f.nextZ = null), (d *= 2);
            } while (1 < u);
          }
          for (a = t; t.prev !== t.next; ) {
            if (((h = t.prev), (m = t.next), s))
              t: {
                (f = t), (p = n);
                var _ = r,
                  g = s;
                if (((u = f.prev), (c = f), (d = f.next), 0 <= gi(u, c, d)))
                  f = !1;
                else {
                  var v =
                      u.x > c.x
                        ? u.x > d.x
                          ? u.x
                          : d.x
                        : c.x > d.x
                        ? c.x
                        : d.x,
                    y =
                      u.y > c.y
                        ? u.y > d.y
                          ? u.y
                          : d.y
                        : c.y > d.y
                        ? c.y
                        : d.y;
                  for (
                    l = fi(
                      u.x < c.x
                        ? u.x < d.x
                          ? u.x
                          : d.x
                        : c.x < d.x
                        ? c.x
                        : d.x,
                      u.y < c.y
                        ? u.y < d.y
                          ? u.y
                          : d.y
                        : c.y < d.y
                        ? c.y
                        : d.y,
                      p,
                      _,
                      g
                    ),
                      p = fi(v, y, p, _, g),
                      _ = f.nextZ;
                    _ && _.z <= p;

                  ) {
                    if (
                      _ !== f.prev &&
                      _ !== f.next &&
                      _i(u.x, u.y, c.x, c.y, d.x, d.y, _.x, _.y) &&
                      0 <= gi(_.prev, _, _.next)
                    ) {
                      f = !1;
                      break t;
                    }
                    _ = _.nextZ;
                  }
                  for (_ = f.prevZ; _ && _.z >= l; ) {
                    if (
                      _ !== f.prev &&
                      _ !== f.next &&
                      _i(u.x, u.y, c.x, c.y, d.x, d.y, _.x, _.y) &&
                      0 <= gi(_.prev, _, _.next)
                    ) {
                      f = !1;
                      break t;
                    }
                    _ = _.prevZ;
                  }
                  f = !0;
                }
              }
            else
              t: if (
                ((f = t), (u = f.prev), (c = f), (d = f.next), 0 <= gi(u, c, d))
              )
                f = !1;
              else {
                for (l = f.next.next; l !== f.prev; ) {
                  if (
                    _i(u.x, u.y, c.x, c.y, d.x, d.y, l.x, l.y) &&
                    0 <= gi(l.prev, l, l.next)
                  ) {
                    f = !1;
                    break t;
                  }
                  l = l.next;
                }
                f = !0;
              }
            if (f)
              e.push(h.i / i),
                e.push(t.i / i),
                e.push(m.i / i),
                Ti(t),
                (a = t = m.next);
            else if (((t = m), t === a)) {
              if (o) {
                if (1 === o) {
                  (o = e), (a = i), (h = t);
                  do
                    (m = h.prev),
                      (f = h.next.next),
                      !vi(m, f) &&
                        yi(m, h, h.next, f) &&
                        xi(m, f) &&
                        xi(f, m) &&
                        (o.push(m.i / a),
                        o.push(h.i / a),
                        o.push(f.i / a),
                        Ti(h),
                        Ti(h.next),
                        (h = t = f)),
                      (h = h.next);
                  while (h !== t);
                  (t = h), ci(t, e, i, n, r, s, 2);
                } else if (2 === o)
                  t: {
                    o = t;
                    do {
                      for (a = o.next.next; a !== o.prev; ) {
                        if ((h = o.i !== a.i)) {
                          if (
                            ((h = o),
                            (m = a),
                            (f = h.next.i !== m.i && h.prev.i !== m.i))
                          ) {
                            e: {
                              f = h;
                              do {
                                if (
                                  f.i !== h.i &&
                                  f.next.i !== h.i &&
                                  f.i !== m.i &&
                                  f.next.i !== m.i &&
                                  yi(f, f.next, h, m)
                                ) {
                                  f = !0;
                                  break e;
                                }
                                f = f.next;
                              } while (f !== h);
                              f = !1;
                            }
                            f = !f;
                          }
                          if ((f = f && xi(h, m) && xi(m, h))) {
                            (f = h),
                              (u = !1),
                              (c = (h.x + m.x) / 2),
                              (m = (h.y + m.y) / 2);
                            do
                              f.y > m != f.next.y > m &&
                                f.next.y !== f.y &&
                                c <
                                  ((f.next.x - f.x) * (m - f.y)) /
                                    (f.next.y - f.y) +
                                    f.x &&
                                (u = !u),
                                (f = f.next);
                            while (f !== h);
                            f = u;
                          }
                          h = f;
                        }
                        if (h) {
                          (t = wi(o, a)),
                            (o = ui(o, o.next)),
                            (t = ui(t, t.next)),
                            ci(o, e, i, n, r, s),
                            ci(t, e, i, n, r, s);
                          break t;
                        }
                        a = a.next;
                      }
                      o = o.next;
                    } while (o !== t);
                  }
              } else ci(ui(t), e, i, n, r, s, 1);
              break;
            }
          }
        }
      }
      function pi(t, e) {
        return t.x - e.x;
      }
      function di(t, e) {
        var i = e,
          n = t.x,
          r = t.y,
          s = -(1 / 0);
        do {
          if (r <= i.y && r >= i.next.y && i.next.y !== i.y) {
            var o = i.x + ((r - i.y) * (i.next.x - i.x)) / (i.next.y - i.y);
            if (o <= n && o > s) {
              if (((s = o), o === n)) {
                if (r === i.y) return i;
                if (r === i.next.y) return i.next;
              }
              var a = i.x < i.next.x ? i : i.next;
            }
          }
          i = i.next;
        } while (i !== e);
        if (!a) return null;
        if (n === s) return a.prev;
        (e = a), (o = a.x);
        var h = a.y,
          l = 1 / 0;
        for (i = a.next; i !== e; ) {
          if (
            n >= i.x &&
            i.x >= o &&
            n !== i.x &&
            _i(r < h ? n : s, r, o, h, r < h ? s : n, r, i.x, i.y)
          ) {
            var u = Math.abs(r - i.y) / (n - i.x);
            (u < l || (u === l && i.x > a.x)) && xi(i, t) && ((a = i), (l = u));
          }
          i = i.next;
        }
        return a;
      }
      function fi(t, e, i, n, r) {
        return (
          (t = 32767 * (t - i) * r),
          (e = 32767 * (e - n) * r),
          (t = 16711935 & (t | (t << 8))),
          (t = 252645135 & (t | (t << 4))),
          (t = 858993459 & (t | (t << 2))),
          (e = 16711935 & (e | (e << 8))),
          (e = 252645135 & (e | (e << 4))),
          (e = 858993459 & (e | (e << 2))),
          (1431655765 & (t | (t << 1))) | ((1431655765 & (e | (e << 1))) << 1)
        );
      }
      function mi(t) {
        var e = t,
          i = t;
        do e.x < i.x && (i = e), (e = e.next);
        while (e !== t);
        return i;
      }
      function _i(t, e, i, n, r, s, o, a) {
        return (
          0 <= (r - o) * (e - a) - (t - o) * (s - a) &&
          0 <= (t - o) * (n - a) - (i - o) * (e - a) &&
          0 <= (i - o) * (s - a) - (r - o) * (n - a)
        );
      }
      function gi(t, e, i) {
        return (e.y - t.y) * (i.x - e.x) - (e.x - t.x) * (i.y - e.y);
      }
      function vi(t, e) {
        return t.x === e.x && t.y === e.y;
      }
      function yi(t, e, i, n) {
        return (
          !!((vi(t, e) && vi(i, n)) || (vi(t, n) && vi(i, e))) ||
          (0 < gi(t, e, i) != 0 < gi(t, e, n) &&
            0 < gi(i, n, t) != 0 < gi(i, n, e))
        );
      }
      function xi(t, e) {
        return 0 > gi(t.prev, t, t.next)
          ? 0 <= gi(t, e, t.next) && 0 <= gi(t, t.prev, e)
          : 0 > gi(t, e, t.prev) || 0 > gi(t, t.next, e);
      }
      function wi(t, e) {
        var i = new Ei(t.i, t.x, t.y),
          n = new Ei(e.i, e.x, e.y),
          r = t.next,
          s = e.prev;
        return (
          (t.next = e),
          (e.prev = t),
          (i.next = r),
          (r.prev = i),
          (n.next = i),
          (i.prev = n),
          (s.next = n),
          (n.prev = s),
          n
        );
      }
      function bi(t, e, i, n) {
        return (
          (t = new Ei(t, e, i)),
          n
            ? ((t.next = n.next), (t.prev = n), (n.next.prev = t), (n.next = t))
            : ((t.prev = t), (t.next = t)),
          t
        );
      }
      function Ti(t) {
        (t.next.prev = t.prev),
          (t.prev.next = t.next),
          t.prevZ && (t.prevZ.nextZ = t.nextZ),
          t.nextZ && (t.nextZ.prevZ = t.prevZ);
      }
      function Ei(t, e, i) {
        (this.i = t),
          (this.x = e),
          (this.y = i),
          (this.nextZ = this.prevZ = this.z = this.next = this.prev = null),
          (this.steiner = !1);
      }
      function Si(t) {
        var e = t.length;
        2 < e && t[e - 1].equals(t[0]) && t.pop();
      }
      function Mi(t, e) {
        for (var i = 0; i < e.length; i++) t.push(e[i].x), t.push(e[i].y);
      }
      function Ci(t, e) {
        T.call(this),
          (this.type = "ExtrudeGeometry"),
          (this.parameters = { shapes: t, options: e }),
          this.fromBufferGeometry(new Pi(t, e)),
          this.mergeVertices();
      }
      function Pi(t, e) {
        function n(t) {
          function n(t, e, i) {
            return (
              e || console.error("THREE.ExtrudeGeometry: vec does not exist"),
              e.clone().multiplyScalar(i).add(t)
            );
          }
          function h(t, e, n) {
            var r = t.x - e.x,
              s = t.y - e.y,
              o = n.x - t.x,
              a = n.y - t.y,
              h = r * r + s * s;
            if (Math.abs(r * a - s * o) > Number.EPSILON) {
              var l = Math.sqrt(h),
                u = Math.sqrt(o * o + a * a);
              if (
                ((h = e.x - s / l),
                (e = e.y + r / l),
                (a =
                  ((n.x - a / u - h) * a - (n.y + o / u - e) * o) /
                  (r * a - s * o)),
                (o = h + r * a - t.x),
                (r = e + s * a - t.y),
                (s = o * o + r * r),
                2 >= s)
              )
                return new i(o, r);
              s = Math.sqrt(s / 2);
            } else (t = !1), r > Number.EPSILON ? o > Number.EPSILON && (t = !0) : r < -Number.EPSILON ? o < -Number.EPSILON && (t = !0) : Math.sign(s) === Math.sign(a) && (t = !0), t ? ((o = -s), (s = Math.sqrt(h))) : ((o = r), (r = s), (s = Math.sqrt(h / 2)));
            return new i(o / s, r / s);
          }
          function l(t, e) {
            for (B = t.length; 0 <= --B; ) {
              var i = B,
                n = B - 1;
              0 > n && (n = t.length - 1);
              var s,
                a = _ + 2 * w;
              for (s = 0; s < a; s++) {
                var h = F * s,
                  l = F * (s + 1),
                  u = e + n + h,
                  c = e + n + l;
                (l = e + i + l),
                  p(e + i + h),
                  p(u),
                  p(l),
                  p(u),
                  p(c),
                  p(l),
                  (h = o.length / 3),
                  (h = T.generateSideWallUV(r, o, h - 6, h - 3, h - 2, h - 1)),
                  d(h[0]),
                  d(h[1]),
                  d(h[3]),
                  d(h[1]),
                  d(h[2]),
                  d(h[3]);
              }
            }
          }
          function u(t, e, i) {
            f.push(t), f.push(e), f.push(i);
          }
          function c(t, e, i) {
            p(t),
              p(e),
              p(i),
              (t = o.length / 3),
              (t = T.generateTopUV(r, o, t - 3, t - 2, t - 1)),
              d(t[0]),
              d(t[1]),
              d(t[2]);
          }
          function p(t) {
            o.push(f[3 * t]), o.push(f[3 * t + 1]), o.push(f[3 * t + 2]);
          }
          function d(t) {
            a.push(t.x), a.push(t.y);
          }
          var f = [],
            m = void 0 !== e.curveSegments ? e.curveSegments : 12,
            _ = void 0 !== e.steps ? e.steps : 1,
            g = void 0 !== e.depth ? e.depth : 100,
            v = void 0 === e.bevelEnabled || e.bevelEnabled,
            y = void 0 !== e.bevelThickness ? e.bevelThickness : 6,
            x = void 0 !== e.bevelSize ? e.bevelSize : y - 2,
            w = void 0 !== e.bevelSegments ? e.bevelSegments : 3,
            b = e.extrudePath,
            T = void 0 !== e.UVGenerator ? e.UVGenerator : As;
          void 0 !== e.amount &&
            (console.warn(
              "THREE.ExtrudeBufferGeometry: amount has been renamed to depth."
            ),
            (g = e.amount));
          var E = !1;
          if (b) {
            var S = b.getSpacedPoints(_);
            (E = !0), (v = !1);
            var M = b.computeFrenetFrames(_, !1),
              C = new s(),
              P = new s(),
              A = new s();
          }
          v || (x = y = w = 0);
          var R;
          (m = t.extractPoints(m)), (t = m.shape);
          var L = m.holes;
          if (!Ps.isClockWise(t)) {
            t = t.reverse();
            var I = 0;
            for (R = L.length; I < R; I++) {
              var O = L[I];
              Ps.isClockWise(O) && (L[I] = O.reverse());
            }
          }
          var D = Ps.triangulateShape(t, L),
            k = t;
          for (I = 0, R = L.length; I < R; I++) (O = L[I]), (t = t.concat(O));
          var N,
            z,
            F = t.length,
            H = D.length;
          m = [];
          var B = 0,
            U = k.length,
            G = U - 1;
          for (N = B + 1; B < U; B++, G++, N++)
            G === U && (G = 0),
              N === U && (N = 0),
              (m[B] = h(k[B], k[G], k[N]));
          b = [];
          var V = m.concat();
          for (I = 0, R = L.length; I < R; I++) {
            O = L[I];
            var j = [];
            for (
              B = 0, U = O.length, G = U - 1, N = B + 1;
              B < U;
              B++, G++, N++
            )
              G === U && (G = 0),
                N === U && (N = 0),
                (j[B] = h(O[B], O[G], O[N]));
            b.push(j), (V = V.concat(j));
          }
          for (G = 0; G < w; G++) {
            U = G / w;
            var W = y * Math.cos((U * Math.PI) / 2);
            for (
              N = x * Math.sin((U * Math.PI) / 2), B = 0, U = k.length;
              B < U;
              B++
            ) {
              var X = n(k[B], m[B], N);
              u(X.x, X.y, -W);
            }
            for (I = 0, R = L.length; I < R; I++)
              for (O = L[I], j = b[I], B = 0, U = O.length; B < U; B++)
                (X = n(O[B], j[B], N)), u(X.x, X.y, -W);
          }
          for (N = x, B = 0; B < F; B++)
            (X = v ? n(t[B], V[B], N) : t[B]),
              E
                ? (P.copy(M.normals[0]).multiplyScalar(X.x),
                  C.copy(M.binormals[0]).multiplyScalar(X.y),
                  A.copy(S[0]).add(P).add(C),
                  u(A.x, A.y, A.z))
                : u(X.x, X.y, 0);
          for (U = 1; U <= _; U++)
            for (B = 0; B < F; B++)
              (X = v ? n(t[B], V[B], N) : t[B]),
                E
                  ? (P.copy(M.normals[U]).multiplyScalar(X.x),
                    C.copy(M.binormals[U]).multiplyScalar(X.y),
                    A.copy(S[U]).add(P).add(C),
                    u(A.x, A.y, A.z))
                  : u(X.x, X.y, (g / _) * U);
          for (G = w - 1; 0 <= G; G--) {
            for (
              U = G / w,
                W = y * Math.cos((U * Math.PI) / 2),
                N = x * Math.sin((U * Math.PI) / 2),
                B = 0,
                U = k.length;
              B < U;
              B++
            )
              (X = n(k[B], m[B], N)), u(X.x, X.y, g + W);
            for (I = 0, R = L.length; I < R; I++)
              for (O = L[I], j = b[I], B = 0, U = O.length; B < U; B++)
                (X = n(O[B], j[B], N)),
                  E
                    ? u(X.x, X.y + S[_ - 1].y, S[_ - 1].x + W)
                    : u(X.x, X.y, g + W);
          }
          !(function () {
            var t = o.length / 3;
            if (v) {
              var e = 0 * F;
              for (B = 0; B < H; B++)
                (z = D[B]), c(z[2] + e, z[1] + e, z[0] + e);
              for (e = F * (_ + 2 * w), B = 0; B < H; B++)
                (z = D[B]), c(z[0] + e, z[1] + e, z[2] + e);
            } else {
              for (B = 0; B < H; B++) (z = D[B]), c(z[2], z[1], z[0]);
              for (B = 0; B < H; B++)
                (z = D[B]), c(z[0] + F * _, z[1] + F * _, z[2] + F * _);
            }
            r.addGroup(t, o.length / 3 - t, 0);
          })(),
            (function () {
              var t = o.length / 3,
                e = 0;
              for (l(k, e), e += k.length, I = 0, R = L.length; I < R; I++)
                (O = L[I]), l(O, e), (e += O.length);
              r.addGroup(t, o.length / 3 - t, 1);
            })();
        }
        N.call(this),
          (this.type = "ExtrudeBufferGeometry"),
          (this.parameters = { shapes: t, options: e }),
          (t = Array.isArray(t) ? t : [t]);
        for (var r = this, o = [], a = [], h = 0, l = t.length; h < l; h++)
          n(t[h]);
        this.addAttribute("position", new I(o, 3)),
          this.addAttribute("uv", new I(a, 2)),
          this.computeVertexNormals();
      }
      function Ai(t, e, i) {
        if (((i.shapes = []), Array.isArray(t)))
          for (var n = 0, r = t.length; n < r; n++) i.shapes.push(t[n].uuid);
        else i.shapes.push(t.uuid);
        return (
          void 0 !== e.extrudePath &&
            (i.options.extrudePath = e.extrudePath.toJSON()),
          i
        );
      }
      function Ri(t, e) {
        T.call(this),
          (this.type = "TextGeometry"),
          (this.parameters = { text: t, parameters: e }),
          this.fromBufferGeometry(new Li(t, e)),
          this.mergeVertices();
      }
      function Li(t, e) {
        e = e || {};
        var i = e.font;
        return i && i.isFont
          ? ((t = i.generateShapes(t, e.size)),
            (e.depth = void 0 !== e.height ? e.height : 50),
            void 0 === e.bevelThickness && (e.bevelThickness = 10),
            void 0 === e.bevelSize && (e.bevelSize = 8),
            void 0 === e.bevelEnabled && (e.bevelEnabled = !1),
            Pi.call(this, t, e),
            void (this.type = "TextBufferGeometry"))
          : (console.error(
              "THREE.TextGeometry: font parameter is not an instance of THREE.Font."
            ),
            new T());
      }
      function Ii(t, e, i, n, r, s, o) {
        T.call(this),
          (this.type = "SphereGeometry"),
          (this.parameters = {
            radius: t,
            widthSegments: e,
            heightSegments: i,
            phiStart: n,
            phiLength: r,
            thetaStart: s,
            thetaLength: o,
          }),
          this.fromBufferGeometry(new Oi(t, e, i, n, r, s, o)),
          this.mergeVertices();
      }
      function Oi(t, e, i, n, r, o, a) {
        N.call(this),
          (this.type = "SphereBufferGeometry"),
          (this.parameters = {
            radius: t,
            widthSegments: e,
            heightSegments: i,
            phiStart: n,
            phiLength: r,
            thetaStart: o,
            thetaLength: a,
          }),
          (t = t || 1),
          (e = Math.max(3, Math.floor(e) || 8)),
          (i = Math.max(2, Math.floor(i) || 6)),
          (n = void 0 !== n ? n : 0),
          (r = void 0 !== r ? r : 2 * Math.PI),
          (o = void 0 !== o ? o : 0),
          (a = void 0 !== a ? a : Math.PI);
        var h,
          l,
          u = o + a,
          c = 0,
          p = [],
          d = new s(),
          f = new s(),
          m = [],
          _ = [],
          g = [],
          v = [];
        for (l = 0; l <= i; l++) {
          var y = [],
            x = l / i;
          for (h = 0; h <= e; h++) {
            var w = h / e;
            (d.x = -t * Math.cos(n + w * r) * Math.sin(o + x * a)),
              (d.y = t * Math.cos(o + x * a)),
              (d.z = t * Math.sin(n + w * r) * Math.sin(o + x * a)),
              _.push(d.x, d.y, d.z),
              f.set(d.x, d.y, d.z).normalize(),
              g.push(f.x, f.y, f.z),
              v.push(w, 1 - x),
              y.push(c++);
          }
          p.push(y);
        }
        for (l = 0; l < i; l++)
          for (h = 0; h < e; h++)
            (t = p[l][h + 1]),
              (n = p[l][h]),
              (r = p[l + 1][h]),
              (a = p[l + 1][h + 1]),
              (0 !== l || 0 < o) && m.push(t, n, a),
              (l !== i - 1 || u < Math.PI) && m.push(n, r, a);
        this.setIndex(m),
          this.addAttribute("position", new I(_, 3)),
          this.addAttribute("normal", new I(g, 3)),
          this.addAttribute("uv", new I(v, 2));
      }
      function Di(t, e, i, n, r, s) {
        T.call(this),
          (this.type = "RingGeometry"),
          (this.parameters = {
            innerRadius: t,
            outerRadius: e,
            thetaSegments: i,
            phiSegments: n,
            thetaStart: r,
            thetaLength: s,
          }),
          this.fromBufferGeometry(new ki(t, e, i, n, r, s)),
          this.mergeVertices();
      }
      function ki(t, e, n, r, o, a) {
        N.call(this),
          (this.type = "RingBufferGeometry"),
          (this.parameters = {
            innerRadius: t,
            outerRadius: e,
            thetaSegments: n,
            phiSegments: r,
            thetaStart: o,
            thetaLength: a,
          }),
          (t = t || 0.5),
          (e = e || 1),
          (o = void 0 !== o ? o : 0),
          (a = void 0 !== a ? a : 2 * Math.PI),
          (n = void 0 !== n ? Math.max(3, n) : 8),
          (r = void 0 !== r ? Math.max(1, r) : 1);
        var h,
          l,
          u = [],
          c = [],
          p = [],
          d = [],
          f = t,
          m = (e - t) / r,
          _ = new s(),
          g = new i();
        for (h = 0; h <= r; h++) {
          for (l = 0; l <= n; l++)
            (t = o + (l / n) * a),
              (_.x = f * Math.cos(t)),
              (_.y = f * Math.sin(t)),
              c.push(_.x, _.y, _.z),
              p.push(0, 0, 1),
              (g.x = (_.x / e + 1) / 2),
              (g.y = (_.y / e + 1) / 2),
              d.push(g.x, g.y);
          f += m;
        }
        for (h = 0; h < r; h++)
          for (e = h * (n + 1), l = 0; l < n; l++)
            (t = l + e),
              (o = t + n + 1),
              (a = t + n + 2),
              (f = t + 1),
              u.push(t, o, f),
              u.push(o, a, f);
        this.setIndex(u),
          this.addAttribute("position", new I(c, 3)),
          this.addAttribute("normal", new I(p, 3)),
          this.addAttribute("uv", new I(d, 2));
      }
      function Ni(t, e, i, n) {
        T.call(this),
          (this.type = "LatheGeometry"),
          (this.parameters = {
            points: t,
            segments: e,
            phiStart: i,
            phiLength: n,
          }),
          this.fromBufferGeometry(new zi(t, e, i, n)),
          this.mergeVertices();
      }
      function zi(t, e, n, r) {
        N.call(this),
          (this.type = "LatheBufferGeometry"),
          (this.parameters = {
            points: t,
            segments: e,
            phiStart: n,
            phiLength: r,
          }),
          (e = Math.floor(e) || 12),
          (n = n || 0),
          (r = r || 2 * Math.PI),
          (r = ns.clamp(r, 0, 2 * Math.PI));
        var o,
          a = [],
          h = [],
          l = [],
          u = 1 / e,
          c = new s(),
          p = new i();
        for (o = 0; o <= e; o++) {
          var d = n + o * u * r,
            f = Math.sin(d),
            m = Math.cos(d);
          for (d = 0; d <= t.length - 1; d++)
            (c.x = t[d].x * f),
              (c.y = t[d].y),
              (c.z = t[d].x * m),
              h.push(c.x, c.y, c.z),
              (p.x = o / e),
              (p.y = d / (t.length - 1)),
              l.push(p.x, p.y);
        }
        for (o = 0; o < e; o++)
          for (d = 0; d < t.length - 1; d++)
            (n = d + o * t.length),
              (u = n + t.length),
              (c = n + t.length + 1),
              (p = n + 1),
              a.push(n, u, p),
              a.push(u, c, p);
        if (
          (this.setIndex(a),
          this.addAttribute("position", new I(h, 3)),
          this.addAttribute("uv", new I(l, 2)),
          this.computeVertexNormals(),
          r === 2 * Math.PI)
        )
          for (
            r = this.attributes.normal.array,
              a = new s(),
              h = new s(),
              l = new s(),
              n = e * t.length * 3,
              d = o = 0;
            o < t.length;
            o++, d += 3
          )
            (a.x = r[d + 0]),
              (a.y = r[d + 1]),
              (a.z = r[d + 2]),
              (h.x = r[n + d + 0]),
              (h.y = r[n + d + 1]),
              (h.z = r[n + d + 2]),
              l.addVectors(a, h).normalize(),
              (r[d + 0] = r[n + d + 0] = l.x),
              (r[d + 1] = r[n + d + 1] = l.y),
              (r[d + 2] = r[n + d + 2] = l.z);
      }
      function Fi(t, e) {
        T.call(this),
          (this.type = "ShapeGeometry"),
          "object" == typeof e &&
            (console.warn(
              "THREE.ShapeGeometry: Options parameter has been removed."
            ),
            (e = e.curveSegments)),
          (this.parameters = { shapes: t, curveSegments: e }),
          this.fromBufferGeometry(new Hi(t, e)),
          this.mergeVertices();
      }
      function Hi(t, e) {
        function i(t) {
          var i,
            a = r.length / 3;
          t = t.extractPoints(e);
          var l = t.shape,
            u = t.holes;
          if (!1 === Ps.isClockWise(l))
            for (l = l.reverse(), t = 0, i = u.length; t < i; t++) {
              var c = u[t];
              !0 === Ps.isClockWise(c) && (u[t] = c.reverse());
            }
          var p = Ps.triangulateShape(l, u);
          for (t = 0, i = u.length; t < i; t++) (c = u[t]), (l = l.concat(c));
          for (t = 0, i = l.length; t < i; t++)
            (c = l[t]), r.push(c.x, c.y, 0), s.push(0, 0, 1), o.push(c.x, c.y);
          for (t = 0, i = p.length; t < i; t++)
            (l = p[t]), n.push(l[0] + a, l[1] + a, l[2] + a), (h += 3);
        }
        N.call(this),
          (this.type = "ShapeBufferGeometry"),
          (this.parameters = { shapes: t, curveSegments: e }),
          (e = e || 12);
        var n = [],
          r = [],
          s = [],
          o = [],
          a = 0,
          h = 0;
        if (!1 === Array.isArray(t)) i(t);
        else
          for (var l = 0; l < t.length; l++)
            i(t[l]), this.addGroup(a, h, l), (a += h), (h = 0);
        this.setIndex(n),
          this.addAttribute("position", new I(r, 3)),
          this.addAttribute("normal", new I(s, 3)),
          this.addAttribute("uv", new I(o, 2));
      }
      function Bi(t, e) {
        if (((e.shapes = []), Array.isArray(t)))
          for (var i = 0, n = t.length; i < n; i++) e.shapes.push(t[i].uuid);
        else e.shapes.push(t.uuid);
        return e;
      }
      function Ui(t, e) {
        N.call(this),
          (this.type = "EdgesGeometry"),
          (this.parameters = { thresholdAngle: e });
        var i = [];
        e = Math.cos(ns.DEG2RAD * (void 0 !== e ? e : 1));
        var n = [0, 0],
          r = {},
          s = ["a", "b", "c"];
        if (t.isBufferGeometry) {
          var o = new T();
          o.fromBufferGeometry(t);
        } else o = t.clone();
        o.mergeVertices(),
          o.computeFaceNormals(),
          (t = o.vertices),
          (o = o.faces);
        for (var a = 0, h = o.length; a < h; a++)
          for (var l = o[a], u = 0; 3 > u; u++) {
            var c = l[s[u]],
              p = l[s[(u + 1) % 3]];
            (n[0] = Math.min(c, p)),
              (n[1] = Math.max(c, p)),
              (c = n[0] + "," + n[1]),
              void 0 === r[c]
                ? (r[c] = {
                    index1: n[0],
                    index2: n[1],
                    face1: a,
                    face2: void 0,
                  })
                : (r[c].face2 = a);
          }
        for (c in r)
          (n = r[c]),
            (void 0 === n.face2 ||
              o[n.face1].normal.dot(o[n.face2].normal) <= e) &&
              ((s = t[n.index1]),
              i.push(s.x, s.y, s.z),
              (s = t[n.index2]),
              i.push(s.x, s.y, s.z));
        this.addAttribute("position", new I(i, 3));
      }
      function Gi(t, e, i, n, r, s, o, a) {
        T.call(this),
          (this.type = "CylinderGeometry"),
          (this.parameters = {
            radiusTop: t,
            radiusBottom: e,
            height: i,
            radialSegments: n,
            heightSegments: r,
            openEnded: s,
            thetaStart: o,
            thetaLength: a,
          }),
          this.fromBufferGeometry(new Vi(t, e, i, n, r, s, o, a)),
          this.mergeVertices();
      }
      function Vi(t, e, n, r, o, a, h, l) {
        function u(n) {
          var o,
            a = new i(),
            u = new s(),
            g = 0,
            x = !0 === n ? t : e,
            w = !0 === n ? 1 : -1,
            b = _;
          for (o = 1; o <= r; o++)
            d.push(0, v * w, 0), f.push(0, w, 0), m.push(0.5, 0.5), _++;
          var T = _;
          for (o = 0; o <= r; o++) {
            var E = (o / r) * l + h,
              S = Math.cos(E);
            (E = Math.sin(E)),
              (u.x = x * E),
              (u.y = v * w),
              (u.z = x * S),
              d.push(u.x, u.y, u.z),
              f.push(0, w, 0),
              (a.x = 0.5 * S + 0.5),
              (a.y = 0.5 * E * w + 0.5),
              m.push(a.x, a.y),
              _++;
          }
          for (o = 0; o < r; o++)
            (a = b + o),
              (u = T + o),
              !0 === n ? p.push(u, u + 1, a) : p.push(u + 1, u, a),
              (g += 3);
          c.addGroup(y, g, !0 === n ? 1 : 2), (y += g);
        }
        N.call(this),
          (this.type = "CylinderBufferGeometry"),
          (this.parameters = {
            radiusTop: t,
            radiusBottom: e,
            height: n,
            radialSegments: r,
            heightSegments: o,
            openEnded: a,
            thetaStart: h,
            thetaLength: l,
          });
        var c = this;
        (t = void 0 !== t ? t : 1),
          (e = void 0 !== e ? e : 1),
          (n = n || 1),
          (r = Math.floor(r) || 8),
          (o = Math.floor(o) || 1),
          (a = void 0 !== a && a),
          (h = void 0 !== h ? h : 0),
          (l = void 0 !== l ? l : 2 * Math.PI);
        var p = [],
          d = [],
          f = [],
          m = [],
          _ = 0,
          g = [],
          v = n / 2,
          y = 0;
        !(function () {
          var i,
            a,
            u = new s(),
            x = new s(),
            w = 0,
            b = (e - t) / n;
          for (a = 0; a <= o; a++) {
            var T = [],
              E = a / o,
              S = E * (e - t) + t;
            for (i = 0; i <= r; i++) {
              var M = i / r,
                C = M * l + h,
                P = Math.sin(C);
              (C = Math.cos(C)),
                (x.x = S * P),
                (x.y = -E * n + v),
                (x.z = S * C),
                d.push(x.x, x.y, x.z),
                u.set(P, b, C).normalize(),
                f.push(u.x, u.y, u.z),
                m.push(M, 1 - E),
                T.push(_++);
            }
            g.push(T);
          }
          for (i = 0; i < r; i++)
            for (a = 0; a < o; a++)
              (u = g[a + 1][i]),
                (x = g[a + 1][i + 1]),
                (b = g[a][i + 1]),
                p.push(g[a][i], u, b),
                p.push(u, x, b),
                (w += 6);
          c.addGroup(y, w, 0), (y += w);
        })(),
          !1 === a && (0 < t && u(!0), 0 < e && u(!1)),
          this.setIndex(p),
          this.addAttribute("position", new I(d, 3)),
          this.addAttribute("normal", new I(f, 3)),
          this.addAttribute("uv", new I(m, 2));
      }
      function ji(t, e, i, n, r, s, o) {
        Gi.call(this, 0, t, e, i, n, r, s, o),
          (this.type = "ConeGeometry"),
          (this.parameters = {
            radius: t,
            height: e,
            radialSegments: i,
            heightSegments: n,
            openEnded: r,
            thetaStart: s,
            thetaLength: o,
          });
      }
      function Wi(t, e, i, n, r, s, o) {
        Vi.call(this, 0, t, e, i, n, r, s, o),
          (this.type = "ConeBufferGeometry"),
          (this.parameters = {
            radius: t,
            height: e,
            radialSegments: i,
            heightSegments: n,
            openEnded: r,
            thetaStart: s,
            thetaLength: o,
          });
      }
      function Xi(t, e, i, n) {
        T.call(this),
          (this.type = "CircleGeometry"),
          (this.parameters = {
            radius: t,
            segments: e,
            thetaStart: i,
            thetaLength: n,
          }),
          this.fromBufferGeometry(new qi(t, e, i, n)),
          this.mergeVertices();
      }
      function qi(t, e, n, r) {
        N.call(this),
          (this.type = "CircleBufferGeometry"),
          (this.parameters = {
            radius: t,
            segments: e,
            thetaStart: n,
            thetaLength: r,
          }),
          (t = t || 1),
          (e = void 0 !== e ? Math.max(3, e) : 8),
          (n = void 0 !== n ? n : 0),
          (r = void 0 !== r ? r : 2 * Math.PI);
        var o,
          a = [],
          h = [],
          l = [],
          u = [],
          c = new s(),
          p = new i();
        h.push(0, 0, 0), l.push(0, 0, 1), u.push(0.5, 0.5);
        var d = 0;
        for (o = 3; d <= e; d++, o += 3) {
          var f = n + (d / e) * r;
          (c.x = t * Math.cos(f)),
            (c.y = t * Math.sin(f)),
            h.push(c.x, c.y, c.z),
            l.push(0, 0, 1),
            (p.x = (h[o] / t + 1) / 2),
            (p.y = (h[o + 1] / t + 1) / 2),
            u.push(p.x, p.y);
        }
        for (o = 1; o <= e; o++) a.push(o, o + 1, 0);
        this.setIndex(a),
          this.addAttribute("position", new I(h, 3)),
          this.addAttribute("normal", new I(l, 3)),
          this.addAttribute("uv", new I(u, 2));
      }
      function Yi(t) {
        U.call(this),
          (this.type = "ShadowMaterial"),
          (this.color = new _(0)),
          (this.transparent = !0),
          this.setValues(t);
      }
      function Zi(t) {
        G.call(this, t), (this.type = "RawShaderMaterial");
      }
      function $i(t) {
        U.call(this),
          (this.defines = { STANDARD: "" }),
          (this.type = "MeshStandardMaterial"),
          (this.color = new _(16777215)),
          (this.metalness = this.roughness = 0.5),
          (this.lightMap = this.map = null),
          (this.lightMapIntensity = 1),
          (this.aoMap = null),
          (this.aoMapIntensity = 1),
          (this.emissive = new _(0)),
          (this.emissiveIntensity = 1),
          (this.bumpMap = this.emissiveMap = null),
          (this.bumpScale = 1),
          (this.normalMap = null),
          (this.normalMapType = 0),
          (this.normalScale = new i(1, 1)),
          (this.displacementMap = null),
          (this.displacementScale = 1),
          (this.displacementBias = 0),
          (this.envMap =
            this.alphaMap =
            this.metalnessMap =
            this.roughnessMap =
              null),
          (this.envMapIntensity = 1),
          (this.refractionRatio = 0.98),
          (this.wireframe = !1),
          (this.wireframeLinewidth = 1),
          (this.wireframeLinejoin = this.wireframeLinecap = "round"),
          (this.morphNormals = this.morphTargets = this.skinning = !1),
          this.setValues(t);
      }
      function Ji(t) {
        $i.call(this),
          (this.defines = { PHYSICAL: "" }),
          (this.type = "MeshPhysicalMaterial"),
          (this.reflectivity = 0.5),
          (this.clearCoatRoughness = this.clearCoat = 0),
          this.setValues(t);
      }
      function Qi(t) {
        U.call(this),
          (this.type = "MeshPhongMaterial"),
          (this.color = new _(16777215)),
          (this.specular = new _(1118481)),
          (this.shininess = 30),
          (this.lightMap = this.map = null),
          (this.lightMapIntensity = 1),
          (this.aoMap = null),
          (this.aoMapIntensity = 1),
          (this.emissive = new _(0)),
          (this.emissiveIntensity = 1),
          (this.bumpMap = this.emissiveMap = null),
          (this.bumpScale = 1),
          (this.normalMap = null),
          (this.normalMapType = 0),
          (this.normalScale = new i(1, 1)),
          (this.displacementMap = null),
          (this.displacementScale = 1),
          (this.displacementBias = 0),
          (this.envMap = this.alphaMap = this.specularMap = null),
          (this.combine = 0),
          (this.reflectivity = 1),
          (this.refractionRatio = 0.98),
          (this.wireframe = !1),
          (this.wireframeLinewidth = 1),
          (this.wireframeLinejoin = this.wireframeLinecap = "round"),
          (this.morphNormals = this.morphTargets = this.skinning = !1),
          this.setValues(t);
      }
      function Ki(t) {
        Qi.call(this),
          (this.defines = { TOON: "" }),
          (this.type = "MeshToonMaterial"),
          (this.gradientMap = null),
          this.setValues(t);
      }
      function tn(t) {
        U.call(this),
          (this.type = "MeshNormalMaterial"),
          (this.bumpMap = null),
          (this.bumpScale = 1),
          (this.normalMap = null),
          (this.normalMapType = 0),
          (this.normalScale = new i(1, 1)),
          (this.displacementMap = null),
          (this.displacementScale = 1),
          (this.displacementBias = 0),
          (this.wireframe = !1),
          (this.wireframeLinewidth = 1),
          (this.morphNormals =
            this.morphTargets =
            this.skinning =
            this.lights =
            this.fog =
              !1),
          this.setValues(t);
      }
      function en(t) {
        U.call(this),
          (this.type = "MeshLambertMaterial"),
          (this.color = new _(16777215)),
          (this.lightMap = this.map = null),
          (this.lightMapIntensity = 1),
          (this.aoMap = null),
          (this.aoMapIntensity = 1),
          (this.emissive = new _(0)),
          (this.emissiveIntensity = 1),
          (this.envMap =
            this.alphaMap =
            this.specularMap =
            this.emissiveMap =
              null),
          (this.combine = 0),
          (this.reflectivity = 1),
          (this.refractionRatio = 0.98),
          (this.wireframe = !1),
          (this.wireframeLinewidth = 1),
          (this.wireframeLinejoin = this.wireframeLinecap = "round"),
          (this.morphNormals = this.morphTargets = this.skinning = !1),
          this.setValues(t);
      }
      function nn(t) {
        if (
          (U.call(this),
          (this.defines = { MATCAP: "" }),
          (this.type = "MeshMatcapMaterial"),
          (this.color = new _(16777215)),
          (this.bumpMap = this.map = this.matcap = null),
          (this.bumpScale = 1),
          (this.normalMap = null),
          (this.normalMapType = 0),
          (this.normalScale = new i(1, 1)),
          (this.displacementMap = null),
          (this.displacementScale = 1),
          (this.displacementBias = 0),
          (this.alphaMap = null),
          (this.lights =
            this.morphNormals =
            this.morphTargets =
            this.skinning =
              !1),
          this.setValues(t),
          null === this.matcap)
        ) {
          (t = document.createElement("canvas")), (t.width = 1), (t.height = 1);
          var e = t.getContext("2d");
          (e.fillStyle = "#fff"),
            e.fillRect(0, 0, 1, 1),
            (this.matcap = new THREE.CanvasTexture(t));
        }
      }
      function rn(t) {
        De.call(this),
          (this.type = "LineDashedMaterial"),
          (this.scale = 1),
          (this.dashSize = 3),
          (this.gapSize = 1),
          this.setValues(t);
      }
      function sn(t, e, i) {
        var n = this,
          r = !1,
          s = 0,
          o = 0,
          a = void 0;
        (this.onStart = void 0),
          (this.onLoad = t),
          (this.onProgress = e),
          (this.onError = i),
          (this.itemStart = function (t) {
            o++,
              !1 === r && void 0 !== n.onStart && n.onStart(t, s, o),
              (r = !0);
          }),
          (this.itemEnd = function (t) {
            s++,
              void 0 !== n.onProgress && n.onProgress(t, s, o),
              s === o && ((r = !1), void 0 !== n.onLoad) && n.onLoad();
          }),
          (this.itemError = function (t) {
            void 0 !== n.onError && n.onError(t);
          }),
          (this.resolveURL = function (t) {
            return a ? a(t) : t;
          }),
          (this.setURLModifier = function (t) {
            return (a = t), this;
          });
      }
      function on(t) {
        this.manager = void 0 !== t ? t : Os;
      }
      function an(t) {
        (this.manager = void 0 !== t ? t : Os), (this._parser = null);
      }
      function hn(t) {
        (this.manager = void 0 !== t ? t : Os), (this._parser = null);
      }
      function ln(t) {
        this.manager = void 0 !== t ? t : Os;
      }
      function un(t) {
        this.manager = void 0 !== t ? t : Os;
      }
      function cn(t) {
        this.manager = void 0 !== t ? t : Os;
      }
      function pn() {
        (this.type = "Curve"), (this.arcLengthDivisions = 200);
      }
      function dn(t, e, i, n, r, s, o, a) {
        pn.call(this),
          (this.type = "EllipseCurve"),
          (this.aX = t || 0),
          (this.aY = e || 0),
          (this.xRadius = i || 1),
          (this.yRadius = n || 1),
          (this.aStartAngle = r || 0),
          (this.aEndAngle = s || 2 * Math.PI),
          (this.aClockwise = o || !1),
          (this.aRotation = a || 0);
      }
      function fn(t, e, i, n, r, s) {
        dn.call(this, t, e, i, i, n, r, s), (this.type = "ArcCurve");
      }
      function mn() {
        var t = 0,
          e = 0,
          i = 0,
          n = 0;
        return {
          initCatmullRom: function (r, s, o, a, h) {
            (r = h * (o - r)),
              (a = h * (a - s)),
              (t = s),
              (e = r),
              (i = -3 * s + 3 * o - 2 * r - a),
              (n = 2 * s - 2 * o + r + a);
          },
          initNonuniformCatmullRom: function (r, s, o, a, h, l, u) {
            (r = ((s - r) / h - (o - r) / (h + l) + (o - s) / l) * l),
              (a = ((o - s) / l - (a - s) / (l + u) + (a - o) / u) * l),
              (t = s),
              (e = r),
              (i = -3 * s + 3 * o - 2 * r - a),
              (n = 2 * s - 2 * o + r + a);
          },
          calc: function (r) {
            var s = r * r;
            return t + e * r + i * s + n * s * r;
          },
        };
      }
      function _n(t, e, i, n) {
        pn.call(this),
          (this.type = "CatmullRomCurve3"),
          (this.points = t || []),
          (this.closed = e || !1),
          (this.curveType = i || "centripetal"),
          (this.tension = n || 0.5);
      }
      function gn(t, e, i, n, r) {
        (e = 0.5 * (n - e)), (r = 0.5 * (r - i));
        var s = t * t;
        return (
          (2 * i - 2 * n + e + r) * t * s +
          (-3 * i + 3 * n - 2 * e - r) * s +
          e * t +
          i
        );
      }
      function vn(t, e, i, n) {
        var r = 1 - t;
        return r * r * e + 2 * (1 - t) * t * i + t * t * n;
      }
      function yn(t, e, i, n, r) {
        var s = 1 - t,
          o = 1 - t;
        return (
          s * s * s * e +
          3 * o * o * t * i +
          3 * (1 - t) * t * t * n +
          t * t * t * r
        );
      }
      function xn(t, e, n, r) {
        pn.call(this),
          (this.type = "CubicBezierCurve"),
          (this.v0 = t || new i()),
          (this.v1 = e || new i()),
          (this.v2 = n || new i()),
          (this.v3 = r || new i());
      }
      function wn(t, e, i, n) {
        pn.call(this),
          (this.type = "CubicBezierCurve3"),
          (this.v0 = t || new s()),
          (this.v1 = e || new s()),
          (this.v2 = i || new s()),
          (this.v3 = n || new s());
      }
      function bn(t, e) {
        pn.call(this),
          (this.type = "LineCurve"),
          (this.v1 = t || new i()),
          (this.v2 = e || new i());
      }
      function Tn(t, e) {
        pn.call(this),
          (this.type = "LineCurve3"),
          (this.v1 = t || new s()),
          (this.v2 = e || new s());
      }
      function En(t, e, n) {
        pn.call(this),
          (this.type = "QuadraticBezierCurve"),
          (this.v0 = t || new i()),
          (this.v1 = e || new i()),
          (this.v2 = n || new i());
      }
      function Sn(t, e, i) {
        pn.call(this),
          (this.type = "QuadraticBezierCurve3"),
          (this.v0 = t || new s()),
          (this.v1 = e || new s()),
          (this.v2 = i || new s());
      }
      function Mn(t) {
        pn.call(this), (this.type = "SplineCurve"), (this.points = t || []);
      }
      function Cn() {
        pn.call(this),
          (this.type = "CurvePath"),
          (this.curves = []),
          (this.autoClose = !1);
      }
      function Pn(t) {
        Cn.call(this),
          (this.type = "Path"),
          (this.currentPoint = new i()),
          t && this.setFromPoints(t);
      }
      function An(t) {
        Pn.call(this, t),
          (this.uuid = ns.generateUUID()),
          (this.type = "Shape"),
          (this.holes = []);
      }
      function Rn(t, e) {
        b.call(this),
          (this.type = "Light"),
          (this.color = new _(t)),
          (this.intensity = void 0 !== e ? e : 1),
          (this.receiveShadow = void 0);
      }
      function Ln(t, e, i) {
        Rn.call(this, t, i),
          (this.type = "HemisphereLight"),
          (this.castShadow = void 0),
          this.position.copy(b.DefaultUp),
          this.updateMatrix(),
          (this.groundColor = new _(e));
      }
      function In(t) {
        (this.camera = t),
          (this.bias = 0),
          (this.radius = 1),
          (this.mapSize = new i(512, 512)),
          (this.map = null),
          (this.matrix = new n());
      }
      function On() {
        In.call(this, new ve(50, 1, 0.5, 500));
      }
      function Dn(t, e, i, n, r, s) {
        Rn.call(this, t, e),
          (this.type = "SpotLight"),
          this.position.copy(b.DefaultUp),
          this.updateMatrix(),
          (this.target = new b()),
          Object.defineProperty(this, "power", {
            get: function () {
              return this.intensity * Math.PI;
            },
            set: function (t) {
              this.intensity = t / Math.PI;
            },
          }),
          (this.distance = void 0 !== i ? i : 0),
          (this.angle = void 0 !== n ? n : Math.PI / 3),
          (this.penumbra = void 0 !== r ? r : 0),
          (this.decay = void 0 !== s ? s : 1),
          (this.shadow = new On());
      }
      function kn(t, e, i, n) {
        Rn.call(this, t, e),
          (this.type = "PointLight"),
          Object.defineProperty(this, "power", {
            get: function () {
              return 4 * this.intensity * Math.PI;
            },
            set: function (t) {
              this.intensity = t / (4 * Math.PI);
            },
          }),
          (this.distance = void 0 !== i ? i : 0),
          (this.decay = void 0 !== n ? n : 1),
          (this.shadow = new In(new ve(90, 1, 0.5, 500)));
      }
      function Nn(t, e, i, n, r, s) {
        ge.call(this),
          (this.type = "OrthographicCamera"),
          (this.zoom = 1),
          (this.view = null),
          (this.left = t),
          (this.right = e),
          (this.top = i),
          (this.bottom = n),
          (this.near = void 0 !== r ? r : 0.1),
          (this.far = void 0 !== s ? s : 2e3),
          this.updateProjectionMatrix();
      }
      function zn() {
        In.call(this, new Nn(-5, 5, 5, -5, 0.5, 500));
      }
      function Fn(t, e) {
        Rn.call(this, t, e),
          (this.type = "DirectionalLight"),
          this.position.copy(b.DefaultUp),
          this.updateMatrix(),
          (this.target = new b()),
          (this.shadow = new zn());
      }
      function Hn(t, e) {
        Rn.call(this, t, e),
          (this.type = "AmbientLight"),
          (this.castShadow = void 0);
      }
      function Bn(t, e, i, n) {
        Rn.call(this, t, e),
          (this.type = "RectAreaLight"),
          (this.width = void 0 !== i ? i : 10),
          (this.height = void 0 !== n ? n : 10);
      }
      function Un(t, e, i, n) {
        (this.parameterPositions = t),
          (this._cachedIndex = 0),
          (this.resultBuffer = void 0 !== n ? n : new e.constructor(i)),
          (this.sampleValues = e),
          (this.valueSize = i);
      }
      function Gn(t, e, i, n) {
        Un.call(this, t, e, i, n),
          (this._offsetNext =
            this._weightNext =
            this._offsetPrev =
            this._weightPrev =
              -0);
      }
      function Vn(t, e, i, n) {
        Un.call(this, t, e, i, n);
      }
      function jn(t, e, i, n) {
        Un.call(this, t, e, i, n);
      }
      function Wn(t, e, i, n) {
        if (void 0 === t)
          throw Error("THREE.KeyframeTrack: track name is undefined");
        if (void 0 === e || 0 === e.length)
          throw Error("THREE.KeyframeTrack: no keyframes in track named " + t);
        (this.name = t),
          (this.times = Bs.convertArray(e, this.TimeBufferType)),
          (this.values = Bs.convertArray(i, this.ValueBufferType)),
          this.setInterpolation(n || this.DefaultInterpolation);
      }
      function Xn(t, e, i) {
        Wn.call(this, t, e, i);
      }
      function qn(t, e, i, n) {
        Wn.call(this, t, e, i, n);
      }
      function Yn(t, e, i, n) {
        Wn.call(this, t, e, i, n);
      }
      function Zn(t, e, i, n) {
        Un.call(this, t, e, i, n);
      }
      function $n(t, e, i, n) {
        Wn.call(this, t, e, i, n);
      }
      function Jn(t, e, i, n) {
        Wn.call(this, t, e, i, n);
      }
      function Qn(t, e, i, n) {
        Wn.call(this, t, e, i, n);
      }
      function Kn(t, e, i) {
        (this.name = t),
          (this.tracks = i),
          (this.duration = void 0 !== e ? e : -1),
          (this.uuid = ns.generateUUID()),
          0 > this.duration && this.resetDuration();
      }
      function tr(t) {
        switch (t.toLowerCase()) {
          case "scalar":
          case "double":
          case "float":
          case "number":
          case "integer":
            return Yn;
          case "vector":
          case "vector2":
          case "vector3":
          case "vector4":
            return Qn;
          case "color":
            return qn;
          case "quaternion":
            return $n;
          case "bool":
          case "boolean":
            return Xn;
          case "string":
            return Jn;
        }
        throw Error("THREE.KeyframeTrack: Unsupported typeName: " + t);
      }
      function er(t) {
        if (void 0 === t.type)
          throw Error(
            "THREE.KeyframeTrack: track type undefined, can not parse"
          );
        var e = tr(t.type);
        if (void 0 === t.times) {
          var i = [],
            n = [];
          Bs.flattenJSON(t.keys, i, n, "value"), (t.times = i), (t.values = n);
        }
        return void 0 !== e.parse
          ? e.parse(t)
          : new e(t.name, t.times, t.values, t.interpolation);
      }
      function ir(t) {
        (this.manager = void 0 !== t ? t : Os), (this.textures = {});
      }
      function nr(t) {
        this.manager = void 0 !== t ? t : Os;
      }
      function rr() {}
      function sr(t) {
        "boolean" == typeof t &&
          (console.warn(
            "THREE.JSONLoader: showStatus parameter has been removed from constructor."
          ),
          (t = void 0)),
          (this.manager = void 0 !== t ? t : Os),
          (this.withCredentials = !1);
      }
      function or(t) {
        (this.manager = void 0 !== t ? t : Os), (this.texturePath = "");
      }
      function ar(t) {
        "undefined" == typeof createImageBitmap &&
          console.warn(
            "THREE.ImageBitmapLoader: createImageBitmap() not supported."
          ),
          "undefined" == typeof fetch &&
            console.warn("THREE.ImageBitmapLoader: fetch() not supported."),
          (this.manager = void 0 !== t ? t : Os),
          (this.options = void 0);
      }
      function hr() {
        (this.type = "ShapePath"),
          (this.color = new _()),
          (this.subPaths = []),
          (this.currentPath = null);
      }
      function lr(t) {
        (this.type = "Font"), (this.data = t);
      }
      function ur(t) {
        this.manager = void 0 !== t ? t : Os;
      }
      function cr(t) {
        this.manager = void 0 !== t ? t : Os;
      }
      function pr() {
        (this.type = "StereoCamera"),
          (this.aspect = 1),
          (this.eyeSep = 0.064),
          (this.cameraL = new ve()),
          this.cameraL.layers.enable(1),
          (this.cameraL.matrixAutoUpdate = !1),
          (this.cameraR = new ve()),
          this.cameraR.layers.enable(2),
          (this.cameraR.matrixAutoUpdate = !1);
      }
      function dr(t, e, i) {
        b.call(this), (this.type = "CubeCamera");
        var n = new ve(90, 1, t, e);
        n.up.set(0, -1, 0), n.lookAt(new s(1, 0, 0)), this.add(n);
        var r = new ve(90, 1, t, e);
        r.up.set(0, -1, 0), r.lookAt(new s(-1, 0, 0)), this.add(r);
        var o = new ve(90, 1, t, e);
        o.up.set(0, 0, 1), o.lookAt(new s(0, 1, 0)), this.add(o);
        var a = new ve(90, 1, t, e);
        a.up.set(0, 0, -1), a.lookAt(new s(0, -1, 0)), this.add(a);
        var h = new ve(90, 1, t, e);
        h.up.set(0, -1, 0), h.lookAt(new s(0, 0, 1)), this.add(h);
        var l = new ve(90, 1, t, e);
        l.up.set(0, -1, 0),
          l.lookAt(new s(0, 0, -1)),
          this.add(l),
          (this.renderTarget = new u(i, i, {
            format: 1022,
            magFilter: 1006,
            minFilter: 1006,
          })),
          (this.renderTarget.texture.name = "CubeCamera"),
          (this.update = function (t, e) {
            null === this.parent && this.updateMatrixWorld();
            var i = this.renderTarget,
              s = i.texture.generateMipmaps;
            (i.texture.generateMipmaps = !1),
              (i.activeCubeFace = 0),
              t.render(e, n, i),
              (i.activeCubeFace = 1),
              t.render(e, r, i),
              (i.activeCubeFace = 2),
              t.render(e, o, i),
              (i.activeCubeFace = 3),
              t.render(e, a, i),
              (i.activeCubeFace = 4),
              t.render(e, h, i),
              (i.texture.generateMipmaps = s),
              (i.activeCubeFace = 5),
              t.render(e, l, i),
              t.setRenderTarget(null);
          }),
          (this.clear = function (t, e, i, n) {
            for (var r = this.renderTarget, s = 0; 6 > s; s++)
              (r.activeCubeFace = s), t.setRenderTarget(r), t.clear(e, i, n);
            t.setRenderTarget(null);
          });
      }
      function fr() {
        b.call(this),
          (this.type = "AudioListener"),
          (this.context = qs.getContext()),
          (this.gain = this.context.createGain()),
          this.gain.connect(this.context.destination),
          (this.filter = null);
      }
      function mr(t) {
        b.call(this),
          (this.type = "Audio"),
          (this.context = t.context),
          (this.gain = this.context.createGain()),
          this.gain.connect(t.getInput()),
          (this.autoplay = !1),
          (this.buffer = null),
          (this.loop = !1),
          (this.offset = this.startTime = 0),
          (this.playbackRate = 1),
          (this.isPlaying = !1),
          (this.hasPlaybackControl = !0),
          (this.sourceType = "empty"),
          (this.filters = []);
      }
      function _r(t) {
        mr.call(this, t),
          (this.panner = this.context.createPanner()),
          this.panner.connect(this.gain);
      }
      function gr(t, e) {
        (this.analyser = t.context.createAnalyser()),
          (this.analyser.fftSize = void 0 !== e ? e : 2048),
          (this.data = new Uint8Array(this.analyser.frequencyBinCount)),
          t.getOutput().connect(this.analyser);
      }
      function vr(t, e, i) {
        switch (
          ((this.binding = t), (this.valueSize = i), (t = Float64Array), e)
        ) {
          case "quaternion":
            e = this._slerp;
            break;
          case "string":
          case "bool":
            (t = Array), (e = this._select);
            break;
          default:
            e = this._lerp;
        }
        (this.buffer = new t(4 * i)),
          (this._mixBufferRegion = e),
          (this.referenceCount = this.useCount = this.cumulativeWeight = 0);
      }
      function yr(t, e, i) {
        (i = i || xr.parseTrackName(e)),
          (this._targetGroup = t),
          (this._bindings = t.subscribe_(e, i));
      }
      function xr(t, e, i) {
        (this.path = e),
          (this.parsedPath = i || xr.parseTrackName(e)),
          (this.node = xr.findNode(t, this.parsedPath.nodeName) || t),
          (this.rootNode = t);
      }
      function wr() {
        (this.uuid = ns.generateUUID()),
          (this._objects = Array.prototype.slice.call(arguments)),
          (this.nCachedObjects_ = 0);
        var t = {};
        this._indicesByUUID = t;
        for (var e = 0, i = arguments.length; e !== i; ++e)
          t[arguments[e].uuid] = e;
        (this._paths = []),
          (this._parsedPaths = []),
          (this._bindings = []),
          (this._bindingsIndicesByPath = {});
        var n = this;
        this.stats = {
          objects: {
            get total() {
              return n._objects.length;
            },
            get inUse() {
              return this.total - n.nCachedObjects_;
            },
          },
          get bindingsPerObject() {
            return n._bindings.length;
          },
        };
      }
      function br(t, e, i) {
        (this._mixer = t),
          (this._clip = e),
          (this._localRoot = i || null),
          (t = e.tracks),
          (e = t.length),
          (i = Array(e));
        for (
          var n = { endingStart: 2400, endingEnd: 2400 }, r = 0;
          r !== e;
          ++r
        ) {
          var s = t[r].createInterpolant(null);
          (i[r] = s), (s.settings = n);
        }
        (this._interpolantSettings = n),
          (this._interpolants = i),
          (this._propertyBindings = Array(e)),
          (this._weightInterpolant =
            this._timeScaleInterpolant =
            this._byClipCacheIndex =
            this._cacheIndex =
              null),
          (this.loop = 2201),
          (this._loopCount = -1),
          (this._startTime = null),
          (this.time = 0),
          (this._effectiveWeight =
            this.weight =
            this._effectiveTimeScale =
            this.timeScale =
              1),
          (this.repetitions = 1 / 0),
          (this.paused = !1),
          (this.enabled = !0),
          (this.clampWhenFinished = !1),
          (this.zeroSlopeAtEnd = this.zeroSlopeAtStart = !0);
      }
      function Tr(t) {
        (this._root = t),
          this._initMemoryManager(),
          (this.time = this._accuIndex = 0),
          (this.timeScale = 1);
      }
      function Er(t, e) {
        "string" == typeof t &&
          (console.warn("THREE.Uniform: Type parameter is no longer needed."),
          (t = e)),
          (this.value = t);
      }
      function Sr() {
        N.call(this),
          (this.type = "InstancedBufferGeometry"),
          (this.maxInstancedCount = void 0);
      }
      function Mr(t, e, i) {
        Me.call(this, t, e), (this.meshPerAttribute = i || 1);
      }
      function Cr(t, e, i, n) {
        "number" == typeof i &&
          ((n = i),
          (i = !1),
          console.error(
            "THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument."
          )),
          E.call(this, t, e, i),
          (this.meshPerAttribute = n || 1);
      }
      function Pr(t, e, i, n) {
        (this.ray = new V(t, e)),
          (this.near = i || 0),
          (this.far = n || 1 / 0),
          (this.params = {
            Mesh: {},
            Line: {},
            LOD: {},
            Points: { threshold: 1 },
            Sprite: {},
          }),
          Object.defineProperties(this.params, {
            PointCloud: {
              get: function () {
                return (
                  console.warn(
                    "THREE.Raycaster: params.PointCloud has been renamed to params.Points."
                  ),
                  this.Points
                );
              },
            },
          });
      }
      function Ar(t, e) {
        return t.distance - e.distance;
      }
      function Rr(t, e, i, n) {
        if (!1 !== t.visible && (t.raycast(e, i), !0 === n)) {
          (t = t.children), (n = 0);
          for (var r = t.length; n < r; n++) Rr(t[n], e, i, !0);
        }
      }
      function Lr(t) {
        (this.autoStart = void 0 === t || t),
          (this.elapsedTime = this.oldTime = this.startTime = 0),
          (this.running = !1);
      }
      function Ir(t, e, i) {
        return (
          (this.radius = void 0 !== t ? t : 1),
          (this.phi = void 0 !== e ? e : 0),
          (this.theta = void 0 !== i ? i : 0),
          this
        );
      }
      function Or(t, e, i) {
        return (
          (this.radius = void 0 !== t ? t : 1),
          (this.theta = void 0 !== e ? e : 0),
          (this.y = void 0 !== i ? i : 0),
          this
        );
      }
      function Dr(t, e) {
        (this.min = void 0 !== t ? t : new i(1 / 0, 1 / 0)),
          (this.max = void 0 !== e ? e : new i(-(1 / 0), -(1 / 0)));
      }
      function kr(t, e) {
        (this.start = void 0 !== t ? t : new s()),
          (this.end = void 0 !== e ? e : new s());
      }
      function Nr(t) {
        b.call(this), (this.material = t), (this.render = function () {});
      }
      function zr(t, e, i, n) {
        (this.object = t),
          (this.size = void 0 !== e ? e : 1),
          (t = void 0 !== i ? i : 16711680),
          (n = void 0 !== n ? n : 1),
          (e = 0),
          (i = this.object.geometry) && i.isGeometry
            ? (e = 3 * i.faces.length)
            : i && i.isBufferGeometry && (e = i.attributes.normal.count),
          (i = new N()),
          (e = new I(6 * e, 3)),
          i.addAttribute("position", e),
          Ne.call(this, i, new De({ color: t, linewidth: n })),
          (this.matrixAutoUpdate = !1),
          this.update();
      }
      function Fr(t, e) {
        b.call(this),
          (this.light = t),
          this.light.updateMatrixWorld(),
          (this.matrix = t.matrixWorld),
          (this.matrixAutoUpdate = !1),
          (this.color = e),
          (t = new N()),
          (e = [
            0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, -1, 0, 1, 0, 0, 0, 0,
            1, 1, 0, 0, 0, 0, -1, 1,
          ]);
        for (var i = 0, n = 1; 32 > i; i++, n++) {
          var r = (i / 32) * Math.PI * 2,
            s = (n / 32) * Math.PI * 2;
          e.push(Math.cos(r), Math.sin(r), 1, Math.cos(s), Math.sin(s), 1);
        }
        t.addAttribute("position", new I(e, 3)),
          (e = new De({ fog: !1 })),
          (this.cone = new Ne(t, e)),
          this.add(this.cone),
          this.update();
      }
      function Hr(t) {
        var e = [];
        t && t.isBone && e.push(t);
        for (var i = 0; i < t.children.length; i++)
          e.push.apply(e, Hr(t.children[i]));
        return e;
      }
      function Br(t) {
        for (
          var e = Hr(t),
            i = new N(),
            n = [],
            r = [],
            s = new _(0, 0, 1),
            o = new _(0, 1, 0),
            a = 0;
          a < e.length;
          a++
        ) {
          var h = e[a];
          h.parent &&
            h.parent.isBone &&
            (n.push(0, 0, 0),
            n.push(0, 0, 0),
            r.push(s.r, s.g, s.b),
            r.push(o.r, o.g, o.b));
        }
        i.addAttribute("position", new I(n, 3)),
          i.addAttribute("color", new I(r, 3)),
          (n = new De({
            vertexColors: 2,
            depthTest: !1,
            depthWrite: !1,
            transparent: !0,
          })),
          Ne.call(this, i, n),
          (this.root = t),
          (this.bones = e),
          (this.matrix = t.matrixWorld),
          (this.matrixAutoUpdate = !1);
      }
      function Ur(t, e, i) {
        (this.light = t),
          this.light.updateMatrixWorld(),
          (this.color = i),
          (t = new Oi(e, 4, 2)),
          (e = new W({ wireframe: !0, fog: !1 })),
          X.call(this, t, e),
          (this.matrix = this.light.matrixWorld),
          (this.matrixAutoUpdate = !1),
          this.update();
      }
      function Gr(t, e) {
        b.call(this),
          (this.light = t),
          this.light.updateMatrixWorld(),
          (this.matrix = t.matrixWorld),
          (this.matrixAutoUpdate = !1),
          (this.color = e),
          (t = new De({ fog: !1 })),
          (e = new N()),
          e.addAttribute("position", new E(new Float32Array(15), 3)),
          (this.line = new ke(e, t)),
          this.add(this.line),
          this.update();
      }
      function Vr(t, e, i) {
        b.call(this),
          (this.light = t),
          this.light.updateMatrixWorld(),
          (this.matrix = t.matrixWorld),
          (this.matrixAutoUpdate = !1),
          (this.color = i),
          (t = new Qe(e)),
          t.rotateY(0.5 * Math.PI),
          (this.material = new W({ wireframe: !0, fog: !1 })),
          void 0 === this.color && (this.material.vertexColors = 2),
          (e = t.getAttribute("position")),
          (e = new Float32Array(3 * e.count)),
          t.addAttribute("color", new E(e, 3)),
          this.add(new X(t, this.material)),
          this.update();
      }
      function jr(t, e, i, n) {
        (t = t || 10),
          (e = e || 10),
          (i = new _(void 0 !== i ? i : 4473924)),
          (n = new _(void 0 !== n ? n : 8947848));
        var r = e / 2,
          s = t / e,
          o = t / 2;
        t = [];
        for (var a = [], h = 0, l = 0, u = -o; h <= e; h++, u += s) {
          t.push(-o, 0, u, o, 0, u), t.push(u, 0, -o, u, 0, o);
          var c = h === r ? i : n;
          c.toArray(a, l),
            (l += 3),
            c.toArray(a, l),
            (l += 3),
            c.toArray(a, l),
            (l += 3),
            c.toArray(a, l),
            (l += 3);
        }
        (e = new N()),
          e.addAttribute("position", new I(t, 3)),
          e.addAttribute("color", new I(a, 3)),
          (i = new De({ vertexColors: 2 })),
          Ne.call(this, e, i);
      }
      function Wr(t, e, i, n, r, s) {
        (t = t || 10),
          (e = e || 16),
          (i = i || 8),
          (n = n || 64),
          (r = new _(void 0 !== r ? r : 4473924)),
          (s = new _(void 0 !== s ? s : 8947848));
        var o,
          a = [],
          h = [];
        for (o = 0; o <= e; o++) {
          var l = (o / e) * 2 * Math.PI,
            u = Math.sin(l) * t;
          (l = Math.cos(l) * t), a.push(0, 0, 0), a.push(u, 0, l);
          var c = 1 & o ? r : s;
          h.push(c.r, c.g, c.b), h.push(c.r, c.g, c.b);
        }
        for (o = 0; o <= i; o++) {
          c = 1 & o ? r : s;
          var p = t - (t / i) * o;
          for (e = 0; e < n; e++)
            (l = (e / n) * 2 * Math.PI),
              (u = Math.sin(l) * p),
              (l = Math.cos(l) * p),
              a.push(u, 0, l),
              h.push(c.r, c.g, c.b),
              (l = ((e + 1) / n) * 2 * Math.PI),
              (u = Math.sin(l) * p),
              (l = Math.cos(l) * p),
              a.push(u, 0, l),
              h.push(c.r, c.g, c.b);
        }
        (t = new N()),
          t.addAttribute("position", new I(a, 3)),
          t.addAttribute("color", new I(h, 3)),
          (a = new De({ vertexColors: 2 })),
          Ne.call(this, t, a);
      }
      function Xr(t, e, i, n) {
        (this.object = t),
          (this.size = void 0 !== e ? e : 1),
          (t = void 0 !== i ? i : 16776960),
          (n = void 0 !== n ? n : 1),
          (e = 0),
          (i = this.object.geometry) && i.isGeometry
            ? (e = i.faces.length)
            : console.warn(
                "THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead."
              ),
          (i = new N()),
          (e = new I(6 * e, 3)),
          i.addAttribute("position", e),
          Ne.call(this, i, new De({ color: t, linewidth: n })),
          (this.matrixAutoUpdate = !1),
          this.update();
      }
      function qr(t, e, i) {
        b.call(this),
          (this.light = t),
          this.light.updateMatrixWorld(),
          (this.matrix = t.matrixWorld),
          (this.matrixAutoUpdate = !1),
          (this.color = i),
          void 0 === e && (e = 1),
          (t = new N()),
          t.addAttribute(
            "position",
            new I([-e, e, 0, e, e, 0, e, -e, 0, -e, -e, 0, -e, e, 0], 3)
          ),
          (e = new De({ fog: !1 })),
          (this.lightPlane = new ke(t, e)),
          this.add(this.lightPlane),
          (t = new N()),
          t.addAttribute("position", new I([0, 0, 0, 0, 0, 1], 3)),
          (this.targetLine = new ke(t, e)),
          this.add(this.targetLine),
          this.update();
      }
      function Yr(t) {
        function e(t, e, n) {
          i(t, n), i(e, n);
        }
        function i(t, e) {
          s.push(0, 0, 0),
            o.push(e.r, e.g, e.b),
            void 0 === a[t] && (a[t] = []),
            a[t].push(s.length / 3 - 1);
        }
        var n = new N(),
          r = new De({ color: 16777215, vertexColors: 1 }),
          s = [],
          o = [],
          a = {},
          h = new _(16755200),
          l = new _(16711680),
          u = new _(43775),
          c = new _(16777215),
          p = new _(3355443);
        e("n1", "n2", h),
          e("n2", "n4", h),
          e("n4", "n3", h),
          e("n3", "n1", h),
          e("f1", "f2", h),
          e("f2", "f4", h),
          e("f4", "f3", h),
          e("f3", "f1", h),
          e("n1", "f1", h),
          e("n2", "f2", h),
          e("n3", "f3", h),
          e("n4", "f4", h),
          e("p", "n1", l),
          e("p", "n2", l),
          e("p", "n3", l),
          e("p", "n4", l),
          e("u1", "u2", u),
          e("u2", "u3", u),
          e("u3", "u1", u),
          e("c", "t", c),
          e("p", "c", p),
          e("cn1", "cn2", p),
          e("cn3", "cn4", p),
          e("cf1", "cf2", p),
          e("cf3", "cf4", p),
          n.addAttribute("position", new I(s, 3)),
          n.addAttribute("color", new I(o, 3)),
          Ne.call(this, n, r),
          (this.camera = t),
          this.camera.updateProjectionMatrix &&
            this.camera.updateProjectionMatrix(),
          (this.matrix = t.matrixWorld),
          (this.matrixAutoUpdate = !1),
          (this.pointMap = a),
          this.update();
      }
      function Zr(t, e) {
        (this.object = t),
          void 0 === e && (e = 16776960),
          (t = new Uint16Array([
            0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3,
            7,
          ]));
        var i = new Float32Array(24),
          n = new N();
        n.setIndex(new E(t, 1)),
          n.addAttribute("position", new E(i, 3)),
          Ne.call(this, n, new De({ color: e })),
          (this.matrixAutoUpdate = !1),
          this.update();
      }
      function $r(t, e) {
        (this.type = "Box3Helper"),
          (this.box = t),
          (t = void 0 !== e ? e : 16776960),
          (e = new Uint16Array([
            0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3,
            7,
          ]));
        var i = new N();
        i.setIndex(new E(e, 1)),
          i.addAttribute(
            "position",
            new I(
              [
                1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, -1, -1, 1, -1, -1,
                -1, -1, 1, -1, -1,
              ],
              3
            )
          ),
          Ne.call(this, i, new De({ color: t })),
          this.geometry.computeBoundingSphere();
      }
      function Jr(t, e, i) {
        (this.type = "PlaneHelper"),
          (this.plane = t),
          (this.size = void 0 === e ? 1 : e),
          (t = void 0 !== i ? i : 16776960),
          (e = new N()),
          e.addAttribute(
            "position",
            new I(
              [
                1, -1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, 1, 1, -1, -1, 1, 1,
                -1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0,
              ],
              3
            )
          ),
          e.computeBoundingSphere(),
          ke.call(this, e, new De({ color: t })),
          (e = new N()),
          e.addAttribute(
            "position",
            new I(
              [1, 1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, -1, 1, 1, -1, 1],
              3
            )
          ),
          e.computeBoundingSphere(),
          this.add(
            new X(
              e,
              new W({ color: t, opacity: 0.2, transparent: !0, depthWrite: !1 })
            )
          );
      }
      function Qr(t, e, i, n, r, s) {
        b.call(this),
          void 0 === n && (n = 16776960),
          void 0 === i && (i = 1),
          void 0 === r && (r = 0.2 * i),
          void 0 === s && (s = 0.2 * r),
          void 0 === Ys &&
            ((Ys = new N()),
            Ys.addAttribute("position", new I([0, 0, 0, 0, 1, 0], 3)),
            (Zs = new Vi(0, 0.5, 1, 5, 1)),
            Zs.translate(0, -0.5, 0)),
          this.position.copy(e),
          (this.line = new ke(Ys, new De({ color: n }))),
          (this.line.matrixAutoUpdate = !1),
          this.add(this.line),
          (this.cone = new X(Zs, new W({ color: n }))),
          (this.cone.matrixAutoUpdate = !1),
          this.add(this.cone),
          this.setDirection(t),
          this.setLength(i, r, s);
      }
      function Kr(t) {
        t = t || 1;
        var e = [0, 0, 0, t, 0, 0, 0, 0, 0, 0, t, 0, 0, 0, 0, 0, 0, t];
        (t = new N()),
          t.addAttribute("position", new I(e, 3)),
          t.addAttribute(
            "color",
            new I(
              [1, 0, 0, 1, 0.6, 0, 0, 1, 0, 0.6, 1, 0, 0, 0, 1, 0, 0.6, 1],
              3
            )
          ),
          (e = new De({ vertexColors: 2 })),
          Ne.call(this, t, e);
      }
      function ts(t) {
        console.warn(
          "THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."
        ),
          _n.call(this, t),
          (this.type = "catmullrom"),
          (this.closed = !0);
      }
      function es(t) {
        console.warn(
          "THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."
        ),
          _n.call(this, t),
          (this.type = "catmullrom");
      }
      function is(t) {
        console.warn(
          "THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."
        ),
          _n.call(this, t),
          (this.type = "catmullrom");
      }
      void 0 === Number.EPSILON && (Number.EPSILON = Math.pow(2, -52)),
        void 0 === Number.isInteger &&
          (Number.isInteger = function (t) {
            return "number" == typeof t && isFinite(t) && Math.floor(t) === t;
          }),
        void 0 === Math.sign &&
          (Math.sign = function (t) {
            return 0 > t ? -1 : 0 < t ? 1 : +t;
          }),
        !1 == "name" in Function.prototype &&
          Object.defineProperty(Function.prototype, "name", {
            get: function () {
              return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1];
            },
          }),
        void 0 === Object.assign &&
          (function () {
            Object.assign = function (t) {
              if (void 0 === t || null === t)
                throw new TypeError(
                  "Cannot convert undefined or null to object"
                );
              for (var e = Object(t), i = 1; i < arguments.length; i++) {
                var n = arguments[i];
                if (void 0 !== n && null !== n)
                  for (var r in n)
                    Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);
              }
              return e;
            };
          })(),
        Object.assign(e.prototype, {
          addEventListener: function (t, e) {
            void 0 === this._listeners && (this._listeners = {});
            var i = this._listeners;
            void 0 === i[t] && (i[t] = []),
              -1 === i[t].indexOf(e) && i[t].push(e);
          },
          hasEventListener: function (t, e) {
            if (void 0 === this._listeners) return !1;
            var i = this._listeners;
            return void 0 !== i[t] && -1 !== i[t].indexOf(e);
          },
          removeEventListener: function (t, e) {
            void 0 !== this._listeners &&
              ((t = this._listeners[t]),
              void 0 !== t && ((e = t.indexOf(e)), -1 !== e && t.splice(e, 1)));
          },
          dispatchEvent: function (t) {
            if (void 0 !== this._listeners) {
              var e = this._listeners[t.type];
              if (void 0 !== e) {
                (t.target = this), (e = e.slice(0));
                for (var i = 0, n = e.length; i < n; i++) e[i].call(this, t);
              }
            }
          },
        });
      var ns = {
        DEG2RAD: Math.PI / 180,
        RAD2DEG: 180 / Math.PI,
        generateUUID: (function () {
          for (var t = [], e = 0; 256 > e; e++)
            t[e] = (16 > e ? "0" : "") + e.toString(16);
          return function () {
            var e = (4294967295 * Math.random()) | 0,
              i = (4294967295 * Math.random()) | 0,
              n = (4294967295 * Math.random()) | 0,
              r = (4294967295 * Math.random()) | 0;
            return (
              t[255 & e] +
              t[(e >> 8) & 255] +
              t[(e >> 16) & 255] +
              t[(e >> 24) & 255] +
              "-" +
              t[255 & i] +
              t[(i >> 8) & 255] +
              "-" +
              t[((i >> 16) & 15) | 64] +
              t[(i >> 24) & 255] +
              "-" +
              t[(63 & n) | 128] +
              t[(n >> 8) & 255] +
              "-" +
              t[(n >> 16) & 255] +
              t[(n >> 24) & 255] +
              t[255 & r] +
              t[(r >> 8) & 255] +
              t[(r >> 16) & 255] +
              t[(r >> 24) & 255]
            ).toUpperCase();
          };
        })(),
        clamp: function (t, e, i) {
          return Math.max(e, Math.min(i, t));
        },
        euclideanModulo: function (t, e) {
          return ((t % e) + e) % e;
        },
        mapLinear: function (t, e, i, n, r) {
          return n + ((t - e) * (r - n)) / (i - e);
        },
        lerp: function (t, e, i) {
          return (1 - i) * t + i * e;
        },
        smoothstep: function (t, e, i) {
          return t <= e
            ? 0
            : t >= i
            ? 1
            : ((t = (t - e) / (i - e)), t * t * (3 - 2 * t));
        },
        smootherstep: function (t, e, i) {
          return t <= e
            ? 0
            : t >= i
            ? 1
            : ((t = (t - e) / (i - e)), t * t * t * (t * (6 * t - 15) + 10));
        },
        randInt: function (t, e) {
          return t + Math.floor(Math.random() * (e - t + 1));
        },
        randFloat: function (t, e) {
          return t + Math.random() * (e - t);
        },
        randFloatSpread: function (t) {
          return t * (0.5 - Math.random());
        },
        degToRad: function (t) {
          return t * ns.DEG2RAD;
        },
        radToDeg: function (t) {
          return t * ns.RAD2DEG;
        },
        isPowerOfTwo: function (t) {
          return 0 === (t & (t - 1)) && 0 !== t;
        },
        ceilPowerOfTwo: function (t) {
          return Math.pow(2, Math.ceil(Math.log(t) / Math.LN2));
        },
        floorPowerOfTwo: function (t) {
          return Math.pow(2, Math.floor(Math.log(t) / Math.LN2));
        },
      };
      Object.defineProperties(i.prototype, {
        width: {
          get: function () {
            return this.x;
          },
          set: function (t) {
            this.x = t;
          },
        },
        height: {
          get: function () {
            return this.y;
          },
          set: function (t) {
            this.y = t;
          },
        },
      }),
        Object.assign(i.prototype, {
          isVector2: !0,
          set: function (t, e) {
            return (this.x = t), (this.y = e), this;
          },
          setScalar: function (t) {
            return (this.y = this.x = t), this;
          },
          setX: function (t) {
            return (this.x = t), this;
          },
          setY: function (t) {
            return (this.y = t), this;
          },
          setComponent: function (t, e) {
            switch (t) {
              case 0:
                this.x = e;
                break;
              case 1:
                this.y = e;
                break;
              default:
                throw Error("index is out of range: " + t);
            }
            return this;
          },
          getComponent: function (t) {
            switch (t) {
              case 0:
                return this.x;
              case 1:
                return this.y;
              default:
                throw Error("index is out of range: " + t);
            }
          },
          clone: function () {
            return new this.constructor(this.x, this.y);
          },
          copy: function (t) {
            return (this.x = t.x), (this.y = t.y), this;
          },
          add: function (t, e) {
            return void 0 !== e
              ? (console.warn(
                  "THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."
                ),
                this.addVectors(t, e))
              : ((this.x += t.x), (this.y += t.y), this);
          },
          addScalar: function (t) {
            return (this.x += t), (this.y += t), this;
          },
          addVectors: function (t, e) {
            return (this.x = t.x + e.x), (this.y = t.y + e.y), this;
          },
          addScaledVector: function (t, e) {
            return (this.x += t.x * e), (this.y += t.y * e), this;
          },
          sub: function (t, e) {
            return void 0 !== e
              ? (console.warn(
                  "THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."
                ),
                this.subVectors(t, e))
              : ((this.x -= t.x), (this.y -= t.y), this);
          },
          subScalar: function (t) {
            return (this.x -= t), (this.y -= t), this;
          },
          subVectors: function (t, e) {
            return (this.x = t.x - e.x), (this.y = t.y - e.y), this;
          },
          multiply: function (t) {
            return (this.x *= t.x), (this.y *= t.y), this;
          },
          multiplyScalar: function (t) {
            return (this.x *= t), (this.y *= t), this;
          },
          divide: function (t) {
            return (this.x /= t.x), (this.y /= t.y), this;
          },
          divideScalar: function (t) {
            return this.multiplyScalar(1 / t);
          },
          applyMatrix3: function (t) {
            var e = this.x,
              i = this.y;
            return (
              (t = t.elements),
              (this.x = t[0] * e + t[3] * i + t[6]),
              (this.y = t[1] * e + t[4] * i + t[7]),
              this
            );
          },
          min: function (t) {
            return (
              (this.x = Math.min(this.x, t.x)),
              (this.y = Math.min(this.y, t.y)),
              this
            );
          },
          max: function (t) {
            return (
              (this.x = Math.max(this.x, t.x)),
              (this.y = Math.max(this.y, t.y)),
              this
            );
          },
          clamp: function (t, e) {
            return (
              (this.x = Math.max(t.x, Math.min(e.x, this.x))),
              (this.y = Math.max(t.y, Math.min(e.y, this.y))),
              this
            );
          },
          clampScalar: (function () {
            var t = new i(),
              e = new i();
            return function (i, n) {
              return t.set(i, i), e.set(n, n), this.clamp(t, e);
            };
          })(),
          clampLength: function (t, e) {
            var i = this.length();
            return this.divideScalar(i || 1).multiplyScalar(
              Math.max(t, Math.min(e, i))
            );
          },
          floor: function () {
            return (
              (this.x = Math.floor(this.x)), (this.y = Math.floor(this.y)), this
            );
          },
          ceil: function () {
            return (
              (this.x = Math.ceil(this.x)), (this.y = Math.ceil(this.y)), this
            );
          },
          round: function () {
            return (
              (this.x = Math.round(this.x)), (this.y = Math.round(this.y)), this
            );
          },
          roundToZero: function () {
            return (
              (this.x = 0 > this.x ? Math.ceil(this.x) : Math.floor(this.x)),
              (this.y = 0 > this.y ? Math.ceil(this.y) : Math.floor(this.y)),
              this
            );
          },
          negate: function () {
            return (this.x = -this.x), (this.y = -this.y), this;
          },
          dot: function (t) {
            return this.x * t.x + this.y * t.y;
          },
          cross: function (t) {
            return this.x * t.y - this.y * t.x;
          },
          lengthSq: function () {
            return this.x * this.x + this.y * this.y;
          },
          length: function () {
            return Math.sqrt(this.x * this.x + this.y * this.y);
          },
          manhattanLength: function () {
            return Math.abs(this.x) + Math.abs(this.y);
          },
          normalize: function () {
            return this.divideScalar(this.length() || 1);
          },
          angle: function () {
            var t = Math.atan2(this.y, this.x);
            return 0 > t && (t += 2 * Math.PI), t;
          },
          distanceTo: function (t) {
            return Math.sqrt(this.distanceToSquared(t));
          },
          distanceToSquared: function (t) {
            var e = this.x - t.x;
            return (t = this.y - t.y), e * e + t * t;
          },
          manhattanDistanceTo: function (t) {
            return Math.abs(this.x - t.x) + Math.abs(this.y - t.y);
          },
          setLength: function (t) {
            return this.normalize().multiplyScalar(t);
          },
          lerp: function (t, e) {
            return (
              (this.x += (t.x - this.x) * e),
              (this.y += (t.y - this.y) * e),
              this
            );
          },
          lerpVectors: function (t, e, i) {
            return this.subVectors(e, t).multiplyScalar(i).add(t);
          },
          equals: function (t) {
            return t.x === this.x && t.y === this.y;
          },
          fromArray: function (t, e) {
            return (
              void 0 === e && (e = 0),
              (this.x = t[e]),
              (this.y = t[e + 1]),
              this
            );
          },
          toArray: function (t, e) {
            return (
              void 0 === t && (t = []),
              void 0 === e && (e = 0),
              (t[e] = this.x),
              (t[e + 1] = this.y),
              t
            );
          },
          fromBufferAttribute: function (t, e, i) {
            return (
              void 0 !== i &&
                console.warn(
                  "THREE.Vector2: offset has been removed from .fromBufferAttribute()."
                ),
              (this.x = t.getX(e)),
              (this.y = t.getY(e)),
              this
            );
          },
          rotateAround: function (t, e) {
            var i = Math.cos(e);
            e = Math.sin(e);
            var n = this.x - t.x,
              r = this.y - t.y;
            return (
              (this.x = n * i - r * e + t.x),
              (this.y = n * e + r * i + t.y),
              this
            );
          },
        }),
        Object.assign(n.prototype, {
          isMatrix4: !0,
          set: function (t, e, i, n, r, s, o, a, h, l, u, c, p, d, f, m) {
            var _ = this.elements;
            return (
              (_[0] = t),
              (_[4] = e),
              (_[8] = i),
              (_[12] = n),
              (_[1] = r),
              (_[5] = s),
              (_[9] = o),
              (_[13] = a),
              (_[2] = h),
              (_[6] = l),
              (_[10] = u),
              (_[14] = c),
              (_[3] = p),
              (_[7] = d),
              (_[11] = f),
              (_[15] = m),
              this
            );
          },
          identity: function () {
            return (
              this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), this
            );
          },
          clone: function () {
            return new n().fromArray(this.elements);
          },
          copy: function (t) {
            var e = this.elements;
            return (
              (t = t.elements),
              (e[0] = t[0]),
              (e[1] = t[1]),
              (e[2] = t[2]),
              (e[3] = t[3]),
              (e[4] = t[4]),
              (e[5] = t[5]),
              (e[6] = t[6]),
              (e[7] = t[7]),
              (e[8] = t[8]),
              (e[9] = t[9]),
              (e[10] = t[10]),
              (e[11] = t[11]),
              (e[12] = t[12]),
              (e[13] = t[13]),
              (e[14] = t[14]),
              (e[15] = t[15]),
              this
            );
          },
          copyPosition: function (t) {
            var e = this.elements;
            return (
              (t = t.elements),
              (e[12] = t[12]),
              (e[13] = t[13]),
              (e[14] = t[14]),
              this
            );
          },
          extractBasis: function (t, e, i) {
            return (
              t.setFromMatrixColumn(this, 0),
              e.setFromMatrixColumn(this, 1),
              i.setFromMatrixColumn(this, 2),
              this
            );
          },
          makeBasis: function (t, e, i) {
            return (
              this.set(
                t.x,
                e.x,
                i.x,
                0,
                t.y,
                e.y,
                i.y,
                0,
                t.z,
                e.z,
                i.z,
                0,
                0,
                0,
                0,
                1
              ),
              this
            );
          },
          extractRotation: (function () {
            var t = new s();
            return function (e) {
              var i = this.elements,
                n = e.elements,
                r = 1 / t.setFromMatrixColumn(e, 0).length(),
                s = 1 / t.setFromMatrixColumn(e, 1).length();
              return (
                (e = 1 / t.setFromMatrixColumn(e, 2).length()),
                (i[0] = n[0] * r),
                (i[1] = n[1] * r),
                (i[2] = n[2] * r),
                (i[3] = 0),
                (i[4] = n[4] * s),
                (i[5] = n[5] * s),
                (i[6] = n[6] * s),
                (i[7] = 0),
                (i[8] = n[8] * e),
                (i[9] = n[9] * e),
                (i[10] = n[10] * e),
                (i[11] = 0),
                (i[12] = 0),
                (i[13] = 0),
                (i[14] = 0),
                (i[15] = 1),
                this
              );
            };
          })(),
          makeRotationFromEuler: function (t) {
            (t && t.isEuler) ||
              console.error(
                "THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order."
              );
            var e = this.elements,
              i = t.x,
              n = t.y,
              r = t.z,
              s = Math.cos(i);
            i = Math.sin(i);
            var o = Math.cos(n);
            n = Math.sin(n);
            var a = Math.cos(r);
            if (((r = Math.sin(r)), "XYZ" === t.order)) {
              t = s * a;
              var h = s * r,
                l = i * a,
                u = i * r;
              (e[0] = o * a),
                (e[4] = -o * r),
                (e[8] = n),
                (e[1] = h + l * n),
                (e[5] = t - u * n),
                (e[9] = -i * o),
                (e[2] = u - t * n),
                (e[6] = l + h * n),
                (e[10] = s * o);
            } else
              "YXZ" === t.order
                ? ((t = o * a),
                  (h = o * r),
                  (l = n * a),
                  (u = n * r),
                  (e[0] = t + u * i),
                  (e[4] = l * i - h),
                  (e[8] = s * n),
                  (e[1] = s * r),
                  (e[5] = s * a),
                  (e[9] = -i),
                  (e[2] = h * i - l),
                  (e[6] = u + t * i),
                  (e[10] = s * o))
                : "ZXY" === t.order
                ? ((t = o * a),
                  (h = o * r),
                  (l = n * a),
                  (u = n * r),
                  (e[0] = t - u * i),
                  (e[4] = -s * r),
                  (e[8] = l + h * i),
                  (e[1] = h + l * i),
                  (e[5] = s * a),
                  (e[9] = u - t * i),
                  (e[2] = -s * n),
                  (e[6] = i),
                  (e[10] = s * o))
                : "ZYX" === t.order
                ? ((t = s * a),
                  (h = s * r),
                  (l = i * a),
                  (u = i * r),
                  (e[0] = o * a),
                  (e[4] = l * n - h),
                  (e[8] = t * n + u),
                  (e[1] = o * r),
                  (e[5] = u * n + t),
                  (e[9] = h * n - l),
                  (e[2] = -n),
                  (e[6] = i * o),
                  (e[10] = s * o))
                : "YZX" === t.order
                ? ((t = s * o),
                  (h = s * n),
                  (l = i * o),
                  (u = i * n),
                  (e[0] = o * a),
                  (e[4] = u - t * r),
                  (e[8] = l * r + h),
                  (e[1] = r),
                  (e[5] = s * a),
                  (e[9] = -i * a),
                  (e[2] = -n * a),
                  (e[6] = h * r + l),
                  (e[10] = t - u * r))
                : "XZY" === t.order &&
                  ((t = s * o),
                  (h = s * n),
                  (l = i * o),
                  (u = i * n),
                  (e[0] = o * a),
                  (e[4] = -r),
                  (e[8] = n * a),
                  (e[1] = t * r + u),
                  (e[5] = s * a),
                  (e[9] = h * r - l),
                  (e[2] = l * r - h),
                  (e[6] = i * a),
                  (e[10] = u * r + t));
            return (
              (e[3] = 0),
              (e[7] = 0),
              (e[11] = 0),
              (e[12] = 0),
              (e[13] = 0),
              (e[14] = 0),
              (e[15] = 1),
              this
            );
          },
          makeRotationFromQuaternion: (function () {
            var t = new s(0, 0, 0),
              e = new s(1, 1, 1);
            return function (i) {
              return this.compose(t, i, e);
            };
          })(),
          lookAt: (function () {
            var t = new s(),
              e = new s(),
              i = new s();
            return function (n, r, s) {
              var o = this.elements;
              return (
                i.subVectors(n, r),
                0 === i.lengthSq() && (i.z = 1),
                i.normalize(),
                t.crossVectors(s, i),
                0 === t.lengthSq() &&
                  (1 === Math.abs(s.z) ? (i.x += 1e-4) : (i.z += 1e-4),
                  i.normalize(),
                  t.crossVectors(s, i)),
                t.normalize(),
                e.crossVectors(i, t),
                (o[0] = t.x),
                (o[4] = e.x),
                (o[8] = i.x),
                (o[1] = t.y),
                (o[5] = e.y),
                (o[9] = i.y),
                (o[2] = t.z),
                (o[6] = e.z),
                (o[10] = i.z),
                this
              );
            };
          })(),
          multiply: function (t, e) {
            return void 0 !== e
              ? (console.warn(
                  "THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."
                ),
                this.multiplyMatrices(t, e))
              : this.multiplyMatrices(this, t);
          },
          premultiply: function (t) {
            return this.multiplyMatrices(t, this);
          },
          multiplyMatrices: function (t, e) {
            var i = t.elements,
              n = e.elements;
            (e = this.elements), (t = i[0]);
            var r = i[4],
              s = i[8],
              o = i[12],
              a = i[1],
              h = i[5],
              l = i[9],
              u = i[13],
              c = i[2],
              p = i[6],
              d = i[10],
              f = i[14],
              m = i[3],
              _ = i[7],
              g = i[11];
            i = i[15];
            var v = n[0],
              y = n[4],
              x = n[8],
              w = n[12],
              b = n[1],
              T = n[5],
              E = n[9],
              S = n[13],
              M = n[2],
              C = n[6],
              P = n[10],
              A = n[14],
              R = n[3],
              L = n[7],
              I = n[11];
            return (
              (n = n[15]),
              (e[0] = t * v + r * b + s * M + o * R),
              (e[4] = t * y + r * T + s * C + o * L),
              (e[8] = t * x + r * E + s * P + o * I),
              (e[12] = t * w + r * S + s * A + o * n),
              (e[1] = a * v + h * b + l * M + u * R),
              (e[5] = a * y + h * T + l * C + u * L),
              (e[9] = a * x + h * E + l * P + u * I),
              (e[13] = a * w + h * S + l * A + u * n),
              (e[2] = c * v + p * b + d * M + f * R),
              (e[6] = c * y + p * T + d * C + f * L),
              (e[10] = c * x + p * E + d * P + f * I),
              (e[14] = c * w + p * S + d * A + f * n),
              (e[3] = m * v + _ * b + g * M + i * R),
              (e[7] = m * y + _ * T + g * C + i * L),
              (e[11] = m * x + _ * E + g * P + i * I),
              (e[15] = m * w + _ * S + g * A + i * n),
              this
            );
          },
          multiplyScalar: function (t) {
            var e = this.elements;
            return (
              (e[0] *= t),
              (e[4] *= t),
              (e[8] *= t),
              (e[12] *= t),
              (e[1] *= t),
              (e[5] *= t),
              (e[9] *= t),
              (e[13] *= t),
              (e[2] *= t),
              (e[6] *= t),
              (e[10] *= t),
              (e[14] *= t),
              (e[3] *= t),
              (e[7] *= t),
              (e[11] *= t),
              (e[15] *= t),
              this
            );
          },
          applyToBufferAttribute: (function () {
            var t = new s();
            return function (e) {
              for (var i = 0, n = e.count; i < n; i++)
                (t.x = e.getX(i)),
                  (t.y = e.getY(i)),
                  (t.z = e.getZ(i)),
                  t.applyMatrix4(this),
                  e.setXYZ(i, t.x, t.y, t.z);
              return e;
            };
          })(),
          determinant: function () {
            var t = this.elements,
              e = t[0],
              i = t[4],
              n = t[8],
              r = t[12],
              s = t[1],
              o = t[5],
              a = t[9],
              h = t[13],
              l = t[2],
              u = t[6],
              c = t[10],
              p = t[14];
            return (
              t[3] *
                (+r * a * u -
                  n * h * u -
                  r * o * c +
                  i * h * c +
                  n * o * p -
                  i * a * p) +
              t[7] *
                (+e * a * p -
                  e * h * c +
                  r * s * c -
                  n * s * p +
                  n * h * l -
                  r * a * l) +
              t[11] *
                (+e * h * u -
                  e * o * p -
                  r * s * u +
                  i * s * p +
                  r * o * l -
                  i * h * l) +
              t[15] *
                (-n * o * l -
                  e * a * u +
                  e * o * c +
                  n * s * u -
                  i * s * c +
                  i * a * l)
            );
          },
          transpose: function () {
            var t = this.elements,
              e = t[1];
            return (
              (t[1] = t[4]),
              (t[4] = e),
              (e = t[2]),
              (t[2] = t[8]),
              (t[8] = e),
              (e = t[6]),
              (t[6] = t[9]),
              (t[9] = e),
              (e = t[3]),
              (t[3] = t[12]),
              (t[12] = e),
              (e = t[7]),
              (t[7] = t[13]),
              (t[13] = e),
              (e = t[11]),
              (t[11] = t[14]),
              (t[14] = e),
              this
            );
          },
          setPosition: function (t) {
            var e = this.elements;
            return (e[12] = t.x), (e[13] = t.y), (e[14] = t.z), this;
          },
          getInverse: function (t, e) {
            var i = this.elements,
              n = t.elements;
            t = n[0];
            var r = n[1],
              s = n[2],
              o = n[3],
              a = n[4],
              h = n[5],
              l = n[6],
              u = n[7],
              c = n[8],
              p = n[9],
              d = n[10],
              f = n[11],
              m = n[12],
              _ = n[13],
              g = n[14];
            n = n[15];
            var v =
                p * g * u -
                _ * d * u +
                _ * l * f -
                h * g * f -
                p * l * n +
                h * d * n,
              y =
                m * d * u -
                c * g * u -
                m * l * f +
                a * g * f +
                c * l * n -
                a * d * n,
              x =
                c * _ * u -
                m * p * u +
                m * h * f -
                a * _ * f -
                c * h * n +
                a * p * n,
              w =
                m * p * l -
                c * _ * l -
                m * h * d +
                a * _ * d +
                c * h * g -
                a * p * g,
              b = t * v + r * y + s * x + o * w;
            if (0 === b) {
              if (!0 === e)
                throw Error(
                  "THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0"
                );
              return (
                console.warn(
                  "THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0"
                ),
                this.identity()
              );
            }
            return (
              (e = 1 / b),
              (i[0] = v * e),
              (i[1] =
                (_ * d * o -
                  p * g * o -
                  _ * s * f +
                  r * g * f +
                  p * s * n -
                  r * d * n) *
                e),
              (i[2] =
                (h * g * o -
                  _ * l * o +
                  _ * s * u -
                  r * g * u -
                  h * s * n +
                  r * l * n) *
                e),
              (i[3] =
                (p * l * o -
                  h * d * o -
                  p * s * u +
                  r * d * u +
                  h * s * f -
                  r * l * f) *
                e),
              (i[4] = y * e),
              (i[5] =
                (c * g * o -
                  m * d * o +
                  m * s * f -
                  t * g * f -
                  c * s * n +
                  t * d * n) *
                e),
              (i[6] =
                (m * l * o -
                  a * g * o -
                  m * s * u +
                  t * g * u +
                  a * s * n -
                  t * l * n) *
                e),
              (i[7] =
                (a * d * o -
                  c * l * o +
                  c * s * u -
                  t * d * u -
                  a * s * f +
                  t * l * f) *
                e),
              (i[8] = x * e),
              (i[9] =
                (m * p * o -
                  c * _ * o -
                  m * r * f +
                  t * _ * f +
                  c * r * n -
                  t * p * n) *
                e),
              (i[10] =
                (a * _ * o -
                  m * h * o +
                  m * r * u -
                  t * _ * u -
                  a * r * n +
                  t * h * n) *
                e),
              (i[11] =
                (c * h * o -
                  a * p * o -
                  c * r * u +
                  t * p * u +
                  a * r * f -
                  t * h * f) *
                e),
              (i[12] = w * e),
              (i[13] =
                (c * _ * s -
                  m * p * s +
                  m * r * d -
                  t * _ * d -
                  c * r * g +
                  t * p * g) *
                e),
              (i[14] =
                (m * h * s -
                  a * _ * s -
                  m * r * l +
                  t * _ * l +
                  a * r * g -
                  t * h * g) *
                e),
              (i[15] =
                (a * p * s -
                  c * h * s +
                  c * r * l -
                  t * p * l -
                  a * r * d +
                  t * h * d) *
                e),
              this
            );
          },
          scale: function (t) {
            var e = this.elements,
              i = t.x,
              n = t.y;
            return (
              (t = t.z),
              (e[0] *= i),
              (e[4] *= n),
              (e[8] *= t),
              (e[1] *= i),
              (e[5] *= n),
              (e[9] *= t),
              (e[2] *= i),
              (e[6] *= n),
              (e[10] *= t),
              (e[3] *= i),
              (e[7] *= n),
              (e[11] *= t),
              this
            );
          },
          getMaxScaleOnAxis: function () {
            var t = this.elements;
            return Math.sqrt(
              Math.max(
                t[0] * t[0] + t[1] * t[1] + t[2] * t[2],
                t[4] * t[4] + t[5] * t[5] + t[6] * t[6],
                t[8] * t[8] + t[9] * t[9] + t[10] * t[10]
              )
            );
          },
          makeTranslation: function (t, e, i) {
            return (
              this.set(1, 0, 0, t, 0, 1, 0, e, 0, 0, 1, i, 0, 0, 0, 1), this
            );
          },
          makeRotationX: function (t) {
            var e = Math.cos(t);
            return (
              (t = Math.sin(t)),
              this.set(1, 0, 0, 0, 0, e, -t, 0, 0, t, e, 0, 0, 0, 0, 1),
              this
            );
          },
          makeRotationY: function (t) {
            var e = Math.cos(t);
            return (
              (t = Math.sin(t)),
              this.set(e, 0, t, 0, 0, 1, 0, 0, -t, 0, e, 0, 0, 0, 0, 1),
              this
            );
          },
          makeRotationZ: function (t) {
            var e = Math.cos(t);
            return (
              (t = Math.sin(t)),
              this.set(e, -t, 0, 0, t, e, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1),
              this
            );
          },
          makeRotationAxis: function (t, e) {
            var i = Math.cos(e);
            e = Math.sin(e);
            var n = 1 - i,
              r = t.x,
              s = t.y;
            t = t.z;
            var o = n * r,
              a = n * s;
            return (
              this.set(
                o * r + i,
                o * s - e * t,
                o * t + e * s,
                0,
                o * s + e * t,
                a * s + i,
                a * t - e * r,
                0,
                o * t - e * s,
                a * t + e * r,
                n * t * t + i,
                0,
                0,
                0,
                0,
                1
              ),
              this
            );
          },
          makeScale: function (t, e, i) {
            return (
              this.set(t, 0, 0, 0, 0, e, 0, 0, 0, 0, i, 0, 0, 0, 0, 1), this
            );
          },
          makeShear: function (t, e, i) {
            return (
              this.set(1, e, i, 0, t, 1, i, 0, t, e, 1, 0, 0, 0, 0, 1), this
            );
          },
          compose: function (t, e, i) {
            var n = this.elements,
              r = e._x,
              s = e._y,
              o = e._z,
              a = e._w,
              h = r + r,
              l = s + s,
              u = o + o;
            e = r * h;
            var c = r * l;
            r *= u;
            var p = s * l;
            (s *= u), (o *= u), (h *= a), (l *= a), (a *= u), (u = i.x);
            var d = i.y;
            return (
              (i = i.z),
              (n[0] = (1 - (p + o)) * u),
              (n[1] = (c + a) * u),
              (n[2] = (r - l) * u),
              (n[3] = 0),
              (n[4] = (c - a) * d),
              (n[5] = (1 - (e + o)) * d),
              (n[6] = (s + h) * d),
              (n[7] = 0),
              (n[8] = (r + l) * i),
              (n[9] = (s - h) * i),
              (n[10] = (1 - (e + p)) * i),
              (n[11] = 0),
              (n[12] = t.x),
              (n[13] = t.y),
              (n[14] = t.z),
              (n[15] = 1),
              this
            );
          },
          decompose: (function () {
            var t = new s(),
              e = new n();
            return function (i, n, r) {
              var s = this.elements,
                o = t.set(s[0], s[1], s[2]).length(),
                a = t.set(s[4], s[5], s[6]).length(),
                h = t.set(s[8], s[9], s[10]).length();
              0 > this.determinant() && (o = -o),
                (i.x = s[12]),
                (i.y = s[13]),
                (i.z = s[14]),
                e.copy(this),
                (i = 1 / o),
                (s = 1 / a);
              var l = 1 / h;
              return (
                (e.elements[0] *= i),
                (e.elements[1] *= i),
                (e.elements[2] *= i),
                (e.elements[4] *= s),
                (e.elements[5] *= s),
                (e.elements[6] *= s),
                (e.elements[8] *= l),
                (e.elements[9] *= l),
                (e.elements[10] *= l),
                n.setFromRotationMatrix(e),
                (r.x = o),
                (r.y = a),
                (r.z = h),
                this
              );
            };
          })(),
          makePerspective: function (t, e, i, n, r, s) {
            void 0 === s &&
              console.warn(
                "THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs."
              );
            var o = this.elements;
            return (
              (o[0] = (2 * r) / (e - t)),
              (o[4] = 0),
              (o[8] = (e + t) / (e - t)),
              (o[12] = 0),
              (o[1] = 0),
              (o[5] = (2 * r) / (i - n)),
              (o[9] = (i + n) / (i - n)),
              (o[13] = 0),
              (o[2] = 0),
              (o[6] = 0),
              (o[10] = -(s + r) / (s - r)),
              (o[14] = (-2 * s * r) / (s - r)),
              (o[3] = 0),
              (o[7] = 0),
              (o[11] = -1),
              (o[15] = 0),
              this
            );
          },
          makeOrthographic: function (t, e, i, n, r, s) {
            var o = this.elements,
              a = 1 / (e - t),
              h = 1 / (i - n),
              l = 1 / (s - r);
            return (
              (o[0] = 2 * a),
              (o[4] = 0),
              (o[8] = 0),
              (o[12] = -((e + t) * a)),
              (o[1] = 0),
              (o[5] = 2 * h),
              (o[9] = 0),
              (o[13] = -((i + n) * h)),
              (o[2] = 0),
              (o[6] = 0),
              (o[10] = -2 * l),
              (o[14] = -((s + r) * l)),
              (o[3] = 0),
              (o[7] = 0),
              (o[11] = 0),
              (o[15] = 1),
              this
            );
          },
          equals: function (t) {
            var e = this.elements;
            t = t.elements;
            for (var i = 0; 16 > i; i++) if (e[i] !== t[i]) return !1;
            return !0;
          },
          fromArray: function (t, e) {
            void 0 === e && (e = 0);
            for (var i = 0; 16 > i; i++) this.elements[i] = t[i + e];
            return this;
          },
          toArray: function (t, e) {
            void 0 === t && (t = []), void 0 === e && (e = 0);
            var i = this.elements;
            return (
              (t[e] = i[0]),
              (t[e + 1] = i[1]),
              (t[e + 2] = i[2]),
              (t[e + 3] = i[3]),
              (t[e + 4] = i[4]),
              (t[e + 5] = i[5]),
              (t[e + 6] = i[6]),
              (t[e + 7] = i[7]),
              (t[e + 8] = i[8]),
              (t[e + 9] = i[9]),
              (t[e + 10] = i[10]),
              (t[e + 11] = i[11]),
              (t[e + 12] = i[12]),
              (t[e + 13] = i[13]),
              (t[e + 14] = i[14]),
              (t[e + 15] = i[15]),
              t
            );
          },
        }),
        Object.assign(r, {
          slerp: function (t, e, i, n) {
            return i.copy(t).slerp(e, n);
          },
          slerpFlat: function (t, e, i, n, r, s, o) {
            var a = i[n + 0],
              h = i[n + 1],
              l = i[n + 2];
            (i = i[n + 3]), (n = r[s + 0]);
            var u = r[s + 1],
              c = r[s + 2];
            if (((r = r[s + 3]), i !== r || a !== n || h !== u || l !== c)) {
              s = 1 - o;
              var p = a * n + h * u + l * c + i * r,
                d = 0 <= p ? 1 : -1,
                f = 1 - p * p;
              f > Number.EPSILON &&
                ((f = Math.sqrt(f)),
                (p = Math.atan2(f, p * d)),
                (s = Math.sin(s * p) / f),
                (o = Math.sin(o * p) / f)),
                (d *= o),
                (a = a * s + n * d),
                (h = h * s + u * d),
                (l = l * s + c * d),
                (i = i * s + r * d),
                s === 1 - o &&
                  ((o = 1 / Math.sqrt(a * a + h * h + l * l + i * i)),
                  (a *= o),
                  (h *= o),
                  (l *= o),
                  (i *= o));
            }
            (t[e] = a), (t[e + 1] = h), (t[e + 2] = l), (t[e + 3] = i);
          },
        }),
        Object.defineProperties(r.prototype, {
          x: {
            get: function () {
              return this._x;
            },
            set: function (t) {
              (this._x = t), this.onChangeCallback();
            },
          },
          y: {
            get: function () {
              return this._y;
            },
            set: function (t) {
              (this._y = t), this.onChangeCallback();
            },
          },
          z: {
            get: function () {
              return this._z;
            },
            set: function (t) {
              (this._z = t), this.onChangeCallback();
            },
          },
          w: {
            get: function () {
              return this._w;
            },
            set: function (t) {
              (this._w = t), this.onChangeCallback();
            },
          },
        }),
        Object.assign(r.prototype, {
          isQuaternion: !0,
          set: function (t, e, i, n) {
            return (
              (this._x = t),
              (this._y = e),
              (this._z = i),
              (this._w = n),
              this.onChangeCallback(),
              this
            );
          },
          clone: function () {
            return new this.constructor(this._x, this._y, this._z, this._w);
          },
          copy: function (t) {
            return (
              (this._x = t.x),
              (this._y = t.y),
              (this._z = t.z),
              (this._w = t.w),
              this.onChangeCallback(),
              this
            );
          },
          setFromEuler: function (t, e) {
            if (!t || !t.isEuler)
              throw Error(
                "THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order."
              );
            var i = t._x,
              n = t._y,
              r = t._z;
            t = t.order;
            var s = Math.cos,
              o = Math.sin,
              a = s(i / 2),
              h = s(n / 2);
            return (
              (s = s(r / 2)),
              (i = o(i / 2)),
              (n = o(n / 2)),
              (r = o(r / 2)),
              "XYZ" === t
                ? ((this._x = i * h * s + a * n * r),
                  (this._y = a * n * s - i * h * r),
                  (this._z = a * h * r + i * n * s),
                  (this._w = a * h * s - i * n * r))
                : "YXZ" === t
                ? ((this._x = i * h * s + a * n * r),
                  (this._y = a * n * s - i * h * r),
                  (this._z = a * h * r - i * n * s),
                  (this._w = a * h * s + i * n * r))
                : "ZXY" === t
                ? ((this._x = i * h * s - a * n * r),
                  (this._y = a * n * s + i * h * r),
                  (this._z = a * h * r + i * n * s),
                  (this._w = a * h * s - i * n * r))
                : "ZYX" === t
                ? ((this._x = i * h * s - a * n * r),
                  (this._y = a * n * s + i * h * r),
                  (this._z = a * h * r - i * n * s),
                  (this._w = a * h * s + i * n * r))
                : "YZX" === t
                ? ((this._x = i * h * s + a * n * r),
                  (this._y = a * n * s + i * h * r),
                  (this._z = a * h * r - i * n * s),
                  (this._w = a * h * s - i * n * r))
                : "XZY" === t &&
                  ((this._x = i * h * s - a * n * r),
                  (this._y = a * n * s - i * h * r),
                  (this._z = a * h * r + i * n * s),
                  (this._w = a * h * s + i * n * r)),
              !1 !== e && this.onChangeCallback(),
              this
            );
          },
          setFromAxisAngle: function (t, e) {
            e /= 2;
            var i = Math.sin(e);
            return (
              (this._x = t.x * i),
              (this._y = t.y * i),
              (this._z = t.z * i),
              (this._w = Math.cos(e)),
              this.onChangeCallback(),
              this
            );
          },
          setFromRotationMatrix: function (t) {
            var e = t.elements,
              i = e[0];
            t = e[4];
            var n = e[8],
              r = e[1],
              s = e[5],
              o = e[9],
              a = e[2],
              h = e[6];
            e = e[10];
            var l = i + s + e;
            return (
              0 < l
                ? ((i = 0.5 / Math.sqrt(l + 1)),
                  (this._w = 0.25 / i),
                  (this._x = (h - o) * i),
                  (this._y = (n - a) * i),
                  (this._z = (r - t) * i))
                : i > s && i > e
                ? ((i = 2 * Math.sqrt(1 + i - s - e)),
                  (this._w = (h - o) / i),
                  (this._x = 0.25 * i),
                  (this._y = (t + r) / i),
                  (this._z = (n + a) / i))
                : s > e
                ? ((i = 2 * Math.sqrt(1 + s - i - e)),
                  (this._w = (n - a) / i),
                  (this._x = (t + r) / i),
                  (this._y = 0.25 * i),
                  (this._z = (o + h) / i))
                : ((i = 2 * Math.sqrt(1 + e - i - s)),
                  (this._w = (r - t) / i),
                  (this._x = (n + a) / i),
                  (this._y = (o + h) / i),
                  (this._z = 0.25 * i)),
              this.onChangeCallback(),
              this
            );
          },
          setFromUnitVectors: (function () {
            var t,
              e = new s();
            return function (i, n) {
              return (
                void 0 === e && (e = new s()),
                (t = i.dot(n) + 1),
                1e-6 > t
                  ? ((t = 0),
                    Math.abs(i.x) > Math.abs(i.z)
                      ? e.set(-i.y, i.x, 0)
                      : e.set(0, -i.z, i.y))
                  : e.crossVectors(i, n),
                (this._x = e.x),
                (this._y = e.y),
                (this._z = e.z),
                (this._w = t),
                this.normalize()
              );
            };
          })(),
          angleTo: function (t) {
            return 2 * Math.acos(Math.abs(ns.clamp(this.dot(t), -1, 1)));
          },
          rotateTowards: function (t, e) {
            var i = this.angleTo(t);
            return 0 === i ? this : (this.slerp(t, Math.min(1, e / i)), this);
          },
          inverse: function () {
            return this.conjugate();
          },
          conjugate: function () {
            return (
              (this._x *= -1),
              (this._y *= -1),
              (this._z *= -1),
              this.onChangeCallback(),
              this
            );
          },
          dot: function (t) {
            return (
              this._x * t._x + this._y * t._y + this._z * t._z + this._w * t._w
            );
          },
          lengthSq: function () {
            return (
              this._x * this._x +
              this._y * this._y +
              this._z * this._z +
              this._w * this._w
            );
          },
          length: function () {
            return Math.sqrt(
              this._x * this._x +
                this._y * this._y +
                this._z * this._z +
                this._w * this._w
            );
          },
          normalize: function () {
            var t = this.length();
            return (
              0 === t
                ? ((this._z = this._y = this._x = 0), (this._w = 1))
                : ((t = 1 / t),
                  (this._x *= t),
                  (this._y *= t),
                  (this._z *= t),
                  (this._w *= t)),
              this.onChangeCallback(),
              this
            );
          },
          multiply: function (t, e) {
            return void 0 !== e
              ? (console.warn(
                  "THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."
                ),
                this.multiplyQuaternions(t, e))
              : this.multiplyQuaternions(this, t);
          },
          premultiply: function (t) {
            return this.multiplyQuaternions(t, this);
          },
          multiplyQuaternions: function (t, e) {
            var i = t._x,
              n = t._y,
              r = t._z;
            t = t._w;
            var s = e._x,
              o = e._y,
              a = e._z;
            return (
              (e = e._w),
              (this._x = i * e + t * s + n * a - r * o),
              (this._y = n * e + t * o + r * s - i * a),
              (this._z = r * e + t * a + i * o - n * s),
              (this._w = t * e - i * s - n * o - r * a),
              this.onChangeCallback(),
              this
            );
          },
          slerp: function (t, e) {
            if (0 === e) return this;
            if (1 === e) return this.copy(t);
            var i = this._x,
              n = this._y,
              r = this._z,
              s = this._w,
              o = s * t._w + i * t._x + n * t._y + r * t._z;
            if (
              (0 > o
                ? ((this._w = -t._w),
                  (this._x = -t._x),
                  (this._y = -t._y),
                  (this._z = -t._z),
                  (o = -o))
                : this.copy(t),
              1 <= o)
            )
              return (
                (this._w = s), (this._x = i), (this._y = n), (this._z = r), this
              );
            if (((t = 1 - o * o), t <= Number.EPSILON))
              return (
                (o = 1 - e),
                (this._w = o * s + e * this._w),
                (this._x = o * i + e * this._x),
                (this._y = o * n + e * this._y),
                (this._z = o * r + e * this._z),
                this.normalize()
              );
            t = Math.sqrt(t);
            var a = Math.atan2(t, o);
            return (
              (o = Math.sin((1 - e) * a) / t),
              (e = Math.sin(e * a) / t),
              (this._w = s * o + this._w * e),
              (this._x = i * o + this._x * e),
              (this._y = n * o + this._y * e),
              (this._z = r * o + this._z * e),
              this.onChangeCallback(),
              this
            );
          },
          equals: function (t) {
            return (
              t._x === this._x &&
              t._y === this._y &&
              t._z === this._z &&
              t._w === this._w
            );
          },
          fromArray: function (t, e) {
            return (
              void 0 === e && (e = 0),
              (this._x = t[e]),
              (this._y = t[e + 1]),
              (this._z = t[e + 2]),
              (this._w = t[e + 3]),
              this.onChangeCallback(),
              this
            );
          },
          toArray: function (t, e) {
            return (
              void 0 === t && (t = []),
              void 0 === e && (e = 0),
              (t[e] = this._x),
              (t[e + 1] = this._y),
              (t[e + 2] = this._z),
              (t[e + 3] = this._w),
              t
            );
          },
          onChange: function (t) {
            return (this.onChangeCallback = t), this;
          },
          onChangeCallback: function () {},
        }),
        Object.assign(s.prototype, {
          isVector3: !0,
          set: function (t, e, i) {
            return (this.x = t), (this.y = e), (this.z = i), this;
          },
          setScalar: function (t) {
            return (this.z = this.y = this.x = t), this;
          },
          setX: function (t) {
            return (this.x = t), this;
          },
          setY: function (t) {
            return (this.y = t), this;
          },
          setZ: function (t) {
            return (this.z = t), this;
          },
          setComponent: function (t, e) {
            switch (t) {
              case 0:
                this.x = e;
                break;
              case 1:
                this.y = e;
                break;
              case 2:
                this.z = e;
                break;
              default:
                throw Error("index is out of range: " + t);
            }
            return this;
          },
          getComponent: function (t) {
            switch (t) {
              case 0:
                return this.x;
              case 1:
                return this.y;
              case 2:
                return this.z;
              default:
                throw Error("index is out of range: " + t);
            }
          },
          clone: function () {
            return new this.constructor(this.x, this.y, this.z);
          },
          copy: function (t) {
            return (this.x = t.x), (this.y = t.y), (this.z = t.z), this;
          },
          add: function (t, e) {
            return void 0 !== e
              ? (console.warn(
                  "THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."
                ),
                this.addVectors(t, e))
              : ((this.x += t.x), (this.y += t.y), (this.z += t.z), this);
          },
          addScalar: function (t) {
            return (this.x += t), (this.y += t), (this.z += t), this;
          },
          addVectors: function (t, e) {
            return (
              (this.x = t.x + e.x),
              (this.y = t.y + e.y),
              (this.z = t.z + e.z),
              this
            );
          },
          addScaledVector: function (t, e) {
            return (
              (this.x += t.x * e),
              (this.y += t.y * e),
              (this.z += t.z * e),
              this
            );
          },
          sub: function (t, e) {
            return void 0 !== e
              ? (console.warn(
                  "THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."
                ),
                this.subVectors(t, e))
              : ((this.x -= t.x), (this.y -= t.y), (this.z -= t.z), this);
          },
          subScalar: function (t) {
            return (this.x -= t), (this.y -= t), (this.z -= t), this;
          },
          subVectors: function (t, e) {
            return (
              (this.x = t.x - e.x),
              (this.y = t.y - e.y),
              (this.z = t.z - e.z),
              this
            );
          },
          multiply: function (t, e) {
            return void 0 !== e
              ? (console.warn(
                  "THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."
                ),
                this.multiplyVectors(t, e))
              : ((this.x *= t.x), (this.y *= t.y), (this.z *= t.z), this);
          },
          multiplyScalar: function (t) {
            return (this.x *= t), (this.y *= t), (this.z *= t), this;
          },
          multiplyVectors: function (t, e) {
            return (
              (this.x = t.x * e.x),
              (this.y = t.y * e.y),
              (this.z = t.z * e.z),
              this
            );
          },
          applyEuler: (function () {
            var t = new r();
            return function (e) {
              return (
                (e && e.isEuler) ||
                  console.error(
                    "THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."
                  ),
                this.applyQuaternion(t.setFromEuler(e))
              );
            };
          })(),
          applyAxisAngle: (function () {
            var t = new r();
            return function (e, i) {
              return this.applyQuaternion(t.setFromAxisAngle(e, i));
            };
          })(),
          applyMatrix3: function (t) {
            var e = this.x,
              i = this.y,
              n = this.z;
            return (
              (t = t.elements),
              (this.x = t[0] * e + t[3] * i + t[6] * n),
              (this.y = t[1] * e + t[4] * i + t[7] * n),
              (this.z = t[2] * e + t[5] * i + t[8] * n),
              this
            );
          },
          applyMatrix4: function (t) {
            var e = this.x,
              i = this.y,
              n = this.z;
            t = t.elements;
            var r = 1 / (t[3] * e + t[7] * i + t[11] * n + t[15]);
            return (
              (this.x = (t[0] * e + t[4] * i + t[8] * n + t[12]) * r),
              (this.y = (t[1] * e + t[5] * i + t[9] * n + t[13]) * r),
              (this.z = (t[2] * e + t[6] * i + t[10] * n + t[14]) * r),
              this
            );
          },
          applyQuaternion: function (t) {
            var e = this.x,
              i = this.y,
              n = this.z,
              r = t.x,
              s = t.y,
              o = t.z;
            t = t.w;
            var a = t * e + s * n - o * i,
              h = t * i + o * e - r * n,
              l = t * n + r * i - s * e;
            return (
              (e = -r * e - s * i - o * n),
              (this.x = a * t + e * -r + h * -o - l * -s),
              (this.y = h * t + e * -s + l * -r - a * -o),
              (this.z = l * t + e * -o + a * -s - h * -r),
              this
            );
          },
          project: function (t) {
            return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(
              t.projectionMatrix
            );
          },
          unproject: (function () {
            var t = new n();
            return function (e) {
              return this.applyMatrix4(
                t.getInverse(e.projectionMatrix)
              ).applyMatrix4(e.matrixWorld);
            };
          })(),
          transformDirection: function (t) {
            var e = this.x,
              i = this.y,
              n = this.z;
            return (
              (t = t.elements),
              (this.x = t[0] * e + t[4] * i + t[8] * n),
              (this.y = t[1] * e + t[5] * i + t[9] * n),
              (this.z = t[2] * e + t[6] * i + t[10] * n),
              this.normalize()
            );
          },
          divide: function (t) {
            return (this.x /= t.x), (this.y /= t.y), (this.z /= t.z), this;
          },
          divideScalar: function (t) {
            return this.multiplyScalar(1 / t);
          },
          min: function (t) {
            return (
              (this.x = Math.min(this.x, t.x)),
              (this.y = Math.min(this.y, t.y)),
              (this.z = Math.min(this.z, t.z)),
              this
            );
          },
          max: function (t) {
            return (
              (this.x = Math.max(this.x, t.x)),
              (this.y = Math.max(this.y, t.y)),
              (this.z = Math.max(this.z, t.z)),
              this
            );
          },
          clamp: function (t, e) {
            return (
              (this.x = Math.max(t.x, Math.min(e.x, this.x))),
              (this.y = Math.max(t.y, Math.min(e.y, this.y))),
              (this.z = Math.max(t.z, Math.min(e.z, this.z))),
              this
            );
          },
          clampScalar: (function () {
            var t = new s(),
              e = new s();
            return function (i, n) {
              return t.set(i, i, i), e.set(n, n, n), this.clamp(t, e);
            };
          })(),
          clampLength: function (t, e) {
            var i = this.length();
            return this.divideScalar(i || 1).multiplyScalar(
              Math.max(t, Math.min(e, i))
            );
          },
          floor: function () {
            return (
              (this.x = Math.floor(this.x)),
              (this.y = Math.floor(this.y)),
              (this.z = Math.floor(this.z)),
              this
            );
          },
          ceil: function () {
            return (
              (this.x = Math.ceil(this.x)),
              (this.y = Math.ceil(this.y)),
              (this.z = Math.ceil(this.z)),
              this
            );
          },
          round: function () {
            return (
              (this.x = Math.round(this.x)),
              (this.y = Math.round(this.y)),
              (this.z = Math.round(this.z)),
              this
            );
          },
          roundToZero: function () {
            return (
              (this.x = 0 > this.x ? Math.ceil(this.x) : Math.floor(this.x)),
              (this.y = 0 > this.y ? Math.ceil(this.y) : Math.floor(this.y)),
              (this.z = 0 > this.z ? Math.ceil(this.z) : Math.floor(this.z)),
              this
            );
          },
          negate: function () {
            return (
              (this.x = -this.x), (this.y = -this.y), (this.z = -this.z), this
            );
          },
          dot: function (t) {
            return this.x * t.x + this.y * t.y + this.z * t.z;
          },
          lengthSq: function () {
            return this.x * this.x + this.y * this.y + this.z * this.z;
          },
          length: function () {
            return Math.sqrt(
              this.x * this.x + this.y * this.y + this.z * this.z
            );
          },
          manhattanLength: function () {
            return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z);
          },
          normalize: function () {
            return this.divideScalar(this.length() || 1);
          },
          setLength: function (t) {
            return this.normalize().multiplyScalar(t);
          },
          lerp: function (t, e) {
            return (
              (this.x += (t.x - this.x) * e),
              (this.y += (t.y - this.y) * e),
              (this.z += (t.z - this.z) * e),
              this
            );
          },
          lerpVectors: function (t, e, i) {
            return this.subVectors(e, t).multiplyScalar(i).add(t);
          },
          cross: function (t, e) {
            return void 0 !== e
              ? (console.warn(
                  "THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."
                ),
                this.crossVectors(t, e))
              : this.crossVectors(this, t);
          },
          crossVectors: function (t, e) {
            var i = t.x,
              n = t.y;
            t = t.z;
            var r = e.x,
              s = e.y;
            return (
              (e = e.z),
              (this.x = n * e - t * s),
              (this.y = t * r - i * e),
              (this.z = i * s - n * r),
              this
            );
          },
          projectOnVector: function (t) {
            var e = t.dot(this) / t.lengthSq();
            return this.copy(t).multiplyScalar(e);
          },
          projectOnPlane: (function () {
            var t = new s();
            return function (e) {
              return t.copy(this).projectOnVector(e), this.sub(t);
            };
          })(),
          reflect: (function () {
            var t = new s();
            return function (e) {
              return this.sub(t.copy(e).multiplyScalar(2 * this.dot(e)));
            };
          })(),
          angleTo: function (t) {
            return (
              (t = this.dot(t) / Math.sqrt(this.lengthSq() * t.lengthSq())),
              Math.acos(ns.clamp(t, -1, 1))
            );
          },
          distanceTo: function (t) {
            return Math.sqrt(this.distanceToSquared(t));
          },
          distanceToSquared: function (t) {
            var e = this.x - t.x,
              i = this.y - t.y;
            return (t = this.z - t.z), e * e + i * i + t * t;
          },
          manhattanDistanceTo: function (t) {
            return (
              Math.abs(this.x - t.x) +
              Math.abs(this.y - t.y) +
              Math.abs(this.z - t.z)
            );
          },
          setFromSpherical: function (t) {
            return this.setFromSphericalCoords(t.radius, t.phi, t.theta);
          },
          setFromSphericalCoords: function (t, e, i) {
            var n = Math.sin(e) * t;
            return (
              (this.x = n * Math.sin(i)),
              (this.y = Math.cos(e) * t),
              (this.z = n * Math.cos(i)),
              this
            );
          },
          setFromCylindrical: function (t) {
            return this.setFromCylindricalCoords(t.radius, t.theta, t.y);
          },
          setFromCylindricalCoords: function (t, e, i) {
            return (
              (this.x = t * Math.sin(e)),
              (this.y = i),
              (this.z = t * Math.cos(e)),
              this
            );
          },
          setFromMatrixPosition: function (t) {
            return (
              (t = t.elements),
              (this.x = t[12]),
              (this.y = t[13]),
              (this.z = t[14]),
              this
            );
          },
          setFromMatrixScale: function (t) {
            var e = this.setFromMatrixColumn(t, 0).length(),
              i = this.setFromMatrixColumn(t, 1).length();
            return (
              (t = this.setFromMatrixColumn(t, 2).length()),
              (this.x = e),
              (this.y = i),
              (this.z = t),
              this
            );
          },
          setFromMatrixColumn: function (t, e) {
            return this.fromArray(t.elements, 4 * e);
          },
          equals: function (t) {
            return t.x === this.x && t.y === this.y && t.z === this.z;
          },
          fromArray: function (t, e) {
            return (
              void 0 === e && (e = 0),
              (this.x = t[e]),
              (this.y = t[e + 1]),
              (this.z = t[e + 2]),
              this
            );
          },
          toArray: function (t, e) {
            return (
              void 0 === t && (t = []),
              void 0 === e && (e = 0),
              (t[e] = this.x),
              (t[e + 1] = this.y),
              (t[e + 2] = this.z),
              t
            );
          },
          fromBufferAttribute: function (t, e, i) {
            return (
              void 0 !== i &&
                console.warn(
                  "THREE.Vector3: offset has been removed from .fromBufferAttribute()."
                ),
              (this.x = t.getX(e)),
              (this.y = t.getY(e)),
              (this.z = t.getZ(e)),
              this
            );
          },
        }),
        Object.assign(o.prototype, {
          isMatrix3: !0,
          set: function (t, e, i, n, r, s, o, a, h) {
            var l = this.elements;
            return (
              (l[0] = t),
              (l[1] = n),
              (l[2] = o),
              (l[3] = e),
              (l[4] = r),
              (l[5] = a),
              (l[6] = i),
              (l[7] = s),
              (l[8] = h),
              this
            );
          },
          identity: function () {
            return this.set(1, 0, 0, 0, 1, 0, 0, 0, 1), this;
          },
          clone: function () {
            return new this.constructor().fromArray(this.elements);
          },
          copy: function (t) {
            var e = this.elements;
            return (
              (t = t.elements),
              (e[0] = t[0]),
              (e[1] = t[1]),
              (e[2] = t[2]),
              (e[3] = t[3]),
              (e[4] = t[4]),
              (e[5] = t[5]),
              (e[6] = t[6]),
              (e[7] = t[7]),
              (e[8] = t[8]),
              this
            );
          },
          setFromMatrix4: function (t) {
            return (
              (t = t.elements),
              this.set(t[0], t[4], t[8], t[1], t[5], t[9], t[2], t[6], t[10]),
              this
            );
          },
          applyToBufferAttribute: (function () {
            var t = new s();
            return function (e) {
              for (var i = 0, n = e.count; i < n; i++)
                (t.x = e.getX(i)),
                  (t.y = e.getY(i)),
                  (t.z = e.getZ(i)),
                  t.applyMatrix3(this),
                  e.setXYZ(i, t.x, t.y, t.z);
              return e;
            };
          })(),
          multiply: function (t) {
            return this.multiplyMatrices(this, t);
          },
          premultiply: function (t) {
            return this.multiplyMatrices(t, this);
          },
          multiplyMatrices: function (t, e) {
            var i = t.elements,
              n = e.elements;
            (e = this.elements), (t = i[0]);
            var r = i[3],
              s = i[6],
              o = i[1],
              a = i[4],
              h = i[7],
              l = i[2],
              u = i[5];
            i = i[8];
            var c = n[0],
              p = n[3],
              d = n[6],
              f = n[1],
              m = n[4],
              _ = n[7],
              g = n[2],
              v = n[5];
            return (
              (n = n[8]),
              (e[0] = t * c + r * f + s * g),
              (e[3] = t * p + r * m + s * v),
              (e[6] = t * d + r * _ + s * n),
              (e[1] = o * c + a * f + h * g),
              (e[4] = o * p + a * m + h * v),
              (e[7] = o * d + a * _ + h * n),
              (e[2] = l * c + u * f + i * g),
              (e[5] = l * p + u * m + i * v),
              (e[8] = l * d + u * _ + i * n),
              this
            );
          },
          multiplyScalar: function (t) {
            var e = this.elements;
            return (
              (e[0] *= t),
              (e[3] *= t),
              (e[6] *= t),
              (e[1] *= t),
              (e[4] *= t),
              (e[7] *= t),
              (e[2] *= t),
              (e[5] *= t),
              (e[8] *= t),
              this
            );
          },
          determinant: function () {
            var t = this.elements,
              e = t[0],
              i = t[1],
              n = t[2],
              r = t[3],
              s = t[4],
              o = t[5],
              a = t[6],
              h = t[7];
            return (
              (t = t[8]),
              e * s * t -
                e * o * h -
                i * r * t +
                i * o * a +
                n * r * h -
                n * s * a
            );
          },
          getInverse: function (t, e) {
            t &&
              t.isMatrix4 &&
              console.error(
                "THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument."
              );
            var i = t.elements;
            t = this.elements;
            var n = i[0],
              r = i[1],
              s = i[2],
              o = i[3],
              a = i[4],
              h = i[5],
              l = i[6],
              u = i[7];
            i = i[8];
            var c = i * a - h * u,
              p = h * l - i * o,
              d = u * o - a * l,
              f = n * c + r * p + s * d;
            if (0 === f) {
              if (!0 === e)
                throw Error(
                  "THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0"
                );
              return (
                console.warn(
                  "THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0"
                ),
                this.identity()
              );
            }
            return (
              (e = 1 / f),
              (t[0] = c * e),
              (t[1] = (s * u - i * r) * e),
              (t[2] = (h * r - s * a) * e),
              (t[3] = p * e),
              (t[4] = (i * n - s * l) * e),
              (t[5] = (s * o - h * n) * e),
              (t[6] = d * e),
              (t[7] = (r * l - u * n) * e),
              (t[8] = (a * n - r * o) * e),
              this
            );
          },
          transpose: function () {
            var t = this.elements,
              e = t[1];
            return (
              (t[1] = t[3]),
              (t[3] = e),
              (e = t[2]),
              (t[2] = t[6]),
              (t[6] = e),
              (e = t[5]),
              (t[5] = t[7]),
              (t[7] = e),
              this
            );
          },
          getNormalMatrix: function (t) {
            return this.setFromMatrix4(t).getInverse(this).transpose();
          },
          transposeIntoArray: function (t) {
            var e = this.elements;
            return (
              (t[0] = e[0]),
              (t[1] = e[3]),
              (t[2] = e[6]),
              (t[3] = e[1]),
              (t[4] = e[4]),
              (t[5] = e[7]),
              (t[6] = e[2]),
              (t[7] = e[5]),
              (t[8] = e[8]),
              this
            );
          },
          setUvTransform: function (t, e, i, n, r, s, o) {
            var a = Math.cos(r);
            (r = Math.sin(r)),
              this.set(
                i * a,
                i * r,
                -i * (a * s + r * o) + s + t,
                -n * r,
                n * a,
                -n * (-r * s + a * o) + o + e,
                0,
                0,
                1
              );
          },
          scale: function (t, e) {
            var i = this.elements;
            return (
              (i[0] *= t),
              (i[3] *= t),
              (i[6] *= t),
              (i[1] *= e),
              (i[4] *= e),
              (i[7] *= e),
              this
            );
          },
          rotate: function (t) {
            var e = Math.cos(t);
            t = Math.sin(t);
            var i = this.elements,
              n = i[0],
              r = i[3],
              s = i[6],
              o = i[1],
              a = i[4],
              h = i[7];
            return (
              (i[0] = e * n + t * o),
              (i[3] = e * r + t * a),
              (i[6] = e * s + t * h),
              (i[1] = -t * n + e * o),
              (i[4] = -t * r + e * a),
              (i[7] = -t * s + e * h),
              this
            );
          },
          translate: function (t, e) {
            var i = this.elements;
            return (
              (i[0] += t * i[2]),
              (i[3] += t * i[5]),
              (i[6] += t * i[8]),
              (i[1] += e * i[2]),
              (i[4] += e * i[5]),
              (i[7] += e * i[8]),
              this
            );
          },
          equals: function (t) {
            var e = this.elements;
            t = t.elements;
            for (var i = 0; 9 > i; i++) if (e[i] !== t[i]) return !1;
            return !0;
          },
          fromArray: function (t, e) {
            void 0 === e && (e = 0);
            for (var i = 0; 9 > i; i++) this.elements[i] = t[i + e];
            return this;
          },
          toArray: function (t, e) {
            void 0 === t && (t = []), void 0 === e && (e = 0);
            var i = this.elements;
            return (
              (t[e] = i[0]),
              (t[e + 1] = i[1]),
              (t[e + 2] = i[2]),
              (t[e + 3] = i[3]),
              (t[e + 4] = i[4]),
              (t[e + 5] = i[5]),
              (t[e + 6] = i[6]),
              (t[e + 7] = i[7]),
              (t[e + 8] = i[8]),
              t
            );
          },
        });
      var rs = {
          getDataURL: function (t) {
            if (t instanceof HTMLCanvasElement) var e = t;
            else {
              (e = document.createElementNS(
                "http://www.w3.org/1999/xhtml",
                "canvas"
              )),
                (e.width = t.width),
                (e.height = t.height);
              var i = e.getContext("2d");
              t instanceof ImageData
                ? i.putImageData(t, 0, 0)
                : i.drawImage(t, 0, 0, t.width, t.height);
            }
            return 2048 < e.width || 2048 < e.height
              ? e.toDataURL("image/jpeg", 0.6)
              : e.toDataURL("image/png");
          },
        },
        ss = 0;
      (a.DEFAULT_IMAGE = void 0),
        (a.DEFAULT_MAPPING = 300),
        (a.prototype = Object.assign(Object.create(e.prototype), {
          constructor: a,
          isTexture: !0,
          updateMatrix: function () {
            this.matrix.setUvTransform(
              this.offset.x,
              this.offset.y,
              this.repeat.x,
              this.repeat.y,
              this.rotation,
              this.center.x,
              this.center.y
            );
          },
          clone: function () {
            return new this.constructor().copy(this);
          },
          copy: function (t) {
            return (
              (this.name = t.name),
              (this.image = t.image),
              (this.mipmaps = t.mipmaps.slice(0)),
              (this.mapping = t.mapping),
              (this.wrapS = t.wrapS),
              (this.wrapT = t.wrapT),
              (this.magFilter = t.magFilter),
              (this.minFilter = t.minFilter),
              (this.anisotropy = t.anisotropy),
              (this.format = t.format),
              (this.type = t.type),
              this.offset.copy(t.offset),
              this.repeat.copy(t.repeat),
              this.center.copy(t.center),
              (this.rotation = t.rotation),
              (this.matrixAutoUpdate = t.matrixAutoUpdate),
              this.matrix.copy(t.matrix),
              (this.generateMipmaps = t.generateMipmaps),
              (this.premultiplyAlpha = t.premultiplyAlpha),
              (this.flipY = t.flipY),
              (this.unpackAlignment = t.unpackAlignment),
              (this.encoding = t.encoding),
              this
            );
          },
          toJSON: function (t) {
            var e = void 0 === t || "string" == typeof t;
            if (!e && void 0 !== t.textures[this.uuid])
              return t.textures[this.uuid];
            var i = {
              metadata: {
                version: 4.5,
                type: "Texture",
                generator: "Texture.toJSON",
              },
              uuid: this.uuid,
              name: this.name,
              mapping: this.mapping,
              repeat: [this.repeat.x, this.repeat.y],
              offset: [this.offset.x, this.offset.y],
              center: [this.center.x, this.center.y],
              rotation: this.rotation,
              wrap: [this.wrapS, this.wrapT],
              format: this.format,
              minFilter: this.minFilter,
              magFilter: this.magFilter,
              anisotropy: this.anisotropy,
              flipY: this.flipY,
            };
            if (void 0 !== this.image) {
              var n = this.image;
              if (
                (void 0 === n.uuid && (n.uuid = ns.generateUUID()),
                !e && void 0 === t.images[n.uuid])
              ) {
                if (Array.isArray(n))
                  for (var r = [], s = 0, o = n.length; s < o; s++)
                    r.push(rs.getDataURL(n[s]));
                else r = rs.getDataURL(n);
                t.images[n.uuid] = { uuid: n.uuid, url: r };
              }
              i.image = n.uuid;
            }
            return e || (t.textures[this.uuid] = i), i;
          },
          dispose: function () {
            this.dispatchEvent({ type: "dispose" });
          },
          transformUv: function (t) {
            if (300 !== this.mapping) return t;
            if ((t.applyMatrix3(this.matrix), 0 > t.x || 1 < t.x))
              switch (this.wrapS) {
                case 1e3:
                  t.x -= Math.floor(t.x);
                  break;
                case 1001:
                  t.x = 0 > t.x ? 0 : 1;
                  break;
                case 1002:
                  t.x =
                    1 === Math.abs(Math.floor(t.x) % 2)
                      ? Math.ceil(t.x) - t.x
                      : t.x - Math.floor(t.x);
              }
            if (0 > t.y || 1 < t.y)
              switch (this.wrapT) {
                case 1e3:
                  t.y -= Math.floor(t.y);
                  break;
                case 1001:
                  t.y = 0 > t.y ? 0 : 1;
                  break;
                case 1002:
                  t.y =
                    1 === Math.abs(Math.floor(t.y) % 2)
                      ? Math.ceil(t.y) - t.y
                      : t.y - Math.floor(t.y);
              }
            return this.flipY && (t.y = 1 - t.y), t;
          },
        })),
        Object.defineProperty(a.prototype, "needsUpdate", {
          set: function (t) {
            !0 === t && this.version++;
          },
        }),
        Object.assign(h.prototype, {
          isVector4: !0,
          set: function (t, e, i, n) {
            return (this.x = t), (this.y = e), (this.z = i), (this.w = n), this;
          },
          setScalar: function (t) {
            return (this.w = this.z = this.y = this.x = t), this;
          },
          setX: function (t) {
            return (this.x = t), this;
          },
          setY: function (t) {
            return (this.y = t), this;
          },
          setZ: function (t) {
            return (this.z = t), this;
          },
          setW: function (t) {
            return (this.w = t), this;
          },
          setComponent: function (t, e) {
            switch (t) {
              case 0:
                this.x = e;
                break;
              case 1:
                this.y = e;
                break;
              case 2:
                this.z = e;
                break;
              case 3:
                this.w = e;
                break;
              default:
                throw Error("index is out of range: " + t);
            }
            return this;
          },
          getComponent: function (t) {
            switch (t) {
              case 0:
                return this.x;
              case 1:
                return this.y;
              case 2:
                return this.z;
              case 3:
                return this.w;
              default:
                throw Error("index is out of range: " + t);
            }
          },
          clone: function () {
            return new this.constructor(this.x, this.y, this.z, this.w);
          },
          copy: function (t) {
            return (
              (this.x = t.x),
              (this.y = t.y),
              (this.z = t.z),
              (this.w = void 0 !== t.w ? t.w : 1),
              this
            );
          },
          add: function (t, e) {
            return void 0 !== e
              ? (console.warn(
                  "THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."
                ),
                this.addVectors(t, e))
              : ((this.x += t.x),
                (this.y += t.y),
                (this.z += t.z),
                (this.w += t.w),
                this);
          },
          addScalar: function (t) {
            return (
              (this.x += t), (this.y += t), (this.z += t), (this.w += t), this
            );
          },
          addVectors: function (t, e) {
            return (
              (this.x = t.x + e.x),
              (this.y = t.y + e.y),
              (this.z = t.z + e.z),
              (this.w = t.w + e.w),
              this
            );
          },
          addScaledVector: function (t, e) {
            return (
              (this.x += t.x * e),
              (this.y += t.y * e),
              (this.z += t.z * e),
              (this.w += t.w * e),
              this
            );
          },
          sub: function (t, e) {
            return void 0 !== e
              ? (console.warn(
                  "THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."
                ),
                this.subVectors(t, e))
              : ((this.x -= t.x),
                (this.y -= t.y),
                (this.z -= t.z),
                (this.w -= t.w),
                this);
          },
          subScalar: function (t) {
            return (
              (this.x -= t), (this.y -= t), (this.z -= t), (this.w -= t), this
            );
          },
          subVectors: function (t, e) {
            return (
              (this.x = t.x - e.x),
              (this.y = t.y - e.y),
              (this.z = t.z - e.z),
              (this.w = t.w - e.w),
              this
            );
          },
          multiplyScalar: function (t) {
            return (
              (this.x *= t), (this.y *= t), (this.z *= t), (this.w *= t), this
            );
          },
          applyMatrix4: function (t) {
            var e = this.x,
              i = this.y,
              n = this.z,
              r = this.w;
            return (
              (t = t.elements),
              (this.x = t[0] * e + t[4] * i + t[8] * n + t[12] * r),
              (this.y = t[1] * e + t[5] * i + t[9] * n + t[13] * r),
              (this.z = t[2] * e + t[6] * i + t[10] * n + t[14] * r),
              (this.w = t[3] * e + t[7] * i + t[11] * n + t[15] * r),
              this
            );
          },
          divideScalar: function (t) {
            return this.multiplyScalar(1 / t);
          },
          setAxisAngleFromQuaternion: function (t) {
            this.w = 2 * Math.acos(t.w);
            var e = Math.sqrt(1 - t.w * t.w);
            return (
              1e-4 > e
                ? ((this.x = 1), (this.z = this.y = 0))
                : ((this.x = t.x / e), (this.y = t.y / e), (this.z = t.z / e)),
              this
            );
          },
          setAxisAngleFromRotationMatrix: function (t) {
            t = t.elements;
            var e = t[0],
              i = t[4],
              n = t[8],
              r = t[1],
              s = t[5],
              o = t[9],
              a = t[2],
              h = t[6],
              l = t[10];
            return 0.01 > Math.abs(i - r) &&
              0.01 > Math.abs(n - a) &&
              0.01 > Math.abs(o - h)
              ? 0.1 > Math.abs(i + r) &&
                0.1 > Math.abs(n + a) &&
                0.1 > Math.abs(o + h) &&
                0.1 > Math.abs(e + s + l - 3)
                ? (this.set(1, 0, 0, 0), this)
                : ((t = Math.PI),
                  (e = (e + 1) / 2),
                  (s = (s + 1) / 2),
                  (l = (l + 1) / 2),
                  (i = (i + r) / 4),
                  (n = (n + a) / 4),
                  (o = (o + h) / 4),
                  e > s && e > l
                    ? 0.01 > e
                      ? ((h = 0), (i = a = 0.707106781))
                      : ((h = Math.sqrt(e)), (a = i / h), (i = n / h))
                    : s > l
                    ? 0.01 > s
                      ? ((h = 0.707106781), (a = 0), (i = 0.707106781))
                      : ((a = Math.sqrt(s)), (h = i / a), (i = o / a))
                    : 0.01 > l
                    ? ((a = h = 0.707106781), (i = 0))
                    : ((i = Math.sqrt(l)), (h = n / i), (a = o / i)),
                  this.set(h, a, i, t),
                  this)
              : ((t = Math.sqrt(
                  (h - o) * (h - o) + (n - a) * (n - a) + (r - i) * (r - i)
                )),
                0.001 > Math.abs(t) && (t = 1),
                (this.x = (h - o) / t),
                (this.y = (n - a) / t),
                (this.z = (r - i) / t),
                (this.w = Math.acos((e + s + l - 1) / 2)),
                this);
          },
          min: function (t) {
            return (
              (this.x = Math.min(this.x, t.x)),
              (this.y = Math.min(this.y, t.y)),
              (this.z = Math.min(this.z, t.z)),
              (this.w = Math.min(this.w, t.w)),
              this
            );
          },
          max: function (t) {
            return (
              (this.x = Math.max(this.x, t.x)),
              (this.y = Math.max(this.y, t.y)),
              (this.z = Math.max(this.z, t.z)),
              (this.w = Math.max(this.w, t.w)),
              this
            );
          },
          clamp: function (t, e) {
            return (
              (this.x = Math.max(t.x, Math.min(e.x, this.x))),
              (this.y = Math.max(t.y, Math.min(e.y, this.y))),
              (this.z = Math.max(t.z, Math.min(e.z, this.z))),
              (this.w = Math.max(t.w, Math.min(e.w, this.w))),
              this
            );
          },
          clampScalar: (function () {
            var t, e;
            return function (i, n) {
              return (
                void 0 === t && ((t = new h()), (e = new h())),
                t.set(i, i, i, i),
                e.set(n, n, n, n),
                this.clamp(t, e)
              );
            };
          })(),
          clampLength: function (t, e) {
            var i = this.length();
            return this.divideScalar(i || 1).multiplyScalar(
              Math.max(t, Math.min(e, i))
            );
          },
          floor: function () {
            return (
              (this.x = Math.floor(this.x)),
              (this.y = Math.floor(this.y)),
              (this.z = Math.floor(this.z)),
              (this.w = Math.floor(this.w)),
              this
            );
          },
          ceil: function () {
            return (
              (this.x = Math.ceil(this.x)),
              (this.y = Math.ceil(this.y)),
              (this.z = Math.ceil(this.z)),
              (this.w = Math.ceil(this.w)),
              this
            );
          },
          round: function () {
            return (
              (this.x = Math.round(this.x)),
              (this.y = Math.round(this.y)),
              (this.z = Math.round(this.z)),
              (this.w = Math.round(this.w)),
              this
            );
          },
          roundToZero: function () {
            return (
              (this.x = 0 > this.x ? Math.ceil(this.x) : Math.floor(this.x)),
              (this.y = 0 > this.y ? Math.ceil(this.y) : Math.floor(this.y)),
              (this.z = 0 > this.z ? Math.ceil(this.z) : Math.floor(this.z)),
              (this.w = 0 > this.w ? Math.ceil(this.w) : Math.floor(this.w)),
              this
            );
          },
          negate: function () {
            return (
              (this.x = -this.x),
              (this.y = -this.y),
              (this.z = -this.z),
              (this.w = -this.w),
              this
            );
          },
          dot: function (t) {
            return this.x * t.x + this.y * t.y + this.z * t.z + this.w * t.w;
          },
          lengthSq: function () {
            return (
              this.x * this.x +
              this.y * this.y +
              this.z * this.z +
              this.w * this.w
            );
          },
          length: function () {
            return Math.sqrt(
              this.x * this.x +
                this.y * this.y +
                this.z * this.z +
                this.w * this.w
            );
          },
          manhattanLength: function () {
            return (
              Math.abs(this.x) +
              Math.abs(this.y) +
              Math.abs(this.z) +
              Math.abs(this.w)
            );
          },
          normalize: function () {
            return this.divideScalar(this.length() || 1);
          },
          setLength: function (t) {
            return this.normalize().multiplyScalar(t);
          },
          lerp: function (t, e) {
            return (
              (this.x += (t.x - this.x) * e),
              (this.y += (t.y - this.y) * e),
              (this.z += (t.z - this.z) * e),
              (this.w += (t.w - this.w) * e),
              this
            );
          },
          lerpVectors: function (t, e, i) {
            return this.subVectors(e, t).multiplyScalar(i).add(t);
          },
          equals: function (t) {
            return (
              t.x === this.x &&
              t.y === this.y &&
              t.z === this.z &&
              t.w === this.w
            );
          },
          fromArray: function (t, e) {
            return (
              void 0 === e && (e = 0),
              (this.x = t[e]),
              (this.y = t[e + 1]),
              (this.z = t[e + 2]),
              (this.w = t[e + 3]),
              this
            );
          },
          toArray: function (t, e) {
            return (
              void 0 === t && (t = []),
              void 0 === e && (e = 0),
              (t[e] = this.x),
              (t[e + 1] = this.y),
              (t[e + 2] = this.z),
              (t[e + 3] = this.w),
              t
            );
          },
          fromBufferAttribute: function (t, e, i) {
            return (
              void 0 !== i &&
                console.warn(
                  "THREE.Vector4: offset has been removed from .fromBufferAttribute()."
                ),
              (this.x = t.getX(e)),
              (this.y = t.getY(e)),
              (this.z = t.getZ(e)),
              (this.w = t.getW(e)),
              this
            );
          },
        }),
        (l.prototype = Object.assign(Object.create(e.prototype), {
          constructor: l,
          isWebGLRenderTarget: !0,
          setSize: function (t, e) {
            (this.width === t && this.height === e) ||
              ((this.width = t), (this.height = e), this.dispose()),
              this.viewport.set(0, 0, t, e),
              this.scissor.set(0, 0, t, e);
          },
          clone: function () {
            return new this.constructor().copy(this);
          },
          copy: function (t) {
            return (
              (this.width = t.width),
              (this.height = t.height),
              this.viewport.copy(t.viewport),
              (this.texture = t.texture.clone()),
              (this.depthBuffer = t.depthBuffer),
              (this.stencilBuffer = t.stencilBuffer),
              (this.depthTexture = t.depthTexture),
              this
            );
          },
          dispose: function () {
            this.dispatchEvent({ type: "dispose" });
          },
        })),
        (u.prototype = Object.create(l.prototype)),
        (u.prototype.constructor = u),
        (u.prototype.isWebGLRenderTargetCube = !0),
        (c.prototype = Object.create(a.prototype)),
        (c.prototype.constructor = c),
        (c.prototype.isDataTexture = !0),
        Object.assign(p.prototype, {
          isBox3: !0,
          set: function (t, e) {
            return this.min.copy(t), this.max.copy(e), this;
          },
          setFromArray: function (t) {
            for (
              var e = 1 / 0,
                i = 1 / 0,
                n = 1 / 0,
                r = -(1 / 0),
                s = -(1 / 0),
                o = -(1 / 0),
                a = 0,
                h = t.length;
              a < h;
              a += 3
            ) {
              var l = t[a],
                u = t[a + 1],
                c = t[a + 2];
              l < e && (e = l),
                u < i && (i = u),
                c < n && (n = c),
                l > r && (r = l),
                u > s && (s = u),
                c > o && (o = c);
            }
            return this.min.set(e, i, n), this.max.set(r, s, o), this;
          },
          setFromBufferAttribute: function (t) {
            for (
              var e = 1 / 0,
                i = 1 / 0,
                n = 1 / 0,
                r = -(1 / 0),
                s = -(1 / 0),
                o = -(1 / 0),
                a = 0,
                h = t.count;
              a < h;
              a++
            ) {
              var l = t.getX(a),
                u = t.getY(a),
                c = t.getZ(a);
              l < e && (e = l),
                u < i && (i = u),
                c < n && (n = c),
                l > r && (r = l),
                u > s && (s = u),
                c > o && (o = c);
            }
            return this.min.set(e, i, n), this.max.set(r, s, o), this;
          },
          setFromPoints: function (t) {
            this.makeEmpty();
            for (var e = 0, i = t.length; e < i; e++) this.expandByPoint(t[e]);
            return this;
          },
          setFromCenterAndSize: (function () {
            var t = new s();
            return function (e, i) {
              return (
                (i = t.copy(i).multiplyScalar(0.5)),
                this.min.copy(e).sub(i),
                this.max.copy(e).add(i),
                this
              );
            };
          })(),
          setFromObject: function (t) {
            return this.makeEmpty(), this.expandByObject(t);
          },
          clone: function () {
            return new this.constructor().copy(this);
          },
          copy: function (t) {
            return this.min.copy(t.min), this.max.copy(t.max), this;
          },
          makeEmpty: function () {
            return (
              (this.min.x = this.min.y = this.min.z = 1 / 0),
              (this.max.x = this.max.y = this.max.z = -(1 / 0)),
              this
            );
          },
          isEmpty: function () {
            return (
              this.max.x < this.min.x ||
              this.max.y < this.min.y ||
              this.max.z < this.min.z
            );
          },
          getCenter: function (t) {
            return (
              void 0 === t &&
                (console.warn(
                  "THREE.Box3: .getCenter() target is now required"
                ),
                (t = new s())),
              this.isEmpty()
                ? t.set(0, 0, 0)
                : t.addVectors(this.min, this.max).multiplyScalar(0.5)
            );
          },
          getSize: function (t) {
            return (
              void 0 === t &&
                (console.warn("THREE.Box3: .getSize() target is now required"),
                (t = new s())),
              this.isEmpty() ? t.set(0, 0, 0) : t.subVectors(this.max, this.min)
            );
          },
          expandByPoint: function (t) {
            return this.min.min(t), this.max.max(t), this;
          },
          expandByVector: function (t) {
            return this.min.sub(t), this.max.add(t), this;
          },
          expandByScalar: function (t) {
            return this.min.addScalar(-t), this.max.addScalar(t), this;
          },
          expandByObject: (function () {
            function t(t) {
              var s = t.geometry;
              if (void 0 !== s)
                if (s.isGeometry)
                  for (s = s.vertices, i = 0, n = s.length; i < n; i++)
                    r.copy(s[i]),
                      r.applyMatrix4(t.matrixWorld),
                      e.expandByPoint(r);
                else if (
                  s.isBufferGeometry &&
                  ((s = s.attributes.position), void 0 !== s)
                )
                  for (i = 0, n = s.count; i < n; i++)
                    r.fromBufferAttribute(s, i).applyMatrix4(t.matrixWorld),
                      e.expandByPoint(r);
            }
            var e,
              i,
              n,
              r = new s();
            return function (i) {
              return (e = this), i.updateMatrixWorld(!0), i.traverse(t), this;
            };
          })(),
          containsPoint: function (t) {
            return !(
              t.x < this.min.x ||
              t.x > this.max.x ||
              t.y < this.min.y ||
              t.y > this.max.y ||
              t.z < this.min.z ||
              t.z > this.max.z
            );
          },
          containsBox: function (t) {
            return (
              this.min.x <= t.min.x &&
              t.max.x <= this.max.x &&
              this.min.y <= t.min.y &&
              t.max.y <= this.max.y &&
              this.min.z <= t.min.z &&
              t.max.z <= this.max.z
            );
          },
          getParameter: function (t, e) {
            return (
              void 0 === e &&
                (console.warn(
                  "THREE.Box3: .getParameter() target is now required"
                ),
                (e = new s())),
              e.set(
                (t.x - this.min.x) / (this.max.x - this.min.x),
                (t.y - this.min.y) / (this.max.y - this.min.y),
                (t.z - this.min.z) / (this.max.z - this.min.z)
              )
            );
          },
          intersectsBox: function (t) {
            return !(
              t.max.x < this.min.x ||
              t.min.x > this.max.x ||
              t.max.y < this.min.y ||
              t.min.y > this.max.y ||
              t.max.z < this.min.z ||
              t.min.z > this.max.z
            );
          },
          intersectsSphere: (function () {
            var t = new s();
            return function (e) {
              return (
                this.clampPoint(e.center, t),
                t.distanceToSquared(e.center) <= e.radius * e.radius
              );
            };
          })(),
          intersectsPlane: function (t) {
            if (0 < t.normal.x)
              var e = t.normal.x * this.min.x,
                i = t.normal.x * this.max.x;
            else (e = t.normal.x * this.max.x), (i = t.normal.x * this.min.x);
            return (
              0 < t.normal.y
                ? ((e += t.normal.y * this.min.y),
                  (i += t.normal.y * this.max.y))
                : ((e += t.normal.y * this.max.y),
                  (i += t.normal.y * this.min.y)),
              0 < t.normal.z
                ? ((e += t.normal.z * this.min.z),
                  (i += t.normal.z * this.max.z))
                : ((e += t.normal.z * this.max.z),
                  (i += t.normal.z * this.min.z)),
              e <= -t.constant && i >= -t.constant
            );
          },
          intersectsTriangle: (function () {
            function t(t) {
              var r,
                s = 0;
              for (r = t.length - 3; s <= r; s += 3) {
                h.fromArray(t, s);
                var o =
                    u.x * Math.abs(h.x) +
                    u.y * Math.abs(h.y) +
                    u.z * Math.abs(h.z),
                  a = e.dot(h),
                  l = i.dot(h),
                  c = n.dot(h);
                if (Math.max(-Math.max(a, l, c), Math.min(a, l, c)) > o)
                  return !1;
              }
              return !0;
            }
            var e = new s(),
              i = new s(),
              n = new s(),
              r = new s(),
              o = new s(),
              a = new s(),
              h = new s(),
              l = new s(),
              u = new s(),
              c = new s();
            return function (s) {
              return (
                !this.isEmpty() &&
                (this.getCenter(l),
                u.subVectors(this.max, l),
                e.subVectors(s.a, l),
                i.subVectors(s.b, l),
                n.subVectors(s.c, l),
                r.subVectors(i, e),
                o.subVectors(n, i),
                a.subVectors(e, n),
                (s = [
                  0,
                  -r.z,
                  r.y,
                  0,
                  -o.z,
                  o.y,
                  0,
                  -a.z,
                  a.y,
                  r.z,
                  0,
                  -r.x,
                  o.z,
                  0,
                  -o.x,
                  a.z,
                  0,
                  -a.x,
                  -r.y,
                  r.x,
                  0,
                  -o.y,
                  o.x,
                  0,
                  -a.y,
                  a.x,
                  0,
                ]),
                !!t(s) &&
                  ((s = [1, 0, 0, 0, 1, 0, 0, 0, 1]),
                  !!t(s) &&
                    (c.crossVectors(r, o), (s = [c.x, c.y, c.z]), t(s))))
              );
            };
          })(),
          clampPoint: function (t, e) {
            return (
              void 0 === e &&
                (console.warn(
                  "THREE.Box3: .clampPoint() target is now required"
                ),
                (e = new s())),
              e.copy(t).clamp(this.min, this.max)
            );
          },
          distanceToPoint: (function () {
            var t = new s();
            return function (e) {
              return t.copy(e).clamp(this.min, this.max).sub(e).length();
            };
          })(),
          getBoundingSphere: (function () {
            var t = new s();
            return function (e) {
              return (
                void 0 === e &&
                  (console.warn(
                    "THREE.Box3: .getBoundingSphere() target is now required"
                  ),
                  (e = new d())),
                this.getCenter(e.center),
                (e.radius = 0.5 * this.getSize(t).length()),
                e
              );
            };
          })(),
          intersect: function (t) {
            return (
              this.min.max(t.min),
              this.max.min(t.max),
              this.isEmpty() && this.makeEmpty(),
              this
            );
          },
          union: function (t) {
            return this.min.min(t.min), this.max.max(t.max), this;
          },
          applyMatrix4: (function () {
            var t = [
              new s(),
              new s(),
              new s(),
              new s(),
              new s(),
              new s(),
              new s(),
              new s(),
            ];
            return function (e) {
              return this.isEmpty()
                ? this
                : (t[0].set(this.min.x, this.min.y, this.min.z).applyMatrix4(e),
                  t[1].set(this.min.x, this.min.y, this.max.z).applyMatrix4(e),
                  t[2].set(this.min.x, this.max.y, this.min.z).applyMatrix4(e),
                  t[3].set(this.min.x, this.max.y, this.max.z).applyMatrix4(e),
                  t[4].set(this.max.x, this.min.y, this.min.z).applyMatrix4(e),
                  t[5].set(this.max.x, this.min.y, this.max.z).applyMatrix4(e),
                  t[6].set(this.max.x, this.max.y, this.min.z).applyMatrix4(e),
                  t[7].set(this.max.x, this.max.y, this.max.z).applyMatrix4(e),
                  this.setFromPoints(t),
                  this);
            };
          })(),
          translate: function (t) {
            return this.min.add(t), this.max.add(t), this;
          },
          equals: function (t) {
            return t.min.equals(this.min) && t.max.equals(this.max);
          },
        }),
        Object.assign(d.prototype, {
          set: function (t, e) {
            return this.center.copy(t), (this.radius = e), this;
          },
          setFromPoints: (function () {
            var t = new p();
            return function (e, i) {
              var n = this.center;
              void 0 !== i ? n.copy(i) : t.setFromPoints(e).getCenter(n);
              for (var r = (i = 0), s = e.length; r < s; r++)
                i = Math.max(i, n.distanceToSquared(e[r]));
              return (this.radius = Math.sqrt(i)), this;
            };
          })(),
          clone: function () {
            return new this.constructor().copy(this);
          },
          copy: function (t) {
            return this.center.copy(t.center), (this.radius = t.radius), this;
          },
          empty: function () {
            return 0 >= this.radius;
          },
          containsPoint: function (t) {
            return (
              t.distanceToSquared(this.center) <= this.radius * this.radius
            );
          },
          distanceToPoint: function (t) {
            return t.distanceTo(this.center) - this.radius;
          },
          intersectsSphere: function (t) {
            var e = this.radius + t.radius;
            return t.center.distanceToSquared(this.center) <= e * e;
          },
          intersectsBox: function (t) {
            return t.intersectsSphere(this);
          },
          intersectsPlane: function (t) {
            return Math.abs(t.distanceToPoint(this.center)) <= this.radius;
          },
          clampPoint: function (t, e) {
            var i = this.center.distanceToSquared(t);
            return (
              void 0 === e &&
                (console.warn(
                  "THREE.Sphere: .clampPoint() target is now required"
                ),
                (e = new s())),
              e.copy(t),
              i > this.radius * this.radius &&
                (e.sub(this.center).normalize(),
                e.multiplyScalar(this.radius).add(this.center)),
              e
            );
          },
          getBoundingBox: function (t) {
            return (
              void 0 === t &&
                (console.warn(
                  "THREE.Sphere: .getBoundingBox() target is now required"
                ),
                (t = new p())),
              t.set(this.center, this.center),
              t.expandByScalar(this.radius),
              t
            );
          },
          applyMatrix4: function (t) {
            return (
              this.center.applyMatrix4(t),
              (this.radius *= t.getMaxScaleOnAxis()),
              this
            );
          },
          translate: function (t) {
            return this.center.add(t), this;
          },
          equals: function (t) {
            return t.center.equals(this.center) && t.radius === this.radius;
          },
        }),
        Object.assign(f.prototype, {
          set: function (t, e) {
            return this.normal.copy(t), (this.constant = e), this;
          },
          setComponents: function (t, e, i, n) {
            return this.normal.set(t, e, i), (this.constant = n), this;
          },
          setFromNormalAndCoplanarPoint: function (t, e) {
            return (
              this.normal.copy(t), (this.constant = -e.dot(this.normal)), this
            );
          },
          setFromCoplanarPoints: (function () {
            var t = new s(),
              e = new s();
            return function (i, n, r) {
              return (
                (n = t.subVectors(r, n).cross(e.subVectors(i, n)).normalize()),
                this.setFromNormalAndCoplanarPoint(n, i),
                this
              );
            };
          })(),
          clone: function () {
            return new this.constructor().copy(this);
          },
          copy: function (t) {
            return (
              this.normal.copy(t.normal), (this.constant = t.constant), this
            );
          },
          normalize: function () {
            var t = 1 / this.normal.length();
            return this.normal.multiplyScalar(t), (this.constant *= t), this;
          },
          negate: function () {
            return (this.constant *= -1), this.normal.negate(), this;
          },
          distanceToPoint: function (t) {
            return this.normal.dot(t) + this.constant;
          },
          distanceToSphere: function (t) {
            return this.distanceToPoint(t.center) - t.radius;
          },
          projectPoint: function (t, e) {
            return (
              void 0 === e &&
                (console.warn(
                  "THREE.Plane: .projectPoint() target is now required"
                ),
                (e = new s())),
              e
                .copy(this.normal)
                .multiplyScalar(-this.distanceToPoint(t))
                .add(t)
            );
          },
          intersectLine: (function () {
            var t = new s();
            return function (e, i) {
              void 0 === i &&
                (console.warn(
                  "THREE.Plane: .intersectLine() target is now required"
                ),
                (i = new s()));
              var n = e.delta(t),
                r = this.normal.dot(n);
              if (0 === r) {
                if (0 === this.distanceToPoint(e.start)) return i.copy(e.start);
              } else if (
                ((r = -(e.start.dot(this.normal) + this.constant) / r),
                !(0 > r || 1 < r))
              )
                return i.copy(n).multiplyScalar(r).add(e.start);
            };
          })(),
          intersectsLine: function (t) {
            var e = this.distanceToPoint(t.start);
            return (
              (t = this.distanceToPoint(t.end)),
              (0 > e && 0 < t) || (0 > t && 0 < e)
            );
          },
          intersectsBox: function (t) {
            return t.intersectsPlane(this);
          },
          intersectsSphere: function (t) {
            return t.intersectsPlane(this);
          },
          coplanarPoint: function (t) {
            return (
              void 0 === t &&
                (console.warn(
                  "THREE.Plane: .coplanarPoint() target is now required"
                ),
                (t = new s())),
              t.copy(this.normal).multiplyScalar(-this.constant)
            );
          },
          applyMatrix4: (function () {
            var t = new s(),
              e = new o();
            return function (i, n) {
              return (
                (n = n || e.getNormalMatrix(i)),
                (i = this.coplanarPoint(t).applyMatrix4(i)),
                (n = this.normal.applyMatrix3(n).normalize()),
                (this.constant = -i.dot(n)),
                this
              );
            };
          })(),
          translate: function (t) {
            return (this.constant -= t.dot(this.normal)), this;
          },
          equals: function (t) {
            return t.normal.equals(this.normal) && t.constant === this.constant;
          },
        }),
        Object.assign(m.prototype, {
          set: function (t, e, i, n, r, s) {
            var o = this.planes;
            return (
              o[0].copy(t),
              o[1].copy(e),
              o[2].copy(i),
              o[3].copy(n),
              o[4].copy(r),
              o[5].copy(s),
              this
            );
          },
          clone: function () {
            return new this.constructor().copy(this);
          },
          copy: function (t) {
            for (var e = this.planes, i = 0; 6 > i; i++) e[i].copy(t.planes[i]);
            return this;
          },
          setFromMatrix: function (t) {
            var e = this.planes,
              i = t.elements;
            t = i[0];
            var n = i[1],
              r = i[2],
              s = i[3],
              o = i[4],
              a = i[5],
              h = i[6],
              l = i[7],
              u = i[8],
              c = i[9],
              p = i[10],
              d = i[11],
              f = i[12],
              m = i[13],
              _ = i[14];
            return (
              (i = i[15]),
              e[0].setComponents(s - t, l - o, d - u, i - f).normalize(),
              e[1].setComponents(s + t, l + o, d + u, i + f).normalize(),
              e[2].setComponents(s + n, l + a, d + c, i + m).normalize(),
              e[3].setComponents(s - n, l - a, d - c, i - m).normalize(),
              e[4].setComponents(s - r, l - h, d - p, i - _).normalize(),
              e[5].setComponents(s + r, l + h, d + p, i + _).normalize(),
              this
            );
          },
          intersectsObject: (function () {
            var t = new d();
            return function (e) {
              var i = e.geometry;
              return (
                null === i.boundingSphere && i.computeBoundingSphere(),
                t.copy(i.boundingSphere).applyMatrix4(e.matrixWorld),
                this.intersectsSphere(t)
              );
            };
          })(),
          intersectsSprite: (function () {
            var t = new d();
            return function (e) {
              return (
                t.center.set(0, 0, 0),
                (t.radius = 0.7071067811865476),
                t.applyMatrix4(e.matrixWorld),
                this.intersectsSphere(t)
              );
            };
          })(),
          intersectsSphere: function (t) {
            var e = this.planes,
              i = t.center;
            t = -t.radius;
            for (var n = 0; 6 > n; n++)
              if (e[n].distanceToPoint(i) < t) return !1;
            return !0;
          },
          intersectsBox: (function () {
            var t = new s();
            return function (e) {
              for (var i = this.planes, n = 0; 6 > n; n++) {
                var r = i[n];
                if (
                  ((t.x = 0 < r.normal.x ? e.max.x : e.min.x),
                  (t.y = 0 < r.normal.y ? e.max.y : e.min.y),
                  (t.z = 0 < r.normal.z ? e.max.z : e.min.z),
                  0 > r.distanceToPoint(t))
                )
                  return !1;
              }
              return !0;
            };
          })(),
          containsPoint: function (t) {
            for (var e = this.planes, i = 0; 6 > i; i++)
              if (0 > e[i].distanceToPoint(t)) return !1;
            return !0;
          },
        });
      var os = {
          alphamap_fragment:
            "#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",
          alphamap_pars_fragment:
            "#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",
          alphatest_fragment:
            "#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",
          aomap_fragment:
            "#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",
          aomap_pars_fragment:
            "#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",
          begin_vertex: "\nvec3 transformed = vec3( position );\n",
          beginnormal_vertex: "\nvec3 objectNormal = vec3( normal );\n",
          bsdfs:
            "float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",
          bumpmap_pars_fragment:
            "#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",
          clipping_planes_fragment:
            "#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif\n",
          clipping_planes_pars_fragment:
            "#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",
          clipping_planes_pars_vertex:
            "#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif\n",
          clipping_planes_vertex:
            "#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",
          color_fragment:
            "#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",
          color_pars_fragment:
            "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",
          color_pars_vertex: "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",
          color_vertex: "#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",
          common:
            "#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\n",
          cube_uv_reflection_fragment:
            "#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",
          defaultnormal_vertex:
            "vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n",
          displacementmap_pars_vertex:
            "#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",
          displacementmap_vertex:
            "#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",
          emissivemap_fragment:
            "#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",
          emissivemap_pars_fragment:
            "#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",
          encodings_fragment:
            "  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",
          encodings_pars_fragment:
            "\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}\n",
          envmap_fragment:
            "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",
          envmap_pars_fragment:
            "#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",
          envmap_pars_vertex:
            "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",
          envmap_physical_pars_fragment:
            "#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent ));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",
          envmap_vertex:
            "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",
          fog_vertex: "#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif\n",
          fog_pars_vertex:
            "#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif\n",
          fog_fragment:
            "#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",
          fog_pars_fragment:
            "#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",
          gradientmap_pars_fragment:
            "#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",
          lightmap_fragment:
            "#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",
          lightmap_pars_fragment:
            "#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",
          lights_lambert_vertex:
            "vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",
          lights_pars_begin:
            "uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n",
          lights_phong_fragment:
            "BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",
          lights_phong_pars_fragment:
            "varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",
          lights_physical_fragment:
            "PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",
          lights_physical_pars_fragment:
            "struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",
          lights_fragment_begin:
            "\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearCoatRadiance = vec3( 0.0 );\n#endif\n",
          lights_fragment_maps:
            "#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), maxMipLevel );\n\t#ifndef STANDARD\n\t\tclearCoatRadiance += getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), maxMipLevel );\n\t#endif\n#endif\n",
          lights_fragment_end:
            "#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",
          logdepthbuf_fragment:
            "#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",
          logdepthbuf_pars_fragment:
            "#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n#endif\n",
          logdepthbuf_pars_vertex:
            "#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif\n",
          logdepthbuf_vertex:
            "#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif\n",
          map_fragment:
            "#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",
          map_pars_fragment:
            "#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",
          map_particle_fragment:
            "#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",
          map_particle_pars_fragment:
            "#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif\n",
          metalnessmap_fragment:
            "float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n",
          metalnessmap_pars_fragment:
            "#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",
          morphnormal_vertex:
            "#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",
          morphtarget_pars_vertex:
            "#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",
          morphtarget_vertex:
            "#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",
          normal_fragment_begin:
            "#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif\n",
          normal_fragment_maps:
            "#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",
          normalmap_pars_fragment:
            "#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( vUv.st );\n\t\t\tvec2 st1 = dFdy( vUv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif\n",
          packing:
            "vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",
          premultiplied_alpha_fragment:
            "#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",
          project_vertex:
            "vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n",
          dithering_fragment:
            "#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",
          dithering_pars_fragment:
            "#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n",
          roughnessmap_fragment:
            "float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n",
          roughnessmap_pars_fragment:
            "#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",
          shadowmap_pars_fragment:
            "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",
          shadowmap_pars_vertex:
            "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",
          shadowmap_vertex:
            "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",
          shadowmask_pars_fragment:
            "float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",
          skinbase_vertex:
            "#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",
          skinning_pars_vertex:
            "#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",
          skinning_vertex:
            "#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n",
          skinnormal_vertex:
            "#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",
          specularmap_fragment:
            "float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",
          specularmap_pars_fragment:
            "#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",
          tonemapping_fragment:
            "#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",
          tonemapping_pars_fragment:
            "#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",
          uv_pars_fragment:
            "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",
          uv_pars_vertex:
            "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\n",
          uv_vertex:
            "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",
          uv2_pars_fragment:
            "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",
          uv2_pars_vertex:
            "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",
          uv2_vertex:
            "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",
          worldpos_vertex:
            "#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n",
          background_frag:
            "uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n}\n",
          background_vert:
            "varying vec2 vUv;\nvoid main() {\n\tvUv = uv;\n\tgl_Position = vec4( position, 1.0 );\n\tgl_Position.z = 1.0;\n}\n",
          cube_frag:
            "uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",
          cube_vert:
            "varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}\n",
          depth_frag:
            "#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",
          depth_vert:
            "#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",
          distanceRGBA_frag:
            "#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}\n",
          distanceRGBA_vert:
            "#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}\n",
          equirect_frag:
            "uniform sampler2D tEquirect;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",
          equirect_vert:
            "varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",
          linedashed_frag:
            "uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
          linedashed_vert:
            "uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",
          meshbasic_frag:
            "uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
          meshbasic_vert:
            "#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",
          meshlambert_frag:
            "uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",
          meshlambert_vert:
            "#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",
          meshmatcap_frag:
            "#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\tvec4 matcapColor = texture2D( matcap, uv );\n\tmatcapColor = matcapTexelToLinear( matcapColor );\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
          meshmatcap_vert:
            "#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}\n",
          meshphong_frag:
            "#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",
          meshphong_vert:
            "#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",
          meshphysical_frag:
            "#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",
          meshphysical_vert:
            "#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",
          normal_frag:
            "#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",
          normal_vert:
            "#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || ( defined( USE_NORMALMAP ) && ! defined( OBJECTSPACE_NORMALMAP ) )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",
          points_frag:
            "uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
          points_vert:
            "uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}\n",
          shadow_frag:
            "uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}\n",
          shadow_vert:
            "#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",
          sprite_frag:
            "uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",
          sprite_vert:
            "uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",
        },
        as = {
          merge: function (t) {
            for (var e = {}, i = 0; i < t.length; i++) {
              var n,
                r = this.clone(t[i]);
              for (n in r) e[n] = r[n];
            }
            return e;
          },
          clone: function (t) {
            var e,
              i = {};
            for (e in t) {
              i[e] = {};
              for (var n in t[e]) {
                var r = t[e][n];
                r &&
                (r.isColor ||
                  r.isMatrix3 ||
                  r.isMatrix4 ||
                  r.isVector2 ||
                  r.isVector3 ||
                  r.isVector4 ||
                  r.isTexture)
                  ? (i[e][n] = r.clone())
                  : Array.isArray(r)
                  ? (i[e][n] = r.slice())
                  : (i[e][n] = r);
              }
            }
            return i;
          },
        },
        hs = {
          aliceblue: 15792383,
          antiquewhite: 16444375,
          aqua: 65535,
          aquamarine: 8388564,
          azure: 15794175,
          beige: 16119260,
          bisque: 16770244,
          black: 0,
          blanchedalmond: 16772045,
          blue: 255,
          blueviolet: 9055202,
          brown: 10824234,
          burlywood: 14596231,
          cadetblue: 6266528,
          chartreuse: 8388352,
          chocolate: 13789470,
          coral: 16744272,
          cornflowerblue: 6591981,
          cornsilk: 16775388,
          crimson: 14423100,
          cyan: 65535,
          darkblue: 139,
          darkcyan: 35723,
          darkgoldenrod: 12092939,
          darkgray: 11119017,
          darkgreen: 25600,
          darkgrey: 11119017,
          darkkhaki: 12433259,
          darkmagenta: 9109643,
          darkolivegreen: 5597999,
          darkorange: 16747520,
          darkorchid: 10040012,
          darkred: 9109504,
          darksalmon: 15308410,
          darkseagreen: 9419919,
          darkslateblue: 4734347,
          darkslategray: 3100495,
          darkslategrey: 3100495,
          darkturquoise: 52945,
          darkviolet: 9699539,
          deeppink: 16716947,
          deepskyblue: 49151,
          dimgray: 6908265,
          dimgrey: 6908265,
          dodgerblue: 2003199,
          firebrick: 11674146,
          floralwhite: 16775920,
          forestgreen: 2263842,
          fuchsia: 16711935,
          gainsboro: 14474460,
          ghostwhite: 16316671,
          gold: 16766720,
          goldenrod: 14329120,
          gray: 8421504,
          green: 32768,
          greenyellow: 11403055,
          grey: 8421504,
          honeydew: 15794160,
          hotpink: 16738740,
          indianred: 13458524,
          indigo: 4915330,
          ivory: 16777200,
          khaki: 15787660,
          lavender: 15132410,
          lavenderblush: 16773365,
          lawngreen: 8190976,
          lemonchiffon: 16775885,
          lightblue: 11393254,
          lightcoral: 15761536,
          lightcyan: 14745599,
          lightgoldenrodyellow: 16448210,
          lightgray: 13882323,
          lightgreen: 9498256,
          lightgrey: 13882323,
          lightpink: 16758465,
          lightsalmon: 16752762,
          lightseagreen: 2142890,
          lightskyblue: 8900346,
          lightslategray: 7833753,
          lightslategrey: 7833753,
          lightsteelblue: 11584734,
          lightyellow: 16777184,
          lime: 65280,
          limegreen: 3329330,
          linen: 16445670,
          magenta: 16711935,
          maroon: 8388608,
          mediumaquamarine: 6737322,
          mediumblue: 205,
          mediumorchid: 12211667,
          mediumpurple: 9662683,
          mediumseagreen: 3978097,
          mediumslateblue: 8087790,
          mediumspringgreen: 64154,
          mediumturquoise: 4772300,
          mediumvioletred: 13047173,
          midnightblue: 1644912,
          mintcream: 16121850,
          mistyrose: 16770273,
          moccasin: 16770229,
          navajowhite: 16768685,
          navy: 128,
          oldlace: 16643558,
          olive: 8421376,
          olivedrab: 7048739,
          orange: 16753920,
          orangered: 16729344,
          orchid: 14315734,
          palegoldenrod: 15657130,
          palegreen: 10025880,
          paleturquoise: 11529966,
          palevioletred: 14381203,
          papayawhip: 16773077,
          peachpuff: 16767673,
          peru: 13468991,
          pink: 16761035,
          plum: 14524637,
          powderblue: 11591910,
          purple: 8388736,
          rebeccapurple: 6697881,
          red: 16711680,
          rosybrown: 12357519,
          royalblue: 4286945,
          saddlebrown: 9127187,
          salmon: 16416882,
          sandybrown: 16032864,
          seagreen: 3050327,
          seashell: 16774638,
          sienna: 10506797,
          silver: 12632256,
          skyblue: 8900331,
          slateblue: 6970061,
          slategray: 7372944,
          slategrey: 7372944,
          snow: 16775930,
          springgreen: 65407,
          steelblue: 4620980,
          tan: 13808780,
          teal: 32896,
          thistle: 14204888,
          tomato: 16737095,
          turquoise: 4251856,
          violet: 15631086,
          wheat: 16113331,
          white: 16777215,
          whitesmoke: 16119285,
          yellow: 16776960,
          yellowgreen: 10145074,
        };
      Object.assign(_.prototype, {
        isColor: !0,
        r: 1,
        g: 1,
        b: 1,
        set: function (t) {
          return (
            t && t.isColor
              ? this.copy(t)
              : "number" == typeof t
              ? this.setHex(t)
              : "string" == typeof t && this.setStyle(t),
            this
          );
        },
        setScalar: function (t) {
          return (this.b = this.g = this.r = t), this;
        },
        setHex: function (t) {
          return (
            (t = Math.floor(t)),
            (this.r = ((t >> 16) & 255) / 255),
            (this.g = ((t >> 8) & 255) / 255),
            (this.b = (255 & t) / 255),
            this
          );
        },
        setRGB: function (t, e, i) {
          return (this.r = t), (this.g = e), (this.b = i), this;
        },
        setHSL: (function () {
          function t(t, e, i) {
            return (
              0 > i && (i += 1),
              1 < i && --i,
              i < 1 / 6
                ? t + 6 * (e - t) * i
                : 0.5 > i
                ? e
                : i < 2 / 3
                ? t + 6 * (e - t) * (2 / 3 - i)
                : t
            );
          }
          return function (e, i, n) {
            return (
              (e = ns.euclideanModulo(e, 1)),
              (i = ns.clamp(i, 0, 1)),
              (n = ns.clamp(n, 0, 1)),
              0 === i
                ? (this.r = this.g = this.b = n)
                : ((i = 0.5 >= n ? n * (1 + i) : n + i - n * i),
                  (n = 2 * n - i),
                  (this.r = t(n, i, e + 1 / 3)),
                  (this.g = t(n, i, e)),
                  (this.b = t(n, i, e - 1 / 3))),
              this
            );
          };
        })(),
        setStyle: function (t) {
          function e(e) {
            void 0 !== e &&
              1 > parseFloat(e) &&
              console.warn(
                "THREE.Color: Alpha component of " + t + " will be ignored."
              );
          }
          var i;
          if ((i = /^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t))) {
            var n = i[2];
            switch (i[1]) {
              case "rgb":
              case "rgba":
                if (
                  (i =
                    /^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(
                      n
                    ))
                )
                  return (
                    (this.r = Math.min(255, parseInt(i[1], 10)) / 255),
                    (this.g = Math.min(255, parseInt(i[2], 10)) / 255),
                    (this.b = Math.min(255, parseInt(i[3], 10)) / 255),
                    e(i[5]),
                    this
                  );
                if (
                  (i =
                    /^(\d+)%\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(
                      n
                    ))
                )
                  return (
                    (this.r = Math.min(100, parseInt(i[1], 10)) / 100),
                    (this.g = Math.min(100, parseInt(i[2], 10)) / 100),
                    (this.b = Math.min(100, parseInt(i[3], 10)) / 100),
                    e(i[5]),
                    this
                  );
                break;
              case "hsl":
              case "hsla":
                if (
                  (i =
                    /^([0-9]*\.?[0-9]+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(
                      n
                    ))
                ) {
                  n = parseFloat(i[1]) / 360;
                  var r = parseInt(i[2], 10) / 100,
                    s = parseInt(i[3], 10) / 100;
                  return e(i[5]), this.setHSL(n, r, s);
                }
            }
          } else if ((i = /^#([A-Fa-f0-9]+)$/.exec(t))) {
            if (((i = i[1]), (n = i.length), 3 === n))
              return (
                (this.r = parseInt(i.charAt(0) + i.charAt(0), 16) / 255),
                (this.g = parseInt(i.charAt(1) + i.charAt(1), 16) / 255),
                (this.b = parseInt(i.charAt(2) + i.charAt(2), 16) / 255),
                this
              );
            if (6 === n)
              return (
                (this.r = parseInt(i.charAt(0) + i.charAt(1), 16) / 255),
                (this.g = parseInt(i.charAt(2) + i.charAt(3), 16) / 255),
                (this.b = parseInt(i.charAt(4) + i.charAt(5), 16) / 255),
                this
              );
          }
          return (
            t &&
              0 < t.length &&
              ((i = hs[t]),
              void 0 !== i
                ? this.setHex(i)
                : console.warn("THREE.Color: Unknown color " + t)),
            this
          );
        },
        clone: function () {
          return new this.constructor(this.r, this.g, this.b);
        },
        copy: function (t) {
          return (this.r = t.r), (this.g = t.g), (this.b = t.b), this;
        },
        copyGammaToLinear: function (t, e) {
          return (
            void 0 === e && (e = 2),
            (this.r = Math.pow(t.r, e)),
            (this.g = Math.pow(t.g, e)),
            (this.b = Math.pow(t.b, e)),
            this
          );
        },
        copyLinearToGamma: function (t, e) {
          return (
            void 0 === e && (e = 2),
            (e = 0 < e ? 1 / e : 1),
            (this.r = Math.pow(t.r, e)),
            (this.g = Math.pow(t.g, e)),
            (this.b = Math.pow(t.b, e)),
            this
          );
        },
        convertGammaToLinear: function (t) {
          return this.copyGammaToLinear(this, t), this;
        },
        convertLinearToGamma: function (t) {
          return this.copyLinearToGamma(this, t), this;
        },
        copySRGBToLinear: (function () {
          function t(t) {
            return 0.04045 > t
              ? 0.0773993808 * t
              : Math.pow(0.9478672986 * t + 0.0521327014, 2.4);
          }
          return function (e) {
            return (
              (this.r = t(e.r)), (this.g = t(e.g)), (this.b = t(e.b)), this
            );
          };
        })(),
        copyLinearToSRGB: (function () {
          function t(t) {
            return 0.0031308 > t
              ? 12.92 * t
              : 1.055 * Math.pow(t, 0.41666) - 0.055;
          }
          return function (e) {
            return (
              (this.r = t(e.r)), (this.g = t(e.g)), (this.b = t(e.b)), this
            );
          };
        })(),
        convertSRGBToLinear: function () {
          return this.copySRGBToLinear(this), this;
        },
        convertLinearToSRGB: function () {
          return this.copyLinearToSRGB(this), this;
        },
        getHex: function () {
          return (
            ((255 * this.r) << 16) ^
            ((255 * this.g) << 8) ^
            ((255 * this.b) << 0)
          );
        },
        getHexString: function () {
          return ("000000" + this.getHex().toString(16)).slice(-6);
        },
        getHSL: function (t) {
          void 0 === t &&
            (console.warn("THREE.Color: .getHSL() target is now required"),
            (t = { h: 0, s: 0, l: 0 }));
          var e,
            i = this.r,
            n = this.g,
            r = this.b,
            s = Math.max(i, n, r),
            o = Math.min(i, n, r),
            a = (o + s) / 2;
          if (o === s) o = e = 0;
          else {
            var h = s - o;
            switch (((o = 0.5 >= a ? h / (s + o) : h / (2 - s - o)), s)) {
              case i:
                e = (n - r) / h + (n < r ? 6 : 0);
                break;
              case n:
                e = (r - i) / h + 2;
                break;
              case r:
                e = (i - n) / h + 4;
            }
            e /= 6;
          }
          return (t.h = e), (t.s = o), (t.l = a), t;
        },
        getStyle: function () {
          return (
            "rgb(" +
            ((255 * this.r) | 0) +
            "," +
            ((255 * this.g) | 0) +
            "," +
            ((255 * this.b) | 0) +
            ")"
          );
        },
        offsetHSL: (function () {
          var t = {};
          return function (e, i, n) {
            return (
              this.getHSL(t),
              (t.h += e),
              (t.s += i),
              (t.l += n),
              this.setHSL(t.h, t.s, t.l),
              this
            );
          };
        })(),
        add: function (t) {
          return (this.r += t.r), (this.g += t.g), (this.b += t.b), this;
        },
        addColors: function (t, e) {
          return (
            (this.r = t.r + e.r),
            (this.g = t.g + e.g),
            (this.b = t.b + e.b),
            this
          );
        },
        addScalar: function (t) {
          return (this.r += t), (this.g += t), (this.b += t), this;
        },
        sub: function (t) {
          return (
            (this.r = Math.max(0, this.r - t.r)),
            (this.g = Math.max(0, this.g - t.g)),
            (this.b = Math.max(0, this.b - t.b)),
            this
          );
        },
        multiply: function (t) {
          return (this.r *= t.r), (this.g *= t.g), (this.b *= t.b), this;
        },
        multiplyScalar: function (t) {
          return (this.r *= t), (this.g *= t), (this.b *= t), this;
        },
        lerp: function (t, e) {
          return (
            (this.r += (t.r - this.r) * e),
            (this.g += (t.g - this.g) * e),
            (this.b += (t.b - this.b) * e),
            this
          );
        },
        lerpHSL: (function () {
          var t = { h: 0, s: 0, l: 0 },
            e = { h: 0, s: 0, l: 0 };
          return function (i, n) {
            this.getHSL(t), i.getHSL(e), (i = ns.lerp(t.h, e.h, n));
            var r = ns.lerp(t.s, e.s, n);
            return (n = ns.lerp(t.l, e.l, n)), this.setHSL(i, r, n), this;
          };
        })(),
        equals: function (t) {
          return t.r === this.r && t.g === this.g && t.b === this.b;
        },
        fromArray: function (t, e) {
          return (
            void 0 === e && (e = 0),
            (this.r = t[e]),
            (this.g = t[e + 1]),
            (this.b = t[e + 2]),
            this
          );
        },
        toArray: function (t, e) {
          return (
            void 0 === t && (t = []),
            void 0 === e && (e = 0),
            (t[e] = this.r),
            (t[e + 1] = this.g),
            (t[e + 2] = this.b),
            t
          );
        },
        toJSON: function () {
          return this.getHex();
        },
      });
      var ls = {
          common: {
            diffuse: { value: new _(15658734) },
            opacity: { value: 1 },
            map: { value: null },
            uvTransform: { value: new o() },
            alphaMap: { value: null },
          },
          specularmap: { specularMap: { value: null } },
          envmap: {
            envMap: { value: null },
            flipEnvMap: { value: -1 },
            reflectivity: { value: 1 },
            refractionRatio: { value: 0.98 },
            maxMipLevel: { value: 0 },
          },
          aomap: { aoMap: { value: null }, aoMapIntensity: { value: 1 } },
          lightmap: {
            lightMap: { value: null },
            lightMapIntensity: { value: 1 },
          },
          emissivemap: { emissiveMap: { value: null } },
          bumpmap: { bumpMap: { value: null }, bumpScale: { value: 1 } },
          normalmap: {
            normalMap: { value: null },
            normalScale: { value: new i(1, 1) },
          },
          displacementmap: {
            displacementMap: { value: null },
            displacementScale: { value: 1 },
            displacementBias: { value: 0 },
          },
          roughnessmap: { roughnessMap: { value: null } },
          metalnessmap: { metalnessMap: { value: null } },
          gradientmap: { gradientMap: { value: null } },
          fog: {
            fogDensity: { value: 25e-5 },
            fogNear: { value: 1 },
            fogFar: { value: 2e3 },
            fogColor: { value: new _(16777215) },
          },
          lights: {
            ambientLightColor: { value: [] },
            directionalLights: {
              value: [],
              properties: {
                direction: {},
                color: {},
                shadow: {},
                shadowBias: {},
                shadowRadius: {},
                shadowMapSize: {},
              },
            },
            directionalShadowMap: { value: [] },
            directionalShadowMatrix: { value: [] },
            spotLights: {
              value: [],
              properties: {
                color: {},
                position: {},
                direction: {},
                distance: {},
                coneCos: {},
                penumbraCos: {},
                decay: {},
                shadow: {},
                shadowBias: {},
                shadowRadius: {},
                shadowMapSize: {},
              },
            },
            spotShadowMap: { value: [] },
            spotShadowMatrix: { value: [] },
            pointLights: {
              value: [],
              properties: {
                color: {},
                position: {},
                decay: {},
                distance: {},
                shadow: {},
                shadowBias: {},
                shadowRadius: {},
                shadowMapSize: {},
                shadowCameraNear: {},
                shadowCameraFar: {},
              },
            },
            pointShadowMap: { value: [] },
            pointShadowMatrix: { value: [] },
            hemisphereLights: {
              value: [],
              properties: { direction: {}, skyColor: {}, groundColor: {} },
            },
            rectAreaLights: {
              value: [],
              properties: { color: {}, position: {}, width: {}, height: {} },
            },
          },
          points: {
            diffuse: { value: new _(15658734) },
            opacity: { value: 1 },
            size: { value: 1 },
            scale: { value: 1 },
            map: { value: null },
            uvTransform: { value: new o() },
          },
          sprite: {
            diffuse: { value: new _(15658734) },
            opacity: { value: 1 },
            center: { value: new i(0.5, 0.5) },
            rotation: { value: 0 },
            map: { value: null },
            uvTransform: { value: new o() },
          },
        },
        us = {
          basic: {
            uniforms: as.merge([
              ls.common,
              ls.specularmap,
              ls.envmap,
              ls.aomap,
              ls.lightmap,
              ls.fog,
            ]),
            vertexShader: os.meshbasic_vert,
            fragmentShader: os.meshbasic_frag,
          },
          lambert: {
            uniforms: as.merge([
              ls.common,
              ls.specularmap,
              ls.envmap,
              ls.aomap,
              ls.lightmap,
              ls.emissivemap,
              ls.fog,
              ls.lights,
              { emissive: { value: new _(0) } },
            ]),
            vertexShader: os.meshlambert_vert,
            fragmentShader: os.meshlambert_frag,
          },
          phong: {
            uniforms: as.merge([
              ls.common,
              ls.specularmap,
              ls.envmap,
              ls.aomap,
              ls.lightmap,
              ls.emissivemap,
              ls.bumpmap,
              ls.normalmap,
              ls.displacementmap,
              ls.gradientmap,
              ls.fog,
              ls.lights,
              {
                emissive: { value: new _(0) },
                specular: { value: new _(1118481) },
                shininess: { value: 30 },
              },
            ]),
            vertexShader: os.meshphong_vert,
            fragmentShader: os.meshphong_frag,
          },
          standard: {
            uniforms: as.merge([
              ls.common,
              ls.envmap,
              ls.aomap,
              ls.lightmap,
              ls.emissivemap,
              ls.bumpmap,
              ls.normalmap,
              ls.displacementmap,
              ls.roughnessmap,
              ls.metalnessmap,
              ls.fog,
              ls.lights,
              {
                emissive: { value: new _(0) },
                roughness: { value: 0.5 },
                metalness: { value: 0.5 },
                envMapIntensity: { value: 1 },
              },
            ]),
            vertexShader: os.meshphysical_vert,
            fragmentShader: os.meshphysical_frag,
          },
          matcap: {
            uniforms: as.merge([
              ls.common,
              ls.bumpmap,
              ls.normalmap,
              ls.displacementmap,
              ls.fog,
              { matcap: { value: null } },
            ]),
            vertexShader: os.meshmatcap_vert,
            fragmentShader: os.meshmatcap_frag,
          },
          points: {
            uniforms: as.merge([ls.points, ls.fog]),
            vertexShader: os.points_vert,
            fragmentShader: os.points_frag,
          },
          dashed: {
            uniforms: as.merge([
              ls.common,
              ls.fog,
              {
                scale: { value: 1 },
                dashSize: { value: 1 },
                totalSize: { value: 2 },
              },
            ]),
            vertexShader: os.linedashed_vert,
            fragmentShader: os.linedashed_frag,
          },
          depth: {
            uniforms: as.merge([ls.common, ls.displacementmap]),
            vertexShader: os.depth_vert,
            fragmentShader: os.depth_frag,
          },
          normal: {
            uniforms: as.merge([
              ls.common,
              ls.bumpmap,
              ls.normalmap,
              ls.displacementmap,
              { opacity: { value: 1 } },
            ]),
            vertexShader: os.normal_vert,
            fragmentShader: os.normal_frag,
          },
          sprite: {
            uniforms: as.merge([ls.sprite, ls.fog]),
            vertexShader: os.sprite_vert,
            fragmentShader: os.sprite_frag,
          },
          background: {
            uniforms: { t2D: { value: null } },
            vertexShader: os.background_vert,
            fragmentShader: os.background_frag,
          },
          cube: {
            uniforms: {
              tCube: { value: null },
              tFlip: { value: -1 },
              opacity: { value: 1 },
            },
            vertexShader: os.cube_vert,
            fragmentShader: os.cube_frag,
          },
          equirect: {
            uniforms: { tEquirect: { value: null } },
            vertexShader: os.equirect_vert,
            fragmentShader: os.equirect_frag,
          },
          distanceRGBA: {
            uniforms: as.merge([
              ls.common,
              ls.displacementmap,
              {
                referencePosition: { value: new s() },
                nearDistance: { value: 1 },
                farDistance: { value: 1e3 },
              },
            ]),
            vertexShader: os.distanceRGBA_vert,
            fragmentShader: os.distanceRGBA_frag,
          },
          shadow: {
            uniforms: as.merge([
              ls.lights,
              ls.fog,
              { color: { value: new _(0) }, opacity: { value: 1 } },
            ]),
            vertexShader: os.shadow_vert,
            fragmentShader: os.shadow_frag,
          },
        };
      (us.physical = {
        uniforms: as.merge([
          us.standard.uniforms,
          { clearCoat: { value: 0 }, clearCoatRoughness: { value: 0 } },
        ]),
        vertexShader: os.meshphysical_vert,
        fragmentShader: os.meshphysical_frag,
      }),
        Object.assign(y.prototype, {
          clone: function () {
            return new this.constructor().copy(this);
          },
          copy: function (t) {
            (this.a = t.a),
              (this.b = t.b),
              (this.c = t.c),
              this.normal.copy(t.normal),
              this.color.copy(t.color),
              (this.materialIndex = t.materialIndex);
            for (var e = 0, i = t.vertexNormals.length; e < i; e++)
              this.vertexNormals[e] = t.vertexNormals[e].clone();
            for (e = 0, i = t.vertexColors.length; e < i; e++)
              this.vertexColors[e] = t.vertexColors[e].clone();
            return this;
          },
        }),
        (x.RotationOrders = "XYZ YZX ZXY XZY YXZ ZYX".split(" ")),
        (x.DefaultOrder = "XYZ"),
        Object.defineProperties(x.prototype, {
          x: {
            get: function () {
              return this._x;
            },
            set: function (t) {
              (this._x = t), this.onChangeCallback();
            },
          },
          y: {
            get: function () {
              return this._y;
            },
            set: function (t) {
              (this._y = t), this.onChangeCallback();
            },
          },
          z: {
            get: function () {
              return this._z;
            },
            set: function (t) {
              (this._z = t), this.onChangeCallback();
            },
          },
          order: {
            get: function () {
              return this._order;
            },
            set: function (t) {
              (this._order = t), this.onChangeCallback();
            },
          },
        }),
        Object.assign(x.prototype, {
          isEuler: !0,
          set: function (t, e, i, n) {
            return (
              (this._x = t),
              (this._y = e),
              (this._z = i),
              (this._order = n || this._order),
              this.onChangeCallback(),
              this
            );
          },
          clone: function () {
            return new this.constructor(this._x, this._y, this._z, this._order);
          },
          copy: function (t) {
            return (
              (this._x = t._x),
              (this._y = t._y),
              (this._z = t._z),
              (this._order = t._order),
              this.onChangeCallback(),
              this
            );
          },
          setFromRotationMatrix: function (t, e, i) {
            var n = ns.clamp,
              r = t.elements;
            t = r[0];
            var s = r[4],
              o = r[8],
              a = r[1],
              h = r[5],
              l = r[9],
              u = r[2],
              c = r[6];
            return (
              (r = r[10]),
              (e = e || this._order),
              "XYZ" === e
                ? ((this._y = Math.asin(n(o, -1, 1))),
                  0.99999 > Math.abs(o)
                    ? ((this._x = Math.atan2(-l, r)),
                      (this._z = Math.atan2(-s, t)))
                    : ((this._x = Math.atan2(c, h)), (this._z = 0)))
                : "YXZ" === e
                ? ((this._x = Math.asin(-n(l, -1, 1))),
                  0.99999 > Math.abs(l)
                    ? ((this._y = Math.atan2(o, r)),
                      (this._z = Math.atan2(a, h)))
                    : ((this._y = Math.atan2(-u, t)), (this._z = 0)))
                : "ZXY" === e
                ? ((this._x = Math.asin(n(c, -1, 1))),
                  0.99999 > Math.abs(c)
                    ? ((this._y = Math.atan2(-u, r)),
                      (this._z = Math.atan2(-s, h)))
                    : ((this._y = 0), (this._z = Math.atan2(a, t))))
                : "ZYX" === e
                ? ((this._y = Math.asin(-n(u, -1, 1))),
                  0.99999 > Math.abs(u)
                    ? ((this._x = Math.atan2(c, r)),
                      (this._z = Math.atan2(a, t)))
                    : ((this._x = 0), (this._z = Math.atan2(-s, h))))
                : "YZX" === e
                ? ((this._z = Math.asin(n(a, -1, 1))),
                  0.99999 > Math.abs(a)
                    ? ((this._x = Math.atan2(-l, h)),
                      (this._y = Math.atan2(-u, t)))
                    : ((this._x = 0), (this._y = Math.atan2(o, r))))
                : "XZY" === e
                ? ((this._z = Math.asin(-n(s, -1, 1))),
                  0.99999 > Math.abs(s)
                    ? ((this._x = Math.atan2(c, h)),
                      (this._y = Math.atan2(o, t)))
                    : ((this._x = Math.atan2(-l, r)), (this._y = 0)))
                : console.warn(
                    "THREE.Euler: .setFromRotationMatrix() given unsupported order: " +
                      e
                  ),
              (this._order = e),
              !1 !== i && this.onChangeCallback(),
              this
            );
          },
          setFromQuaternion: (function () {
            var t = new n();
            return function (e, i, n) {
              return (
                t.makeRotationFromQuaternion(e),
                this.setFromRotationMatrix(t, i, n)
              );
            };
          })(),
          setFromVector3: function (t, e) {
            return this.set(t.x, t.y, t.z, e || this._order);
          },
          reorder: (function () {
            var t = new r();
            return function (e) {
              return t.setFromEuler(this), this.setFromQuaternion(t, e);
            };
          })(),
          equals: function (t) {
            return (
              t._x === this._x &&
              t._y === this._y &&
              t._z === this._z &&
              t._order === this._order
            );
          },
          fromArray: function (t) {
            return (
              (this._x = t[0]),
              (this._y = t[1]),
              (this._z = t[2]),
              void 0 !== t[3] && (this._order = t[3]),
              this.onChangeCallback(),
              this
            );
          },
          toArray: function (t, e) {
            return (
              void 0 === t && (t = []),
              void 0 === e && (e = 0),
              (t[e] = this._x),
              (t[e + 1] = this._y),
              (t[e + 2] = this._z),
              (t[e + 3] = this._order),
              t
            );
          },
          toVector3: function (t) {
            return t
              ? t.set(this._x, this._y, this._z)
              : new s(this._x, this._y, this._z);
          },
          onChange: function (t) {
            return (this.onChangeCallback = t), this;
          },
          onChangeCallback: function () {},
        }),
        Object.assign(w.prototype, {
          set: function (t) {
            this.mask = (1 << t) | 0;
          },
          enable: function (t) {
            this.mask = this.mask | (1 << t) | 0;
          },
          toggle: function (t) {
            this.mask ^= (1 << t) | 0;
          },
          disable: function (t) {
            this.mask &= ~((1 << t) | 0);
          },
          test: function (t) {
            return 0 !== (this.mask & t.mask);
          },
        });
      var cs = 0;
      (b.DefaultUp = new s(0, 1, 0)),
        (b.DefaultMatrixAutoUpdate = !0),
        (b.prototype = Object.assign(Object.create(e.prototype), {
          constructor: b,
          isObject3D: !0,
          onBeforeRender: function () {},
          onAfterRender: function () {},
          applyMatrix: function (t) {
            this.matrix.multiplyMatrices(t, this.matrix),
              this.matrix.decompose(this.position, this.quaternion, this.scale);
          },
          applyQuaternion: function (t) {
            return this.quaternion.premultiply(t), this;
          },
          setRotationFromAxisAngle: function (t, e) {
            this.quaternion.setFromAxisAngle(t, e);
          },
          setRotationFromEuler: function (t) {
            this.quaternion.setFromEuler(t, !0);
          },
          setRotationFromMatrix: function (t) {
            this.quaternion.setFromRotationMatrix(t);
          },
          setRotationFromQuaternion: function (t) {
            this.quaternion.copy(t);
          },
          rotateOnAxis: (function () {
            var t = new r();
            return function (e, i) {
              return (
                t.setFromAxisAngle(e, i), this.quaternion.multiply(t), this
              );
            };
          })(),
          rotateOnWorldAxis: (function () {
            var t = new r();
            return function (e, i) {
              return (
                t.setFromAxisAngle(e, i), this.quaternion.premultiply(t), this
              );
            };
          })(),
          rotateX: (function () {
            var t = new s(1, 0, 0);
            return function (e) {
              return this.rotateOnAxis(t, e);
            };
          })(),
          rotateY: (function () {
            var t = new s(0, 1, 0);
            return function (e) {
              return this.rotateOnAxis(t, e);
            };
          })(),
          rotateZ: (function () {
            var t = new s(0, 0, 1);
            return function (e) {
              return this.rotateOnAxis(t, e);
            };
          })(),
          translateOnAxis: (function () {
            var t = new s();
            return function (e, i) {
              return (
                t.copy(e).applyQuaternion(this.quaternion),
                this.position.add(t.multiplyScalar(i)),
                this
              );
            };
          })(),
          translateX: (function () {
            var t = new s(1, 0, 0);
            return function (e) {
              return this.translateOnAxis(t, e);
            };
          })(),
          translateY: (function () {
            var t = new s(0, 1, 0);
            return function (e) {
              return this.translateOnAxis(t, e);
            };
          })(),
          translateZ: (function () {
            var t = new s(0, 0, 1);
            return function (e) {
              return this.translateOnAxis(t, e);
            };
          })(),
          localToWorld: function (t) {
            return t.applyMatrix4(this.matrixWorld);
          },
          worldToLocal: (function () {
            var t = new n();
            return function (e) {
              return e.applyMatrix4(t.getInverse(this.matrixWorld));
            };
          })(),
          lookAt: (function () {
            var t = new r(),
              e = new n(),
              i = new s(),
              o = new s();
            return function (n, r, s) {
              n.isVector3 ? i.copy(n) : i.set(n, r, s),
                (n = this.parent),
                this.updateWorldMatrix(!0, !1),
                o.setFromMatrixPosition(this.matrixWorld),
                this.isCamera
                  ? e.lookAt(o, i, this.up)
                  : e.lookAt(i, o, this.up),
                this.quaternion.setFromRotationMatrix(e),
                n &&
                  (e.extractRotation(n.matrixWorld),
                  t.setFromRotationMatrix(e),
                  this.quaternion.premultiply(t.inverse()));
            };
          })(),
          add: function (t) {
            if (1 < arguments.length) {
              for (var e = 0; e < arguments.length; e++) this.add(arguments[e]);
              return this;
            }
            return t === this
              ? (console.error(
                  "THREE.Object3D.add: object can't be added as a child of itself.",
                  t
                ),
                this)
              : (t && t.isObject3D
                  ? (null !== t.parent && t.parent.remove(t),
                    (t.parent = this),
                    t.dispatchEvent({ type: "added" }),
                    this.children.push(t))
                  : console.error(
                      "THREE.Object3D.add: object not an instance of THREE.Object3D.",
                      t
                    ),
                this);
          },
          remove: function (t) {
            if (1 < arguments.length) {
              for (var e = 0; e < arguments.length; e++)
                this.remove(arguments[e]);
              return this;
            }
            return (
              (e = this.children.indexOf(t)),
              -1 !== e &&
                ((t.parent = null),
                t.dispatchEvent({ type: "removed" }),
                this.children.splice(e, 1)),
              this
            );
          },
          getObjectById: function (t) {
            return this.getObjectByProperty("id", t);
          },
          getObjectByName: function (t) {
            return this.getObjectByProperty("name", t);
          },
          getObjectByProperty: function (t, e) {
            if (this[t] === e) return this;
            for (var i = 0, n = this.children.length; i < n; i++) {
              var r = this.children[i].getObjectByProperty(t, e);
              if (void 0 !== r) return r;
            }
          },
          getWorldPosition: function (t) {
            return (
              void 0 === t &&
                (console.warn(
                  "THREE.Object3D: .getWorldPosition() target is now required"
                ),
                (t = new s())),
              this.updateMatrixWorld(!0),
              t.setFromMatrixPosition(this.matrixWorld)
            );
          },
          getWorldQuaternion: (function () {
            var t = new s(),
              e = new s();
            return function (i) {
              return (
                void 0 === i &&
                  (console.warn(
                    "THREE.Object3D: .getWorldQuaternion() target is now required"
                  ),
                  (i = new r())),
                this.updateMatrixWorld(!0),
                this.matrixWorld.decompose(t, i, e),
                i
              );
            };
          })(),
          getWorldScale: (function () {
            var t = new s(),
              e = new r();
            return function (i) {
              return (
                void 0 === i &&
                  (console.warn(
                    "THREE.Object3D: .getWorldScale() target is now required"
                  ),
                  (i = new s())),
                this.updateMatrixWorld(!0),
                this.matrixWorld.decompose(t, e, i),
                i
              );
            };
          })(),
          getWorldDirection: function (t) {
            void 0 === t &&
              (console.warn(
                "THREE.Object3D: .getWorldDirection() target is now required"
              ),
              (t = new s())),
              this.updateMatrixWorld(!0);
            var e = this.matrixWorld.elements;
            return t.set(e[8], e[9], e[10]).normalize();
          },
          raycast: function () {},
          traverse: function (t) {
            t(this);
            for (var e = this.children, i = 0, n = e.length; i < n; i++)
              e[i].traverse(t);
          },
          traverseVisible: function (t) {
            if (!1 !== this.visible) {
              t(this);
              for (var e = this.children, i = 0, n = e.length; i < n; i++)
                e[i].traverseVisible(t);
            }
          },
          traverseAncestors: function (t) {
            var e = this.parent;
            null !== e && (t(e), e.traverseAncestors(t));
          },
          updateMatrix: function () {
            this.matrix.compose(this.position, this.quaternion, this.scale),
              (this.matrixWorldNeedsUpdate = !0);
          },
          updateMatrixWorld: function (t) {
            this.matrixAutoUpdate && this.updateMatrix(),
              (this.matrixWorldNeedsUpdate || t) &&
                (null === this.parent
                  ? this.matrixWorld.copy(this.matrix)
                  : this.matrixWorld.multiplyMatrices(
                      this.parent.matrixWorld,
                      this.matrix
                    ),
                (this.matrixWorldNeedsUpdate = !1),
                (t = !0));
            for (var e = this.children, i = 0, n = e.length; i < n; i++)
              e[i].updateMatrixWorld(t);
          },
          updateWorldMatrix: function (t, e) {
            var i = this.parent;
            if (
              (!0 === t && null !== i && i.updateWorldMatrix(!0, !1),
              this.matrixAutoUpdate && this.updateMatrix(),
              null === this.parent
                ? this.matrixWorld.copy(this.matrix)
                : this.matrixWorld.multiplyMatrices(
                    this.parent.matrixWorld,
                    this.matrix
                  ),
              !0 === e)
            )
              for (t = this.children, e = 0, i = t.length; e < i; e++)
                t[e].updateWorldMatrix(!1, !0);
          },
          toJSON: function (t) {
            function e(e, i) {
              return void 0 === e[i.uuid] && (e[i.uuid] = i.toJSON(t)), i.uuid;
            }
            function i(t) {
              var e,
                i = [];
              for (e in t) {
                var n = t[e];
                delete n.metadata, i.push(n);
              }
              return i;
            }
            var n = void 0 === t || "string" == typeof t,
              r = {};
            n &&
              ((t = {
                geometries: {},
                materials: {},
                textures: {},
                images: {},
                shapes: {},
              }),
              (r.metadata = {
                version: 4.5,
                type: "Object",
                generator: "Object3D.toJSON",
              }));
            var s = {};
            if (
              ((s.uuid = this.uuid),
              (s.type = this.type),
              "" !== this.name && (s.name = this.name),
              !0 === this.castShadow && (s.castShadow = !0),
              !0 === this.receiveShadow && (s.receiveShadow = !0),
              !1 === this.visible && (s.visible = !1),
              !1 === this.frustumCulled && (s.frustumCulled = !1),
              0 !== this.renderOrder && (s.renderOrder = this.renderOrder),
              "{}" !== JSON.stringify(this.userData) &&
                (s.userData = this.userData),
              (s.layers = this.layers.mask),
              (s.matrix = this.matrix.toArray()),
              !1 === this.matrixAutoUpdate && (s.matrixAutoUpdate = !1),
              this.isMesh || this.isLine || this.isPoints)
            ) {
              s.geometry = e(t.geometries, this.geometry);
              var o = this.geometry.parameters;
              if (void 0 !== o && void 0 !== o.shapes)
                if (((o = o.shapes), Array.isArray(o)))
                  for (var a = 0, h = o.length; a < h; a++) e(t.shapes, o[a]);
                else e(t.shapes, o);
            }
            if (void 0 !== this.material)
              if (Array.isArray(this.material)) {
                for (o = [], a = 0, h = this.material.length; a < h; a++)
                  o.push(e(t.materials, this.material[a]));
                s.material = o;
              } else s.material = e(t.materials, this.material);
            if (0 < this.children.length)
              for (s.children = [], a = 0; a < this.children.length; a++)
                s.children.push(this.children[a].toJSON(t).object);
            if (n) {
              (n = i(t.geometries)), (a = i(t.materials)), (h = i(t.textures));
              var l = i(t.images);
              (o = i(t.shapes)),
                0 < n.length && (r.geometries = n),
                0 < a.length && (r.materials = a),
                0 < h.length && (r.textures = h),
                0 < l.length && (r.images = l),
                0 < o.length && (r.shapes = o);
            }
            return (r.object = s), r;
          },
          clone: function (t) {
            return new this.constructor().copy(this, t);
          },
          copy: function (t, e) {
            if (
              (void 0 === e && (e = !0),
              (this.name = t.name),
              this.up.copy(t.up),
              this.position.copy(t.position),
              this.quaternion.copy(t.quaternion),
              this.scale.copy(t.scale),
              this.matrix.copy(t.matrix),
              this.matrixWorld.copy(t.matrixWorld),
              (this.matrixAutoUpdate = t.matrixAutoUpdate),
              (this.matrixWorldNeedsUpdate = t.matrixWorldNeedsUpdate),
              (this.layers.mask = t.layers.mask),
              (this.visible = t.visible),
              (this.castShadow = t.castShadow),
              (this.receiveShadow = t.receiveShadow),
              (this.frustumCulled = t.frustumCulled),
              (this.renderOrder = t.renderOrder),
              (this.userData = JSON.parse(JSON.stringify(t.userData))),
              !0 === e)
            )
              for (e = 0; e < t.children.length; e++)
                this.add(t.children[e].clone());
            return this;
          },
        }));
      var ps = 0;
      (T.prototype = Object.assign(Object.create(e.prototype), {
        constructor: T,
        isGeometry: !0,
        applyMatrix: function (t) {
          for (
            var e = new o().getNormalMatrix(t), i = 0, n = this.vertices.length;
            i < n;
            i++
          )
            this.vertices[i].applyMatrix4(t);
          for (i = 0, n = this.faces.length; i < n; i++) {
            (t = this.faces[i]), t.normal.applyMatrix3(e).normalize();
            for (var r = 0, s = t.vertexNormals.length; r < s; r++)
              t.vertexNormals[r].applyMatrix3(e).normalize();
          }
          return (
            null !== this.boundingBox && this.computeBoundingBox(),
            null !== this.boundingSphere && this.computeBoundingSphere(),
            (this.normalsNeedUpdate = this.verticesNeedUpdate = !0),
            this
          );
        },
        rotateX: (function () {
          var t = new n();
          return function (e) {
            return t.makeRotationX(e), this.applyMatrix(t), this;
          };
        })(),
        rotateY: (function () {
          var t = new n();
          return function (e) {
            return t.makeRotationY(e), this.applyMatrix(t), this;
          };
        })(),
        rotateZ: (function () {
          var t = new n();
          return function (e) {
            return t.makeRotationZ(e), this.applyMatrix(t), this;
          };
        })(),
        translate: (function () {
          var t = new n();
          return function (e, i, n) {
            return t.makeTranslation(e, i, n), this.applyMatrix(t), this;
          };
        })(),
        scale: (function () {
          var t = new n();
          return function (e, i, n) {
            return t.makeScale(e, i, n), this.applyMatrix(t), this;
          };
        })(),
        lookAt: (function () {
          var t = new b();
          return function (e) {
            t.lookAt(e), t.updateMatrix(), this.applyMatrix(t.matrix);
          };
        })(),
        fromBufferGeometry: function (t) {
          function e(t, e, i, r) {
            var s =
                void 0 !== h ? [p[t].clone(), p[e].clone(), p[i].clone()] : [],
              o =
                void 0 !== l
                  ? [
                      n.colors[t].clone(),
                      n.colors[e].clone(),
                      n.colors[i].clone(),
                    ]
                  : [];
            (r = new y(t, e, i, s, o, r)),
              n.faces.push(r),
              void 0 !== u &&
                n.faceVertexUvs[0].push([
                  d[t].clone(),
                  d[e].clone(),
                  d[i].clone(),
                ]),
              void 0 !== c &&
                n.faceVertexUvs[1].push([
                  f[t].clone(),
                  f[e].clone(),
                  f[i].clone(),
                ]);
          }
          var n = this,
            r = null !== t.index ? t.index.array : void 0,
            o = t.attributes,
            a = o.position.array,
            h = void 0 !== o.normal ? o.normal.array : void 0,
            l = void 0 !== o.color ? o.color.array : void 0,
            u = void 0 !== o.uv ? o.uv.array : void 0,
            c = void 0 !== o.uv2 ? o.uv2.array : void 0;
          void 0 !== c && (this.faceVertexUvs[1] = []);
          for (
            var p = [], d = [], f = [], m = (o = 0);
            o < a.length;
            o += 3, m += 2
          )
            n.vertices.push(new s(a[o], a[o + 1], a[o + 2])),
              void 0 !== h && p.push(new s(h[o], h[o + 1], h[o + 2])),
              void 0 !== l && n.colors.push(new _(l[o], l[o + 1], l[o + 2])),
              void 0 !== u && d.push(new i(u[m], u[m + 1])),
              void 0 !== c && f.push(new i(c[m], c[m + 1]));
          var g = t.groups;
          if (0 < g.length)
            for (o = 0; o < g.length; o++) {
              a = g[o];
              var v = a.start,
                x = a.count;
              for (m = v, v += x; m < v; m += 3)
                void 0 !== r
                  ? e(r[m], r[m + 1], r[m + 2], a.materialIndex)
                  : e(m, m + 1, m + 2, a.materialIndex);
            }
          else if (void 0 !== r)
            for (o = 0; o < r.length; o += 3) e(r[o], r[o + 1], r[o + 2]);
          else for (o = 0; o < a.length / 3; o += 3) e(o, o + 1, o + 2);
          return (
            this.computeFaceNormals(),
            null !== t.boundingBox &&
              (this.boundingBox = t.boundingBox.clone()),
            null !== t.boundingSphere &&
              (this.boundingSphere = t.boundingSphere.clone()),
            this
          );
        },
        center: (function () {
          var t = new s();
          return function () {
            return (
              this.computeBoundingBox(),
              this.boundingBox.getCenter(t).negate(),
              this.translate(t.x, t.y, t.z),
              this
            );
          };
        })(),
        normalize: function () {
          this.computeBoundingSphere();
          var t = this.boundingSphere.center,
            e = this.boundingSphere.radius;
          e = 0 === e ? 1 : 1 / e;
          var i = new n();
          return (
            i.set(
              e,
              0,
              0,
              -e * t.x,
              0,
              e,
              0,
              -e * t.y,
              0,
              0,
              e,
              -e * t.z,
              0,
              0,
              0,
              1
            ),
            this.applyMatrix(i),
            this
          );
        },
        computeFaceNormals: function () {
          for (
            var t = new s(), e = new s(), i = 0, n = this.faces.length;
            i < n;
            i++
          ) {
            var r = this.faces[i],
              o = this.vertices[r.a],
              a = this.vertices[r.b];
            t.subVectors(this.vertices[r.c], a),
              e.subVectors(o, a),
              t.cross(e),
              t.normalize(),
              r.normal.copy(t);
          }
        },
        computeVertexNormals: function (t) {
          void 0 === t && (t = !0);
          var e,
            i = Array(this.vertices.length),
            n = 0;
          for (e = this.vertices.length; n < e; n++) i[n] = new s();
          if (t) {
            var r = new s(),
              o = new s();
            for (t = 0, n = this.faces.length; t < n; t++) {
              e = this.faces[t];
              var a = this.vertices[e.a],
                h = this.vertices[e.b],
                l = this.vertices[e.c];
              r.subVectors(l, h),
                o.subVectors(a, h),
                r.cross(o),
                i[e.a].add(r),
                i[e.b].add(r),
                i[e.c].add(r);
            }
          } else
            for (
              this.computeFaceNormals(), t = 0, n = this.faces.length;
              t < n;
              t++
            )
              (e = this.faces[t]),
                i[e.a].add(e.normal),
                i[e.b].add(e.normal),
                i[e.c].add(e.normal);
          for (n = 0, e = this.vertices.length; n < e; n++) i[n].normalize();
          for (t = 0, n = this.faces.length; t < n; t++)
            (e = this.faces[t]),
              (a = e.vertexNormals),
              3 === a.length
                ? (a[0].copy(i[e.a]), a[1].copy(i[e.b]), a[2].copy(i[e.c]))
                : ((a[0] = i[e.a].clone()),
                  (a[1] = i[e.b].clone()),
                  (a[2] = i[e.c].clone()));
          0 < this.faces.length && (this.normalsNeedUpdate = !0);
        },
        computeFlatVertexNormals: function () {
          var t;
          this.computeFaceNormals();
          var e = 0;
          for (t = this.faces.length; e < t; e++) {
            var i = this.faces[e],
              n = i.vertexNormals;
            3 === n.length
              ? (n[0].copy(i.normal), n[1].copy(i.normal), n[2].copy(i.normal))
              : ((n[0] = i.normal.clone()),
                (n[1] = i.normal.clone()),
                (n[2] = i.normal.clone()));
          }
          0 < this.faces.length && (this.normalsNeedUpdate = !0);
        },
        computeMorphNormals: function () {
          var t,
            e,
            i = 0;
          for (e = this.faces.length; i < e; i++) {
            var n = this.faces[i];
            n.__originalFaceNormal
              ? n.__originalFaceNormal.copy(n.normal)
              : (n.__originalFaceNormal = n.normal.clone()),
              n.__originalVertexNormals || (n.__originalVertexNormals = []);
            var r = 0;
            for (t = n.vertexNormals.length; r < t; r++)
              n.__originalVertexNormals[r]
                ? n.__originalVertexNormals[r].copy(n.vertexNormals[r])
                : (n.__originalVertexNormals[r] = n.vertexNormals[r].clone());
          }
          var o = new T();
          for (
            o.faces = this.faces, r = 0, t = this.morphTargets.length;
            r < t;
            r++
          ) {
            if (!this.morphNormals[r]) {
              (this.morphNormals[r] = {}),
                (this.morphNormals[r].faceNormals = []),
                (this.morphNormals[r].vertexNormals = []),
                (n = this.morphNormals[r].faceNormals);
              var a = this.morphNormals[r].vertexNormals;
              for (i = 0, e = this.faces.length; i < e; i++) {
                var h = new s(),
                  l = { a: new s(), b: new s(), c: new s() };
                n.push(h), a.push(l);
              }
            }
            for (
              a = this.morphNormals[r],
                o.vertices = this.morphTargets[r].vertices,
                o.computeFaceNormals(),
                o.computeVertexNormals(),
                i = 0,
                e = this.faces.length;
              i < e;
              i++
            )
              (n = this.faces[i]),
                (h = a.faceNormals[i]),
                (l = a.vertexNormals[i]),
                h.copy(n.normal),
                l.a.copy(n.vertexNormals[0]),
                l.b.copy(n.vertexNormals[1]),
                l.c.copy(n.vertexNormals[2]);
          }
          for (i = 0, e = this.faces.length; i < e; i++)
            (n = this.faces[i]),
              (n.normal = n.__originalFaceNormal),
              (n.vertexNormals = n.__originalVertexNormals);
        },
        computeBoundingBox: function () {
          null === this.boundingBox && (this.boundingBox = new p()),
            this.boundingBox.setFromPoints(this.vertices);
        },
        computeBoundingSphere: function () {
          null === this.boundingSphere && (this.boundingSphere = new d()),
            this.boundingSphere.setFromPoints(this.vertices);
        },
        merge: function (t, e, i) {
          if (t && t.isGeometry) {
            var n,
              r = this.vertices.length,
              s = this.vertices,
              a = t.vertices,
              h = this.faces,
              l = t.faces,
              u = this.faceVertexUvs[0],
              c = t.faceVertexUvs[0],
              p = this.colors,
              d = t.colors;
            void 0 === i && (i = 0),
              void 0 !== e && (n = new o().getNormalMatrix(e)),
              (t = 0);
            for (var f = a.length; t < f; t++) {
              var m = a[t].clone();
              void 0 !== e && m.applyMatrix4(e), s.push(m);
            }
            for (t = 0, f = d.length; t < f; t++) p.push(d[t].clone());
            for (t = 0, f = l.length; t < f; t++) {
              a = l[t];
              var _ = a.vertexNormals;
              for (
                d = a.vertexColors,
                  p = new y(a.a + r, a.b + r, a.c + r),
                  p.normal.copy(a.normal),
                  void 0 !== n && p.normal.applyMatrix3(n).normalize(),
                  e = 0,
                  s = _.length;
                e < s;
                e++
              )
                (m = _[e].clone()),
                  void 0 !== n && m.applyMatrix3(n).normalize(),
                  p.vertexNormals.push(m);
              for (p.color.copy(a.color), e = 0, s = d.length; e < s; e++)
                (m = d[e]), p.vertexColors.push(m.clone());
              (p.materialIndex = a.materialIndex + i), h.push(p);
            }
            for (t = 0, f = c.length; t < f; t++)
              if (((i = c[t]), (n = []), void 0 !== i)) {
                for (e = 0, s = i.length; e < s; e++) n.push(i[e].clone());
                u.push(n);
              }
          } else
            console.error(
              "THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",
              t
            );
        },
        mergeMesh: function (t) {
          t && t.isMesh
            ? (t.matrixAutoUpdate && t.updateMatrix(),
              this.merge(t.geometry, t.matrix))
            : console.error(
                "THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",
                t
              );
        },
        mergeVertices: function () {
          var t,
            e = {},
            i = [],
            n = [],
            r = Math.pow(10, 4),
            s = 0;
          for (t = this.vertices.length; s < t; s++) {
            var o = this.vertices[s];
            (o =
              Math.round(o.x * r) +
              "_" +
              Math.round(o.y * r) +
              "_" +
              Math.round(o.z * r)),
              void 0 === e[o]
                ? ((e[o] = s), i.push(this.vertices[s]), (n[s] = i.length - 1))
                : (n[s] = n[e[o]]);
          }
          for (e = [], s = 0, t = this.faces.length; s < t; s++)
            for (
              r = this.faces[s],
                r.a = n[r.a],
                r.b = n[r.b],
                r.c = n[r.c],
                r = [r.a, r.b, r.c],
                o = 0;
              3 > o;
              o++
            )
              if (r[o] === r[(o + 1) % 3]) {
                e.push(s);
                break;
              }
          for (s = e.length - 1; 0 <= s; s--)
            for (
              r = e[s],
                this.faces.splice(r, 1),
                n = 0,
                t = this.faceVertexUvs.length;
              n < t;
              n++
            )
              this.faceVertexUvs[n].splice(r, 1);
          return (s = this.vertices.length - i.length), (this.vertices = i), s;
        },
        setFromPoints: function (t) {
          this.vertices = [];
          for (var e = 0, i = t.length; e < i; e++) {
            var n = t[e];
            this.vertices.push(new s(n.x, n.y, n.z || 0));
          }
          return this;
        },
        sortFacesByMaterialIndex: function () {
          for (var t = this.faces, e = t.length, i = 0; i < e; i++)
            t[i]._id = i;
          t.sort(function (t, e) {
            return t.materialIndex - e.materialIndex;
          });
          var n,
            r,
            s = this.faceVertexUvs[0],
            o = this.faceVertexUvs[1];
          for (
            s && s.length === e && (n = []),
              o && o.length === e && (r = []),
              i = 0;
            i < e;
            i++
          ) {
            var a = t[i]._id;
            n && n.push(s[a]), r && r.push(o[a]);
          }
          n && (this.faceVertexUvs[0] = n), r && (this.faceVertexUvs[1] = r);
        },
        toJSON: function () {
          function t(t, e, i) {
            return i ? t | (1 << e) : t & ~(1 << e);
          }
          function e(t) {
            var e = t.x.toString() + t.y.toString() + t.z.toString();
            return void 0 !== l[e]
              ? l[e]
              : ((l[e] = h.length / 3), h.push(t.x, t.y, t.z), l[e]);
          }
          function i(t) {
            var e = t.r.toString() + t.g.toString() + t.b.toString();
            return void 0 !== c[e]
              ? c[e]
              : ((c[e] = u.length), u.push(t.getHex()), c[e]);
          }
          function n(t) {
            var e = t.x.toString() + t.y.toString();
            return void 0 !== d[e]
              ? d[e]
              : ((d[e] = p.length / 2), p.push(t.x, t.y), d[e]);
          }
          var r = {
            metadata: {
              version: 4.5,
              type: "Geometry",
              generator: "Geometry.toJSON",
            },
          };
          if (
            ((r.uuid = this.uuid),
            (r.type = this.type),
            "" !== this.name && (r.name = this.name),
            void 0 !== this.parameters)
          ) {
            var s,
              o = this.parameters;
            for (s in o) void 0 !== o[s] && (r[s] = o[s]);
            return r;
          }
          for (o = [], s = 0; s < this.vertices.length; s++) {
            var a = this.vertices[s];
            o.push(a.x, a.y, a.z);
          }
          a = [];
          var h = [],
            l = {},
            u = [],
            c = {},
            p = [],
            d = {};
          for (s = 0; s < this.faces.length; s++) {
            var f = this.faces[s],
              m = void 0 !== this.faceVertexUvs[0][s],
              _ = 0 < f.normal.length(),
              g = 0 < f.vertexNormals.length,
              v = 1 !== f.color.r || 1 !== f.color.g || 1 !== f.color.b,
              y = 0 < f.vertexColors.length,
              x = 0;
            (x = t(x, 0, 0)),
              (x = t(x, 1, !0)),
              (x = t(x, 2, !1)),
              (x = t(x, 3, m)),
              (x = t(x, 4, _)),
              (x = t(x, 5, g)),
              (x = t(x, 6, v)),
              (x = t(x, 7, y)),
              a.push(x),
              a.push(f.a, f.b, f.c),
              a.push(f.materialIndex),
              m &&
                ((m = this.faceVertexUvs[0][s]),
                a.push(n(m[0]), n(m[1]), n(m[2]))),
              _ && a.push(e(f.normal)),
              g && ((_ = f.vertexNormals), a.push(e(_[0]), e(_[1]), e(_[2]))),
              v && a.push(i(f.color)),
              y && ((f = f.vertexColors), a.push(i(f[0]), i(f[1]), i(f[2])));
          }
          return (
            (r.data = {}),
            (r.data.vertices = o),
            (r.data.normals = h),
            0 < u.length && (r.data.colors = u),
            0 < p.length && (r.data.uvs = [p]),
            (r.data.faces = a),
            r
          );
        },
        clone: function () {
          return new T().copy(this);
        },
        copy: function (t) {
          var e, i, n;
          (this.vertices = []),
            (this.colors = []),
            (this.faces = []),
            (this.faceVertexUvs = [[]]),
            (this.morphTargets = []),
            (this.morphNormals = []),
            (this.skinWeights = []),
            (this.skinIndices = []),
            (this.lineDistances = []),
            (this.boundingSphere = this.boundingBox = null),
            (this.name = t.name);
          var r = t.vertices,
            s = 0;
          for (e = r.length; s < e; s++) this.vertices.push(r[s].clone());
          for (r = t.colors, s = 0, e = r.length; s < e; s++)
            this.colors.push(r[s].clone());
          for (r = t.faces, s = 0, e = r.length; s < e; s++)
            this.faces.push(r[s].clone());
          for (s = 0, e = t.faceVertexUvs.length; s < e; s++) {
            var o = t.faceVertexUvs[s];
            for (
              void 0 === this.faceVertexUvs[s] && (this.faceVertexUvs[s] = []),
                r = 0,
                i = o.length;
              r < i;
              r++
            ) {
              var a = o[r],
                h = [],
                l = 0;
              for (n = a.length; l < n; l++) h.push(a[l].clone());
              this.faceVertexUvs[s].push(h);
            }
          }
          for (l = t.morphTargets, s = 0, e = l.length; s < e; s++) {
            if (((n = {}), (n.name = l[s].name), void 0 !== l[s].vertices))
              for (n.vertices = [], r = 0, i = l[s].vertices.length; r < i; r++)
                n.vertices.push(l[s].vertices[r].clone());
            if (void 0 !== l[s].normals)
              for (n.normals = [], r = 0, i = l[s].normals.length; r < i; r++)
                n.normals.push(l[s].normals[r].clone());
            this.morphTargets.push(n);
          }
          for (l = t.morphNormals, s = 0, e = l.length; s < e; s++) {
            if (((n = {}), void 0 !== l[s].vertexNormals))
              for (
                n.vertexNormals = [], r = 0, i = l[s].vertexNormals.length;
                r < i;
                r++
              )
                (o = l[s].vertexNormals[r]),
                  (a = {}),
                  (a.a = o.a.clone()),
                  (a.b = o.b.clone()),
                  (a.c = o.c.clone()),
                  n.vertexNormals.push(a);
            if (void 0 !== l[s].faceNormals)
              for (
                n.faceNormals = [], r = 0, i = l[s].faceNormals.length;
                r < i;
                r++
              )
                n.faceNormals.push(l[s].faceNormals[r].clone());
            this.morphNormals.push(n);
          }
          for (r = t.skinWeights, s = 0, e = r.length; s < e; s++)
            this.skinWeights.push(r[s].clone());
          for (r = t.skinIndices, s = 0, e = r.length; s < e; s++)
            this.skinIndices.push(r[s].clone());
          for (r = t.lineDistances, s = 0, e = r.length; s < e; s++)
            this.lineDistances.push(r[s]);
          return (
            (s = t.boundingBox),
            null !== s && (this.boundingBox = s.clone()),
            (s = t.boundingSphere),
            null !== s && (this.boundingSphere = s.clone()),
            (this.elementsNeedUpdate = t.elementsNeedUpdate),
            (this.verticesNeedUpdate = t.verticesNeedUpdate),
            (this.uvsNeedUpdate = t.uvsNeedUpdate),
            (this.normalsNeedUpdate = t.normalsNeedUpdate),
            (this.colorsNeedUpdate = t.colorsNeedUpdate),
            (this.lineDistancesNeedUpdate = t.lineDistancesNeedUpdate),
            (this.groupsNeedUpdate = t.groupsNeedUpdate),
            this
          );
        },
        dispose: function () {
          this.dispatchEvent({ type: "dispose" });
        },
      })),
        Object.defineProperty(E.prototype, "needsUpdate", {
          set: function (t) {
            !0 === t && this.version++;
          },
        }),
        Object.assign(E.prototype, {
          isBufferAttribute: !0,
          onUploadCallback: function () {},
          setArray: function (t) {
            if (Array.isArray(t))
              throw new TypeError(
                "THREE.BufferAttribute: array should be a Typed Array."
              );
            return (
              (this.count = void 0 !== t ? t.length / this.itemSize : 0),
              (this.array = t),
              this
            );
          },
          setDynamic: function (t) {
            return (this.dynamic = t), this;
          },
          copy: function (t) {
            return (
              (this.name = t.name),
              (this.array = new t.array.constructor(t.array)),
              (this.itemSize = t.itemSize),
              (this.count = t.count),
              (this.normalized = t.normalized),
              (this.dynamic = t.dynamic),
              this
            );
          },
          copyAt: function (t, e, i) {
            (t *= this.itemSize), (i *= e.itemSize);
            for (var n = 0, r = this.itemSize; n < r; n++)
              this.array[t + n] = e.array[i + n];
            return this;
          },
          copyArray: function (t) {
            return this.array.set(t), this;
          },
          copyColorsArray: function (t) {
            for (var e = this.array, i = 0, n = 0, r = t.length; n < r; n++) {
              var s = t[n];
              void 0 === s &&
                (console.warn(
                  "THREE.BufferAttribute.copyColorsArray(): color is undefined",
                  n
                ),
                (s = new _())),
                (e[i++] = s.r),
                (e[i++] = s.g),
                (e[i++] = s.b);
            }
            return this;
          },
          copyVector2sArray: function (t) {
            for (var e = this.array, n = 0, r = 0, s = t.length; r < s; r++) {
              var o = t[r];
              void 0 === o &&
                (console.warn(
                  "THREE.BufferAttribute.copyVector2sArray(): vector is undefined",
                  r
                ),
                (o = new i())),
                (e[n++] = o.x),
                (e[n++] = o.y);
            }
            return this;
          },
          copyVector3sArray: function (t) {
            for (var e = this.array, i = 0, n = 0, r = t.length; n < r; n++) {
              var o = t[n];
              void 0 === o &&
                (console.warn(
                  "THREE.BufferAttribute.copyVector3sArray(): vector is undefined",
                  n
                ),
                (o = new s())),
                (e[i++] = o.x),
                (e[i++] = o.y),
                (e[i++] = o.z);
            }
            return this;
          },
          copyVector4sArray: function (t) {
            for (var e = this.array, i = 0, n = 0, r = t.length; n < r; n++) {
              var s = t[n];
              void 0 === s &&
                (console.warn(
                  "THREE.BufferAttribute.copyVector4sArray(): vector is undefined",
                  n
                ),
                (s = new h())),
                (e[i++] = s.x),
                (e[i++] = s.y),
                (e[i++] = s.z),
                (e[i++] = s.w);
            }
            return this;
          },
          set: function (t, e) {
            return void 0 === e && (e = 0), this.array.set(t, e), this;
          },
          getX: function (t) {
            return this.array[t * this.itemSize];
          },
          setX: function (t, e) {
            return (this.array[t * this.itemSize] = e), this;
          },
          getY: function (t) {
            return this.array[t * this.itemSize + 1];
          },
          setY: function (t, e) {
            return (this.array[t * this.itemSize + 1] = e), this;
          },
          getZ: function (t) {
            return this.array[t * this.itemSize + 2];
          },
          setZ: function (t, e) {
            return (this.array[t * this.itemSize + 2] = e), this;
          },
          getW: function (t) {
            return this.array[t * this.itemSize + 3];
          },
          setW: function (t, e) {
            return (this.array[t * this.itemSize + 3] = e), this;
          },
          setXY: function (t, e, i) {
            return (
              (t *= this.itemSize),
              (this.array[t + 0] = e),
              (this.array[t + 1] = i),
              this
            );
          },
          setXYZ: function (t, e, i, n) {
            return (
              (t *= this.itemSize),
              (this.array[t + 0] = e),
              (this.array[t + 1] = i),
              (this.array[t + 2] = n),
              this
            );
          },
          setXYZW: function (t, e, i, n, r) {
            return (
              (t *= this.itemSize),
              (this.array[t + 0] = e),
              (this.array[t + 1] = i),
              (this.array[t + 2] = n),
              (this.array[t + 3] = r),
              this
            );
          },
          onUpload: function (t) {
            return (this.onUploadCallback = t), this;
          },
          clone: function () {
            return new this.constructor(this.array, this.itemSize).copy(this);
          },
        }),
        (S.prototype = Object.create(E.prototype)),
        (S.prototype.constructor = S),
        (M.prototype = Object.create(E.prototype)),
        (M.prototype.constructor = M),
        (C.prototype = Object.create(E.prototype)),
        (C.prototype.constructor = C),
        (P.prototype = Object.create(E.prototype)),
        (P.prototype.constructor = P),
        (A.prototype = Object.create(E.prototype)),
        (A.prototype.constructor = A),
        (R.prototype = Object.create(E.prototype)),
        (R.prototype.constructor = R),
        (L.prototype = Object.create(E.prototype)),
        (L.prototype.constructor = L),
        (I.prototype = Object.create(E.prototype)),
        (I.prototype.constructor = I),
        (O.prototype = Object.create(E.prototype)),
        (O.prototype.constructor = O),
        Object.assign(D.prototype, {
          computeGroups: function (t) {
            var e = [],
              i = void 0;
            t = t.faces;
            for (var n = 0; n < t.length; n++) {
              var r = t[n];
              if (r.materialIndex !== i) {
                (i = r.materialIndex),
                  void 0 !== s && ((s.count = 3 * n - s.start), e.push(s));
                var s = { start: 3 * n, materialIndex: i };
              }
            }
            void 0 !== s && ((s.count = 3 * n - s.start), e.push(s)),
              (this.groups = e);
          },
          fromGeometry: function (t) {
            var e = t.faces,
              n = t.vertices,
              r = t.faceVertexUvs,
              s = r[0] && 0 < r[0].length,
              o = r[1] && 0 < r[1].length,
              a = t.morphTargets,
              h = a.length;
            if (0 < h) {
              for (var l = [], u = 0; u < h; u++)
                l[u] = { name: a[u].name, data: [] };
              this.morphTargets.position = l;
            }
            var c = t.morphNormals,
              p = c.length;
            if (0 < p) {
              var d = [];
              for (u = 0; u < p; u++) d[u] = { name: c[u].name, data: [] };
              this.morphTargets.normal = d;
            }
            var f = t.skinIndices,
              m = t.skinWeights,
              _ = f.length === n.length,
              g = m.length === n.length;
            for (
              0 < n.length &&
                0 === e.length &&
                console.error(
                  "THREE.DirectGeometry: Faceless geometries are not supported."
                ),
                u = 0;
              u < e.length;
              u++
            ) {
              var v = e[u];
              this.vertices.push(n[v.a], n[v.b], n[v.c]);
              var y = v.vertexNormals;
              for (
                3 === y.length
                  ? this.normals.push(y[0], y[1], y[2])
                  : ((y = v.normal), this.normals.push(y, y, y)),
                  y = v.vertexColors,
                  3 === y.length
                    ? this.colors.push(y[0], y[1], y[2])
                    : ((y = v.color), this.colors.push(y, y, y)),
                  !0 === s &&
                    ((y = r[0][u]),
                    void 0 !== y
                      ? this.uvs.push(y[0], y[1], y[2])
                      : (console.warn(
                          "THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",
                          u
                        ),
                        this.uvs.push(new i(), new i(), new i()))),
                  !0 === o &&
                    ((y = r[1][u]),
                    void 0 !== y
                      ? this.uvs2.push(y[0], y[1], y[2])
                      : (console.warn(
                          "THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",
                          u
                        ),
                        this.uvs2.push(new i(), new i(), new i()))),
                  y = 0;
                y < h;
                y++
              ) {
                var x = a[y].vertices;
                l[y].data.push(x[v.a], x[v.b], x[v.c]);
              }
              for (y = 0; y < p; y++)
                (x = c[y].vertexNormals[u]), d[y].data.push(x.a, x.b, x.c);
              _ && this.skinIndices.push(f[v.a], f[v.b], f[v.c]),
                g && this.skinWeights.push(m[v.a], m[v.b], m[v.c]);
            }
            return (
              this.computeGroups(t),
              (this.verticesNeedUpdate = t.verticesNeedUpdate),
              (this.normalsNeedUpdate = t.normalsNeedUpdate),
              (this.colorsNeedUpdate = t.colorsNeedUpdate),
              (this.uvsNeedUpdate = t.uvsNeedUpdate),
              (this.groupsNeedUpdate = t.groupsNeedUpdate),
              this
            );
          },
        });
      var ds = 1;
      (N.prototype = Object.assign(Object.create(e.prototype), {
        constructor: N,
        isBufferGeometry: !0,
        getIndex: function () {
          return this.index;
        },
        setIndex: function (t) {
          Array.isArray(t)
            ? (this.index = new (65535 < k(t) ? L : A)(t, 1))
            : (this.index = t);
        },
        addAttribute: function (t, e, i) {
          return (e && e.isBufferAttribute) ||
            (e && e.isInterleavedBufferAttribute)
            ? "index" === t
              ? (console.warn(
                  "THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."
                ),
                this.setIndex(e),
                this)
              : ((this.attributes[t] = e), this)
            : (console.warn(
                "THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."
              ),
              this.addAttribute(t, new E(e, i)));
        },
        getAttribute: function (t) {
          return this.attributes[t];
        },
        removeAttribute: function (t) {
          return delete this.attributes[t], this;
        },
        addGroup: function (t, e, i) {
          this.groups.push({
            start: t,
            count: e,
            materialIndex: void 0 !== i ? i : 0,
          });
        },
        clearGroups: function () {
          this.groups = [];
        },
        setDrawRange: function (t, e) {
          (this.drawRange.start = t), (this.drawRange.count = e);
        },
        applyMatrix: function (t) {
          var e = this.attributes.position;
          return (
            void 0 !== e && (t.applyToBufferAttribute(e), (e.needsUpdate = !0)),
            (e = this.attributes.normal),
            void 0 !== e &&
              (new o().getNormalMatrix(t).applyToBufferAttribute(e),
              (e.needsUpdate = !0)),
            null !== this.boundingBox && this.computeBoundingBox(),
            null !== this.boundingSphere && this.computeBoundingSphere(),
            this
          );
        },
        rotateX: (function () {
          var t = new n();
          return function (e) {
            return t.makeRotationX(e), this.applyMatrix(t), this;
          };
        })(),
        rotateY: (function () {
          var t = new n();
          return function (e) {
            return t.makeRotationY(e), this.applyMatrix(t), this;
          };
        })(),
        rotateZ: (function () {
          var t = new n();
          return function (e) {
            return t.makeRotationZ(e), this.applyMatrix(t), this;
          };
        })(),
        translate: (function () {
          var t = new n();
          return function (e, i, n) {
            return t.makeTranslation(e, i, n), this.applyMatrix(t), this;
          };
        })(),
        scale: (function () {
          var t = new n();
          return function (e, i, n) {
            return t.makeScale(e, i, n), this.applyMatrix(t), this;
          };
        })(),
        lookAt: (function () {
          var t = new b();
          return function (e) {
            t.lookAt(e), t.updateMatrix(), this.applyMatrix(t.matrix);
          };
        })(),
        center: (function () {
          var t = new s();
          return function () {
            return (
              this.computeBoundingBox(),
              this.boundingBox.getCenter(t).negate(),
              this.translate(t.x, t.y, t.z),
              this
            );
          };
        })(),
        setFromObject: function (t) {
          var e = t.geometry;
          if (t.isPoints || t.isLine) {
            t = new I(3 * e.vertices.length, 3);
            var i = new I(3 * e.colors.length, 3);
            this.addAttribute("position", t.copyVector3sArray(e.vertices)),
              this.addAttribute("color", i.copyColorsArray(e.colors)),
              e.lineDistances &&
                e.lineDistances.length === e.vertices.length &&
                ((t = new I(e.lineDistances.length, 1)),
                this.addAttribute(
                  "lineDistance",
                  t.copyArray(e.lineDistances)
                )),
              null !== e.boundingSphere &&
                (this.boundingSphere = e.boundingSphere.clone()),
              null !== e.boundingBox &&
                (this.boundingBox = e.boundingBox.clone());
          } else t.isMesh && e && e.isGeometry && this.fromGeometry(e);
          return this;
        },
        setFromPoints: function (t) {
          for (var e = [], i = 0, n = t.length; i < n; i++) {
            var r = t[i];
            e.push(r.x, r.y, r.z || 0);
          }
          return this.addAttribute("position", new I(e, 3)), this;
        },
        updateFromObject: function (t) {
          var e = t.geometry;
          if (t.isMesh) {
            var i = e.__directGeometry;
            if (
              (!0 === e.elementsNeedUpdate &&
                ((i = void 0), (e.elementsNeedUpdate = !1)),
              void 0 === i)
            )
              return this.fromGeometry(e);
            (i.verticesNeedUpdate = e.verticesNeedUpdate),
              (i.normalsNeedUpdate = e.normalsNeedUpdate),
              (i.colorsNeedUpdate = e.colorsNeedUpdate),
              (i.uvsNeedUpdate = e.uvsNeedUpdate),
              (i.groupsNeedUpdate = e.groupsNeedUpdate),
              (e.verticesNeedUpdate = !1),
              (e.normalsNeedUpdate = !1),
              (e.colorsNeedUpdate = !1),
              (e.uvsNeedUpdate = !1),
              (e.groupsNeedUpdate = !1),
              (e = i);
          }
          return (
            !0 === e.verticesNeedUpdate &&
              ((i = this.attributes.position),
              void 0 !== i &&
                (i.copyVector3sArray(e.vertices), (i.needsUpdate = !0)),
              (e.verticesNeedUpdate = !1)),
            !0 === e.normalsNeedUpdate &&
              ((i = this.attributes.normal),
              void 0 !== i &&
                (i.copyVector3sArray(e.normals), (i.needsUpdate = !0)),
              (e.normalsNeedUpdate = !1)),
            !0 === e.colorsNeedUpdate &&
              ((i = this.attributes.color),
              void 0 !== i &&
                (i.copyColorsArray(e.colors), (i.needsUpdate = !0)),
              (e.colorsNeedUpdate = !1)),
            e.uvsNeedUpdate &&
              ((i = this.attributes.uv),
              void 0 !== i &&
                (i.copyVector2sArray(e.uvs), (i.needsUpdate = !0)),
              (e.uvsNeedUpdate = !1)),
            e.lineDistancesNeedUpdate &&
              ((i = this.attributes.lineDistance),
              void 0 !== i &&
                (i.copyArray(e.lineDistances), (i.needsUpdate = !0)),
              (e.lineDistancesNeedUpdate = !1)),
            e.groupsNeedUpdate &&
              (e.computeGroups(t.geometry),
              (this.groups = e.groups),
              (e.groupsNeedUpdate = !1)),
            this
          );
        },
        fromGeometry: function (t) {
          return (
            (t.__directGeometry = new D().fromGeometry(t)),
            this.fromDirectGeometry(t.__directGeometry)
          );
        },
        fromDirectGeometry: function (t) {
          var e = new Float32Array(3 * t.vertices.length);
          this.addAttribute(
            "position",
            new E(e, 3).copyVector3sArray(t.vertices)
          ),
            0 < t.normals.length &&
              ((e = new Float32Array(3 * t.normals.length)),
              this.addAttribute(
                "normal",
                new E(e, 3).copyVector3sArray(t.normals)
              )),
            0 < t.colors.length &&
              ((e = new Float32Array(3 * t.colors.length)),
              this.addAttribute(
                "color",
                new E(e, 3).copyColorsArray(t.colors)
              )),
            0 < t.uvs.length &&
              ((e = new Float32Array(2 * t.uvs.length)),
              this.addAttribute("uv", new E(e, 2).copyVector2sArray(t.uvs))),
            0 < t.uvs2.length &&
              ((e = new Float32Array(2 * t.uvs2.length)),
              this.addAttribute("uv2", new E(e, 2).copyVector2sArray(t.uvs2))),
            (this.groups = t.groups);
          for (var i in t.morphTargets) {
            e = [];
            for (var n = t.morphTargets[i], r = 0, s = n.length; r < s; r++) {
              var o = n[r],
                a = new I(3 * o.data.length, 3);
              (a.name = o.name), e.push(a.copyVector3sArray(o.data));
            }
            this.morphAttributes[i] = e;
          }
          return (
            0 < t.skinIndices.length &&
              ((i = new I(4 * t.skinIndices.length, 4)),
              this.addAttribute(
                "skinIndex",
                i.copyVector4sArray(t.skinIndices)
              )),
            0 < t.skinWeights.length &&
              ((i = new I(4 * t.skinWeights.length, 4)),
              this.addAttribute(
                "skinWeight",
                i.copyVector4sArray(t.skinWeights)
              )),
            null !== t.boundingSphere &&
              (this.boundingSphere = t.boundingSphere.clone()),
            null !== t.boundingBox &&
              (this.boundingBox = t.boundingBox.clone()),
            this
          );
        },
        computeBoundingBox: function () {
          null === this.boundingBox && (this.boundingBox = new p());
          var t = this.attributes.position;
          void 0 !== t
            ? this.boundingBox.setFromBufferAttribute(t)
            : this.boundingBox.makeEmpty(),
            (isNaN(this.boundingBox.min.x) ||
              isNaN(this.boundingBox.min.y) ||
              isNaN(this.boundingBox.min.z)) &&
              console.error(
                'THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',
                this
              );
        },
        computeBoundingSphere: (function () {
          var t = new p(),
            e = new s();
          return function () {
            null === this.boundingSphere && (this.boundingSphere = new d());
            var i = this.attributes.position;
            if (i) {
              var n = this.boundingSphere.center;
              t.setFromBufferAttribute(i), t.getCenter(n);
              for (var r = 0, s = 0, o = i.count; s < o; s++)
                (e.x = i.getX(s)),
                  (e.y = i.getY(s)),
                  (e.z = i.getZ(s)),
                  (r = Math.max(r, n.distanceToSquared(e)));
              (this.boundingSphere.radius = Math.sqrt(r)),
                isNaN(this.boundingSphere.radius) &&
                  console.error(
                    'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',
                    this
                  );
            }
          };
        })(),
        computeFaceNormals: function () {},
        computeVertexNormals: function () {
          var t = this.index,
            e = this.attributes;
          if (e.position) {
            var i = e.position.array;
            if (void 0 === e.normal)
              this.addAttribute("normal", new E(new Float32Array(i.length), 3));
            else
              for (var n = e.normal.array, r = 0, o = n.length; r < o; r++)
                n[r] = 0;
            n = e.normal.array;
            var a = new s(),
              h = new s(),
              l = new s(),
              u = new s(),
              c = new s();
            if (t) {
              var p = t.array;
              for (r = 0, o = t.count; r < o; r += 3) {
                t = 3 * p[r + 0];
                var d = 3 * p[r + 1],
                  f = 3 * p[r + 2];
                a.fromArray(i, t),
                  h.fromArray(i, d),
                  l.fromArray(i, f),
                  u.subVectors(l, h),
                  c.subVectors(a, h),
                  u.cross(c),
                  (n[t] += u.x),
                  (n[t + 1] += u.y),
                  (n[t + 2] += u.z),
                  (n[d] += u.x),
                  (n[d + 1] += u.y),
                  (n[d + 2] += u.z),
                  (n[f] += u.x),
                  (n[f + 1] += u.y),
                  (n[f + 2] += u.z);
              }
            } else
              for (r = 0, o = i.length; r < o; r += 9)
                a.fromArray(i, r),
                  h.fromArray(i, r + 3),
                  l.fromArray(i, r + 6),
                  u.subVectors(l, h),
                  c.subVectors(a, h),
                  u.cross(c),
                  (n[r] = u.x),
                  (n[r + 1] = u.y),
                  (n[r + 2] = u.z),
                  (n[r + 3] = u.x),
                  (n[r + 4] = u.y),
                  (n[r + 5] = u.z),
                  (n[r + 6] = u.x),
                  (n[r + 7] = u.y),
                  (n[r + 8] = u.z);
            this.normalizeNormals(), (e.normal.needsUpdate = !0);
          }
        },
        merge: function (t, e) {
          if (t && t.isBufferGeometry) {
            void 0 === e &&
              ((e = 0),
              console.warn(
                "THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."
              ));
            var i,
              n = this.attributes;
            for (i in n)
              if (void 0 !== t.attributes[i]) {
                var r = n[i].array,
                  s = t.attributes[i],
                  o = s.array,
                  a = 0;
                for (s = s.itemSize * e; a < o.length; a++, s++) r[s] = o[a];
              }
            return this;
          }
          console.error(
            "THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",
            t
          );
        },
        normalizeNormals: (function () {
          var t = new s();
          return function () {
            for (var e = this.attributes.normal, i = 0, n = e.count; i < n; i++)
              (t.x = e.getX(i)),
                (t.y = e.getY(i)),
                (t.z = e.getZ(i)),
                t.normalize(),
                e.setXYZ(i, t.x, t.y, t.z);
          };
        })(),
        toNonIndexed: function () {
          if (null === this.index)
            return (
              console.warn(
                "THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."
              ),
              this
            );
          var t,
            e = new N(),
            i = this.index.array,
            n = this.attributes;
          for (t in n) {
            var r = n[t],
              s = r.array,
              o = r.itemSize,
              a = new s.constructor(i.length * o),
              h = 0;
            r = 0;
            for (var l = i.length; r < l; r++)
              for (var u = i[r] * o, c = 0; c < o; c++) a[h++] = s[u++];
            e.addAttribute(t, new E(a, o));
          }
          for (i = this.groups, r = 0, l = i.length; r < l; r++)
            (n = i[r]), e.addGroup(n.start, n.count, n.materialIndex);
          return e;
        },
        toJSON: function () {
          var t = {
            metadata: {
              version: 4.5,
              type: "BufferGeometry",
              generator: "BufferGeometry.toJSON",
            },
          };
          if (
            ((t.uuid = this.uuid),
            (t.type = this.type),
            "" !== this.name && (t.name = this.name),
            0 < Object.keys(this.userData).length &&
              (t.userData = this.userData),
            void 0 !== this.parameters)
          ) {
            var e = this.parameters;
            for (r in e) void 0 !== e[r] && (t[r] = e[r]);
            return t;
          }
          t.data = { attributes: {} };
          var i = this.index;
          null !== i &&
            ((e = Array.prototype.slice.call(i.array)),
            (t.data.index = { type: i.array.constructor.name, array: e })),
            (i = this.attributes);
          for (r in i) {
            var n = i[r];
            (e = Array.prototype.slice.call(n.array)),
              (t.data.attributes[r] = {
                itemSize: n.itemSize,
                type: n.array.constructor.name,
                array: e,
                normalized: n.normalized,
              });
          }
          var r = this.groups;
          return (
            0 < r.length && (t.data.groups = JSON.parse(JSON.stringify(r))),
            (r = this.boundingSphere),
            null !== r &&
              (t.data.boundingSphere = {
                center: r.center.toArray(),
                radius: r.radius,
              }),
            t
          );
        },
        clone: function () {
          return new N().copy(this);
        },
        copy: function (t) {
          var e;
          (this.index = null),
            (this.attributes = {}),
            (this.morphAttributes = {}),
            (this.groups = []),
            (this.boundingSphere = this.boundingBox = null),
            (this.name = t.name);
          var i = t.index;
          null !== i && this.setIndex(i.clone()), (i = t.attributes);
          for (o in i) this.addAttribute(o, i[o].clone());
          var n = t.morphAttributes;
          for (o in n) {
            var r = [],
              s = n[o];
            for (i = 0, e = s.length; i < e; i++) r.push(s[i].clone());
            this.morphAttributes[o] = r;
          }
          var o = t.groups;
          for (i = 0, e = o.length; i < e; i++)
            (n = o[i]), this.addGroup(n.start, n.count, n.materialIndex);
          return (
            (o = t.boundingBox),
            null !== o && (this.boundingBox = o.clone()),
            (o = t.boundingSphere),
            null !== o && (this.boundingSphere = o.clone()),
            (this.drawRange.start = t.drawRange.start),
            (this.drawRange.count = t.drawRange.count),
            (this.userData = t.userData),
            this
          );
        },
        dispose: function () {
          this.dispatchEvent({ type: "dispose" });
        },
      })),
        (z.prototype = Object.create(T.prototype)),
        (z.prototype.constructor = z),
        (F.prototype = Object.create(N.prototype)),
        (F.prototype.constructor = F),
        (H.prototype = Object.create(T.prototype)),
        (H.prototype.constructor = H),
        (B.prototype = Object.create(N.prototype)),
        (B.prototype.constructor = B);
      var fs = 0;
      (U.prototype = Object.assign(Object.create(e.prototype), {
        constructor: U,
        isMaterial: !0,
        onBeforeCompile: function () {},
        setValues: function (t) {
          if (void 0 !== t)
            for (var e in t) {
              var i = t[e];
              if (void 0 === i)
                console.warn(
                  "THREE.Material: '" + e + "' parameter is undefined."
                );
              else if ("shading" === e)
                console.warn(
                  "THREE." +
                    this.type +
                    ": .shading has been removed. Use the boolean .flatShading instead."
                ),
                  (this.flatShading = 1 === i);
              else {
                var n = this[e];
                void 0 === n
                  ? console.warn(
                      "THREE." +
                        this.type +
                        ": '" +
                        e +
                        "' is not a property of this material."
                    )
                  : n && n.isColor
                  ? n.set(i)
                  : n && n.isVector3 && i && i.isVector3
                  ? n.copy(i)
                  : (this[e] = "overdraw" === e ? Number(i) : i);
              }
            }
        },
        toJSON: function (t) {
          function e(t) {
            var e,
              i = [];
            for (e in t) {
              var n = t[e];
              delete n.metadata, i.push(n);
            }
            return i;
          }
          var i = void 0 === t || "string" == typeof t;
          i && (t = { textures: {}, images: {} });
          var n = {
            metadata: {
              version: 4.5,
              type: "Material",
              generator: "Material.toJSON",
            },
          };
          return (
            (n.uuid = this.uuid),
            (n.type = this.type),
            "" !== this.name && (n.name = this.name),
            this.color && this.color.isColor && (n.color = this.color.getHex()),
            void 0 !== this.roughness && (n.roughness = this.roughness),
            void 0 !== this.metalness && (n.metalness = this.metalness),
            this.emissive &&
              this.emissive.isColor &&
              (n.emissive = this.emissive.getHex()),
            1 !== this.emissiveIntensity &&
              (n.emissiveIntensity = this.emissiveIntensity),
            this.specular &&
              this.specular.isColor &&
              (n.specular = this.specular.getHex()),
            void 0 !== this.shininess && (n.shininess = this.shininess),
            void 0 !== this.clearCoat && (n.clearCoat = this.clearCoat),
            void 0 !== this.clearCoatRoughness &&
              (n.clearCoatRoughness = this.clearCoatRoughness),
            this.map && this.map.isTexture && (n.map = this.map.toJSON(t).uuid),
            this.alphaMap &&
              this.alphaMap.isTexture &&
              (n.alphaMap = this.alphaMap.toJSON(t).uuid),
            this.lightMap &&
              this.lightMap.isTexture &&
              (n.lightMap = this.lightMap.toJSON(t).uuid),
            this.aoMap &&
              this.aoMap.isTexture &&
              ((n.aoMap = this.aoMap.toJSON(t).uuid),
              (n.aoMapIntensity = this.aoMapIntensity)),
            this.bumpMap &&
              this.bumpMap.isTexture &&
              ((n.bumpMap = this.bumpMap.toJSON(t).uuid),
              (n.bumpScale = this.bumpScale)),
            this.normalMap &&
              this.normalMap.isTexture &&
              ((n.normalMap = this.normalMap.toJSON(t).uuid),
              (n.normalMapType = this.normalMapType),
              (n.normalScale = this.normalScale.toArray())),
            this.displacementMap &&
              this.displacementMap.isTexture &&
              ((n.displacementMap = this.displacementMap.toJSON(t).uuid),
              (n.displacementScale = this.displacementScale),
              (n.displacementBias = this.displacementBias)),
            this.roughnessMap &&
              this.roughnessMap.isTexture &&
              (n.roughnessMap = this.roughnessMap.toJSON(t).uuid),
            this.metalnessMap &&
              this.metalnessMap.isTexture &&
              (n.metalnessMap = this.metalnessMap.toJSON(t).uuid),
            this.emissiveMap &&
              this.emissiveMap.isTexture &&
              (n.emissiveMap = this.emissiveMap.toJSON(t).uuid),
            this.specularMap &&
              this.specularMap.isTexture &&
              (n.specularMap = this.specularMap.toJSON(t).uuid),
            this.envMap &&
              this.envMap.isTexture &&
              ((n.envMap = this.envMap.toJSON(t).uuid),
              (n.reflectivity = this.reflectivity),
              void 0 !== this.combine && (n.combine = this.combine),
              void 0 !== this.envMapIntensity &&
                (n.envMapIntensity = this.envMapIntensity)),
            this.gradientMap &&
              this.gradientMap.isTexture &&
              (n.gradientMap = this.gradientMap.toJSON(t).uuid),
            void 0 !== this.size && (n.size = this.size),
            void 0 !== this.sizeAttenuation &&
              (n.sizeAttenuation = this.sizeAttenuation),
            1 !== this.blending && (n.blending = this.blending),
            !0 === this.flatShading && (n.flatShading = this.flatShading),
            0 !== this.side && (n.side = this.side),
            0 !== this.vertexColors && (n.vertexColors = this.vertexColors),
            1 > this.opacity && (n.opacity = this.opacity),
            !0 === this.transparent && (n.transparent = this.transparent),
            (n.depthFunc = this.depthFunc),
            (n.depthTest = this.depthTest),
            (n.depthWrite = this.depthWrite),
            0 !== this.rotation && (n.rotation = this.rotation),
            !0 === this.polygonOffset && (n.polygonOffset = !0),
            0 !== this.polygonOffsetFactor &&
              (n.polygonOffsetFactor = this.polygonOffsetFactor),
            0 !== this.polygonOffsetUnits &&
              (n.polygonOffsetUnits = this.polygonOffsetUnits),
            1 !== this.linewidth && (n.linewidth = this.linewidth),
            void 0 !== this.dashSize && (n.dashSize = this.dashSize),
            void 0 !== this.gapSize && (n.gapSize = this.gapSize),
            void 0 !== this.scale && (n.scale = this.scale),
            !0 === this.dithering && (n.dithering = !0),
            0 < this.alphaTest && (n.alphaTest = this.alphaTest),
            !0 === this.premultipliedAlpha &&
              (n.premultipliedAlpha = this.premultipliedAlpha),
            !0 === this.wireframe && (n.wireframe = this.wireframe),
            1 < this.wireframeLinewidth &&
              (n.wireframeLinewidth = this.wireframeLinewidth),
            "round" !== this.wireframeLinecap &&
              (n.wireframeLinecap = this.wireframeLinecap),
            "round" !== this.wireframeLinejoin &&
              (n.wireframeLinejoin = this.wireframeLinejoin),
            !0 === this.morphTargets && (n.morphTargets = !0),
            !0 === this.skinning && (n.skinning = !0),
            !1 === this.visible && (n.visible = !1),
            "{}" !== JSON.stringify(this.userData) &&
              (n.userData = this.userData),
            i &&
              ((i = e(t.textures)),
              (t = e(t.images)),
              0 < i.length && (n.textures = i),
              0 < t.length && (n.images = t)),
            n
          );
        },
        clone: function () {
          return new this.constructor().copy(this);
        },
        copy: function (t) {
          (this.name = t.name),
            (this.fog = t.fog),
            (this.lights = t.lights),
            (this.blending = t.blending),
            (this.side = t.side),
            (this.flatShading = t.flatShading),
            (this.vertexColors = t.vertexColors),
            (this.opacity = t.opacity),
            (this.transparent = t.transparent),
            (this.blendSrc = t.blendSrc),
            (this.blendDst = t.blendDst),
            (this.blendEquation = t.blendEquation),
            (this.blendSrcAlpha = t.blendSrcAlpha),
            (this.blendDstAlpha = t.blendDstAlpha),
            (this.blendEquationAlpha = t.blendEquationAlpha),
            (this.depthFunc = t.depthFunc),
            (this.depthTest = t.depthTest),
            (this.depthWrite = t.depthWrite),
            (this.colorWrite = t.colorWrite),
            (this.precision = t.precision),
            (this.polygonOffset = t.polygonOffset),
            (this.polygonOffsetFactor = t.polygonOffsetFactor),
            (this.polygonOffsetUnits = t.polygonOffsetUnits),
            (this.dithering = t.dithering),
            (this.alphaTest = t.alphaTest),
            (this.premultipliedAlpha = t.premultipliedAlpha),
            (this.overdraw = t.overdraw),
            (this.visible = t.visible),
            (this.userData = JSON.parse(JSON.stringify(t.userData))),
            (this.clipShadows = t.clipShadows),
            (this.clipIntersection = t.clipIntersection);
          var e = t.clippingPlanes,
            i = null;
          if (null !== e) {
            var n = e.length;
            i = Array(n);
            for (var r = 0; r !== n; ++r) i[r] = e[r].clone();
          }
          return (
            (this.clippingPlanes = i), (this.shadowSide = t.shadowSide), this
          );
        },
        dispose: function () {
          this.dispatchEvent({ type: "dispose" });
        },
      })),
        (G.prototype = Object.create(U.prototype)),
        (G.prototype.constructor = G),
        (G.prototype.isShaderMaterial = !0),
        (G.prototype.copy = function (t) {
          return (
            U.prototype.copy.call(this, t),
            (this.fragmentShader = t.fragmentShader),
            (this.vertexShader = t.vertexShader),
            (this.uniforms = as.clone(t.uniforms)),
            (this.defines = Object.assign({}, t.defines)),
            (this.wireframe = t.wireframe),
            (this.wireframeLinewidth = t.wireframeLinewidth),
            (this.lights = t.lights),
            (this.clipping = t.clipping),
            (this.skinning = t.skinning),
            (this.morphTargets = t.morphTargets),
            (this.morphNormals = t.morphNormals),
            (this.extensions = t.extensions),
            this
          );
        }),
        (G.prototype.toJSON = function (t) {
          var e = U.prototype.toJSON.call(this, t);
          e.uniforms = {};
          for (var i in this.uniforms) {
            var n = this.uniforms[i].value;
            e.uniforms[i] = n.isTexture
              ? { type: "t", value: n.toJSON(t).uuid }
              : n.isColor
              ? { type: "c", value: n.getHex() }
              : n.isVector2
              ? { type: "v2", value: n.toArray() }
              : n.isVector3
              ? { type: "v3", value: n.toArray() }
              : n.isVector4
              ? { type: "v4", value: n.toArray() }
              : n.isMatrix4
              ? { type: "m4", value: n.toArray() }
              : { value: n };
          }
          return (
            0 < Object.keys(this.defines).length && (e.defines = this.defines),
            (e.vertexShader = this.vertexShader),
            (e.fragmentShader = this.fragmentShader),
            e
          );
        }),
        Object.assign(V.prototype, {
          set: function (t, e) {
            return this.origin.copy(t), this.direction.copy(e), this;
          },
          clone: function () {
            return new this.constructor().copy(this);
          },
          copy: function (t) {
            return (
              this.origin.copy(t.origin), this.direction.copy(t.direction), this
            );
          },
          at: function (t, e) {
            return (
              void 0 === e &&
                (console.warn("THREE.Ray: .at() target is now required"),
                (e = new s())),
              e.copy(this.direction).multiplyScalar(t).add(this.origin)
            );
          },
          lookAt: function (t) {
            return this.direction.copy(t).sub(this.origin).normalize(), this;
          },
          recast: (function () {
            var t = new s();
            return function (e) {
              return this.origin.copy(this.at(e, t)), this;
            };
          })(),
          closestPointToPoint: function (t, e) {
            return (
              void 0 === e &&
                (console.warn(
                  "THREE.Ray: .closestPointToPoint() target is now required"
                ),
                (e = new s())),
              e.subVectors(t, this.origin),
              (t = e.dot(this.direction)),
              0 > t
                ? e.copy(this.origin)
                : e.copy(this.direction).multiplyScalar(t).add(this.origin)
            );
          },
          distanceToPoint: function (t) {
            return Math.sqrt(this.distanceSqToPoint(t));
          },
          distanceSqToPoint: (function () {
            var t = new s();
            return function (e) {
              var i = t.subVectors(e, this.origin).dot(this.direction);
              return 0 > i
                ? this.origin.distanceToSquared(e)
                : (t.copy(this.direction).multiplyScalar(i).add(this.origin),
                  t.distanceToSquared(e));
            };
          })(),
          distanceSqToSegment: (function () {
            var t = new s(),
              e = new s(),
              i = new s();
            return function (n, r, s, o) {
              t.copy(n).add(r).multiplyScalar(0.5),
                e.copy(r).sub(n).normalize(),
                i.copy(this.origin).sub(t);
              var a = 0.5 * n.distanceTo(r),
                h = -this.direction.dot(e),
                l = i.dot(this.direction),
                u = -i.dot(e),
                c = i.lengthSq(),
                p = Math.abs(1 - h * h);
              if (0 < p) {
                (n = h * u - l), (r = h * l - u);
                var d = a * p;
                0 <= n
                  ? r >= -d
                    ? r <= d
                      ? ((a = 1 / p),
                        (n *= a),
                        (r *= a),
                        (h =
                          n * (n + h * r + 2 * l) +
                          r * (h * n + r + 2 * u) +
                          c))
                      : ((r = a),
                        (n = Math.max(0, -(h * r + l))),
                        (h = -n * n + r * (r + 2 * u) + c))
                    : ((r = -a),
                      (n = Math.max(0, -(h * r + l))),
                      (h = -n * n + r * (r + 2 * u) + c))
                  : r <= -d
                  ? ((n = Math.max(0, -(-h * a + l))),
                    (r = 0 < n ? -a : Math.min(Math.max(-a, -u), a)),
                    (h = -n * n + r * (r + 2 * u) + c))
                  : r <= d
                  ? ((n = 0),
                    (r = Math.min(Math.max(-a, -u), a)),
                    (h = r * (r + 2 * u) + c))
                  : ((n = Math.max(0, -(h * a + l))),
                    (r = 0 < n ? a : Math.min(Math.max(-a, -u), a)),
                    (h = -n * n + r * (r + 2 * u) + c));
              } else
                (r = 0 < h ? -a : a),
                  (n = Math.max(0, -(h * r + l))),
                  (h = -n * n + r * (r + 2 * u) + c);
              return (
                s && s.copy(this.direction).multiplyScalar(n).add(this.origin),
                o && o.copy(e).multiplyScalar(r).add(t),
                h
              );
            };
          })(),
          intersectSphere: (function () {
            var t = new s();
            return function (e, i) {
              t.subVectors(e.center, this.origin);
              var n = t.dot(this.direction),
                r = t.dot(t) - n * n;
              return (
                (e = e.radius * e.radius),
                r > e
                  ? null
                  : ((e = Math.sqrt(e - r)),
                    (r = n - e),
                    (n += e),
                    0 > r && 0 > n
                      ? null
                      : 0 > r
                      ? this.at(n, i)
                      : this.at(r, i))
              );
            };
          })(),
          intersectsSphere: function (t) {
            return this.distanceSqToPoint(t.center) <= t.radius * t.radius;
          },
          distanceToPlane: function (t) {
            var e = t.normal.dot(this.direction);
            return 0 === e
              ? 0 === t.distanceToPoint(this.origin)
                ? 0
                : null
              : ((t = -(this.origin.dot(t.normal) + t.constant) / e),
                0 <= t ? t : null);
          },
          intersectPlane: function (t, e) {
            return (
              (t = this.distanceToPlane(t)), null === t ? null : this.at(t, e)
            );
          },
          intersectsPlane: function (t) {
            var e = t.distanceToPoint(this.origin);
            return 0 === e || 0 > t.normal.dot(this.direction) * e;
          },
          intersectBox: function (t, e) {
            var i = 1 / this.direction.x,
              n = 1 / this.direction.y,
              r = 1 / this.direction.z,
              s = this.origin;
            if (0 <= i) {
              var o = (t.min.x - s.x) * i;
              i *= t.max.x - s.x;
            } else (o = (t.max.x - s.x) * i), (i *= t.min.x - s.x);
            if (0 <= n) {
              var a = (t.min.y - s.y) * n;
              n *= t.max.y - s.y;
            } else (a = (t.max.y - s.y) * n), (n *= t.min.y - s.y);
            return o > n || a > i
              ? null
              : ((a > o || o !== o) && (o = a),
                (n < i || i !== i) && (i = n),
                0 <= r
                  ? ((a = (t.min.z - s.z) * r), (t = (t.max.z - s.z) * r))
                  : ((a = (t.max.z - s.z) * r), (t = (t.min.z - s.z) * r)),
                o > t || a > i
                  ? null
                  : ((a > o || o !== o) && (o = a),
                    (t < i || i !== i) && (i = t),
                    0 > i ? null : this.at(0 <= o ? o : i, e)));
          },
          intersectsBox: (function () {
            var t = new s();
            return function (e) {
              return null !== this.intersectBox(e, t);
            };
          })(),
          intersectTriangle: (function () {
            var t = new s(),
              e = new s(),
              i = new s(),
              n = new s();
            return function (r, s, o, a, h) {
              if (
                (e.subVectors(s, r),
                i.subVectors(o, r),
                n.crossVectors(e, i),
                (s = this.direction.dot(n)),
                0 < s)
              ) {
                if (a) return null;
                a = 1;
              } else {
                if (!(0 > s)) return null;
                (a = -1), (s = -s);
              }
              return (
                t.subVectors(this.origin, r),
                (r = a * this.direction.dot(i.crossVectors(t, i))),
                0 > r
                  ? null
                  : ((o = a * this.direction.dot(e.cross(t))),
                    0 > o || r + o > s
                      ? null
                      : ((r = -a * t.dot(n)), 0 > r ? null : this.at(r / s, h)))
              );
            };
          })(),
          applyMatrix4: function (t) {
            return (
              this.origin.applyMatrix4(t),
              this.direction.transformDirection(t),
              this
            );
          },
          equals: function (t) {
            return (
              t.origin.equals(this.origin) && t.direction.equals(this.direction)
            );
          },
        }),
        Object.assign(j, {
          getNormal: (function () {
            var t = new s();
            return function (e, i, n, r) {
              return (
                void 0 === r &&
                  (console.warn(
                    "THREE.Triangle: .getNormal() target is now required"
                  ),
                  (r = new s())),
                r.subVectors(n, i),
                t.subVectors(e, i),
                r.cross(t),
                (e = r.lengthSq()),
                0 < e ? r.multiplyScalar(1 / Math.sqrt(e)) : r.set(0, 0, 0)
              );
            };
          })(),
          getBarycoord: (function () {
            var t = new s(),
              e = new s(),
              i = new s();
            return function (n, r, o, a, h) {
              t.subVectors(a, r),
                e.subVectors(o, r),
                i.subVectors(n, r),
                (n = t.dot(t)),
                (r = t.dot(e)),
                (o = t.dot(i));
              var l = e.dot(e);
              a = e.dot(i);
              var u = n * l - r * r;
              return (
                void 0 === h &&
                  (console.warn(
                    "THREE.Triangle: .getBarycoord() target is now required"
                  ),
                  (h = new s())),
                0 === u
                  ? h.set(-2, -1, -1)
                  : ((u = 1 / u),
                    (l = (l * o - r * a) * u),
                    (n = (n * a - r * o) * u),
                    h.set(1 - l - n, n, l))
              );
            };
          })(),
          containsPoint: (function () {
            var t = new s();
            return function (e, i, n, r) {
              return (
                j.getBarycoord(e, i, n, r, t),
                0 <= t.x && 0 <= t.y && 1 >= t.x + t.y
              );
            };
          })(),
          getUV: (function () {
            var t = new s();
            return function (e, i, n, r, s, o, a, h) {
              return (
                this.getBarycoord(e, i, n, r, t),
                h.set(0, 0),
                h.addScaledVector(s, t.x),
                h.addScaledVector(o, t.y),
                h.addScaledVector(a, t.z),
                h
              );
            };
          })(),
        }),
        Object.assign(j.prototype, {
          set: function (t, e, i) {
            return this.a.copy(t), this.b.copy(e), this.c.copy(i), this;
          },
          setFromPointsAndIndices: function (t, e, i, n) {
            return (
              this.a.copy(t[e]), this.b.copy(t[i]), this.c.copy(t[n]), this
            );
          },
          clone: function () {
            return new this.constructor().copy(this);
          },
          copy: function (t) {
            return this.a.copy(t.a), this.b.copy(t.b), this.c.copy(t.c), this;
          },
          getArea: (function () {
            var t = new s(),
              e = new s();
            return function () {
              return (
                t.subVectors(this.c, this.b),
                e.subVectors(this.a, this.b),
                0.5 * t.cross(e).length()
              );
            };
          })(),
          getMidpoint: function (t) {
            return (
              void 0 === t &&
                (console.warn(
                  "THREE.Triangle: .getMidpoint() target is now required"
                ),
                (t = new s())),
              t
                .addVectors(this.a, this.b)
                .add(this.c)
                .multiplyScalar(1 / 3)
            );
          },
          getNormal: function (t) {
            return j.getNormal(this.a, this.b, this.c, t);
          },
          getPlane: function (t) {
            return (
              void 0 === t &&
                (console.warn(
                  "THREE.Triangle: .getPlane() target is now required"
                ),
                (t = new s())),
              t.setFromCoplanarPoints(this.a, this.b, this.c)
            );
          },
          getBarycoord: function (t, e) {
            return j.getBarycoord(t, this.a, this.b, this.c, e);
          },
          containsPoint: function (t) {
            return j.containsPoint(t, this.a, this.b, this.c);
          },
          getUV: function (t, e, i, n, r) {
            return j.getUV(t, this.a, this.b, this.c, e, i, n, r);
          },
          intersectsBox: function (t) {
            return t.intersectsTriangle(this);
          },
          closestPointToPoint: (function () {
            var t = new s(),
              e = new s(),
              i = new s(),
              n = new s(),
              r = new s(),
              o = new s();
            return function (a, h) {
              void 0 === h &&
                (console.warn(
                  "THREE.Triangle: .closestPointToPoint() target is now required"
                ),
                (h = new s()));
              var l = this.a,
                u = this.b,
                c = this.c;
              t.subVectors(u, l), e.subVectors(c, l), n.subVectors(a, l);
              var p = t.dot(n),
                d = e.dot(n);
              if (0 >= p && 0 >= d) return h.copy(l);
              r.subVectors(a, u);
              var f = t.dot(r),
                m = e.dot(r);
              if (0 <= f && m <= f) return h.copy(u);
              var _ = p * m - f * d;
              if (0 >= _ && 0 <= p && 0 >= f)
                return (u = p / (p - f)), h.copy(l).addScaledVector(t, u);
              o.subVectors(a, c), (a = t.dot(o));
              var g = e.dot(o);
              return 0 <= g && a <= g
                ? h.copy(c)
                : ((p = a * d - p * g),
                  0 >= p && 0 <= d && 0 >= g
                    ? ((_ = d / (d - g)), h.copy(l).addScaledVector(e, _))
                    : ((d = f * g - a * m),
                      0 >= d && 0 <= m - f && 0 <= a - g
                        ? (i.subVectors(c, u),
                          (_ = (m - f) / (m - f + (a - g))),
                          h.copy(u).addScaledVector(i, _))
                        : ((c = 1 / (d + p + _)),
                          (u = p * c),
                          (_ *= c),
                          h
                            .copy(l)
                            .addScaledVector(t, u)
                            .addScaledVector(e, _))));
            };
          })(),
          equals: function (t) {
            return (
              t.a.equals(this.a) && t.b.equals(this.b) && t.c.equals(this.c)
            );
          },
        }),
        (W.prototype = Object.create(U.prototype)),
        (W.prototype.constructor = W),
        (W.prototype.isMeshBasicMaterial = !0),
        (W.prototype.copy = function (t) {
          return (
            U.prototype.copy.call(this, t),
            this.color.copy(t.color),
            (this.map = t.map),
            (this.lightMap = t.lightMap),
            (this.lightMapIntensity = t.lightMapIntensity),
            (this.aoMap = t.aoMap),
            (this.aoMapIntensity = t.aoMapIntensity),
            (this.specularMap = t.specularMap),
            (this.alphaMap = t.alphaMap),
            (this.envMap = t.envMap),
            (this.combine = t.combine),
            (this.reflectivity = t.reflectivity),
            (this.refractionRatio = t.refractionRatio),
            (this.wireframe = t.wireframe),
            (this.wireframeLinewidth = t.wireframeLinewidth),
            (this.wireframeLinecap = t.wireframeLinecap),
            (this.wireframeLinejoin = t.wireframeLinejoin),
            (this.skinning = t.skinning),
            (this.morphTargets = t.morphTargets),
            this
          );
        }),
        (X.prototype = Object.assign(Object.create(b.prototype), {
          constructor: X,
          isMesh: !0,
          setDrawMode: function (t) {
            this.drawMode = t;
          },
          copy: function (t) {
            return (
              b.prototype.copy.call(this, t),
              (this.drawMode = t.drawMode),
              void 0 !== t.morphTargetInfluences &&
                (this.morphTargetInfluences = t.morphTargetInfluences.slice()),
              void 0 !== t.morphTargetDictionary &&
                (this.morphTargetDictionary = Object.assign(
                  {},
                  t.morphTargetDictionary
                )),
              this
            );
          },
          updateMorphTargets: function () {
            var t = this.geometry;
            if (t.isBufferGeometry) {
              t = t.morphAttributes;
              var e = Object.keys(t);
              if (0 < e.length) {
                var i = t[e[0]];
                if (void 0 !== i)
                  for (
                    this.morphTargetInfluences = [],
                      this.morphTargetDictionary = {},
                      t = 0,
                      e = i.length;
                    t < e;
                    t++
                  ) {
                    var n = i[t].name || String(t);
                    this.morphTargetInfluences.push(0),
                      (this.morphTargetDictionary[n] = t);
                  }
              }
            } else if (((i = t.morphTargets), void 0 !== i && 0 < i.length))
              for (
                this.morphTargetInfluences = [],
                  this.morphTargetDictionary = {},
                  t = 0,
                  e = i.length;
                t < e;
                t++
              )
                (n = i[t].name || String(t)),
                  this.morphTargetInfluences.push(0),
                  (this.morphTargetDictionary[n] = t);
          },
          raycast: (function () {
            function t(t, e, i, n, r, s, o, a) {
              return null ===
                (1 === e.side
                  ? n.intersectTriangle(o, s, r, !0, a)
                  : n.intersectTriangle(r, s, o, 2 !== e.side, a))
                ? null
                : (x.copy(a),
                  x.applyMatrix4(t.matrixWorld),
                  (e = i.ray.origin.distanceTo(x)),
                  e < i.near || e > i.far
                    ? null
                    : { distance: e, point: x.clone(), object: t });
            }
            function e(e, n, r, s, o, a, c, p, d) {
              return (
                h.fromBufferAttribute(o, c),
                l.fromBufferAttribute(o, p),
                u.fromBufferAttribute(o, d),
                (e = t(e, n, r, s, h, l, u, v)) &&
                  (a &&
                    (m.fromBufferAttribute(a, c),
                    _.fromBufferAttribute(a, p),
                    g.fromBufferAttribute(a, d),
                    (e.uv = j.getUV(v, h, l, u, m, _, g, new i()))),
                  (a = new y(c, p, d)),
                  j.getNormal(h, l, u, a.normal),
                  (e.face = a)),
                e
              );
            }
            var r = new n(),
              o = new V(),
              a = new d(),
              h = new s(),
              l = new s(),
              u = new s(),
              c = new s(),
              p = new s(),
              f = new s(),
              m = new i(),
              _ = new i(),
              g = new i(),
              v = new s(),
              x = new s();
            return function (n, s) {
              var d = this.geometry,
                y = this.material,
                x = this.matrixWorld;
              if (
                void 0 !== y &&
                (null === d.boundingSphere && d.computeBoundingSphere(),
                a.copy(d.boundingSphere),
                a.applyMatrix4(x),
                !1 !== n.ray.intersectsSphere(a) &&
                  (r.getInverse(x),
                  o.copy(n.ray).applyMatrix4(r),
                  null === d.boundingBox ||
                    !1 !== o.intersectsBox(d.boundingBox)))
              )
                if (d.isBufferGeometry) {
                  var w = d.index,
                    b = d.attributes.position,
                    T = d.attributes.uv,
                    E = d.groups;
                  d = d.drawRange;
                  var S;
                  if (null !== w)
                    if (Array.isArray(y)) {
                      var M = 0;
                      for (S = E.length; M < S; M++) {
                        var C = E[M],
                          P = y[C.materialIndex];
                        x = Math.max(C.start, d.start);
                        var A = Math.min(C.start + C.count, d.start + d.count);
                        for (C = x; C < A; C += 3) {
                          x = w.getX(C);
                          var R = w.getX(C + 1),
                            L = w.getX(C + 2);
                          (x = e(this, P, n, o, b, T, x, R, L)) &&
                            ((x.faceIndex = Math.floor(C / 3)), s.push(x));
                        }
                      }
                    } else
                      for (
                        x = Math.max(0, d.start),
                          A = Math.min(w.count, d.start + d.count),
                          M = x,
                          S = A;
                        M < S;
                        M += 3
                      )
                        (x = w.getX(M)),
                          (R = w.getX(M + 1)),
                          (L = w.getX(M + 2)),
                          (x = e(this, y, n, o, b, T, x, R, L)) &&
                            ((x.faceIndex = Math.floor(M / 3)), s.push(x));
                  else if (void 0 !== b)
                    if (Array.isArray(y))
                      for (M = 0, S = E.length; M < S; M++)
                        for (
                          C = E[M],
                            P = y[C.materialIndex],
                            x = Math.max(C.start, d.start),
                            A = Math.min(C.start + C.count, d.start + d.count),
                            C = x;
                          C < A;
                          C += 3
                        )
                          (x = C),
                            (R = C + 1),
                            (L = C + 2),
                            (x = e(this, P, n, o, b, T, x, R, L)) &&
                              ((x.faceIndex = Math.floor(C / 3)), s.push(x));
                    else
                      for (
                        x = Math.max(0, d.start),
                          A = Math.min(b.count, d.start + d.count),
                          M = x,
                          S = A;
                        M < S;
                        M += 3
                      )
                        (x = M),
                          (R = M + 1),
                          (L = M + 2),
                          (x = e(this, y, n, o, b, T, x, R, L)) &&
                            ((x.faceIndex = Math.floor(M / 3)), s.push(x));
                } else if (d.isGeometry)
                  for (
                    b = Array.isArray(y),
                      T = d.vertices,
                      E = d.faces,
                      x = d.faceVertexUvs[0],
                      0 < x.length && (w = x),
                      C = 0,
                      A = E.length;
                    C < A;
                    C++
                  )
                    if (
                      ((R = E[C]),
                      (x = b ? y[R.materialIndex] : y),
                      void 0 !== x)
                    ) {
                      if (
                        ((M = T[R.a]),
                        (S = T[R.b]),
                        (P = T[R.c]),
                        !0 === x.morphTargets)
                      ) {
                        L = d.morphTargets;
                        var I = this.morphTargetInfluences;
                        h.set(0, 0, 0), l.set(0, 0, 0), u.set(0, 0, 0);
                        for (var O = 0, D = L.length; O < D; O++) {
                          var k = I[O];
                          if (0 !== k) {
                            var N = L[O].vertices;
                            h.addScaledVector(c.subVectors(N[R.a], M), k),
                              l.addScaledVector(p.subVectors(N[R.b], S), k),
                              u.addScaledVector(f.subVectors(N[R.c], P), k);
                          }
                        }
                        h.add(M), l.add(S), u.add(P), (M = h), (S = l), (P = u);
                      }
                      (x = t(this, x, n, o, M, S, P, v)) &&
                        (w &&
                          w[C] &&
                          ((L = w[C]),
                          m.copy(L[0]),
                          _.copy(L[1]),
                          g.copy(L[2]),
                          (x.uv = j.getUV(v, M, S, P, m, _, g, new i()))),
                        (x.face = R),
                        (x.faceIndex = C),
                        s.push(x));
                    }
            };
          })(),
          clone: function () {
            return new this.constructor(this.geometry, this.material).copy(
              this
            );
          },
        })),
        (rt.prototype = Object.create(a.prototype)),
        (rt.prototype.constructor = rt),
        (rt.prototype.isCubeTexture = !0),
        Object.defineProperty(rt.prototype, "images", {
          get: function () {
            return this.image;
          },
          set: function (t) {
            this.image = t;
          },
        }),
        (st.prototype = Object.create(a.prototype)),
        (st.prototype.constructor = st),
        (st.prototype.isDataTexture3D = !0);
      var ms = new a(),
        _s = new st(),
        gs = new rt(),
        vs = [],
        ys = [],
        xs = new Float32Array(16),
        ws = new Float32Array(9),
        bs = new Float32Array(4);
      (zt.prototype.updateCache = function (t) {
        var e = this.cache;
        t instanceof Float32Array &&
          e.length !== t.length &&
          (this.cache = new Float32Array(t.length)),
          ht(e, t);
      }),
        (Ft.prototype.setValue = function (t, e, i) {
          for (var n = this.seq, r = 0, s = n.length; r !== s; ++r) {
            var o = n[r];
            o.setValue(t, e[o.id], i);
          }
        });
      var Ts = /([\w\d_]+)(\])?(\[|\.)?/g;
      (Ht.prototype.setValue = function (t, e, i) {
        (e = this.map[e]), void 0 !== e && e.setValue(t, i, this.renderer);
      }),
        (Ht.prototype.setOptional = function (t, e, i) {
          (e = e[i]), void 0 !== e && this.setValue(t, i, e);
        }),
        (Ht.upload = function (t, e, i, n) {
          for (var r = 0, s = e.length; r !== s; ++r) {
            var o = e[r],
              a = i[o.id];
            !1 !== a.needsUpdate && o.setValue(t, a.value, n);
          }
        }),
        (Ht.seqWithValue = function (t, e) {
          for (var i = [], n = 0, r = t.length; n !== r; ++n) {
            var s = t[n];
            s.id in e && i.push(s);
          }
          return i;
        });
      var Es = 0,
        Ss = 0;
      (ue.prototype = Object.create(U.prototype)),
        (ue.prototype.constructor = ue),
        (ue.prototype.isMeshDepthMaterial = !0),
        (ue.prototype.copy = function (t) {
          return (
            U.prototype.copy.call(this, t),
            (this.depthPacking = t.depthPacking),
            (this.skinning = t.skinning),
            (this.morphTargets = t.morphTargets),
            (this.map = t.map),
            (this.alphaMap = t.alphaMap),
            (this.displacementMap = t.displacementMap),
            (this.displacementScale = t.displacementScale),
            (this.displacementBias = t.displacementBias),
            (this.wireframe = t.wireframe),
            (this.wireframeLinewidth = t.wireframeLinewidth),
            this
          );
        }),
        (ce.prototype = Object.create(U.prototype)),
        (ce.prototype.constructor = ce),
        (ce.prototype.isMeshDistanceMaterial = !0),
        (ce.prototype.copy = function (t) {
          return (
            U.prototype.copy.call(this, t),
            this.referencePosition.copy(t.referencePosition),
            (this.nearDistance = t.nearDistance),
            (this.farDistance = t.farDistance),
            (this.skinning = t.skinning),
            (this.morphTargets = t.morphTargets),
            (this.map = t.map),
            (this.alphaMap = t.alphaMap),
            (this.displacementMap = t.displacementMap),
            (this.displacementScale = t.displacementScale),
            (this.displacementBias = t.displacementBias),
            this
          );
        }),
        (_e.prototype = Object.assign(Object.create(b.prototype), {
          constructor: _e,
          isGroup: !0,
        })),
        (ge.prototype = Object.assign(Object.create(b.prototype), {
          constructor: ge,
          isCamera: !0,
          copy: function (t, e) {
            return (
              b.prototype.copy.call(this, t, e),
              this.matrixWorldInverse.copy(t.matrixWorldInverse),
              this.projectionMatrix.copy(t.projectionMatrix),
              this.projectionMatrixInverse.copy(t.projectionMatrixInverse),
              this
            );
          },
          getWorldDirection: function (t) {
            void 0 === t &&
              (console.warn(
                "THREE.Camera: .getWorldDirection() target is now required"
              ),
              (t = new s())),
              this.updateMatrixWorld(!0);
            var e = this.matrixWorld.elements;
            return t.set(-e[8], -e[9], -e[10]).normalize();
          },
          updateMatrixWorld: function (t) {
            b.prototype.updateMatrixWorld.call(this, t),
              this.matrixWorldInverse.getInverse(this.matrixWorld);
          },
          clone: function () {
            return new this.constructor().copy(this);
          },
        })),
        (ve.prototype = Object.assign(Object.create(ge.prototype), {
          constructor: ve,
          isPerspectiveCamera: !0,
          copy: function (t, e) {
            return (
              ge.prototype.copy.call(this, t, e),
              (this.fov = t.fov),
              (this.zoom = t.zoom),
              (this.near = t.near),
              (this.far = t.far),
              (this.focus = t.focus),
              (this.aspect = t.aspect),
              (this.view = null === t.view ? null : Object.assign({}, t.view)),
              (this.filmGauge = t.filmGauge),
              (this.filmOffset = t.filmOffset),
              this
            );
          },
          setFocalLength: function (t) {
            (t = (0.5 * this.getFilmHeight()) / t),
              (this.fov = 2 * ns.RAD2DEG * Math.atan(t)),
              this.updateProjectionMatrix();
          },
          getFocalLength: function () {
            var t = Math.tan(0.5 * ns.DEG2RAD * this.fov);
            return (0.5 * this.getFilmHeight()) / t;
          },
          getEffectiveFOV: function () {
            return (
              2 *
              ns.RAD2DEG *
              Math.atan(Math.tan(0.5 * ns.DEG2RAD * this.fov) / this.zoom)
            );
          },
          getFilmWidth: function () {
            return this.filmGauge * Math.min(this.aspect, 1);
          },
          getFilmHeight: function () {
            return this.filmGauge / Math.max(this.aspect, 1);
          },
          setViewOffset: function (t, e, i, n, r, s) {
            (this.aspect = t / e),
              null === this.view &&
                (this.view = {
                  enabled: !0,
                  fullWidth: 1,
                  fullHeight: 1,
                  offsetX: 0,
                  offsetY: 0,
                  width: 1,
                  height: 1,
                }),
              (this.view.enabled = !0),
              (this.view.fullWidth = t),
              (this.view.fullHeight = e),
              (this.view.offsetX = i),
              (this.view.offsetY = n),
              (this.view.width = r),
              (this.view.height = s),
              this.updateProjectionMatrix();
          },
          clearViewOffset: function () {
            null !== this.view && (this.view.enabled = !1),
              this.updateProjectionMatrix();
          },
          updateProjectionMatrix: function () {
            var t = this.near,
              e = (t * Math.tan(0.5 * ns.DEG2RAD * this.fov)) / this.zoom,
              i = 2 * e,
              n = this.aspect * i,
              r = -0.5 * n,
              s = this.view;
            if (null !== this.view && this.view.enabled) {
              var o = s.fullWidth,
                a = s.fullHeight;
              (r += (s.offsetX * n) / o),
                (e -= (s.offsetY * i) / a),
                (n *= s.width / o),
                (i *= s.height / a);
            }
            (s = this.filmOffset),
              0 !== s && (r += (t * s) / this.getFilmWidth()),
              this.projectionMatrix.makePerspective(
                r,
                r + n,
                e,
                e - i,
                t,
                this.far
              ),
              this.projectionMatrixInverse.getInverse(this.projectionMatrix);
          },
          toJSON: function (t) {
            return (
              (t = b.prototype.toJSON.call(this, t)),
              (t.object.fov = this.fov),
              (t.object.zoom = this.zoom),
              (t.object.near = this.near),
              (t.object.far = this.far),
              (t.object.focus = this.focus),
              (t.object.aspect = this.aspect),
              null !== this.view &&
                (t.object.view = Object.assign({}, this.view)),
              (t.object.filmGauge = this.filmGauge),
              (t.object.filmOffset = this.filmOffset),
              t
            );
          },
        })),
        (ye.prototype = Object.assign(Object.create(ve.prototype), {
          constructor: ye,
          isArrayCamera: !0,
        })),
        (Te.prototype.isFogExp2 = !0),
        (Te.prototype.clone = function () {
          return new Te(this.color, this.density);
        }),
        (Te.prototype.toJSON = function () {
          return {
            type: "FogExp2",
            color: this.color.getHex(),
            density: this.density,
          };
        }),
        (Ee.prototype.isFog = !0),
        (Ee.prototype.clone = function () {
          return new Ee(this.color, this.near, this.far);
        }),
        (Ee.prototype.toJSON = function () {
          return {
            type: "Fog",
            color: this.color.getHex(),
            near: this.near,
            far: this.far,
          };
        }),
        (Se.prototype = Object.assign(Object.create(b.prototype), {
          constructor: Se,
          copy: function (t, e) {
            return (
              b.prototype.copy.call(this, t, e),
              null !== t.background && (this.background = t.background.clone()),
              null !== t.fog && (this.fog = t.fog.clone()),
              null !== t.overrideMaterial &&
                (this.overrideMaterial = t.overrideMaterial.clone()),
              (this.autoUpdate = t.autoUpdate),
              (this.matrixAutoUpdate = t.matrixAutoUpdate),
              this
            );
          },
          toJSON: function (t) {
            var e = b.prototype.toJSON.call(this, t);
            return (
              null !== this.background &&
                (e.object.background = this.background.toJSON(t)),
              null !== this.fog && (e.object.fog = this.fog.toJSON()),
              e
            );
          },
        })),
        Object.defineProperty(Me.prototype, "needsUpdate", {
          set: function (t) {
            !0 === t && this.version++;
          },
        }),
        Object.assign(Me.prototype, {
          isInterleavedBuffer: !0,
          onUploadCallback: function () {},
          setArray: function (t) {
            if (Array.isArray(t))
              throw new TypeError(
                "THREE.BufferAttribute: array should be a Typed Array."
              );
            return (
              (this.count = void 0 !== t ? t.length / this.stride : 0),
              (this.array = t),
              this
            );
          },
          setDynamic: function (t) {
            return (this.dynamic = t), this;
          },
          copy: function (t) {
            return (
              (this.array = new t.array.constructor(t.array)),
              (this.count = t.count),
              (this.stride = t.stride),
              (this.dynamic = t.dynamic),
              this
            );
          },
          copyAt: function (t, e, i) {
            (t *= this.stride), (i *= e.stride);
            for (var n = 0, r = this.stride; n < r; n++)
              this.array[t + n] = e.array[i + n];
            return this;
          },
          set: function (t, e) {
            return void 0 === e && (e = 0), this.array.set(t, e), this;
          },
          clone: function () {
            return new this.constructor().copy(this);
          },
          onUpload: function (t) {
            return (this.onUploadCallback = t), this;
          },
        }),
        Object.defineProperties(Ce.prototype, {
          count: {
            get: function () {
              return this.data.count;
            },
          },
          array: {
            get: function () {
              return this.data.array;
            },
          },
        }),
        Object.assign(Ce.prototype, {
          isInterleavedBufferAttribute: !0,
          setX: function (t, e) {
            return (
              (this.data.array[t * this.data.stride + this.offset] = e), this
            );
          },
          setY: function (t, e) {
            return (
              (this.data.array[t * this.data.stride + this.offset + 1] = e),
              this
            );
          },
          setZ: function (t, e) {
            return (
              (this.data.array[t * this.data.stride + this.offset + 2] = e),
              this
            );
          },
          setW: function (t, e) {
            return (
              (this.data.array[t * this.data.stride + this.offset + 3] = e),
              this
            );
          },
          getX: function (t) {
            return this.data.array[t * this.data.stride + this.offset];
          },
          getY: function (t) {
            return this.data.array[t * this.data.stride + this.offset + 1];
          },
          getZ: function (t) {
            return this.data.array[t * this.data.stride + this.offset + 2];
          },
          getW: function (t) {
            return this.data.array[t * this.data.stride + this.offset + 3];
          },
          setXY: function (t, e, i) {
            return (
              (t = t * this.data.stride + this.offset),
              (this.data.array[t + 0] = e),
              (this.data.array[t + 1] = i),
              this
            );
          },
          setXYZ: function (t, e, i, n) {
            return (
              (t = t * this.data.stride + this.offset),
              (this.data.array[t + 0] = e),
              (this.data.array[t + 1] = i),
              (this.data.array[t + 2] = n),
              this
            );
          },
          setXYZW: function (t, e, i, n, r) {
            return (
              (t = t * this.data.stride + this.offset),
              (this.data.array[t + 0] = e),
              (this.data.array[t + 1] = i),
              (this.data.array[t + 2] = n),
              (this.data.array[t + 3] = r),
              this
            );
          },
        }),
        (Pe.prototype = Object.create(U.prototype)),
        (Pe.prototype.constructor = Pe),
        (Pe.prototype.isSpriteMaterial = !0),
        (Pe.prototype.copy = function (t) {
          return (
            U.prototype.copy.call(this, t),
            this.color.copy(t.color),
            (this.map = t.map),
            (this.rotation = t.rotation),
            (this.sizeAttenuation = t.sizeAttenuation),
            this
          );
        });
      var Ms;
      (Ae.prototype = Object.assign(Object.create(b.prototype), {
        constructor: Ae,
        isSprite: !0,
        raycast: (function () {
          function t(t, e, i, n, r, s) {
            a.subVectors(t, i).addScalar(0.5).multiply(n),
              void 0 !== r
                ? ((h.x = s * a.x - r * a.y), (h.y = r * a.x + s * a.y))
                : h.copy(a),
              t.copy(e),
              (t.x += h.x),
              (t.y += h.y),
              t.applyMatrix4(l);
          }
          var e = new s(),
            r = new s(),
            o = new s(),
            a = new i(),
            h = new i(),
            l = new n(),
            u = new s(),
            c = new s(),
            p = new s(),
            d = new i(),
            f = new i(),
            m = new i();
          return function (n, s) {
            r.setFromMatrixScale(this.matrixWorld),
              l.getInverse(this.modelViewMatrix).premultiply(this.matrixWorld),
              o.setFromMatrixPosition(this.modelViewMatrix);
            var a = this.material.rotation;
            if (0 !== a)
              var h = Math.cos(a),
                _ = Math.sin(a);
            (a = this.center),
              t(u.set(-0.5, -0.5, 0), o, a, r, _, h),
              t(c.set(0.5, -0.5, 0), o, a, r, _, h),
              t(p.set(0.5, 0.5, 0), o, a, r, _, h),
              d.set(0, 0),
              f.set(1, 0),
              m.set(1, 1);
            var g = n.ray.intersectTriangle(u, c, p, !1, e);
            (null === g &&
              (t(c.set(-0.5, 0.5, 0), o, a, r, _, h),
              f.set(0, 1),
              (g = n.ray.intersectTriangle(u, p, c, !1, e)),
              null === g)) ||
              ((_ = n.ray.origin.distanceTo(e)),
              _ < n.near ||
                _ > n.far ||
                s.push({
                  distance: _,
                  point: e.clone(),
                  uv: j.getUV(e, u, c, p, d, f, m, new i()),
                  face: null,
                  object: this,
                }));
          };
        })(),
        clone: function () {
          return new this.constructor(this.material).copy(this);
        },
        copy: function (t) {
          return (
            b.prototype.copy.call(this, t),
            void 0 !== t.center && this.center.copy(t.center),
            this
          );
        },
      })),
        (Re.prototype = Object.assign(Object.create(b.prototype), {
          constructor: Re,
          copy: function (t) {
            b.prototype.copy.call(this, t, !1), (t = t.levels);
            for (var e = 0, i = t.length; e < i; e++) {
              var n = t[e];
              this.addLevel(n.object.clone(), n.distance);
            }
            return this;
          },
          addLevel: function (t, e) {
            void 0 === e && (e = 0), (e = Math.abs(e));
            for (
              var i = this.levels, n = 0;
              n < i.length && !(e < i[n].distance);
              n++
            );
            i.splice(n, 0, { distance: e, object: t }), this.add(t);
          },
          getObjectForDistance: function (t) {
            for (
              var e = this.levels, i = 1, n = e.length;
              i < n && !(t < e[i].distance);
              i++
            );
            return e[i - 1].object;
          },
          raycast: (function () {
            var t = new s();
            return function (e, i) {
              t.setFromMatrixPosition(this.matrixWorld);
              var n = e.ray.origin.distanceTo(t);
              this.getObjectForDistance(n).raycast(e, i);
            };
          })(),
          update: (function () {
            var t = new s(),
              e = new s();
            return function (i) {
              var n = this.levels;
              if (1 < n.length) {
                t.setFromMatrixPosition(i.matrixWorld),
                  e.setFromMatrixPosition(this.matrixWorld),
                  (i = t.distanceTo(e)),
                  (n[0].object.visible = !0);
                for (var r = 1, s = n.length; r < s && i >= n[r].distance; r++)
                  (n[r - 1].object.visible = !1), (n[r].object.visible = !0);
                for (; r < s; r++) n[r].object.visible = !1;
              }
            };
          })(),
          toJSON: function (t) {
            (t = b.prototype.toJSON.call(this, t)), (t.object.levels = []);
            for (var e = this.levels, i = 0, n = e.length; i < n; i++) {
              var r = e[i];
              t.object.levels.push({
                object: r.object.uuid,
                distance: r.distance,
              });
            }
            return t;
          },
        })),
        Object.assign(Le.prototype, {
          calculateInverses: function () {
            this.boneInverses = [];
            for (var t = 0, e = this.bones.length; t < e; t++) {
              var i = new n();
              this.bones[t] && i.getInverse(this.bones[t].matrixWorld),
                this.boneInverses.push(i);
            }
          },
          pose: function () {
            var t,
              e,
              i = 0;
            for (e = this.bones.length; i < e; i++)
              (t = this.bones[i]) &&
                t.matrixWorld.getInverse(this.boneInverses[i]);
            for (i = 0, e = this.bones.length; i < e; i++)
              (t = this.bones[i]) &&
                (t.parent && t.parent.isBone
                  ? (t.matrix.getInverse(t.parent.matrixWorld),
                    t.matrix.multiply(t.matrixWorld))
                  : t.matrix.copy(t.matrixWorld),
                t.matrix.decompose(t.position, t.quaternion, t.scale));
          },
          update: (function () {
            var t = new n(),
              e = new n();
            return function () {
              for (
                var i = this.bones,
                  n = this.boneInverses,
                  r = this.boneMatrices,
                  s = this.boneTexture,
                  o = 0,
                  a = i.length;
                o < a;
                o++
              )
                t.multiplyMatrices(i[o] ? i[o].matrixWorld : e, n[o]),
                  t.toArray(r, 16 * o);
              void 0 !== s && (s.needsUpdate = !0);
            };
          })(),
          clone: function () {
            return new Le(this.bones, this.boneInverses);
          },
          getBoneByName: function (t) {
            for (var e = 0, i = this.bones.length; e < i; e++) {
              var n = this.bones[e];
              if (n.name === t) return n;
            }
          },
        }),
        (Ie.prototype = Object.assign(Object.create(b.prototype), {
          constructor: Ie,
          isBone: !0,
        })),
        (Oe.prototype = Object.assign(Object.create(X.prototype), {
          constructor: Oe,
          isSkinnedMesh: !0,
          initBones: function () {
            var t,
              e = [];
            if (this.geometry && void 0 !== this.geometry.bones) {
              var i = 0;
              for (t = this.geometry.bones.length; i < t; i++) {
                var n = this.geometry.bones[i],
                  r = new Ie();
                e.push(r),
                  (r.name = n.name),
                  r.position.fromArray(n.pos),
                  r.quaternion.fromArray(n.rotq),
                  void 0 !== n.scl && r.scale.fromArray(n.scl);
              }
              for (i = 0, t = this.geometry.bones.length; i < t; i++)
                (n = this.geometry.bones[i]),
                  -1 !== n.parent && null !== n.parent && void 0 !== e[n.parent]
                    ? e[n.parent].add(e[i])
                    : this.add(e[i]);
            }
            return this.updateMatrixWorld(!0), e;
          },
          bind: function (t, e) {
            (this.skeleton = t),
              void 0 === e &&
                (this.updateMatrixWorld(!0),
                this.skeleton.calculateInverses(),
                (e = this.matrixWorld)),
              this.bindMatrix.copy(e),
              this.bindMatrixInverse.getInverse(e);
          },
          pose: function () {
            this.skeleton.pose();
          },
          normalizeSkinWeights: function () {
            var t;
            if (this.geometry && this.geometry.isGeometry)
              for (t = 0; t < this.geometry.skinWeights.length; t++) {
                var e = this.geometry.skinWeights[t],
                  i = 1 / e.manhattanLength();
                1 / 0 !== i ? e.multiplyScalar(i) : e.set(1, 0, 0, 0);
              }
            else if (this.geometry && this.geometry.isBufferGeometry) {
              e = new h();
              var n = this.geometry.attributes.skinWeight;
              for (t = 0; t < n.count; t++)
                (e.x = n.getX(t)),
                  (e.y = n.getY(t)),
                  (e.z = n.getZ(t)),
                  (e.w = n.getW(t)),
                  (i = 1 / e.manhattanLength()),
                  1 / 0 !== i ? e.multiplyScalar(i) : e.set(1, 0, 0, 0),
                  n.setXYZW(t, e.x, e.y, e.z, e.w);
            }
          },
          updateMatrixWorld: function (t) {
            X.prototype.updateMatrixWorld.call(this, t),
              "attached" === this.bindMode
                ? this.bindMatrixInverse.getInverse(this.matrixWorld)
                : "detached" === this.bindMode
                ? this.bindMatrixInverse.getInverse(this.bindMatrix)
                : console.warn(
                    "THREE.SkinnedMesh: Unrecognized bindMode: " + this.bindMode
                  );
          },
          clone: function () {
            return new this.constructor(this.geometry, this.material).copy(
              this
            );
          },
        })),
        (De.prototype = Object.create(U.prototype)),
        (De.prototype.constructor = De),
        (De.prototype.isLineBasicMaterial = !0),
        (De.prototype.copy = function (t) {
          return (
            U.prototype.copy.call(this, t),
            this.color.copy(t.color),
            (this.linewidth = t.linewidth),
            (this.linecap = t.linecap),
            (this.linejoin = t.linejoin),
            this
          );
        }),
        (ke.prototype = Object.assign(Object.create(b.prototype), {
          constructor: ke,
          isLine: !0,
          computeLineDistances: (function () {
            var t = new s(),
              e = new s();
            return function () {
              var i = this.geometry;
              if (i.isBufferGeometry)
                if (null === i.index) {
                  for (
                    var n = i.attributes.position, r = [0], s = 1, o = n.count;
                    s < o;
                    s++
                  )
                    t.fromBufferAttribute(n, s - 1),
                      e.fromBufferAttribute(n, s),
                      (r[s] = r[s - 1]),
                      (r[s] += t.distanceTo(e));
                  i.addAttribute("lineDistance", new I(r, 1));
                } else
                  console.warn(
                    "THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry."
                  );
              else if (i.isGeometry)
                for (
                  n = i.vertices,
                    r = i.lineDistances,
                    r[0] = 0,
                    s = 1,
                    o = n.length;
                  s < o;
                  s++
                )
                  (r[s] = r[s - 1]), (r[s] += n[s - 1].distanceTo(n[s]));
              return this;
            };
          })(),
          raycast: (function () {
            var t = new n(),
              e = new V(),
              i = new d();
            return function (n, r) {
              var o = n.linePrecision,
                a = this.geometry,
                h = this.matrixWorld;
              if (
                (null === a.boundingSphere && a.computeBoundingSphere(),
                i.copy(a.boundingSphere),
                i.applyMatrix4(h),
                (i.radius += o),
                !1 !== n.ray.intersectsSphere(i))
              ) {
                t.getInverse(h),
                  e.copy(n.ray).applyMatrix4(t),
                  (o /= (this.scale.x + this.scale.y + this.scale.z) / 3),
                  (o *= o);
                var l = new s(),
                  u = new s();
                h = new s();
                var c = new s(),
                  p = this && this.isLineSegments ? 2 : 1;
                if (a.isBufferGeometry) {
                  var d = a.index,
                    f = a.attributes.position.array;
                  if (null !== d) {
                    (d = d.array), (a = 0);
                    for (var m = d.length - 1; a < m; a += p) {
                      var _ = d[a + 1];
                      l.fromArray(f, 3 * d[a]),
                        u.fromArray(f, 3 * _),
                        (_ = e.distanceSqToSegment(l, u, c, h)),
                        _ > o ||
                          (c.applyMatrix4(this.matrixWorld),
                          (_ = n.ray.origin.distanceTo(c)),
                          _ < n.near ||
                            _ > n.far ||
                            r.push({
                              distance: _,
                              point: h.clone().applyMatrix4(this.matrixWorld),
                              index: a,
                              face: null,
                              faceIndex: null,
                              object: this,
                            }));
                    }
                  } else
                    for (a = 0, m = f.length / 3 - 1; a < m; a += p)
                      l.fromArray(f, 3 * a),
                        u.fromArray(f, 3 * a + 3),
                        (_ = e.distanceSqToSegment(l, u, c, h)),
                        _ > o ||
                          (c.applyMatrix4(this.matrixWorld),
                          (_ = n.ray.origin.distanceTo(c)),
                          _ < n.near ||
                            _ > n.far ||
                            r.push({
                              distance: _,
                              point: h.clone().applyMatrix4(this.matrixWorld),
                              index: a,
                              face: null,
                              faceIndex: null,
                              object: this,
                            }));
                } else if (a.isGeometry)
                  for (l = a.vertices, u = l.length, a = 0; a < u - 1; a += p)
                    (_ = e.distanceSqToSegment(l[a], l[a + 1], c, h)),
                      _ > o ||
                        (c.applyMatrix4(this.matrixWorld),
                        (_ = n.ray.origin.distanceTo(c)),
                        _ < n.near ||
                          _ > n.far ||
                          r.push({
                            distance: _,
                            point: h.clone().applyMatrix4(this.matrixWorld),
                            index: a,
                            face: null,
                            faceIndex: null,
                            object: this,
                          }));
              }
            };
          })(),
          clone: function () {
            return new this.constructor(this.geometry, this.material).copy(
              this
            );
          },
        })),
        (Ne.prototype = Object.assign(Object.create(ke.prototype), {
          constructor: Ne,
          isLineSegments: !0,
          computeLineDistances: (function () {
            var t = new s(),
              e = new s();
            return function () {
              var i = this.geometry;
              if (i.isBufferGeometry)
                if (null === i.index) {
                  for (
                    var n = i.attributes.position, r = [], s = 0, o = n.count;
                    s < o;
                    s += 2
                  )
                    t.fromBufferAttribute(n, s),
                      e.fromBufferAttribute(n, s + 1),
                      (r[s] = 0 === s ? 0 : r[s - 1]),
                      (r[s + 1] = r[s] + t.distanceTo(e));
                  i.addAttribute("lineDistance", new I(r, 1));
                } else
                  console.warn(
                    "THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry."
                  );
              else if (i.isGeometry)
                for (
                  n = i.vertices, r = i.lineDistances, s = 0, o = n.length;
                  s < o;
                  s += 2
                )
                  t.copy(n[s]),
                    e.copy(n[s + 1]),
                    (r[s] = 0 === s ? 0 : r[s - 1]),
                    (r[s + 1] = r[s] + t.distanceTo(e));
              return this;
            };
          })(),
        })),
        (ze.prototype = Object.assign(Object.create(ke.prototype), {
          constructor: ze,
          isLineLoop: !0,
        })),
        (Fe.prototype = Object.create(U.prototype)),
        (Fe.prototype.constructor = Fe),
        (Fe.prototype.isPointsMaterial = !0),
        (Fe.prototype.copy = function (t) {
          return (
            U.prototype.copy.call(this, t),
            this.color.copy(t.color),
            (this.map = t.map),
            (this.size = t.size),
            (this.sizeAttenuation = t.sizeAttenuation),
            (this.morphTargets = t.morphTargets),
            this
          );
        }),
        (He.prototype = Object.assign(Object.create(b.prototype), {
          constructor: He,
          isPoints: !0,
          raycast: (function () {
            var t = new n(),
              e = new V(),
              i = new d();
            return function (n, r) {
              function o(t, i) {
                var s = e.distanceSqToPoint(t);
                s < c &&
                  (e.closestPointToPoint(t, p),
                  p.applyMatrix4(l),
                  (t = n.ray.origin.distanceTo(p)),
                  t < n.near ||
                    t > n.far ||
                    r.push({
                      distance: t,
                      distanceToRay: Math.sqrt(s),
                      point: p.clone(),
                      index: i,
                      face: null,
                      object: a,
                    }));
              }
              var a = this,
                h = this.geometry,
                l = this.matrixWorld,
                u = n.params.Points.threshold;
              if (
                (null === h.boundingSphere && h.computeBoundingSphere(),
                i.copy(h.boundingSphere),
                i.applyMatrix4(l),
                (i.radius += u),
                !1 !== n.ray.intersectsSphere(i))
              ) {
                t.getInverse(l),
                  e.copy(n.ray).applyMatrix4(t),
                  (u /= (this.scale.x + this.scale.y + this.scale.z) / 3);
                var c = u * u;
                u = new s();
                var p = new s();
                if (h.isBufferGeometry) {
                  var d = h.index;
                  if (((h = h.attributes.position.array), null !== d)) {
                    var f = d.array;
                    d = 0;
                    for (var m = f.length; d < m; d++) {
                      var _ = f[d];
                      u.fromArray(h, 3 * _), o(u, _);
                    }
                  } else
                    for (d = 0, f = h.length / 3; d < f; d++)
                      u.fromArray(h, 3 * d), o(u, d);
                } else
                  for (u = h.vertices, d = 0, f = u.length; d < f; d++)
                    o(u[d], d);
              }
            };
          })(),
          clone: function () {
            return new this.constructor(this.geometry, this.material).copy(
              this
            );
          },
        })),
        (Be.prototype = Object.assign(Object.create(a.prototype), {
          constructor: Be,
          isVideoTexture: !0,
          update: function () {
            var t = this.image;
            t.readyState >= t.HAVE_CURRENT_DATA && (this.needsUpdate = !0);
          },
        })),
        (Ue.prototype = Object.create(a.prototype)),
        (Ue.prototype.constructor = Ue),
        (Ue.prototype.isCompressedTexture = !0),
        (Ge.prototype = Object.create(a.prototype)),
        (Ge.prototype.constructor = Ge),
        (Ge.prototype.isCanvasTexture = !0),
        (Ve.prototype = Object.create(a.prototype)),
        (Ve.prototype.constructor = Ve),
        (Ve.prototype.isDepthTexture = !0),
        (je.prototype = Object.create(N.prototype)),
        (je.prototype.constructor = je),
        (We.prototype = Object.create(T.prototype)),
        (We.prototype.constructor = We),
        (Xe.prototype = Object.create(N.prototype)),
        (Xe.prototype.constructor = Xe),
        (qe.prototype = Object.create(T.prototype)),
        (qe.prototype.constructor = qe),
        (Ye.prototype = Object.create(N.prototype)),
        (Ye.prototype.constructor = Ye),
        (Ze.prototype = Object.create(T.prototype)),
        (Ze.prototype.constructor = Ze),
        ($e.prototype = Object.create(Ye.prototype)),
        ($e.prototype.constructor = $e),
        (Je.prototype = Object.create(T.prototype)),
        (Je.prototype.constructor = Je),
        (Qe.prototype = Object.create(Ye.prototype)),
        (Qe.prototype.constructor = Qe),
        (Ke.prototype = Object.create(T.prototype)),
        (Ke.prototype.constructor = Ke),
        (ti.prototype = Object.create(Ye.prototype)),
        (ti.prototype.constructor = ti),
        (ei.prototype = Object.create(T.prototype)),
        (ei.prototype.constructor = ei),
        (ii.prototype = Object.create(Ye.prototype)),
        (ii.prototype.constructor = ii),
        (ni.prototype = Object.create(T.prototype)),
        (ni.prototype.constructor = ni),
        (ri.prototype = Object.create(N.prototype)),
        (ri.prototype.constructor = ri),
        (si.prototype = Object.create(T.prototype)),
        (si.prototype.constructor = si),
        (oi.prototype = Object.create(N.prototype)),
        (oi.prototype.constructor = oi),
        (ai.prototype = Object.create(T.prototype)),
        (ai.prototype.constructor = ai),
        (hi.prototype = Object.create(N.prototype)),
        (hi.prototype.constructor = hi);
      var Cs = {
          triangulate: function (t, e, i) {
            i = i || 2;
            var n = e && e.length,
              r = n ? e[0] * i : t.length,
              s = li(t, 0, r, i, !0),
              o = [];
            if (!s) return o;
            var a;
            if (n) {
              var h = i;
              n = [];
              var l,
                u = 0;
              for (l = e.length; u < l; u++) {
                var c = e[u] * h,
                  p = u < l - 1 ? e[u + 1] * h : t.length;
                (c = li(t, c, p, h, !1)),
                  c === c.next && (c.steiner = !0),
                  n.push(mi(c));
              }
              for (n.sort(pi), u = 0; u < n.length; u++)
                (e = n[u]),
                  (h = s),
                  (h = di(e, h)) && ((e = wi(h, e)), ui(e, e.next)),
                  (s = ui(s, s.next));
            }
            if (t.length > 80 * i) {
              var d = (a = t[0]),
                f = (n = t[1]);
              for (h = i; h < r; h += i)
                (u = t[h]),
                  (e = t[h + 1]),
                  u < d && (d = u),
                  e < f && (f = e),
                  u > a && (a = u),
                  e > n && (n = e);
              (a = Math.max(a - d, n - f)), (a = 0 !== a ? 1 / a : 0);
            }
            return ci(s, o, i, d, f, a), o;
          },
        },
        Ps = {
          area: function (t) {
            for (var e = t.length, i = 0, n = e - 1, r = 0; r < e; n = r++)
              i += t[n].x * t[r].y - t[r].x * t[n].y;
            return 0.5 * i;
          },
          isClockWise: function (t) {
            return 0 > Ps.area(t);
          },
          triangulateShape: function (t, e) {
            var i = [],
              n = [],
              r = [];
            Si(t), Mi(i, t);
            var s = t.length;
            for (e.forEach(Si), t = 0; t < e.length; t++)
              n.push(s), (s += e[t].length), Mi(i, e[t]);
            for (e = Cs.triangulate(i, n), t = 0; t < e.length; t += 3)
              r.push(e.slice(t, t + 3));
            return r;
          },
        };
      (Ci.prototype = Object.create(T.prototype)),
        (Ci.prototype.constructor = Ci),
        (Ci.prototype.toJSON = function () {
          var t = T.prototype.toJSON.call(this);
          return Ai(this.parameters.shapes, this.parameters.options, t);
        }),
        (Pi.prototype = Object.create(N.prototype)),
        (Pi.prototype.constructor = Pi),
        (Pi.prototype.toJSON = function () {
          var t = N.prototype.toJSON.call(this);
          return Ai(this.parameters.shapes, this.parameters.options, t);
        });
      var As = {
        generateTopUV: function (t, e, n, r, s) {
          (t = e[3 * r]), (r = e[3 * r + 1]);
          var o = e[3 * s];
          return (
            (s = e[3 * s + 1]),
            [new i(e[3 * n], e[3 * n + 1]), new i(t, r), new i(o, s)]
          );
        },
        generateSideWallUV: function (t, e, n, r, s, o) {
          t = e[3 * n];
          var a = e[3 * n + 1];
          n = e[3 * n + 2];
          var h = e[3 * r],
            l = e[3 * r + 1];
          r = e[3 * r + 2];
          var u = e[3 * s],
            c = e[3 * s + 1];
          s = e[3 * s + 2];
          var p = e[3 * o],
            d = e[3 * o + 1];
          return (
            (e = e[3 * o + 2]),
            0.01 > Math.abs(a - l)
              ? [
                  new i(t, 1 - n),
                  new i(h, 1 - r),
                  new i(u, 1 - s),
                  new i(p, 1 - e),
                ]
              : [
                  new i(a, 1 - n),
                  new i(l, 1 - r),
                  new i(c, 1 - s),
                  new i(d, 1 - e),
                ]
          );
        },
      };
      (Ri.prototype = Object.create(T.prototype)),
        (Ri.prototype.constructor = Ri),
        (Li.prototype = Object.create(Pi.prototype)),
        (Li.prototype.constructor = Li),
        (Ii.prototype = Object.create(T.prototype)),
        (Ii.prototype.constructor = Ii),
        (Oi.prototype = Object.create(N.prototype)),
        (Oi.prototype.constructor = Oi),
        (Di.prototype = Object.create(T.prototype)),
        (Di.prototype.constructor = Di),
        (ki.prototype = Object.create(N.prototype)),
        (ki.prototype.constructor = ki),
        (Ni.prototype = Object.create(T.prototype)),
        (Ni.prototype.constructor = Ni),
        (zi.prototype = Object.create(N.prototype)),
        (zi.prototype.constructor = zi),
        (Fi.prototype = Object.create(T.prototype)),
        (Fi.prototype.constructor = Fi),
        (Fi.prototype.toJSON = function () {
          var t = T.prototype.toJSON.call(this);
          return Bi(this.parameters.shapes, t);
        }),
        (Hi.prototype = Object.create(N.prototype)),
        (Hi.prototype.constructor = Hi),
        (Hi.prototype.toJSON = function () {
          var t = N.prototype.toJSON.call(this);
          return Bi(this.parameters.shapes, t);
        }),
        (Ui.prototype = Object.create(N.prototype)),
        (Ui.prototype.constructor = Ui),
        (Gi.prototype = Object.create(T.prototype)),
        (Gi.prototype.constructor = Gi),
        (Vi.prototype = Object.create(N.prototype)),
        (Vi.prototype.constructor = Vi),
        (ji.prototype = Object.create(Gi.prototype)),
        (ji.prototype.constructor = ji),
        (Wi.prototype = Object.create(Vi.prototype)),
        (Wi.prototype.constructor = Wi),
        (Xi.prototype = Object.create(T.prototype)),
        (Xi.prototype.constructor = Xi),
        (qi.prototype = Object.create(N.prototype)),
        (qi.prototype.constructor = qi);
      var Rs = Object.freeze({
        WireframeGeometry: je,
        ParametricGeometry: We,
        ParametricBufferGeometry: Xe,
        TetrahedronGeometry: Ze,
        TetrahedronBufferGeometry: $e,
        OctahedronGeometry: Je,
        OctahedronBufferGeometry: Qe,
        IcosahedronGeometry: Ke,
        IcosahedronBufferGeometry: ti,
        DodecahedronGeometry: ei,
        DodecahedronBufferGeometry: ii,
        PolyhedronGeometry: qe,
        PolyhedronBufferGeometry: Ye,
        TubeGeometry: ni,
        TubeBufferGeometry: ri,
        TorusKnotGeometry: si,
        TorusKnotBufferGeometry: oi,
        TorusGeometry: ai,
        TorusBufferGeometry: hi,
        TextGeometry: Ri,
        TextBufferGeometry: Li,
        SphereGeometry: Ii,
        SphereBufferGeometry: Oi,
        RingGeometry: Di,
        RingBufferGeometry: ki,
        PlaneGeometry: H,
        PlaneBufferGeometry: B,
        LatheGeometry: Ni,
        LatheBufferGeometry: zi,
        ShapeGeometry: Fi,
        ShapeBufferGeometry: Hi,
        ExtrudeGeometry: Ci,
        ExtrudeBufferGeometry: Pi,
        EdgesGeometry: Ui,
        ConeGeometry: ji,
        ConeBufferGeometry: Wi,
        CylinderGeometry: Gi,
        CylinderBufferGeometry: Vi,
        CircleGeometry: Xi,
        CircleBufferGeometry: qi,
        BoxGeometry: z,
        BoxBufferGeometry: F,
      });
      (Yi.prototype = Object.create(U.prototype)),
        (Yi.prototype.constructor = Yi),
        (Yi.prototype.isShadowMaterial = !0),
        (Yi.prototype.copy = function (t) {
          return U.prototype.copy.call(this, t), this.color.copy(t.color), this;
        }),
        (Zi.prototype = Object.create(G.prototype)),
        (Zi.prototype.constructor = Zi),
        (Zi.prototype.isRawShaderMaterial = !0),
        ($i.prototype = Object.create(U.prototype)),
        ($i.prototype.constructor = $i),
        ($i.prototype.isMeshStandardMaterial = !0),
        ($i.prototype.copy = function (t) {
          return (
            U.prototype.copy.call(this, t),
            (this.defines = { STANDARD: "" }),
            this.color.copy(t.color),
            (this.roughness = t.roughness),
            (this.metalness = t.metalness),
            (this.map = t.map),
            (this.lightMap = t.lightMap),
            (this.lightMapIntensity = t.lightMapIntensity),
            (this.aoMap = t.aoMap),
            (this.aoMapIntensity = t.aoMapIntensity),
            this.emissive.copy(t.emissive),
            (this.emissiveMap = t.emissiveMap),
            (this.emissiveIntensity = t.emissiveIntensity),
            (this.bumpMap = t.bumpMap),
            (this.bumpScale = t.bumpScale),
            (this.normalMap = t.normalMap),
            (this.normalMapType = t.normalMapType),
            this.normalScale.copy(t.normalScale),
            (this.displacementMap = t.displacementMap),
            (this.displacementScale = t.displacementScale),
            (this.displacementBias = t.displacementBias),
            (this.roughnessMap = t.roughnessMap),
            (this.metalnessMap = t.metalnessMap),
            (this.alphaMap = t.alphaMap),
            (this.envMap = t.envMap),
            (this.envMapIntensity = t.envMapIntensity),
            (this.refractionRatio = t.refractionRatio),
            (this.wireframe = t.wireframe),
            (this.wireframeLinewidth = t.wireframeLinewidth),
            (this.wireframeLinecap = t.wireframeLinecap),
            (this.wireframeLinejoin = t.wireframeLinejoin),
            (this.skinning = t.skinning),
            (this.morphTargets = t.morphTargets),
            (this.morphNormals = t.morphNormals),
            this
          );
        }),
        (Ji.prototype = Object.create($i.prototype)),
        (Ji.prototype.constructor = Ji),
        (Ji.prototype.isMeshPhysicalMaterial = !0),
        (Ji.prototype.copy = function (t) {
          return (
            $i.prototype.copy.call(this, t),
            (this.defines = { PHYSICAL: "" }),
            (this.reflectivity = t.reflectivity),
            (this.clearCoat = t.clearCoat),
            (this.clearCoatRoughness = t.clearCoatRoughness),
            this
          );
        }),
        (Qi.prototype = Object.create(U.prototype)),
        (Qi.prototype.constructor = Qi),
        (Qi.prototype.isMeshPhongMaterial = !0),
        (Qi.prototype.copy = function (t) {
          return (
            U.prototype.copy.call(this, t),
            this.color.copy(t.color),
            this.specular.copy(t.specular),
            (this.shininess = t.shininess),
            (this.map = t.map),
            (this.lightMap = t.lightMap),
            (this.lightMapIntensity = t.lightMapIntensity),
            (this.aoMap = t.aoMap),
            (this.aoMapIntensity = t.aoMapIntensity),
            this.emissive.copy(t.emissive),
            (this.emissiveMap = t.emissiveMap),
            (this.emissiveIntensity = t.emissiveIntensity),
            (this.bumpMap = t.bumpMap),
            (this.bumpScale = t.bumpScale),
            (this.normalMap = t.normalMap),
            (this.normalMapType = t.normalMapType),
            this.normalScale.copy(t.normalScale),
            (this.displacementMap = t.displacementMap),
            (this.displacementScale = t.displacementScale),
            (this.displacementBias = t.displacementBias),
            (this.specularMap = t.specularMap),
            (this.alphaMap = t.alphaMap),
            (this.envMap = t.envMap),
            (this.combine = t.combine),
            (this.reflectivity = t.reflectivity),
            (this.refractionRatio = t.refractionRatio),
            (this.wireframe = t.wireframe),
            (this.wireframeLinewidth = t.wireframeLinewidth),
            (this.wireframeLinecap = t.wireframeLinecap),
            (this.wireframeLinejoin = t.wireframeLinejoin),
            (this.skinning = t.skinning),
            (this.morphTargets = t.morphTargets),
            (this.morphNormals = t.morphNormals),
            this
          );
        }),
        (Ki.prototype = Object.create(Qi.prototype)),
        (Ki.prototype.constructor = Ki),
        (Ki.prototype.isMeshToonMaterial = !0),
        (Ki.prototype.copy = function (t) {
          return (
            Qi.prototype.copy.call(this, t),
            (this.gradientMap = t.gradientMap),
            this
          );
        }),
        (tn.prototype = Object.create(U.prototype)),
        (tn.prototype.constructor = tn),
        (tn.prototype.isMeshNormalMaterial = !0),
        (tn.prototype.copy = function (t) {
          return (
            U.prototype.copy.call(this, t),
            (this.bumpMap = t.bumpMap),
            (this.bumpScale = t.bumpScale),
            (this.normalMap = t.normalMap),
            (this.normalMapType = t.normalMapType),
            this.normalScale.copy(t.normalScale),
            (this.displacementMap = t.displacementMap),
            (this.displacementScale = t.displacementScale),
            (this.displacementBias = t.displacementBias),
            (this.wireframe = t.wireframe),
            (this.wireframeLinewidth = t.wireframeLinewidth),
            (this.skinning = t.skinning),
            (this.morphTargets = t.morphTargets),
            (this.morphNormals = t.morphNormals),
            this
          );
        }),
        (en.prototype = Object.create(U.prototype)),
        (en.prototype.constructor = en),
        (en.prototype.isMeshLambertMaterial = !0),
        (en.prototype.copy = function (t) {
          return (
            U.prototype.copy.call(this, t),
            this.color.copy(t.color),
            (this.map = t.map),
            (this.lightMap = t.lightMap),
            (this.lightMapIntensity = t.lightMapIntensity),
            (this.aoMap = t.aoMap),
            (this.aoMapIntensity = t.aoMapIntensity),
            this.emissive.copy(t.emissive),
            (this.emissiveMap = t.emissiveMap),
            (this.emissiveIntensity = t.emissiveIntensity),
            (this.specularMap = t.specularMap),
            (this.alphaMap = t.alphaMap),
            (this.envMap = t.envMap),
            (this.combine = t.combine),
            (this.reflectivity = t.reflectivity),
            (this.refractionRatio = t.refractionRatio),
            (this.wireframe = t.wireframe),
            (this.wireframeLinewidth = t.wireframeLinewidth),
            (this.wireframeLinecap = t.wireframeLinecap),
            (this.wireframeLinejoin = t.wireframeLinejoin),
            (this.skinning = t.skinning),
            (this.morphTargets = t.morphTargets),
            (this.morphNormals = t.morphNormals),
            this
          );
        }),
        (nn.prototype = Object.create(U.prototype)),
        (nn.prototype.constructor = nn),
        (nn.prototype.isMeshMatcapMaterial = !0),
        (nn.prototype.copy = function (t) {
          return (
            U.prototype.copy.call(this, t),
            (this.defines = { MATCAP: "" }),
            this.color.copy(t.color),
            (this.matcap = t.matcap),
            (this.map = t.map),
            (this.bumpMap = t.bumpMap),
            (this.bumpScale = t.bumpScale),
            (this.normalMap = t.normalMap),
            (this.normalMapType = t.normalMapType),
            this.normalScale.copy(t.normalScale),
            (this.displacementMap = t.displacementMap),
            (this.displacementScale = t.displacementScale),
            (this.displacementBias = t.displacementBias),
            (this.alphaMap = t.alphaMap),
            (this.skinning = t.skinning),
            (this.morphTargets = t.morphTargets),
            (this.morphNormals = t.morphNormals),
            this
          );
        }),
        (rn.prototype = Object.create(De.prototype)),
        (rn.prototype.constructor = rn),
        (rn.prototype.isLineDashedMaterial = !0),
        (rn.prototype.copy = function (t) {
          return (
            De.prototype.copy.call(this, t),
            (this.scale = t.scale),
            (this.dashSize = t.dashSize),
            (this.gapSize = t.gapSize),
            this
          );
        });
      var Ls = Object.freeze({
          ShadowMaterial: Yi,
          SpriteMaterial: Pe,
          RawShaderMaterial: Zi,
          ShaderMaterial: G,
          PointsMaterial: Fe,
          MeshPhysicalMaterial: Ji,
          MeshStandardMaterial: $i,
          MeshPhongMaterial: Qi,
          MeshToonMaterial: Ki,
          MeshNormalMaterial: tn,
          MeshLambertMaterial: en,
          MeshDepthMaterial: ue,
          MeshDistanceMaterial: ce,
          MeshBasicMaterial: W,
          MeshMatcapMaterial: nn,
          LineDashedMaterial: rn,
          LineBasicMaterial: De,
          Material: U,
        }),
        Is = {
          enabled: !1,
          files: {},
          add: function (t, e) {
            !1 !== this.enabled && (this.files[t] = e);
          },
          get: function (t) {
            if (!1 !== this.enabled) return this.files[t];
          },
          remove: function (t) {
            delete this.files[t];
          },
          clear: function () {
            this.files = {};
          },
        },
        Os = new sn(),
        Ds = {};
      Object.assign(on.prototype, {
        load: function (t, e, i, n) {
          void 0 === t && (t = ""),
            void 0 !== this.path && (t = this.path + t),
            (t = this.manager.resolveURL(t));
          var r = this,
            s = Is.get(t);
          if (void 0 !== s)
            return (
              r.manager.itemStart(t),
              setTimeout(function () {
                e && e(s), r.manager.itemEnd(t);
              }, 0),
              s
            );
          if (void 0 === Ds[t]) {
            var o = t.match(/^data:(.*?)(;base64)?,(.*)$/);
            if (o) {
              i = o[1];
              var a = !!o[2];
              (o = o[3]),
                (o = window.decodeURIComponent(o)),
                a && (o = window.atob(o));
              try {
                var h = (this.responseType || "").toLowerCase();
                switch (h) {
                  case "arraybuffer":
                  case "blob":
                    var l = new Uint8Array(o.length);
                    for (a = 0; a < o.length; a++) l[a] = o.charCodeAt(a);
                    var u =
                      "blob" === h
                        ? new Blob([l.buffer], { type: i })
                        : l.buffer;
                    break;
                  case "document":
                    u = new DOMParser().parseFromString(o, i);
                    break;
                  case "json":
                    u = JSON.parse(o);
                    break;
                  default:
                    u = o;
                }
                window.setTimeout(function () {
                  e && e(u), r.manager.itemEnd(t);
                }, 0);
              } catch (e) {
                window.setTimeout(function () {
                  n && n(e), r.manager.itemEnd(t), r.manager.itemError(t);
                }, 0);
              }
            } else {
              (Ds[t] = []),
                Ds[t].push({ onLoad: e, onProgress: i, onError: n });
              var c = new XMLHttpRequest();
              c.open("GET", t, !0),
                c.addEventListener(
                  "load",
                  function (e) {
                    var i = this.response;
                    Is.add(t, i);
                    var n = Ds[t];
                    if (
                      (delete Ds[t], 200 === this.status || 0 === this.status)
                    ) {
                      0 === this.status &&
                        console.warn(
                          "THREE.FileLoader: HTTP Status 0 received."
                        );
                      for (var s = 0, o = n.length; s < o; s++) {
                        var a = n[s];
                        a.onLoad && a.onLoad(i);
                      }
                      r.manager.itemEnd(t);
                    } else {
                      for (s = 0, o = n.length; s < o; s++)
                        (a = n[s]), a.onError && a.onError(e);
                      r.manager.itemEnd(t), r.manager.itemError(t);
                    }
                  },
                  !1
                ),
                c.addEventListener(
                  "progress",
                  function (e) {
                    for (var i = Ds[t], n = 0, r = i.length; n < r; n++) {
                      var s = i[n];
                      s.onProgress && s.onProgress(e);
                    }
                  },
                  !1
                ),
                c.addEventListener(
                  "error",
                  function (e) {
                    var i = Ds[t];
                    delete Ds[t];
                    for (var n = 0, s = i.length; n < s; n++) {
                      var o = i[n];
                      o.onError && o.onError(e);
                    }
                    r.manager.itemEnd(t), r.manager.itemError(t);
                  },
                  !1
                ),
                c.addEventListener(
                  "abort",
                  function (e) {
                    var i = Ds[t];
                    delete Ds[t];
                    for (var n = 0, s = i.length; n < s; n++) {
                      var o = i[n];
                      o.onError && o.onError(e);
                    }
                    r.manager.itemEnd(t), r.manager.itemError(t);
                  },
                  !1
                ),
                void 0 !== this.responseType &&
                  (c.responseType = this.responseType),
                void 0 !== this.withCredentials &&
                  (c.withCredentials = this.withCredentials),
                c.overrideMimeType &&
                  c.overrideMimeType(
                    void 0 !== this.mimeType ? this.mimeType : "text/plain"
                  );
              for (a in this.requestHeader)
                c.setRequestHeader(a, this.requestHeader[a]);
              c.send(null);
            }
            return r.manager.itemStart(t), c;
          }
          Ds[t].push({ onLoad: e, onProgress: i, onError: n });
        },
        setPath: function (t) {
          return (this.path = t), this;
        },
        setResponseType: function (t) {
          return (this.responseType = t), this;
        },
        setWithCredentials: function (t) {
          return (this.withCredentials = t), this;
        },
        setMimeType: function (t) {
          return (this.mimeType = t), this;
        },
        setRequestHeader: function (t) {
          return (this.requestHeader = t), this;
        },
      }),
        Object.assign(an.prototype, {
          load: function (t, e, i, n) {
            function r(r) {
              h.load(
                t[r],
                function (t) {
                  (t = s._parser(t, !0)),
                    (o[r] = {
                      width: t.width,
                      height: t.height,
                      format: t.format,
                      mipmaps: t.mipmaps,
                    }),
                    (l += 1),
                    6 === l &&
                      (1 === t.mipmapCount && (a.minFilter = 1006),
                      (a.format = t.format),
                      (a.needsUpdate = !0),
                      e && e(a));
                },
                i,
                n
              );
            }
            var s = this,
              o = [],
              a = new Ue();
            a.image = o;
            var h = new on(this.manager);
            if (
              (h.setPath(this.path),
              h.setResponseType("arraybuffer"),
              Array.isArray(t))
            )
              for (var l = 0, u = 0, c = t.length; u < c; ++u) r(u);
            else
              h.load(
                t,
                function (t) {
                  if (((t = s._parser(t, !0)), t.isCubemap))
                    for (
                      var i = t.mipmaps.length / t.mipmapCount, n = 0;
                      n < i;
                      n++
                    ) {
                      o[n] = { mipmaps: [] };
                      for (var r = 0; r < t.mipmapCount; r++)
                        o[n].mipmaps.push(t.mipmaps[n * t.mipmapCount + r]),
                          (o[n].format = t.format),
                          (o[n].width = t.width),
                          (o[n].height = t.height);
                    }
                  else
                    (a.image.width = t.width),
                      (a.image.height = t.height),
                      (a.mipmaps = t.mipmaps);
                  1 === t.mipmapCount && (a.minFilter = 1006),
                    (a.format = t.format),
                    (a.needsUpdate = !0),
                    e && e(a);
                },
                i,
                n
              );
            return a;
          },
          setPath: function (t) {
            return (this.path = t), this;
          },
        }),
        Object.assign(hn.prototype, {
          load: function (t, e, i, n) {
            var r = this,
              s = new c(),
              o = new on(this.manager);
            return (
              o.setResponseType("arraybuffer"),
              o.load(
                t,
                function (t) {
                  (t = r._parser(t)) &&
                    (void 0 !== t.image
                      ? (s.image = t.image)
                      : void 0 !== t.data &&
                        ((s.image.width = t.width),
                        (s.image.height = t.height),
                        (s.image.data = t.data)),
                    (s.wrapS = void 0 !== t.wrapS ? t.wrapS : 1001),
                    (s.wrapT = void 0 !== t.wrapT ? t.wrapT : 1001),
                    (s.magFilter = void 0 !== t.magFilter ? t.magFilter : 1006),
                    (s.minFilter = void 0 !== t.minFilter ? t.minFilter : 1008),
                    (s.anisotropy = void 0 !== t.anisotropy ? t.anisotropy : 1),
                    void 0 !== t.format && (s.format = t.format),
                    void 0 !== t.type && (s.type = t.type),
                    void 0 !== t.mipmaps && (s.mipmaps = t.mipmaps),
                    1 === t.mipmapCount && (s.minFilter = 1006),
                    (s.needsUpdate = !0),
                    e && e(s, t));
                },
                i,
                n
              ),
              s
            );
          },
        }),
        Object.assign(ln.prototype, {
          crossOrigin: "anonymous",
          load: function (t, e, i, n) {
            function r() {
              h.removeEventListener("load", r, !1),
                h.removeEventListener("error", s, !1),
                Is.add(t, this),
                e && e(this),
                o.manager.itemEnd(t);
            }
            function s(e) {
              h.removeEventListener("load", r, !1),
                h.removeEventListener("error", s, !1),
                n && n(e),
                o.manager.itemEnd(t),
                o.manager.itemError(t);
            }
            void 0 === t && (t = ""),
              void 0 !== this.path && (t = this.path + t),
              (t = this.manager.resolveURL(t));
            var o = this,
              a = Is.get(t);
            if (void 0 !== a)
              return (
                o.manager.itemStart(t),
                setTimeout(function () {
                  e && e(a), o.manager.itemEnd(t);
                }, 0),
                a
              );
            var h = document.createElementNS(
              "http://www.w3.org/1999/xhtml",
              "img"
            );
            return (
              h.addEventListener("load", r, !1),
              h.addEventListener("error", s, !1),
              "data:" !== t.substr(0, 5) &&
                void 0 !== this.crossOrigin &&
                (h.crossOrigin = this.crossOrigin),
              o.manager.itemStart(t),
              (h.src = t),
              h
            );
          },
          setCrossOrigin: function (t) {
            return (this.crossOrigin = t), this;
          },
          setPath: function (t) {
            return (this.path = t), this;
          },
        }),
        Object.assign(un.prototype, {
          crossOrigin: "anonymous",
          load: function (t, e, i, n) {
            function r(i) {
              o.load(
                t[i],
                function (t) {
                  (s.images[i] = t),
                    a++,
                    6 === a && ((s.needsUpdate = !0), e && e(s));
                },
                void 0,
                n
              );
            }
            var s = new rt(),
              o = new ln(this.manager);
            o.setCrossOrigin(this.crossOrigin), o.setPath(this.path);
            var a = 0;
            for (i = 0; i < t.length; ++i) r(i);
            return s;
          },
          setCrossOrigin: function (t) {
            return (this.crossOrigin = t), this;
          },
          setPath: function (t) {
            return (this.path = t), this;
          },
        }),
        Object.assign(cn.prototype, {
          crossOrigin: "anonymous",
          load: function (t, e, i, n) {
            var r = new a(),
              s = new ln(this.manager);
            return (
              s.setCrossOrigin(this.crossOrigin),
              s.setPath(this.path),
              s.load(
                t,
                function (i) {
                  (r.image = i),
                    (i =
                      0 < t.search(/\.jpe?g$/i) ||
                      0 === t.search(/^data:image\/jpeg/)),
                    (r.format = i ? 1022 : 1023),
                    (r.needsUpdate = !0),
                    void 0 !== e && e(r);
                },
                i,
                n
              ),
              r
            );
          },
          setCrossOrigin: function (t) {
            return (this.crossOrigin = t), this;
          },
          setPath: function (t) {
            return (this.path = t), this;
          },
        }),
        Object.assign(pn.prototype, {
          getPoint: function () {
            return (
              console.warn("THREE.Curve: .getPoint() not implemented."), null
            );
          },
          getPointAt: function (t, e) {
            return (t = this.getUtoTmapping(t)), this.getPoint(t, e);
          },
          getPoints: function (t) {
            void 0 === t && (t = 5);
            for (var e = [], i = 0; i <= t; i++) e.push(this.getPoint(i / t));
            return e;
          },
          getSpacedPoints: function (t) {
            void 0 === t && (t = 5);
            for (var e = [], i = 0; i <= t; i++) e.push(this.getPointAt(i / t));
            return e;
          },
          getLength: function () {
            var t = this.getLengths();
            return t[t.length - 1];
          },
          getLengths: function (t) {
            if (
              (void 0 === t && (t = this.arcLengthDivisions),
              this.cacheArcLengths &&
                this.cacheArcLengths.length === t + 1 &&
                !this.needsUpdate)
            )
              return this.cacheArcLengths;
            this.needsUpdate = !1;
            var e,
              i = [],
              n = this.getPoint(0),
              r = 0;
            for (i.push(0), e = 1; e <= t; e++) {
              var s = this.getPoint(e / t);
              (r += s.distanceTo(n)), i.push(r), (n = s);
            }
            return (this.cacheArcLengths = i);
          },
          updateArcLengths: function () {
            (this.needsUpdate = !0), this.getLengths();
          },
          getUtoTmapping: function (t, e) {
            var i = this.getLengths(),
              n = i.length;
            e = e ? e : t * i[n - 1];
            for (var r, s = 0, o = n - 1; s <= o; )
              if (((t = Math.floor(s + (o - s) / 2)), (r = i[t] - e), 0 > r))
                s = t + 1;
              else {
                if (!(0 < r)) {
                  o = t;
                  break;
                }
                o = t - 1;
              }
            return (
              (t = o),
              i[t] === e
                ? t / (n - 1)
                : ((s = i[t]), (t + (e - s) / (i[t + 1] - s)) / (n - 1))
            );
          },
          getTangent: function (t) {
            var e = t - 1e-4;
            return (
              (t += 1e-4),
              0 > e && (e = 0),
              1 < t && (t = 1),
              (e = this.getPoint(e)),
              this.getPoint(t).clone().sub(e).normalize()
            );
          },
          getTangentAt: function (t) {
            return (t = this.getUtoTmapping(t)), this.getTangent(t);
          },
          computeFrenetFrames: function (t, e) {
            var i,
              r = new s(),
              o = [],
              a = [],
              h = [],
              l = new s(),
              u = new n();
            for (i = 0; i <= t; i++) {
              var c = i / t;
              (o[i] = this.getTangentAt(c)), o[i].normalize();
            }
            (a[0] = new s()),
              (h[0] = new s()),
              (i = Number.MAX_VALUE),
              (c = Math.abs(o[0].x));
            var p = Math.abs(o[0].y),
              d = Math.abs(o[0].z);
            for (
              c <= i && ((i = c), r.set(1, 0, 0)),
                p <= i && ((i = p), r.set(0, 1, 0)),
                d <= i && r.set(0, 0, 1),
                l.crossVectors(o[0], r).normalize(),
                a[0].crossVectors(o[0], l),
                h[0].crossVectors(o[0], a[0]),
                i = 1;
              i <= t;
              i++
            )
              (a[i] = a[i - 1].clone()),
                (h[i] = h[i - 1].clone()),
                l.crossVectors(o[i - 1], o[i]),
                l.length() > Number.EPSILON &&
                  (l.normalize(),
                  (r = Math.acos(ns.clamp(o[i - 1].dot(o[i]), -1, 1))),
                  a[i].applyMatrix4(u.makeRotationAxis(l, r))),
                h[i].crossVectors(o[i], a[i]);
            if (!0 === e)
              for (
                r = Math.acos(ns.clamp(a[0].dot(a[t]), -1, 1)),
                  r /= t,
                  0 < o[0].dot(l.crossVectors(a[0], a[t])) && (r = -r),
                  i = 1;
                i <= t;
                i++
              )
                a[i].applyMatrix4(u.makeRotationAxis(o[i], r * i)),
                  h[i].crossVectors(o[i], a[i]);
            return { tangents: o, normals: a, binormals: h };
          },
          clone: function () {
            return new this.constructor().copy(this);
          },
          copy: function (t) {
            return (this.arcLengthDivisions = t.arcLengthDivisions), this;
          },
          toJSON: function () {
            var t = {
              metadata: {
                version: 4.5,
                type: "Curve",
                generator: "Curve.toJSON",
              },
            };
            return (
              (t.arcLengthDivisions = this.arcLengthDivisions),
              (t.type = this.type),
              t
            );
          },
          fromJSON: function (t) {
            return (this.arcLengthDivisions = t.arcLengthDivisions), this;
          },
        }),
        (dn.prototype = Object.create(pn.prototype)),
        (dn.prototype.constructor = dn),
        (dn.prototype.isEllipseCurve = !0),
        (dn.prototype.getPoint = function (t, e) {
          e = e || new i();
          for (
            var n = 2 * Math.PI,
              r = this.aEndAngle - this.aStartAngle,
              s = Math.abs(r) < Number.EPSILON;
            0 > r;

          )
            r += n;
          for (; r > n; ) r -= n;
          r < Number.EPSILON && (r = s ? 0 : n),
            !0 !== this.aClockwise || s || (r = r === n ? -n : r - n),
            (n = this.aStartAngle + t * r),
            (t = this.aX + this.xRadius * Math.cos(n));
          var o = this.aY + this.yRadius * Math.sin(n);
          return (
            0 !== this.aRotation &&
              ((n = Math.cos(this.aRotation)),
              (r = Math.sin(this.aRotation)),
              (s = t - this.aX),
              (o -= this.aY),
              (t = s * n - o * r + this.aX),
              (o = s * r + o * n + this.aY)),
            e.set(t, o)
          );
        }),
        (dn.prototype.copy = function (t) {
          return (
            pn.prototype.copy.call(this, t),
            (this.aX = t.aX),
            (this.aY = t.aY),
            (this.xRadius = t.xRadius),
            (this.yRadius = t.yRadius),
            (this.aStartAngle = t.aStartAngle),
            (this.aEndAngle = t.aEndAngle),
            (this.aClockwise = t.aClockwise),
            (this.aRotation = t.aRotation),
            this
          );
        }),
        (dn.prototype.toJSON = function () {
          var t = pn.prototype.toJSON.call(this);
          return (
            (t.aX = this.aX),
            (t.aY = this.aY),
            (t.xRadius = this.xRadius),
            (t.yRadius = this.yRadius),
            (t.aStartAngle = this.aStartAngle),
            (t.aEndAngle = this.aEndAngle),
            (t.aClockwise = this.aClockwise),
            (t.aRotation = this.aRotation),
            t
          );
        }),
        (dn.prototype.fromJSON = function (t) {
          return (
            pn.prototype.fromJSON.call(this, t),
            (this.aX = t.aX),
            (this.aY = t.aY),
            (this.xRadius = t.xRadius),
            (this.yRadius = t.yRadius),
            (this.aStartAngle = t.aStartAngle),
            (this.aEndAngle = t.aEndAngle),
            (this.aClockwise = t.aClockwise),
            (this.aRotation = t.aRotation),
            this
          );
        }),
        (fn.prototype = Object.create(dn.prototype)),
        (fn.prototype.constructor = fn),
        (fn.prototype.isArcCurve = !0);
      var ks = new s(),
        Ns = new mn(),
        zs = new mn(),
        Fs = new mn();
      (_n.prototype = Object.create(pn.prototype)),
        (_n.prototype.constructor = _n),
        (_n.prototype.isCatmullRomCurve3 = !0),
        (_n.prototype.getPoint = function (t, e) {
          e = e || new s();
          var i = this.points,
            n = i.length;
          t *= n - (this.closed ? 0 : 1);
          var r = Math.floor(t);
          if (
            ((t -= r),
            this.closed
              ? (r += 0 < r ? 0 : (Math.floor(Math.abs(r) / n) + 1) * n)
              : 0 === t && r === n - 1 && ((r = n - 2), (t = 1)),
            this.closed || 0 < r)
          )
            var o = i[(r - 1) % n];
          else ks.subVectors(i[0], i[1]).add(i[0]), (o = ks);
          var a = i[r % n],
            h = i[(r + 1) % n];
          if (
            (this.closed || r + 2 < n
              ? (i = i[(r + 2) % n])
              : (ks.subVectors(i[n - 1], i[n - 2]).add(i[n - 1]), (i = ks)),
            "centripetal" === this.curveType || "chordal" === this.curveType)
          ) {
            var l = "chordal" === this.curveType ? 0.5 : 0.25;
            (n = Math.pow(o.distanceToSquared(a), l)),
              (r = Math.pow(a.distanceToSquared(h), l)),
              (l = Math.pow(h.distanceToSquared(i), l)),
              1e-4 > r && (r = 1),
              1e-4 > n && (n = r),
              1e-4 > l && (l = r),
              Ns.initNonuniformCatmullRom(o.x, a.x, h.x, i.x, n, r, l),
              zs.initNonuniformCatmullRom(o.y, a.y, h.y, i.y, n, r, l),
              Fs.initNonuniformCatmullRom(o.z, a.z, h.z, i.z, n, r, l);
          } else
            "catmullrom" === this.curveType &&
              (Ns.initCatmullRom(o.x, a.x, h.x, i.x, this.tension),
              zs.initCatmullRom(o.y, a.y, h.y, i.y, this.tension),
              Fs.initCatmullRom(o.z, a.z, h.z, i.z, this.tension));
          return e.set(Ns.calc(t), zs.calc(t), Fs.calc(t)), e;
        }),
        (_n.prototype.copy = function (t) {
          pn.prototype.copy.call(this, t), (this.points = []);
          for (var e = 0, i = t.points.length; e < i; e++)
            this.points.push(t.points[e].clone());
          return (
            (this.closed = t.closed),
            (this.curveType = t.curveType),
            (this.tension = t.tension),
            this
          );
        }),
        (_n.prototype.toJSON = function () {
          var t = pn.prototype.toJSON.call(this);
          t.points = [];
          for (var e = 0, i = this.points.length; e < i; e++)
            t.points.push(this.points[e].toArray());
          return (
            (t.closed = this.closed),
            (t.curveType = this.curveType),
            (t.tension = this.tension),
            t
          );
        }),
        (_n.prototype.fromJSON = function (t) {
          pn.prototype.fromJSON.call(this, t), (this.points = []);
          for (var e = 0, i = t.points.length; e < i; e++) {
            var n = t.points[e];
            this.points.push(new s().fromArray(n));
          }
          return (
            (this.closed = t.closed),
            (this.curveType = t.curveType),
            (this.tension = t.tension),
            this
          );
        }),
        (xn.prototype = Object.create(pn.prototype)),
        (xn.prototype.constructor = xn),
        (xn.prototype.isCubicBezierCurve = !0),
        (xn.prototype.getPoint = function (t, e) {
          e = e || new i();
          var n = this.v0,
            r = this.v1,
            s = this.v2,
            o = this.v3;
          return e.set(yn(t, n.x, r.x, s.x, o.x), yn(t, n.y, r.y, s.y, o.y)), e;
        }),
        (xn.prototype.copy = function (t) {
          return (
            pn.prototype.copy.call(this, t),
            this.v0.copy(t.v0),
            this.v1.copy(t.v1),
            this.v2.copy(t.v2),
            this.v3.copy(t.v3),
            this
          );
        }),
        (xn.prototype.toJSON = function () {
          var t = pn.prototype.toJSON.call(this);
          return (
            (t.v0 = this.v0.toArray()),
            (t.v1 = this.v1.toArray()),
            (t.v2 = this.v2.toArray()),
            (t.v3 = this.v3.toArray()),
            t
          );
        }),
        (xn.prototype.fromJSON = function (t) {
          return (
            pn.prototype.fromJSON.call(this, t),
            this.v0.fromArray(t.v0),
            this.v1.fromArray(t.v1),
            this.v2.fromArray(t.v2),
            this.v3.fromArray(t.v3),
            this
          );
        }),
        (wn.prototype = Object.create(pn.prototype)),
        (wn.prototype.constructor = wn),
        (wn.prototype.isCubicBezierCurve3 = !0),
        (wn.prototype.getPoint = function (t, e) {
          e = e || new s();
          var i = this.v0,
            n = this.v1,
            r = this.v2,
            o = this.v3;
          return (
            e.set(
              yn(t, i.x, n.x, r.x, o.x),
              yn(t, i.y, n.y, r.y, o.y),
              yn(t, i.z, n.z, r.z, o.z)
            ),
            e
          );
        }),
        (wn.prototype.copy = function (t) {
          return (
            pn.prototype.copy.call(this, t),
            this.v0.copy(t.v0),
            this.v1.copy(t.v1),
            this.v2.copy(t.v2),
            this.v3.copy(t.v3),
            this
          );
        }),
        (wn.prototype.toJSON = function () {
          var t = pn.prototype.toJSON.call(this);
          return (
            (t.v0 = this.v0.toArray()),
            (t.v1 = this.v1.toArray()),
            (t.v2 = this.v2.toArray()),
            (t.v3 = this.v3.toArray()),
            t
          );
        }),
        (wn.prototype.fromJSON = function (t) {
          return (
            pn.prototype.fromJSON.call(this, t),
            this.v0.fromArray(t.v0),
            this.v1.fromArray(t.v1),
            this.v2.fromArray(t.v2),
            this.v3.fromArray(t.v3),
            this
          );
        }),
        (bn.prototype = Object.create(pn.prototype)),
        (bn.prototype.constructor = bn),
        (bn.prototype.isLineCurve = !0),
        (bn.prototype.getPoint = function (t, e) {
          return (
            (e = e || new i()),
            1 === t
              ? e.copy(this.v2)
              : (e.copy(this.v2).sub(this.v1),
                e.multiplyScalar(t).add(this.v1)),
            e
          );
        }),
        (bn.prototype.getPointAt = function (t, e) {
          return this.getPoint(t, e);
        }),
        (bn.prototype.getTangent = function () {
          return this.v2.clone().sub(this.v1).normalize();
        }),
        (bn.prototype.copy = function (t) {
          return (
            pn.prototype.copy.call(this, t),
            this.v1.copy(t.v1),
            this.v2.copy(t.v2),
            this
          );
        }),
        (bn.prototype.toJSON = function () {
          var t = pn.prototype.toJSON.call(this);
          return (t.v1 = this.v1.toArray()), (t.v2 = this.v2.toArray()), t;
        }),
        (bn.prototype.fromJSON = function (t) {
          return (
            pn.prototype.fromJSON.call(this, t),
            this.v1.fromArray(t.v1),
            this.v2.fromArray(t.v2),
            this
          );
        }),
        (Tn.prototype = Object.create(pn.prototype)),
        (Tn.prototype.constructor = Tn),
        (Tn.prototype.isLineCurve3 = !0),
        (Tn.prototype.getPoint = function (t, e) {
          return (
            (e = e || new s()),
            1 === t
              ? e.copy(this.v2)
              : (e.copy(this.v2).sub(this.v1),
                e.multiplyScalar(t).add(this.v1)),
            e
          );
        }),
        (Tn.prototype.getPointAt = function (t, e) {
          return this.getPoint(t, e);
        }),
        (Tn.prototype.copy = function (t) {
          return (
            pn.prototype.copy.call(this, t),
            this.v1.copy(t.v1),
            this.v2.copy(t.v2),
            this
          );
        }),
        (Tn.prototype.toJSON = function () {
          var t = pn.prototype.toJSON.call(this);
          return (t.v1 = this.v1.toArray()), (t.v2 = this.v2.toArray()), t;
        }),
        (Tn.prototype.fromJSON = function (t) {
          return (
            pn.prototype.fromJSON.call(this, t),
            this.v1.fromArray(t.v1),
            this.v2.fromArray(t.v2),
            this
          );
        }),
        (En.prototype = Object.create(pn.prototype)),
        (En.prototype.constructor = En),
        (En.prototype.isQuadraticBezierCurve = !0),
        (En.prototype.getPoint = function (t, e) {
          e = e || new i();
          var n = this.v0,
            r = this.v1,
            s = this.v2;
          return e.set(vn(t, n.x, r.x, s.x), vn(t, n.y, r.y, s.y)), e;
        }),
        (En.prototype.copy = function (t) {
          return (
            pn.prototype.copy.call(this, t),
            this.v0.copy(t.v0),
            this.v1.copy(t.v1),
            this.v2.copy(t.v2),
            this
          );
        }),
        (En.prototype.toJSON = function () {
          var t = pn.prototype.toJSON.call(this);
          return (
            (t.v0 = this.v0.toArray()),
            (t.v1 = this.v1.toArray()),
            (t.v2 = this.v2.toArray()),
            t
          );
        }),
        (En.prototype.fromJSON = function (t) {
          return (
            pn.prototype.fromJSON.call(this, t),
            this.v0.fromArray(t.v0),
            this.v1.fromArray(t.v1),
            this.v2.fromArray(t.v2),
            this
          );
        }),
        (Sn.prototype = Object.create(pn.prototype)),
        (Sn.prototype.constructor = Sn),
        (Sn.prototype.isQuadraticBezierCurve3 = !0),
        (Sn.prototype.getPoint = function (t, e) {
          e = e || new s();
          var i = this.v0,
            n = this.v1,
            r = this.v2;
          return (
            e.set(
              vn(t, i.x, n.x, r.x),
              vn(t, i.y, n.y, r.y),
              vn(t, i.z, n.z, r.z)
            ),
            e
          );
        }),
        (Sn.prototype.copy = function (t) {
          return (
            pn.prototype.copy.call(this, t),
            this.v0.copy(t.v0),
            this.v1.copy(t.v1),
            this.v2.copy(t.v2),
            this
          );
        }),
        (Sn.prototype.toJSON = function () {
          var t = pn.prototype.toJSON.call(this);
          return (
            (t.v0 = this.v0.toArray()),
            (t.v1 = this.v1.toArray()),
            (t.v2 = this.v2.toArray()),
            t
          );
        }),
        (Sn.prototype.fromJSON = function (t) {
          return (
            pn.prototype.fromJSON.call(this, t),
            this.v0.fromArray(t.v0),
            this.v1.fromArray(t.v1),
            this.v2.fromArray(t.v2),
            this
          );
        }),
        (Mn.prototype = Object.create(pn.prototype)),
        (Mn.prototype.constructor = Mn),
        (Mn.prototype.isSplineCurve = !0),
        (Mn.prototype.getPoint = function (t, e) {
          e = e || new i();
          var n = this.points,
            r = (n.length - 1) * t;
          (t = Math.floor(r)), (r -= t);
          var s = n[0 === t ? t : t - 1],
            o = n[t],
            a = n[t > n.length - 2 ? n.length - 1 : t + 1];
          return (
            (n = n[t > n.length - 3 ? n.length - 1 : t + 2]),
            e.set(gn(r, s.x, o.x, a.x, n.x), gn(r, s.y, o.y, a.y, n.y)),
            e
          );
        }),
        (Mn.prototype.copy = function (t) {
          pn.prototype.copy.call(this, t), (this.points = []);
          for (var e = 0, i = t.points.length; e < i; e++)
            this.points.push(t.points[e].clone());
          return this;
        }),
        (Mn.prototype.toJSON = function () {
          var t = pn.prototype.toJSON.call(this);
          t.points = [];
          for (var e = 0, i = this.points.length; e < i; e++)
            t.points.push(this.points[e].toArray());
          return t;
        }),
        (Mn.prototype.fromJSON = function (t) {
          pn.prototype.fromJSON.call(this, t), (this.points = []);
          for (var e = 0, n = t.points.length; e < n; e++) {
            var r = t.points[e];
            this.points.push(new i().fromArray(r));
          }
          return this;
        });
      var Hs = Object.freeze({
        ArcCurve: fn,
        CatmullRomCurve3: _n,
        CubicBezierCurve: xn,
        CubicBezierCurve3: wn,
        EllipseCurve: dn,
        LineCurve: bn,
        LineCurve3: Tn,
        QuadraticBezierCurve: En,
        QuadraticBezierCurve3: Sn,
        SplineCurve: Mn,
      });
      (Cn.prototype = Object.assign(Object.create(pn.prototype), {
        constructor: Cn,
        add: function (t) {
          this.curves.push(t);
        },
        closePath: function () {
          var t = this.curves[0].getPoint(0),
            e = this.curves[this.curves.length - 1].getPoint(1);
          t.equals(e) || this.curves.push(new bn(e, t));
        },
        getPoint: function (t) {
          var e = t * this.getLength(),
            i = this.getCurveLengths();
          for (t = 0; t < i.length; ) {
            if (i[t] >= e)
              return (
                (e = i[t] - e),
                (t = this.curves[t]),
                (i = t.getLength()),
                t.getPointAt(0 === i ? 0 : 1 - e / i)
              );
            t++;
          }
          return null;
        },
        getLength: function () {
          var t = this.getCurveLengths();
          return t[t.length - 1];
        },
        updateArcLengths: function () {
          (this.needsUpdate = !0),
            (this.cacheLengths = null),
            this.getCurveLengths();
        },
        getCurveLengths: function () {
          if (
            this.cacheLengths &&
            this.cacheLengths.length === this.curves.length
          )
            return this.cacheLengths;
          for (var t = [], e = 0, i = 0, n = this.curves.length; i < n; i++)
            (e += this.curves[i].getLength()), t.push(e);
          return (this.cacheLengths = t);
        },
        getSpacedPoints: function (t) {
          void 0 === t && (t = 40);
          for (var e = [], i = 0; i <= t; i++) e.push(this.getPoint(i / t));
          return this.autoClose && e.push(e[0]), e;
        },
        getPoints: function (t) {
          t = t || 12;
          for (var e, i = [], n = 0, r = this.curves; n < r.length; n++) {
            var s = r[n];
            s = s.getPoints(
              s && s.isEllipseCurve
                ? 2 * t
                : s && (s.isLineCurve || s.isLineCurve3)
                ? 1
                : s && s.isSplineCurve
                ? t * s.points.length
                : t
            );
            for (var o = 0; o < s.length; o++) {
              var a = s[o];
              (e && e.equals(a)) || (i.push(a), (e = a));
            }
          }
          return (
            this.autoClose &&
              1 < i.length &&
              !i[i.length - 1].equals(i[0]) &&
              i.push(i[0]),
            i
          );
        },
        copy: function (t) {
          pn.prototype.copy.call(this, t), (this.curves = []);
          for (var e = 0, i = t.curves.length; e < i; e++)
            this.curves.push(t.curves[e].clone());
          return (this.autoClose = t.autoClose), this;
        },
        toJSON: function () {
          var t = pn.prototype.toJSON.call(this);
          (t.autoClose = this.autoClose), (t.curves = []);
          for (var e = 0, i = this.curves.length; e < i; e++)
            t.curves.push(this.curves[e].toJSON());
          return t;
        },
        fromJSON: function (t) {
          pn.prototype.fromJSON.call(this, t),
            (this.autoClose = t.autoClose),
            (this.curves = []);
          for (var e = 0, i = t.curves.length; e < i; e++) {
            var n = t.curves[e];
            this.curves.push(new Hs[n.type]().fromJSON(n));
          }
          return this;
        },
      })),
        (Pn.prototype = Object.assign(Object.create(Cn.prototype), {
          constructor: Pn,
          setFromPoints: function (t) {
            this.moveTo(t[0].x, t[0].y);
            for (var e = 1, i = t.length; e < i; e++)
              this.lineTo(t[e].x, t[e].y);
          },
          moveTo: function (t, e) {
            this.currentPoint.set(t, e);
          },
          lineTo: function (t, e) {
            var n = new bn(this.currentPoint.clone(), new i(t, e));
            this.curves.push(n), this.currentPoint.set(t, e);
          },
          quadraticCurveTo: function (t, e, n, r) {
            (t = new En(this.currentPoint.clone(), new i(t, e), new i(n, r))),
              this.curves.push(t),
              this.currentPoint.set(n, r);
          },
          bezierCurveTo: function (t, e, n, r, s, o) {
            (t = new xn(
              this.currentPoint.clone(),
              new i(t, e),
              new i(n, r),
              new i(s, o)
            )),
              this.curves.push(t),
              this.currentPoint.set(s, o);
          },
          splineThru: function (t) {
            var e = [this.currentPoint.clone()].concat(t);
            (e = new Mn(e)),
              this.curves.push(e),
              this.currentPoint.copy(t[t.length - 1]);
          },
          arc: function (t, e, i, n, r, s) {
            this.absarc(
              t + this.currentPoint.x,
              e + this.currentPoint.y,
              i,
              n,
              r,
              s
            );
          },
          absarc: function (t, e, i, n, r, s) {
            this.absellipse(t, e, i, i, n, r, s);
          },
          ellipse: function (t, e, i, n, r, s, o, a) {
            this.absellipse(
              t + this.currentPoint.x,
              e + this.currentPoint.y,
              i,
              n,
              r,
              s,
              o,
              a
            );
          },
          absellipse: function (t, e, i, n, r, s, o, a) {
            (t = new dn(t, e, i, n, r, s, o, a)),
              0 < this.curves.length &&
                ((e = t.getPoint(0)),
                e.equals(this.currentPoint) || this.lineTo(e.x, e.y)),
              this.curves.push(t),
              (t = t.getPoint(1)),
              this.currentPoint.copy(t);
          },
          copy: function (t) {
            return (
              Cn.prototype.copy.call(this, t),
              this.currentPoint.copy(t.currentPoint),
              this
            );
          },
          toJSON: function () {
            var t = Cn.prototype.toJSON.call(this);
            return (t.currentPoint = this.currentPoint.toArray()), t;
          },
          fromJSON: function (t) {
            return (
              Cn.prototype.fromJSON.call(this, t),
              this.currentPoint.fromArray(t.currentPoint),
              this
            );
          },
        })),
        (An.prototype = Object.assign(Object.create(Pn.prototype), {
          constructor: An,
          getPointsHoles: function (t) {
            for (var e = [], i = 0, n = this.holes.length; i < n; i++)
              e[i] = this.holes[i].getPoints(t);
            return e;
          },
          extractPoints: function (t) {
            return { shape: this.getPoints(t), holes: this.getPointsHoles(t) };
          },
          copy: function (t) {
            Pn.prototype.copy.call(this, t), (this.holes = []);
            for (var e = 0, i = t.holes.length; e < i; e++)
              this.holes.push(t.holes[e].clone());
            return this;
          },
          toJSON: function () {
            var t = Pn.prototype.toJSON.call(this);
            (t.uuid = this.uuid), (t.holes = []);
            for (var e = 0, i = this.holes.length; e < i; e++)
              t.holes.push(this.holes[e].toJSON());
            return t;
          },
          fromJSON: function (t) {
            Pn.prototype.fromJSON.call(this, t),
              (this.uuid = t.uuid),
              (this.holes = []);
            for (var e = 0, i = t.holes.length; e < i; e++) {
              var n = t.holes[e];
              this.holes.push(new Pn().fromJSON(n));
            }
            return this;
          },
        })),
        (Rn.prototype = Object.assign(Object.create(b.prototype), {
          constructor: Rn,
          isLight: !0,
          copy: function (t) {
            return (
              b.prototype.copy.call(this, t),
              this.color.copy(t.color),
              (this.intensity = t.intensity),
              this
            );
          },
          toJSON: function (t) {
            return (
              (t = b.prototype.toJSON.call(this, t)),
              (t.object.color = this.color.getHex()),
              (t.object.intensity = this.intensity),
              void 0 !== this.groundColor &&
                (t.object.groundColor = this.groundColor.getHex()),
              void 0 !== this.distance && (t.object.distance = this.distance),
              void 0 !== this.angle && (t.object.angle = this.angle),
              void 0 !== this.decay && (t.object.decay = this.decay),
              void 0 !== this.penumbra && (t.object.penumbra = this.penumbra),
              void 0 !== this.shadow &&
                (t.object.shadow = this.shadow.toJSON()),
              t
            );
          },
        })),
        (Ln.prototype = Object.assign(Object.create(Rn.prototype), {
          constructor: Ln,
          isHemisphereLight: !0,
          copy: function (t) {
            return (
              Rn.prototype.copy.call(this, t),
              this.groundColor.copy(t.groundColor),
              this
            );
          },
        })),
        Object.assign(In.prototype, {
          copy: function (t) {
            return (
              (this.camera = t.camera.clone()),
              (this.bias = t.bias),
              (this.radius = t.radius),
              this.mapSize.copy(t.mapSize),
              this
            );
          },
          clone: function () {
            return new this.constructor().copy(this);
          },
          toJSON: function () {
            var t = {};
            return (
              0 !== this.bias && (t.bias = this.bias),
              1 !== this.radius && (t.radius = this.radius),
              (512 === this.mapSize.x && 512 === this.mapSize.y) ||
                (t.mapSize = this.mapSize.toArray()),
              (t.camera = this.camera.toJSON(!1).object),
              delete t.camera.matrix,
              t
            );
          },
        }),
        (On.prototype = Object.assign(Object.create(In.prototype), {
          constructor: On,
          isSpotLightShadow: !0,
          update: function (t) {
            var e = this.camera,
              i = 2 * ns.RAD2DEG * t.angle,
              n = this.mapSize.width / this.mapSize.height;
            (t = t.distance || e.far),
              (i === e.fov && n === e.aspect && t === e.far) ||
                ((e.fov = i),
                (e.aspect = n),
                (e.far = t),
                e.updateProjectionMatrix());
          },
        })),
        (Dn.prototype = Object.assign(Object.create(Rn.prototype), {
          constructor: Dn,
          isSpotLight: !0,
          copy: function (t) {
            return (
              Rn.prototype.copy.call(this, t),
              (this.distance = t.distance),
              (this.angle = t.angle),
              (this.penumbra = t.penumbra),
              (this.decay = t.decay),
              (this.target = t.target.clone()),
              (this.shadow = t.shadow.clone()),
              this
            );
          },
        })),
        (kn.prototype = Object.assign(Object.create(Rn.prototype), {
          constructor: kn,
          isPointLight: !0,
          copy: function (t) {
            return (
              Rn.prototype.copy.call(this, t),
              (this.distance = t.distance),
              (this.decay = t.decay),
              (this.shadow = t.shadow.clone()),
              this
            );
          },
        })),
        (Nn.prototype = Object.assign(Object.create(ge.prototype), {
          constructor: Nn,
          isOrthographicCamera: !0,
          copy: function (t, e) {
            return (
              ge.prototype.copy.call(this, t, e),
              (this.left = t.left),
              (this.right = t.right),
              (this.top = t.top),
              (this.bottom = t.bottom),
              (this.near = t.near),
              (this.far = t.far),
              (this.zoom = t.zoom),
              (this.view = null === t.view ? null : Object.assign({}, t.view)),
              this
            );
          },
          setViewOffset: function (t, e, i, n, r, s) {
            null === this.view &&
              (this.view = {
                enabled: !0,
                fullWidth: 1,
                fullHeight: 1,
                offsetX: 0,
                offsetY: 0,
                width: 1,
                height: 1,
              }),
              (this.view.enabled = !0),
              (this.view.fullWidth = t),
              (this.view.fullHeight = e),
              (this.view.offsetX = i),
              (this.view.offsetY = n),
              (this.view.width = r),
              (this.view.height = s),
              this.updateProjectionMatrix();
          },
          clearViewOffset: function () {
            null !== this.view && (this.view.enabled = !1),
              this.updateProjectionMatrix();
          },
          updateProjectionMatrix: function () {
            var t = (this.right - this.left) / (2 * this.zoom),
              e = (this.top - this.bottom) / (2 * this.zoom),
              i = (this.right + this.left) / 2,
              n = (this.top + this.bottom) / 2,
              r = i - t;
            if (
              ((i += t),
              (t = n + e),
              (e = n - e),
              null !== this.view && this.view.enabled)
            ) {
              (i = this.zoom / (this.view.width / this.view.fullWidth)),
                (e = this.zoom / (this.view.height / this.view.fullHeight));
              var s = (this.right - this.left) / this.view.width;
              (n = (this.top - this.bottom) / this.view.height),
                (r += (this.view.offsetX / i) * s),
                (i = r + (this.view.width / i) * s),
                (t -= (this.view.offsetY / e) * n),
                (e = t - (this.view.height / e) * n);
            }
            this.projectionMatrix.makeOrthographic(
              r,
              i,
              t,
              e,
              this.near,
              this.far
            ),
              this.projectionMatrixInverse.getInverse(this.projectionMatrix);
          },
          toJSON: function (t) {
            return (
              (t = b.prototype.toJSON.call(this, t)),
              (t.object.zoom = this.zoom),
              (t.object.left = this.left),
              (t.object.right = this.right),
              (t.object.top = this.top),
              (t.object.bottom = this.bottom),
              (t.object.near = this.near),
              (t.object.far = this.far),
              null !== this.view &&
                (t.object.view = Object.assign({}, this.view)),
              t
            );
          },
        })),
        (zn.prototype = Object.assign(Object.create(In.prototype), {
          constructor: zn,
        })),
        (Fn.prototype = Object.assign(Object.create(Rn.prototype), {
          constructor: Fn,
          isDirectionalLight: !0,
          copy: function (t) {
            return (
              Rn.prototype.copy.call(this, t),
              (this.target = t.target.clone()),
              (this.shadow = t.shadow.clone()),
              this
            );
          },
        })),
        (Hn.prototype = Object.assign(Object.create(Rn.prototype), {
          constructor: Hn,
          isAmbientLight: !0,
        })),
        (Bn.prototype = Object.assign(Object.create(Rn.prototype), {
          constructor: Bn,
          isRectAreaLight: !0,
          copy: function (t) {
            return (
              Rn.prototype.copy.call(this, t),
              (this.width = t.width),
              (this.height = t.height),
              this
            );
          },
          toJSON: function (t) {
            return (
              (t = Rn.prototype.toJSON.call(this, t)),
              (t.object.width = this.width),
              (t.object.height = this.height),
              t
            );
          },
        }));
      var Bs = {
        arraySlice: function (t, e, i) {
          return Bs.isTypedArray(t)
            ? new t.constructor(t.subarray(e, void 0 !== i ? i : t.length))
            : t.slice(e, i);
        },
        convertArray: function (t, e, i) {
          return !t || (!i && t.constructor === e)
            ? t
            : "number" == typeof e.BYTES_PER_ELEMENT
            ? new e(t)
            : Array.prototype.slice.call(t);
        },
        isTypedArray: function (t) {
          return ArrayBuffer.isView(t) && !(t instanceof DataView);
        },
        getKeyframeOrder: function (t) {
          for (var e = t.length, i = Array(e), n = 0; n !== e; ++n) i[n] = n;
          return (
            i.sort(function (e, i) {
              return t[e] - t[i];
            }),
            i
          );
        },
        sortedArray: function (t, e, i) {
          for (
            var n = t.length, r = new t.constructor(n), s = 0, o = 0;
            o !== n;
            ++s
          )
            for (var a = i[s] * e, h = 0; h !== e; ++h) r[o++] = t[a + h];
          return r;
        },
        flattenJSON: function (t, e, i, n) {
          for (var r = 1, s = t[0]; void 0 !== s && void 0 === s[n]; )
            s = t[r++];
          if (void 0 !== s) {
            var o = s[n];
            if (void 0 !== o)
              if (Array.isArray(o)) {
                do
                  (o = s[n]),
                    void 0 !== o && (e.push(s.time), i.push.apply(i, o)),
                    (s = t[r++]);
                while (void 0 !== s);
              } else if (void 0 !== o.toArray) {
                do
                  (o = s[n]),
                    void 0 !== o && (e.push(s.time), o.toArray(i, i.length)),
                    (s = t[r++]);
                while (void 0 !== s);
              } else
                do
                  (o = s[n]),
                    void 0 !== o && (e.push(s.time), i.push(o)),
                    (s = t[r++]);
                while (void 0 !== s);
          }
        },
      };
      Object.assign(Un.prototype, {
        evaluate: function (t) {
          var e = this.parameterPositions,
            i = this._cachedIndex,
            n = e[i],
            r = e[i - 1];
          t: {
            e: {
              i: {
                n: if (!(t < n)) {
                  for (var s = i + 2; ; ) {
                    if (void 0 === n) {
                      if (t < r) break n;
                      return (
                        (this._cachedIndex = i = e.length),
                        this.afterEnd_(i - 1, t, r)
                      );
                    }
                    if (i === s) break;
                    if (((r = n), (n = e[++i]), t < n)) break e;
                  }
                  n = e.length;
                  break i;
                }
                if (t >= r) break t;
                for (s = e[1], t < s && ((i = 2), (r = s)), s = i - 2; ; ) {
                  if (void 0 === r)
                    return (this._cachedIndex = 0), this.beforeStart_(0, t, n);
                  if (i === s) break;
                  if (((n = r), (r = e[--i - 1]), t >= r)) break e;
                }
                (n = i), (i = 0);
              }
              for (; i < n; )
                (r = (i + n) >>> 1), t < e[r] ? (n = r) : (i = r + 1);
              if (((n = e[i]), (r = e[i - 1]), void 0 === r))
                return (this._cachedIndex = 0), this.beforeStart_(0, t, n);
              if (void 0 === n)
                return (
                  (this._cachedIndex = i = e.length),
                  this.afterEnd_(i - 1, r, t)
                );
            }
            (this._cachedIndex = i), this.intervalChanged_(i, r, n);
          }
          return this.interpolate_(i, r, t, n);
        },
        settings: null,
        DefaultSettings_: {},
        getSettings_: function () {
          return this.settings || this.DefaultSettings_;
        },
        copySampleValue_: function (t) {
          var e = this.resultBuffer,
            i = this.sampleValues,
            n = this.valueSize;
          t *= n;
          for (var r = 0; r !== n; ++r) e[r] = i[t + r];
          return e;
        },
        interpolate_: function () {
          throw Error("call to abstract method");
        },
        intervalChanged_: function () {},
      }),
        Object.assign(Un.prototype, {
          beforeStart_: Un.prototype.copySampleValue_,
          afterEnd_: Un.prototype.copySampleValue_,
        }),
        (Gn.prototype = Object.assign(Object.create(Un.prototype), {
          constructor: Gn,
          DefaultSettings_: { endingStart: 2400, endingEnd: 2400 },
          intervalChanged_: function (t, e, i) {
            var n = this.parameterPositions,
              r = t - 2,
              s = t + 1,
              o = n[r],
              a = n[s];
            if (void 0 === o)
              switch (this.getSettings_().endingStart) {
                case 2401:
                  (r = t), (o = 2 * e - i);
                  break;
                case 2402:
                  (r = n.length - 2), (o = e + n[r] - n[r + 1]);
                  break;
                default:
                  (r = t), (o = i);
              }
            if (void 0 === a)
              switch (this.getSettings_().endingEnd) {
                case 2401:
                  (s = t), (a = 2 * i - e);
                  break;
                case 2402:
                  (s = 1), (a = i + n[1] - n[0]);
                  break;
                default:
                  (s = t - 1), (a = e);
              }
            (t = 0.5 * (i - e)),
              (n = this.valueSize),
              (this._weightPrev = t / (e - o)),
              (this._weightNext = t / (a - i)),
              (this._offsetPrev = r * n),
              (this._offsetNext = s * n);
          },
          interpolate_: function (t, e, i, n) {
            var r = this.resultBuffer,
              s = this.sampleValues,
              o = this.valueSize;
            t *= o;
            var a = t - o,
              h = this._offsetPrev,
              l = this._offsetNext,
              u = this._weightPrev,
              c = this._weightNext,
              p = (i - e) / (n - e);
            for (
              i = p * p,
                n = i * p,
                e = -u * n + 2 * u * i - u * p,
                u = (1 + u) * n + (-1.5 - 2 * u) * i + (-0.5 + u) * p + 1,
                p = (-1 - c) * n + (1.5 + c) * i + 0.5 * p,
                c = c * n - c * i,
                i = 0;
              i !== o;
              ++i
            )
              r[i] = e * s[h + i] + u * s[a + i] + p * s[t + i] + c * s[l + i];
            return r;
          },
        })),
        (Vn.prototype = Object.assign(Object.create(Un.prototype), {
          constructor: Vn,
          interpolate_: function (t, e, i, n) {
            var r = this.resultBuffer,
              s = this.sampleValues,
              o = this.valueSize;
            t *= o;
            var a = t - o;
            for (e = (i - e) / (n - e), i = 1 - e, n = 0; n !== o; ++n)
              r[n] = s[a + n] * i + s[t + n] * e;
            return r;
          },
        })),
        (jn.prototype = Object.assign(Object.create(Un.prototype), {
          constructor: jn,
          interpolate_: function (t) {
            return this.copySampleValue_(t - 1);
          },
        })),
        Object.assign(Wn, {
          toJSON: function (t) {
            var e = t.constructor;
            if (void 0 !== e.toJSON) e = e.toJSON(t);
            else {
              e = {
                name: t.name,
                times: Bs.convertArray(t.times, Array),
                values: Bs.convertArray(t.values, Array),
              };
              var i = t.getInterpolation();
              i !== t.DefaultInterpolation && (e.interpolation = i);
            }
            return (e.type = t.ValueTypeName), e;
          },
        }),
        Object.assign(Wn.prototype, {
          constructor: Wn,
          TimeBufferType: Float32Array,
          ValueBufferType: Float32Array,
          DefaultInterpolation: 2301,
          InterpolantFactoryMethodDiscrete: function (t) {
            return new jn(this.times, this.values, this.getValueSize(), t);
          },
          InterpolantFactoryMethodLinear: function (t) {
            return new Vn(this.times, this.values, this.getValueSize(), t);
          },
          InterpolantFactoryMethodSmooth: function (t) {
            return new Gn(this.times, this.values, this.getValueSize(), t);
          },
          setInterpolation: function (t) {
            switch (t) {
              case 2300:
                var e = this.InterpolantFactoryMethodDiscrete;
                break;
              case 2301:
                e = this.InterpolantFactoryMethodLinear;
                break;
              case 2302:
                e = this.InterpolantFactoryMethodSmooth;
            }
            if (void 0 === e) {
              if (
                ((e =
                  "unsupported interpolation for " +
                  this.ValueTypeName +
                  " keyframe track named " +
                  this.name),
                void 0 === this.createInterpolant)
              ) {
                if (t === this.DefaultInterpolation) throw Error(e);
                this.setInterpolation(this.DefaultInterpolation);
              }
              return console.warn("THREE.KeyframeTrack:", e), this;
            }
            return (this.createInterpolant = e), this;
          },
          getInterpolation: function () {
            switch (this.createInterpolant) {
              case this.InterpolantFactoryMethodDiscrete:
                return 2300;
              case this.InterpolantFactoryMethodLinear:
                return 2301;
              case this.InterpolantFactoryMethodSmooth:
                return 2302;
            }
          },
          getValueSize: function () {
            return this.values.length / this.times.length;
          },
          shift: function (t) {
            if (0 !== t)
              for (var e = this.times, i = 0, n = e.length; i !== n; ++i)
                e[i] += t;
            return this;
          },
          scale: function (t) {
            if (1 !== t)
              for (var e = this.times, i = 0, n = e.length; i !== n; ++i)
                e[i] *= t;
            return this;
          },
          trim: function (t, e) {
            for (
              var i = this.times, n = i.length, r = 0, s = n - 1;
              r !== n && i[r] < t;

            )
              ++r;
            for (; -1 !== s && i[s] > e; ) --s;
            return (
              ++s,
              (0 === r && s === n) ||
                (r >= s && ((s = Math.max(s, 1)), (r = s - 1)),
                (t = this.getValueSize()),
                (this.times = Bs.arraySlice(i, r, s)),
                (this.values = Bs.arraySlice(this.values, r * t, s * t))),
              this
            );
          },
          validate: function () {
            var t = !0,
              e = this.getValueSize();
            0 !== e - Math.floor(e) &&
              (console.error(
                "THREE.KeyframeTrack: Invalid value size in track.",
                this
              ),
              (t = !1));
            var i = this.times;
            e = this.values;
            var n = i.length;
            0 === n &&
              (console.error("THREE.KeyframeTrack: Track is empty.", this),
              (t = !1));
            for (var r = null, s = 0; s !== n; s++) {
              var o = i[s];
              if ("number" == typeof o && isNaN(o)) {
                console.error(
                  "THREE.KeyframeTrack: Time is not a valid number.",
                  this,
                  s,
                  o
                ),
                  (t = !1);
                break;
              }
              if (null !== r && r > o) {
                console.error(
                  "THREE.KeyframeTrack: Out of order keys.",
                  this,
                  s,
                  o,
                  r
                ),
                  (t = !1);
                break;
              }
              r = o;
            }
            if (void 0 !== e && Bs.isTypedArray(e))
              for (s = 0, i = e.length; s !== i; ++s)
                if (((n = e[s]), isNaN(n))) {
                  console.error(
                    "THREE.KeyframeTrack: Value is not a valid number.",
                    this,
                    s,
                    n
                  ),
                    (t = !1);
                  break;
                }
            return t;
          },
          optimize: function () {
            for (
              var t = this.times,
                e = this.values,
                i = this.getValueSize(),
                n = 2302 === this.getInterpolation(),
                r = 1,
                s = t.length - 1,
                o = 1;
              o < s;
              ++o
            ) {
              var a = !1,
                h = t[o];
              if (h !== t[o + 1] && (1 !== o || h !== h[0]))
                if (n) a = !0;
                else {
                  var l = o * i,
                    u = l - i,
                    c = l + i;
                  for (h = 0; h !== i; ++h) {
                    var p = e[l + h];
                    if (p !== e[u + h] || p !== e[c + h]) {
                      a = !0;
                      break;
                    }
                  }
                }
              if (a) {
                if (o !== r)
                  for (t[r] = t[o], a = o * i, l = r * i, h = 0; h !== i; ++h)
                    e[l + h] = e[a + h];
                ++r;
              }
            }
            if (0 < s) {
              for (t[r] = t[s], a = s * i, l = r * i, h = 0; h !== i; ++h)
                e[l + h] = e[a + h];
              ++r;
            }
            return (
              r !== t.length &&
                ((this.times = Bs.arraySlice(t, 0, r)),
                (this.values = Bs.arraySlice(e, 0, r * i))),
              this
            );
          },
        }),
        (Xn.prototype = Object.assign(Object.create(Wn.prototype), {
          constructor: Xn,
          ValueTypeName: "bool",
          ValueBufferType: Array,
          DefaultInterpolation: 2300,
          InterpolantFactoryMethodLinear: void 0,
          InterpolantFactoryMethodSmooth: void 0,
        })),
        (qn.prototype = Object.assign(Object.create(Wn.prototype), {
          constructor: qn,
          ValueTypeName: "color",
        })),
        (Yn.prototype = Object.assign(Object.create(Wn.prototype), {
          constructor: Yn,
          ValueTypeName: "number",
        })),
        (Zn.prototype = Object.assign(Object.create(Un.prototype), {
          constructor: Zn,
          interpolate_: function (t, e, i, n) {
            var s = this.resultBuffer,
              o = this.sampleValues,
              a = this.valueSize;
            for (t *= a, e = (i - e) / (n - e), i = t + a; t !== i; t += 4)
              r.slerpFlat(s, 0, o, t - a, o, t, e);
            return s;
          },
        })),
        ($n.prototype = Object.assign(Object.create(Wn.prototype), {
          constructor: $n,
          ValueTypeName: "quaternion",
          DefaultInterpolation: 2301,
          InterpolantFactoryMethodLinear: function (t) {
            return new Zn(this.times, this.values, this.getValueSize(), t);
          },
          InterpolantFactoryMethodSmooth: void 0,
        })),
        (Jn.prototype = Object.assign(Object.create(Wn.prototype), {
          constructor: Jn,
          ValueTypeName: "string",
          ValueBufferType: Array,
          DefaultInterpolation: 2300,
          InterpolantFactoryMethodLinear: void 0,
          InterpolantFactoryMethodSmooth: void 0,
        })),
        (Qn.prototype = Object.assign(Object.create(Wn.prototype), {
          constructor: Qn,
          ValueTypeName: "vector",
        })),
        Object.assign(Kn, {
          parse: function (t) {
            for (
              var e = [],
                i = t.tracks,
                n = 1 / (t.fps || 1),
                r = 0,
                s = i.length;
              r !== s;
              ++r
            )
              e.push(er(i[r]).scale(n));
            return new Kn(t.name, t.duration, e);
          },
          toJSON: function (t) {
            var e = [],
              i = t.tracks;
            t = { name: t.name, duration: t.duration, tracks: e, uuid: t.uuid };
            for (var n = 0, r = i.length; n !== r; ++n) e.push(Wn.toJSON(i[n]));
            return t;
          },
          CreateFromMorphTargetSequence: function (t, e, i, n) {
            for (var r = e.length, s = [], o = 0; o < r; o++) {
              var a = [],
                h = [];
              a.push((o + r - 1) % r, o, (o + 1) % r), h.push(0, 1, 0);
              var l = Bs.getKeyframeOrder(a);
              (a = Bs.sortedArray(a, 1, l)),
                (h = Bs.sortedArray(h, 1, l)),
                n || 0 !== a[0] || (a.push(r), h.push(h[0])),
                s.push(
                  new Yn(
                    ".morphTargetInfluences[" + e[o].name + "]",
                    a,
                    h
                  ).scale(1 / i)
                );
            }
            return new Kn(t, -1, s);
          },
          findByName: function (t, e) {
            var i = t;
            for (
              Array.isArray(t) ||
                (i = (t.geometry && t.geometry.animations) || t.animations),
                t = 0;
              t < i.length;
              t++
            )
              if (i[t].name === e) return i[t];
            return null;
          },
          CreateClipsFromMorphTargetSequences: function (t, e, i) {
            for (
              var n = {}, r = /^([\w-]*?)([\d]+)$/, s = 0, o = t.length;
              s < o;
              s++
            ) {
              var a = t[s],
                h = a.name.match(r);
              if (h && 1 < h.length) {
                var l = h[1];
                (h = n[l]) || (n[l] = h = []), h.push(a);
              }
            }
            t = [];
            for (l in n)
              t.push(Kn.CreateFromMorphTargetSequence(l, n[l], e, i));
            return t;
          },
          parseAnimation: function (t, e) {
            if (!t)
              return (
                console.error(
                  "THREE.AnimationClip: No animation in JSONLoader data."
                ),
                null
              );
            var i = function (t, e, i, n, r) {
                if (0 !== i.length) {
                  var s = [],
                    o = [];
                  Bs.flattenJSON(i, s, o, n),
                    0 !== s.length && r.push(new t(e, s, o));
                }
              },
              n = [],
              r = t.name || "default",
              s = t.length || -1,
              o = t.fps || 30;
            t = t.hierarchy || [];
            for (var a = 0; a < t.length; a++) {
              var h = t[a].keys;
              if (h && 0 !== h.length)
                if (h[0].morphTargets) {
                  s = {};
                  for (var l = 0; l < h.length; l++)
                    if (h[l].morphTargets)
                      for (var u = 0; u < h[l].morphTargets.length; u++)
                        s[h[l].morphTargets[u]] = -1;
                  for (var c in s) {
                    var p = [],
                      d = [];
                    for (u = 0; u !== h[l].morphTargets.length; ++u) {
                      var f = h[l];
                      p.push(f.time), d.push(f.morphTarget === c ? 1 : 0);
                    }
                    n.push(new Yn(".morphTargetInfluence[" + c + "]", p, d));
                  }
                  s = s.length * (o || 1);
                } else
                  (l = ".bones[" + e[a].name + "]"),
                    i(Qn, l + ".position", h, "pos", n),
                    i($n, l + ".quaternion", h, "rot", n),
                    i(Qn, l + ".scale", h, "scl", n);
            }
            return 0 === n.length ? null : new Kn(r, s, n);
          },
        }),
        Object.assign(Kn.prototype, {
          resetDuration: function () {
            for (var t = 0, e = 0, i = this.tracks.length; e !== i; ++e) {
              var n = this.tracks[e];
              t = Math.max(t, n.times[n.times.length - 1]);
            }
            return (this.duration = t), this;
          },
          trim: function () {
            for (var t = 0; t < this.tracks.length; t++)
              this.tracks[t].trim(0, this.duration);
            return this;
          },
          validate: function () {
            for (var t = !0, e = 0; e < this.tracks.length; e++)
              t = t && this.tracks[e].validate();
            return t;
          },
          optimize: function () {
            for (var t = 0; t < this.tracks.length; t++)
              this.tracks[t].optimize();
            return this;
          },
        }),
        Object.assign(ir.prototype, {
          load: function (t, e, i, n) {
            var r = this;
            new on(r.manager).load(
              t,
              function (t) {
                e(r.parse(JSON.parse(t)));
              },
              i,
              n
            );
          },
          setTextures: function (t) {
            this.textures = t;
          },
          parse: function (t) {
            function e(t) {
              return (
                void 0 === r[t] &&
                  console.warn("THREE.MaterialLoader: Undefined texture", t),
                r[t]
              );
            }
            var r = this.textures,
              o = new Ls[t.type]();
            if (
              (void 0 !== t.uuid && (o.uuid = t.uuid),
              void 0 !== t.name && (o.name = t.name),
              void 0 !== t.color && o.color.setHex(t.color),
              void 0 !== t.roughness && (o.roughness = t.roughness),
              void 0 !== t.metalness && (o.metalness = t.metalness),
              void 0 !== t.emissive && o.emissive.setHex(t.emissive),
              void 0 !== t.specular && o.specular.setHex(t.specular),
              void 0 !== t.shininess && (o.shininess = t.shininess),
              void 0 !== t.clearCoat && (o.clearCoat = t.clearCoat),
              void 0 !== t.clearCoatRoughness &&
                (o.clearCoatRoughness = t.clearCoatRoughness),
              void 0 !== t.vertexColors && (o.vertexColors = t.vertexColors),
              void 0 !== t.fog && (o.fog = t.fog),
              void 0 !== t.flatShading && (o.flatShading = t.flatShading),
              void 0 !== t.blending && (o.blending = t.blending),
              void 0 !== t.combine && (o.combine = t.combine),
              void 0 !== t.side && (o.side = t.side),
              void 0 !== t.opacity && (o.opacity = t.opacity),
              void 0 !== t.transparent && (o.transparent = t.transparent),
              void 0 !== t.alphaTest && (o.alphaTest = t.alphaTest),
              void 0 !== t.depthTest && (o.depthTest = t.depthTest),
              void 0 !== t.depthWrite && (o.depthWrite = t.depthWrite),
              void 0 !== t.colorWrite && (o.colorWrite = t.colorWrite),
              void 0 !== t.wireframe && (o.wireframe = t.wireframe),
              void 0 !== t.wireframeLinewidth &&
                (o.wireframeLinewidth = t.wireframeLinewidth),
              void 0 !== t.wireframeLinecap &&
                (o.wireframeLinecap = t.wireframeLinecap),
              void 0 !== t.wireframeLinejoin &&
                (o.wireframeLinejoin = t.wireframeLinejoin),
              void 0 !== t.rotation && (o.rotation = t.rotation),
              1 !== t.linewidth && (o.linewidth = t.linewidth),
              void 0 !== t.dashSize && (o.dashSize = t.dashSize),
              void 0 !== t.gapSize && (o.gapSize = t.gapSize),
              void 0 !== t.scale && (o.scale = t.scale),
              void 0 !== t.polygonOffset && (o.polygonOffset = t.polygonOffset),
              void 0 !== t.polygonOffsetFactor &&
                (o.polygonOffsetFactor = t.polygonOffsetFactor),
              void 0 !== t.polygonOffsetUnits &&
                (o.polygonOffsetUnits = t.polygonOffsetUnits),
              void 0 !== t.skinning && (o.skinning = t.skinning),
              void 0 !== t.morphTargets && (o.morphTargets = t.morphTargets),
              void 0 !== t.dithering && (o.dithering = t.dithering),
              void 0 !== t.visible && (o.visible = t.visible),
              void 0 !== t.userData && (o.userData = t.userData),
              void 0 !== t.uniforms)
            )
              for (var a in t.uniforms) {
                var l = t.uniforms[a];
                switch (((o.uniforms[a] = {}), l.type)) {
                  case "t":
                    o.uniforms[a].value = e(l.value);
                    break;
                  case "c":
                    o.uniforms[a].value = new _().setHex(l.value);
                    break;
                  case "v2":
                    o.uniforms[a].value = new i().fromArray(l.value);
                    break;
                  case "v3":
                    o.uniforms[a].value = new s().fromArray(l.value);
                    break;
                  case "v4":
                    o.uniforms[a].value = new h().fromArray(l.value);
                    break;
                  case "m4":
                    o.uniforms[a].value = new n().fromArray(l.value);
                    break;
                  default:
                    o.uniforms[a].value = l.value;
                }
              }
            return (
              void 0 !== t.defines && (o.defines = t.defines),
              void 0 !== t.vertexShader && (o.vertexShader = t.vertexShader),
              void 0 !== t.fragmentShader &&
                (o.fragmentShader = t.fragmentShader),
              void 0 !== t.shading && (o.flatShading = 1 === t.shading),
              void 0 !== t.size && (o.size = t.size),
              void 0 !== t.sizeAttenuation &&
                (o.sizeAttenuation = t.sizeAttenuation),
              void 0 !== t.map && (o.map = e(t.map)),
              void 0 !== t.alphaMap &&
                ((o.alphaMap = e(t.alphaMap)), (o.transparent = !0)),
              void 0 !== t.bumpMap && (o.bumpMap = e(t.bumpMap)),
              void 0 !== t.bumpScale && (o.bumpScale = t.bumpScale),
              void 0 !== t.normalMap && (o.normalMap = e(t.normalMap)),
              void 0 !== t.normalMapType && (o.normalMapType = t.normalMapType),
              void 0 !== t.normalScale &&
                ((a = t.normalScale),
                !1 === Array.isArray(a) && (a = [a, a]),
                (o.normalScale = new i().fromArray(a))),
              void 0 !== t.displacementMap &&
                (o.displacementMap = e(t.displacementMap)),
              void 0 !== t.displacementScale &&
                (o.displacementScale = t.displacementScale),
              void 0 !== t.displacementBias &&
                (o.displacementBias = t.displacementBias),
              void 0 !== t.roughnessMap && (o.roughnessMap = e(t.roughnessMap)),
              void 0 !== t.metalnessMap && (o.metalnessMap = e(t.metalnessMap)),
              void 0 !== t.emissiveMap && (o.emissiveMap = e(t.emissiveMap)),
              void 0 !== t.emissiveIntensity &&
                (o.emissiveIntensity = t.emissiveIntensity),
              void 0 !== t.specularMap && (o.specularMap = e(t.specularMap)),
              void 0 !== t.envMap && (o.envMap = e(t.envMap)),
              void 0 !== t.envMapIntensity &&
                (o.envMapIntensity = t.envMapIntensity),
              void 0 !== t.reflectivity && (o.reflectivity = t.reflectivity),
              void 0 !== t.lightMap && (o.lightMap = e(t.lightMap)),
              void 0 !== t.lightMapIntensity &&
                (o.lightMapIntensity = t.lightMapIntensity),
              void 0 !== t.aoMap && (o.aoMap = e(t.aoMap)),
              void 0 !== t.aoMapIntensity &&
                (o.aoMapIntensity = t.aoMapIntensity),
              void 0 !== t.gradientMap && (o.gradientMap = e(t.gradientMap)),
              o
            );
          },
        }),
        Object.assign(nr.prototype, {
          load: function (t, e, i, n) {
            var r = this;
            new on(r.manager).load(
              t,
              function (t) {
                e(r.parse(JSON.parse(t)));
              },
              i,
              n
            );
          },
          parse: function (t) {
            var e = new N(),
              i = t.data.index;
            void 0 !== i &&
              ((i = new Us[i.type](i.array)), e.setIndex(new E(i, 1)));
            var n = t.data.attributes;
            for (o in n) {
              var r = n[o];
              (i = new Us[r.type](r.array)),
                e.addAttribute(o, new E(i, r.itemSize, r.normalized));
            }
            var o = t.data.groups || t.data.drawcalls || t.data.offsets;
            if (void 0 !== o)
              for (i = 0, n = o.length; i !== n; ++i)
                (r = o[i]), e.addGroup(r.start, r.count, r.materialIndex);
            return (
              (t = t.data.boundingSphere),
              void 0 !== t &&
                ((o = new s()),
                void 0 !== t.center && o.fromArray(t.center),
                (e.boundingSphere = new d(o, t.radius))),
              e
            );
          },
        });
      var Us = {
        Int8Array: Int8Array,
        Uint8Array: Uint8Array,
        Uint8ClampedArray:
          "undefined" != typeof Uint8ClampedArray
            ? Uint8ClampedArray
            : Uint8Array,
        Int16Array: Int16Array,
        Uint16Array: Uint16Array,
        Int32Array: Int32Array,
        Uint32Array: Uint32Array,
        Float32Array: Float32Array,
        Float64Array: Float64Array,
      };
      (rr.Handlers = {
        handlers: [],
        add: function (t, e) {
          this.handlers.push(t, e);
        },
        get: function (t) {
          for (var e = this.handlers, i = 0, n = e.length; i < n; i += 2) {
            var r = e[i + 1];
            if (e[i].test(t)) return r;
          }
          return null;
        },
      }),
        Object.assign(rr.prototype, {
          crossOrigin: "anonymous",
          onLoadStart: function () {},
          onLoadProgress: function () {},
          onLoadComplete: function () {},
          initMaterials: function (t, e, i) {
            for (var n = [], r = 0; r < t.length; ++r)
              n[r] = this.createMaterial(t[r], e, i);
            return n;
          },
          createMaterial: (function () {
            var t = {
                NoBlending: 0,
                NormalBlending: 1,
                AdditiveBlending: 2,
                SubtractiveBlending: 3,
                MultiplyBlending: 4,
                CustomBlending: 5,
              },
              e = new _(),
              i = new cn(),
              n = new ir();
            return function (r, s, o) {
              function a(t, e, n, r, a) {
                t = s + t;
                var h = rr.Handlers.get(t);
                return (
                  null !== h
                    ? (t = h.load(t))
                    : (i.setCrossOrigin(o), (t = i.load(t))),
                  void 0 !== e &&
                    (t.repeat.fromArray(e),
                    1 !== e[0] && (t.wrapS = 1e3),
                    1 !== e[1] && (t.wrapT = 1e3)),
                  void 0 !== n && t.offset.fromArray(n),
                  void 0 !== r &&
                    ("repeat" === r[0] && (t.wrapS = 1e3),
                    "mirror" === r[0] && (t.wrapS = 1002),
                    "repeat" === r[1] && (t.wrapT = 1e3),
                    "mirror" === r[1] && (t.wrapT = 1002)),
                  void 0 !== a && (t.anisotropy = a),
                  (e = ns.generateUUID()),
                  (l[e] = t),
                  e
                );
              }
              var h,
                l = {},
                u = { uuid: ns.generateUUID(), type: "MeshLambertMaterial" };
              for (h in r) {
                var c = r[h];
                switch (h) {
                  case "DbgColor":
                  case "DbgIndex":
                  case "opticalDensity":
                  case "illumination":
                    break;
                  case "DbgName":
                    u.name = c;
                    break;
                  case "blending":
                    u.blending = t[c];
                    break;
                  case "colorAmbient":
                  case "mapAmbient":
                    console.warn(
                      "THREE.Loader.createMaterial:",
                      h,
                      "is no longer supported."
                    );
                    break;
                  case "colorDiffuse":
                    u.color = e.fromArray(c).getHex();
                    break;
                  case "colorSpecular":
                    u.specular = e.fromArray(c).getHex();
                    break;
                  case "colorEmissive":
                    u.emissive = e.fromArray(c).getHex();
                    break;
                  case "specularCoef":
                    u.shininess = c;
                    break;
                  case "shading":
                    "basic" === c.toLowerCase() &&
                      (u.type = "MeshBasicMaterial"),
                      "phong" === c.toLowerCase() &&
                        (u.type = "MeshPhongMaterial"),
                      "standard" === c.toLowerCase() &&
                        (u.type = "MeshStandardMaterial");
                    break;
                  case "mapDiffuse":
                    u.map = a(
                      c,
                      r.mapDiffuseRepeat,
                      r.mapDiffuseOffset,
                      r.mapDiffuseWrap,
                      r.mapDiffuseAnisotropy
                    );
                    break;
                  case "mapDiffuseRepeat":
                  case "mapDiffuseOffset":
                  case "mapDiffuseWrap":
                  case "mapDiffuseAnisotropy":
                    break;
                  case "mapEmissive":
                    u.emissiveMap = a(
                      c,
                      r.mapEmissiveRepeat,
                      r.mapEmissiveOffset,
                      r.mapEmissiveWrap,
                      r.mapEmissiveAnisotropy
                    );
                    break;
                  case "mapEmissiveRepeat":
                  case "mapEmissiveOffset":
                  case "mapEmissiveWrap":
                  case "mapEmissiveAnisotropy":
                    break;
                  case "mapLight":
                    u.lightMap = a(
                      c,
                      r.mapLightRepeat,
                      r.mapLightOffset,
                      r.mapLightWrap,
                      r.mapLightAnisotropy
                    );
                    break;
                  case "mapLightRepeat":
                  case "mapLightOffset":
                  case "mapLightWrap":
                  case "mapLightAnisotropy":
                    break;
                  case "mapAO":
                    u.aoMap = a(
                      c,
                      r.mapAORepeat,
                      r.mapAOOffset,
                      r.mapAOWrap,
                      r.mapAOAnisotropy
                    );
                    break;
                  case "mapAORepeat":
                  case "mapAOOffset":
                  case "mapAOWrap":
                  case "mapAOAnisotropy":
                    break;
                  case "mapBump":
                    u.bumpMap = a(
                      c,
                      r.mapBumpRepeat,
                      r.mapBumpOffset,
                      r.mapBumpWrap,
                      r.mapBumpAnisotropy
                    );
                    break;
                  case "mapBumpScale":
                    u.bumpScale = c;
                    break;
                  case "mapBumpRepeat":
                  case "mapBumpOffset":
                  case "mapBumpWrap":
                  case "mapBumpAnisotropy":
                    break;
                  case "mapNormal":
                    u.normalMap = a(
                      c,
                      r.mapNormalRepeat,
                      r.mapNormalOffset,
                      r.mapNormalWrap,
                      r.mapNormalAnisotropy
                    );
                    break;
                  case "mapNormalFactor":
                    u.normalScale = c;
                    break;
                  case "mapNormalRepeat":
                  case "mapNormalOffset":
                  case "mapNormalWrap":
                  case "mapNormalAnisotropy":
                    break;
                  case "mapSpecular":
                    u.specularMap = a(
                      c,
                      r.mapSpecularRepeat,
                      r.mapSpecularOffset,
                      r.mapSpecularWrap,
                      r.mapSpecularAnisotropy
                    );
                    break;
                  case "mapSpecularRepeat":
                  case "mapSpecularOffset":
                  case "mapSpecularWrap":
                  case "mapSpecularAnisotropy":
                    break;
                  case "mapMetalness":
                    u.metalnessMap = a(
                      c,
                      r.mapMetalnessRepeat,
                      r.mapMetalnessOffset,
                      r.mapMetalnessWrap,
                      r.mapMetalnessAnisotropy
                    );
                    break;
                  case "mapMetalnessRepeat":
                  case "mapMetalnessOffset":
                  case "mapMetalnessWrap":
                  case "mapMetalnessAnisotropy":
                    break;
                  case "mapRoughness":
                    u.roughnessMap = a(
                      c,
                      r.mapRoughnessRepeat,
                      r.mapRoughnessOffset,
                      r.mapRoughnessWrap,
                      r.mapRoughnessAnisotropy
                    );
                    break;
                  case "mapRoughnessRepeat":
                  case "mapRoughnessOffset":
                  case "mapRoughnessWrap":
                  case "mapRoughnessAnisotropy":
                    break;
                  case "mapAlpha":
                    u.alphaMap = a(
                      c,
                      r.mapAlphaRepeat,
                      r.mapAlphaOffset,
                      r.mapAlphaWrap,
                      r.mapAlphaAnisotropy
                    );
                    break;
                  case "mapAlphaRepeat":
                  case "mapAlphaOffset":
                  case "mapAlphaWrap":
                  case "mapAlphaAnisotropy":
                    break;
                  case "flipSided":
                    u.side = 1;
                    break;
                  case "doubleSided":
                    u.side = 2;
                    break;
                  case "transparency":
                    console.warn(
                      "THREE.Loader.createMaterial: transparency has been renamed to opacity"
                    ),
                      (u.opacity = c);
                    break;
                  case "depthTest":
                  case "depthWrite":
                  case "colorWrite":
                  case "opacity":
                  case "reflectivity":
                  case "transparent":
                  case "visible":
                  case "wireframe":
                    u[h] = c;
                    break;
                  case "vertexColors":
                    !0 === c && (u.vertexColors = 2),
                      "face" === c && (u.vertexColors = 1);
                    break;
                  default:
                    console.error(
                      "THREE.Loader.createMaterial: Unsupported",
                      h,
                      c
                    );
                }
              }
              return (
                "MeshBasicMaterial" === u.type && delete u.emissive,
                "MeshPhongMaterial" !== u.type && delete u.specular,
                1 > u.opacity && (u.transparent = !0),
                n.setTextures(l),
                n.parse(u)
              );
            };
          })(),
        });
      var Gs = {
        decodeText: function (t) {
          if ("undefined" != typeof TextDecoder)
            return new TextDecoder().decode(t);
          for (var e = "", i = 0, n = t.length; i < n; i++)
            e += String.fromCharCode(t[i]);
          return decodeURIComponent(escape(e));
        },
        extractUrlBase: function (t) {
          var e = t.lastIndexOf("/");
          return -1 === e ? "./" : t.substr(0, e + 1);
        },
      };
      Object.assign(sr.prototype, {
        crossOrigin: "anonymous",
        load: function (t, e, i, n) {
          var r = this,
            s = void 0 === this.path ? Gs.extractUrlBase(t) : this.path,
            o = new on(this.manager);
          o.setPath(this.path),
            o.setWithCredentials(this.withCredentials),
            o.load(
              t,
              function (i) {
                i = JSON.parse(i);
                var n = i.metadata;
                return void 0 !== n &&
                  ((n = n.type), void 0 !== n && "object" === n.toLowerCase())
                  ? void console.error(
                      "THREE.JSONLoader: " +
                        t +
                        " should be loaded with THREE.ObjectLoader instead."
                    )
                  : ((i = r.parse(i, s)), void e(i.geometry, i.materials));
              },
              i,
              n
            );
        },
        setPath: function (t) {
          return (this.path = t), this;
        },
        setResourcePath: function (t) {
          return (this.resourcePath = t), this;
        },
        setCrossOrigin: function (t) {
          return (this.crossOrigin = t), this;
        },
        parse: (function () {
          return function (t, e) {
            void 0 !== t.data && (t = t.data),
              (t.scale = void 0 !== t.scale ? 1 / t.scale : 1);
            var n,
              r,
              o,
              a = new T(),
              l = t,
              u = l.faces,
              c = l.vertices,
              p = l.normals,
              d = l.colors,
              f = l.scale,
              m = 0;
            if (void 0 !== l.uvs) {
              for (n = 0; n < l.uvs.length; n++) l.uvs[n].length && m++;
              for (n = 0; n < m; n++) a.faceVertexUvs[n] = [];
            }
            var g = 0;
            for (o = c.length; g < o; )
              (n = new s()),
                (n.x = c[g++] * f),
                (n.y = c[g++] * f),
                (n.z = c[g++] * f),
                a.vertices.push(n);
            for (g = 0, o = u.length; g < o; ) {
              c = u[g++];
              var v = 1 & c,
                x = 2 & c;
              n = 8 & c;
              var w = 16 & c,
                b = 32 & c;
              if (((f = 64 & c), (c &= 128), v)) {
                (v = new y()), (v.a = u[g]), (v.b = u[g + 1]), (v.c = u[g + 3]);
                var E = new y();
                if (
                  ((E.a = u[g + 1]),
                  (E.b = u[g + 2]),
                  (E.c = u[g + 3]),
                  (g += 4),
                  x &&
                    ((x = u[g++]),
                    (v.materialIndex = x),
                    (E.materialIndex = x)),
                  (x = a.faces.length),
                  n)
                )
                  for (n = 0; n < m; n++) {
                    var S = l.uvs[n];
                    for (
                      a.faceVertexUvs[n][x] = [],
                        a.faceVertexUvs[n][x + 1] = [],
                        r = 0;
                      4 > r;
                      r++
                    ) {
                      var M = u[g++],
                        C = S[2 * M];
                      (M = S[2 * M + 1]),
                        (C = new i(C, M)),
                        2 !== r && a.faceVertexUvs[n][x].push(C),
                        0 !== r && a.faceVertexUvs[n][x + 1].push(C);
                    }
                  }
                if (
                  (w &&
                    ((w = 3 * u[g++]),
                    v.normal.set(p[w++], p[w++], p[w]),
                    E.normal.copy(v.normal)),
                  b)
                )
                  for (n = 0; 4 > n; n++)
                    (w = 3 * u[g++]),
                      (b = new s(p[w++], p[w++], p[w])),
                      2 !== n && v.vertexNormals.push(b),
                      0 !== n && E.vertexNormals.push(b);
                if (
                  (f &&
                    ((f = u[g++]),
                    (f = d[f]),
                    v.color.setHex(f),
                    E.color.setHex(f)),
                  c)
                )
                  for (n = 0; 4 > n; n++)
                    (f = u[g++]),
                      (f = d[f]),
                      2 !== n && v.vertexColors.push(new _(f)),
                      0 !== n && E.vertexColors.push(new _(f));
                a.faces.push(v), a.faces.push(E);
              } else {
                if (
                  ((v = new y()),
                  (v.a = u[g++]),
                  (v.b = u[g++]),
                  (v.c = u[g++]),
                  x && ((x = u[g++]), (v.materialIndex = x)),
                  (x = a.faces.length),
                  n)
                )
                  for (n = 0; n < m; n++)
                    for (
                      S = l.uvs[n], a.faceVertexUvs[n][x] = [], r = 0;
                      3 > r;
                      r++
                    )
                      (M = u[g++]),
                        (C = S[2 * M]),
                        (M = S[2 * M + 1]),
                        (C = new i(C, M)),
                        a.faceVertexUvs[n][x].push(C);
                if (
                  (w && ((w = 3 * u[g++]), v.normal.set(p[w++], p[w++], p[w])),
                  b)
                )
                  for (n = 0; 3 > n; n++)
                    (w = 3 * u[g++]),
                      (b = new s(p[w++], p[w++], p[w])),
                      v.vertexNormals.push(b);
                if ((f && ((f = u[g++]), v.color.setHex(d[f])), c))
                  for (n = 0; 3 > n; n++)
                    (f = u[g++]), v.vertexColors.push(new _(d[f]));
                a.faces.push(v);
              }
            }
            if (
              ((l = t),
              (g =
                void 0 !== l.influencesPerVertex ? l.influencesPerVertex : 2),
              l.skinWeights)
            )
              for (o = 0, u = l.skinWeights.length; o < u; o += g)
                a.skinWeights.push(
                  new h(
                    l.skinWeights[o],
                    1 < g ? l.skinWeights[o + 1] : 0,
                    2 < g ? l.skinWeights[o + 2] : 0,
                    3 < g ? l.skinWeights[o + 3] : 0
                  )
                );
            if (l.skinIndices)
              for (o = 0, u = l.skinIndices.length; o < u; o += g)
                a.skinIndices.push(
                  new h(
                    l.skinIndices[o],
                    1 < g ? l.skinIndices[o + 1] : 0,
                    2 < g ? l.skinIndices[o + 2] : 0,
                    3 < g ? l.skinIndices[o + 3] : 0
                  )
                );
            if (
              ((a.bones = l.bones),
              a.bones &&
                0 < a.bones.length &&
                (a.skinWeights.length !== a.skinIndices.length ||
                  a.skinIndices.length !== a.vertices.length) &&
                console.warn(
                  "When skinning, number of vertices (" +
                    a.vertices.length +
                    "), skinIndices (" +
                    a.skinIndices.length +
                    "), and skinWeights (" +
                    a.skinWeights.length +
                    ") should match."
                ),
              (o = t),
              (u = o.scale),
              void 0 !== o.morphTargets)
            )
              for (l = 0, g = o.morphTargets.length; l < g; l++)
                for (
                  a.morphTargets[l] = {},
                    a.morphTargets[l].name = o.morphTargets[l].name,
                    a.morphTargets[l].vertices = [],
                    p = a.morphTargets[l].vertices,
                    d = o.morphTargets[l].vertices,
                    m = 0,
                    c = d.length;
                  m < c;
                  m += 3
                )
                  (f = new s()),
                    (f.x = d[m] * u),
                    (f.y = d[m + 1] * u),
                    (f.z = d[m + 2] * u),
                    p.push(f);
            if (void 0 !== o.morphColors && 0 < o.morphColors.length)
              for (
                console.warn(
                  'THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.'
                ),
                  u = a.faces,
                  o = o.morphColors[0].colors,
                  l = 0,
                  g = u.length;
                l < g;
                l++
              )
                u[l].color.fromArray(o, 3 * l);
            for (
              o = t,
                l = [],
                g = [],
                void 0 !== o.animation && g.push(o.animation),
                void 0 !== o.animations &&
                  (o.animations.length
                    ? (g = g.concat(o.animations))
                    : g.push(o.animations)),
                o = 0;
              o < g.length;
              o++
            )
              (u = Kn.parseAnimation(g[o], a.bones)) && l.push(u);
            return (
              a.morphTargets &&
                ((g = Kn.CreateClipsFromMorphTargetSequences(
                  a.morphTargets,
                  10
                )),
                (l = l.concat(g))),
              0 < l.length && (a.animations = l),
              a.computeFaceNormals(),
              a.computeBoundingSphere(),
              void 0 === t.materials || 0 === t.materials.length
                ? { geometry: a }
                : ((t = rr.prototype.initMaterials(
                    t.materials,
                    this.resourcePath || e,
                    this.crossOrigin
                  )),
                  { geometry: a, materials: t })
            );
          };
        })(),
      }),
        Object.assign(or.prototype, {
          crossOrigin: "anonymous",
          load: function (t, e, i, n) {
            "" === this.texturePath &&
              (this.texturePath = t.substring(0, t.lastIndexOf("/") + 1));
            var r = this;
            new on(r.manager).load(
              t,
              function (i) {
                var s = null;
                try {
                  s = JSON.parse(i);
                } catch (e) {
                  return (
                    void 0 !== n && n(e),
                    void console.error(
                      "THREE:ObjectLoader: Can't parse " + t + ".",
                      e.message
                    )
                  );
                }
                (i = s.metadata),
                  void 0 === i ||
                  void 0 === i.type ||
                  "geometry" === i.type.toLowerCase()
                    ? console.error(
                        "THREE.ObjectLoader: Can't load " +
                          t +
                          ". Use THREE.JSONLoader instead."
                      )
                    : r.parse(s, e);
              },
              i,
              n
            );
          },
          setTexturePath: function (t) {
            return (this.texturePath = t), this;
          },
          setCrossOrigin: function (t) {
            return (this.crossOrigin = t), this;
          },
          parse: function (t, e) {
            var i = this.parseShape(t.shapes);
            i = this.parseGeometries(t.geometries, i);
            var n = this.parseImages(t.images, function () {
              void 0 !== e && e(r);
            });
            (n = this.parseTextures(t.textures, n)),
              (n = this.parseMaterials(t.materials, n));
            var r = this.parseObject(t.object, i, n);
            return (
              t.animations &&
                (r.animations = this.parseAnimations(t.animations)),
              (void 0 !== t.images && 0 !== t.images.length) ||
                void 0 === e ||
                e(r),
              r
            );
          },
          parseShape: function (t) {
            var e = {};
            if (void 0 !== t)
              for (var i = 0, n = t.length; i < n; i++) {
                var r = new An().fromJSON(t[i]);
                e[r.uuid] = r;
              }
            return e;
          },
          parseGeometries: function (t, e) {
            var i = {};
            if (void 0 !== t)
              for (
                var n = new sr(), r = new nr(), s = 0, o = t.length;
                s < o;
                s++
              ) {
                var a = t[s];
                switch (a.type) {
                  case "PlaneGeometry":
                  case "PlaneBufferGeometry":
                    var h = new Rs[a.type](
                      a.width,
                      a.height,
                      a.widthSegments,
                      a.heightSegments
                    );
                    break;
                  case "BoxGeometry":
                  case "BoxBufferGeometry":
                  case "CubeGeometry":
                    h = new Rs[a.type](
                      a.width,
                      a.height,
                      a.depth,
                      a.widthSegments,
                      a.heightSegments,
                      a.depthSegments
                    );
                    break;
                  case "CircleGeometry":
                  case "CircleBufferGeometry":
                    h = new Rs[a.type](
                      a.radius,
                      a.segments,
                      a.thetaStart,
                      a.thetaLength
                    );
                    break;
                  case "CylinderGeometry":
                  case "CylinderBufferGeometry":
                    h = new Rs[a.type](
                      a.radiusTop,
                      a.radiusBottom,
                      a.height,
                      a.radialSegments,
                      a.heightSegments,
                      a.openEnded,
                      a.thetaStart,
                      a.thetaLength
                    );
                    break;
                  case "ConeGeometry":
                  case "ConeBufferGeometry":
                    h = new Rs[a.type](
                      a.radius,
                      a.height,
                      a.radialSegments,
                      a.heightSegments,
                      a.openEnded,
                      a.thetaStart,
                      a.thetaLength
                    );
                    break;
                  case "SphereGeometry":
                  case "SphereBufferGeometry":
                    h = new Rs[a.type](
                      a.radius,
                      a.widthSegments,
                      a.heightSegments,
                      a.phiStart,
                      a.phiLength,
                      a.thetaStart,
                      a.thetaLength
                    );
                    break;
                  case "DodecahedronGeometry":
                  case "DodecahedronBufferGeometry":
                  case "IcosahedronGeometry":
                  case "IcosahedronBufferGeometry":
                  case "OctahedronGeometry":
                  case "OctahedronBufferGeometry":
                  case "TetrahedronGeometry":
                  case "TetrahedronBufferGeometry":
                    h = new Rs[a.type](a.radius, a.detail);
                    break;
                  case "RingGeometry":
                  case "RingBufferGeometry":
                    h = new Rs[a.type](
                      a.innerRadius,
                      a.outerRadius,
                      a.thetaSegments,
                      a.phiSegments,
                      a.thetaStart,
                      a.thetaLength
                    );
                    break;
                  case "TorusGeometry":
                  case "TorusBufferGeometry":
                    h = new Rs[a.type](
                      a.radius,
                      a.tube,
                      a.radialSegments,
                      a.tubularSegments,
                      a.arc
                    );
                    break;
                  case "TorusKnotGeometry":
                  case "TorusKnotBufferGeometry":
                    h = new Rs[a.type](
                      a.radius,
                      a.tube,
                      a.tubularSegments,
                      a.radialSegments,
                      a.p,
                      a.q
                    );
                    break;
                  case "LatheGeometry":
                  case "LatheBufferGeometry":
                    h = new Rs[a.type](
                      a.points,
                      a.segments,
                      a.phiStart,
                      a.phiLength
                    );
                    break;
                  case "PolyhedronGeometry":
                  case "PolyhedronBufferGeometry":
                    h = new Rs[a.type](
                      a.vertices,
                      a.indices,
                      a.radius,
                      a.details
                    );
                    break;
                  case "ShapeGeometry":
                  case "ShapeBufferGeometry":
                    h = [];
                    for (var l = 0, u = a.shapes.length; l < u; l++) {
                      var c = e[a.shapes[l]];
                      h.push(c);
                    }
                    h = new Rs[a.type](h, a.curveSegments);
                    break;
                  case "ExtrudeGeometry":
                  case "ExtrudeBufferGeometry":
                    for (h = [], l = 0, u = a.shapes.length; l < u; l++)
                      (c = e[a.shapes[l]]), h.push(c);
                    (l = a.options.extrudePath),
                      void 0 !== l &&
                        (a.options.extrudePath = new Hs[l.type]().fromJSON(l)),
                      (h = new Rs[a.type](h, a.options));
                    break;
                  case "BufferGeometry":
                    h = r.parse(a);
                    break;
                  case "Geometry":
                    h = n.parse(a, this.texturePath).geometry;
                    break;
                  default:
                    console.warn(
                      'THREE.ObjectLoader: Unsupported geometry type "' +
                        a.type +
                        '"'
                    );
                    continue;
                }
                (h.uuid = a.uuid),
                  void 0 !== a.name && (h.name = a.name),
                  !0 === h.isBufferGeometry &&
                    void 0 !== a.userData &&
                    (h.userData = a.userData),
                  (i[a.uuid] = h);
              }
            return i;
          },
          parseMaterials: function (t, e) {
            var i = {};
            if (void 0 !== t) {
              var n = new ir();
              n.setTextures(e), (e = 0);
              for (var r = t.length; e < r; e++) {
                var s = t[e];
                if ("MultiMaterial" === s.type) {
                  for (var o = [], a = 0; a < s.materials.length; a++)
                    o.push(n.parse(s.materials[a]));
                  i[s.uuid] = o;
                } else i[s.uuid] = n.parse(s);
              }
            }
            return i;
          },
          parseAnimations: function (t) {
            for (var e = [], i = 0; i < t.length; i++) {
              var n = t[i],
                r = Kn.parse(n);
              void 0 !== n.uuid && (r.uuid = n.uuid), e.push(r);
            }
            return e;
          },
          parseImages: function (t, e) {
            function i(t) {
              return (
                n.manager.itemStart(t),
                s.load(
                  t,
                  function () {
                    n.manager.itemEnd(t);
                  },
                  void 0,
                  function () {
                    n.manager.itemEnd(t), n.manager.itemError(t);
                  }
                )
              );
            }
            var n = this,
              r = {};
            if (void 0 !== t && 0 < t.length) {
              e = new sn(e);
              var s = new ln(e);
              s.setCrossOrigin(this.crossOrigin), (e = 0);
              for (var o = t.length; e < o; e++) {
                var a = t[e],
                  h = a.url;
                if (Array.isArray(h)) {
                  r[a.uuid] = [];
                  for (var l = 0, u = h.length; l < u; l++) {
                    var c = h[l];
                    (c = /^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)
                      ? c
                      : n.texturePath + c),
                      r[a.uuid].push(i(c));
                  }
                } else
                  (c = /^(\/\/)|([a-z]+:(\/\/)?)/i.test(a.url)
                    ? a.url
                    : n.texturePath + a.url),
                    (r[a.uuid] = i(c));
              }
            }
            return r;
          },
          parseTextures: function (t, e) {
            function i(t, e) {
              return "number" == typeof t
                ? t
                : (console.warn(
                    "THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",
                    t
                  ),
                  e[t]);
            }
            var n = {};
            if (void 0 !== t)
              for (var r = 0, s = t.length; r < s; r++) {
                var o = t[r];
                void 0 === o.image &&
                  console.warn(
                    'THREE.ObjectLoader: No "image" specified for',
                    o.uuid
                  ),
                  void 0 === e[o.image] &&
                    console.warn(
                      "THREE.ObjectLoader: Undefined image",
                      o.image
                    );
                var h = Array.isArray(e[o.image])
                  ? new rt(e[o.image])
                  : new a(e[o.image]);
                (h.needsUpdate = !0),
                  (h.uuid = o.uuid),
                  void 0 !== o.name && (h.name = o.name),
                  void 0 !== o.mapping && (h.mapping = i(o.mapping, Vs)),
                  void 0 !== o.offset && h.offset.fromArray(o.offset),
                  void 0 !== o.repeat && h.repeat.fromArray(o.repeat),
                  void 0 !== o.center && h.center.fromArray(o.center),
                  void 0 !== o.rotation && (h.rotation = o.rotation),
                  void 0 !== o.wrap &&
                    ((h.wrapS = i(o.wrap[0], js)),
                    (h.wrapT = i(o.wrap[1], js))),
                  void 0 !== o.format && (h.format = o.format),
                  void 0 !== o.minFilter && (h.minFilter = i(o.minFilter, Ws)),
                  void 0 !== o.magFilter && (h.magFilter = i(o.magFilter, Ws)),
                  void 0 !== o.anisotropy && (h.anisotropy = o.anisotropy),
                  void 0 !== o.flipY && (h.flipY = o.flipY),
                  (n[o.uuid] = h);
              }
            return n;
          },
          parseObject: function (t, e, i) {
            function n(t) {
              return (
                void 0 === e[t] &&
                  console.warn("THREE.ObjectLoader: Undefined geometry", t),
                e[t]
              );
            }
            function r(t) {
              if (void 0 !== t) {
                if (Array.isArray(t)) {
                  for (var e = [], n = 0, r = t.length; n < r; n++) {
                    var s = t[n];
                    void 0 === i[s] &&
                      console.warn("THREE.ObjectLoader: Undefined material", s),
                      e.push(i[s]);
                  }
                  return e;
                }
                return (
                  void 0 === i[t] &&
                    console.warn("THREE.ObjectLoader: Undefined material", t),
                  i[t]
                );
              }
            }
            switch (t.type) {
              case "Scene":
                var s = new Se();
                void 0 !== t.background &&
                  Number.isInteger(t.background) &&
                  (s.background = new _(t.background)),
                  void 0 !== t.fog &&
                    ("Fog" === t.fog.type
                      ? (s.fog = new Ee(t.fog.color, t.fog.near, t.fog.far))
                      : "FogExp2" === t.fog.type &&
                        (s.fog = new Te(t.fog.color, t.fog.density)));
                break;
              case "PerspectiveCamera":
                (s = new ve(t.fov, t.aspect, t.near, t.far)),
                  void 0 !== t.focus && (s.focus = t.focus),
                  void 0 !== t.zoom && (s.zoom = t.zoom),
                  void 0 !== t.filmGauge && (s.filmGauge = t.filmGauge),
                  void 0 !== t.filmOffset && (s.filmOffset = t.filmOffset),
                  void 0 !== t.view && (s.view = Object.assign({}, t.view));
                break;
              case "OrthographicCamera":
                (s = new Nn(t.left, t.right, t.top, t.bottom, t.near, t.far)),
                  void 0 !== t.zoom && (s.zoom = t.zoom),
                  void 0 !== t.view && (s.view = Object.assign({}, t.view));
                break;
              case "AmbientLight":
                s = new Hn(t.color, t.intensity);
                break;
              case "DirectionalLight":
                s = new Fn(t.color, t.intensity);
                break;
              case "PointLight":
                s = new kn(t.color, t.intensity, t.distance, t.decay);
                break;
              case "RectAreaLight":
                s = new Bn(t.color, t.intensity, t.width, t.height);
                break;
              case "SpotLight":
                s = new Dn(
                  t.color,
                  t.intensity,
                  t.distance,
                  t.angle,
                  t.penumbra,
                  t.decay
                );
                break;
              case "HemisphereLight":
                s = new Ln(t.color, t.groundColor, t.intensity);
                break;
              case "SkinnedMesh":
                console.warn(
                  "THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet."
                );
              case "Mesh":
                s = n(t.geometry);
                var o = r(t.material);
                s = s.bones && 0 < s.bones.length ? new Oe(s, o) : new X(s, o);
                break;
              case "LOD":
                s = new Re();
                break;
              case "Line":
                s = new ke(n(t.geometry), r(t.material), t.mode);
                break;
              case "LineLoop":
                s = new ze(n(t.geometry), r(t.material));
                break;
              case "LineSegments":
                s = new Ne(n(t.geometry), r(t.material));
                break;
              case "PointCloud":
              case "Points":
                s = new He(n(t.geometry), r(t.material));
                break;
              case "Sprite":
                s = new Ae(r(t.material));
                break;
              case "Group":
                s = new _e();
                break;
              default:
                s = new b();
            }
            if (
              ((s.uuid = t.uuid),
              void 0 !== t.name && (s.name = t.name),
              void 0 !== t.matrix
                ? (s.matrix.fromArray(t.matrix),
                  void 0 !== t.matrixAutoUpdate &&
                    (s.matrixAutoUpdate = t.matrixAutoUpdate),
                  s.matrixAutoUpdate &&
                    s.matrix.decompose(s.position, s.quaternion, s.scale))
                : (void 0 !== t.position && s.position.fromArray(t.position),
                  void 0 !== t.rotation && s.rotation.fromArray(t.rotation),
                  void 0 !== t.quaternion &&
                    s.quaternion.fromArray(t.quaternion),
                  void 0 !== t.scale && s.scale.fromArray(t.scale)),
              void 0 !== t.castShadow && (s.castShadow = t.castShadow),
              void 0 !== t.receiveShadow && (s.receiveShadow = t.receiveShadow),
              t.shadow &&
                (void 0 !== t.shadow.bias && (s.shadow.bias = t.shadow.bias),
                void 0 !== t.shadow.radius &&
                  (s.shadow.radius = t.shadow.radius),
                void 0 !== t.shadow.mapSize &&
                  s.shadow.mapSize.fromArray(t.shadow.mapSize),
                void 0 !== t.shadow.camera &&
                  (s.shadow.camera = this.parseObject(t.shadow.camera))),
              void 0 !== t.visible && (s.visible = t.visible),
              void 0 !== t.frustumCulled && (s.frustumCulled = t.frustumCulled),
              void 0 !== t.renderOrder && (s.renderOrder = t.renderOrder),
              void 0 !== t.userData && (s.userData = t.userData),
              void 0 !== t.layers && (s.layers.mask = t.layers),
              void 0 !== t.children)
            ) {
              o = t.children;
              for (var a = 0; a < o.length; a++)
                s.add(this.parseObject(o[a], e, i));
            }
            if ("LOD" === t.type)
              for (t = t.levels, o = 0; o < t.length; o++) {
                a = t[o];
                var h = s.getObjectByProperty("uuid", a.object);
                void 0 !== h && s.addLevel(h, a.distance);
              }
            return s;
          },
        });
      var Vs = {
          UVMapping: 300,
          CubeReflectionMapping: 301,
          CubeRefractionMapping: 302,
          EquirectangularReflectionMapping: 303,
          EquirectangularRefractionMapping: 304,
          SphericalReflectionMapping: 305,
          CubeUVReflectionMapping: 306,
          CubeUVRefractionMapping: 307,
        },
        js = {
          RepeatWrapping: 1e3,
          ClampToEdgeWrapping: 1001,
          MirroredRepeatWrapping: 1002,
        },
        Ws = {
          NearestFilter: 1003,
          NearestMipMapNearestFilter: 1004,
          NearestMipMapLinearFilter: 1005,
          LinearFilter: 1006,
          LinearMipMapNearestFilter: 1007,
          LinearMipMapLinearFilter: 1008,
        };
      (ar.prototype = {
        constructor: ar,
        setOptions: function (t) {
          return (this.options = t), this;
        },
        load: function (t, e, i, n) {
          void 0 === t && (t = ""),
            void 0 !== this.path && (t = this.path + t),
            (t = this.manager.resolveURL(t));
          var r = this,
            s = Is.get(t);
          return void 0 !== s
            ? (r.manager.itemStart(t),
              setTimeout(function () {
                e && e(s), r.manager.itemEnd(t);
              }, 0),
              s)
            : void fetch(t)
                .then(function (t) {
                  return t.blob();
                })
                .then(function (t) {
                  return createImageBitmap(t, r.options);
                })
                .then(function (i) {
                  Is.add(t, i), e && e(i), r.manager.itemEnd(t);
                })
                .catch(function (e) {
                  n && n(e), r.manager.itemEnd(t), r.manager.itemError(t);
                });
        },
        setCrossOrigin: function () {
          return this;
        },
        setPath: function (t) {
          return (this.path = t), this;
        },
      }),
        Object.assign(hr.prototype, {
          moveTo: function (t, e) {
            (this.currentPath = new Pn()),
              this.subPaths.push(this.currentPath),
              this.currentPath.moveTo(t, e);
          },
          lineTo: function (t, e) {
            this.currentPath.lineTo(t, e);
          },
          quadraticCurveTo: function (t, e, i, n) {
            this.currentPath.quadraticCurveTo(t, e, i, n);
          },
          bezierCurveTo: function (t, e, i, n, r, s) {
            this.currentPath.bezierCurveTo(t, e, i, n, r, s);
          },
          splineThru: function (t) {
            this.currentPath.splineThru(t);
          },
          toShapes: function (t, e) {
            function i(t) {
              for (var e = [], i = 0, n = t.length; i < n; i++) {
                var r = t[i],
                  s = new An();
                (s.curves = r.curves), e.push(s);
              }
              return e;
            }
            function n(t, e) {
              for (var i = e.length, n = !1, r = i - 1, s = 0; s < i; r = s++) {
                var o = e[r],
                  a = e[s],
                  h = a.x - o.x,
                  l = a.y - o.y;
                if (Math.abs(l) > Number.EPSILON) {
                  if (
                    (0 > l && ((o = e[s]), (h = -h), (a = e[r]), (l = -l)),
                    !(t.y < o.y || t.y > a.y))
                  )
                    if (t.y === o.y) {
                      if (t.x === o.x) return !0;
                    } else {
                      if (((r = l * (t.x - o.x) - h * (t.y - o.y)), 0 === r))
                        return !0;
                      0 > r || (n = !n);
                    }
                } else if (
                  t.y === o.y &&
                  ((a.x <= t.x && t.x <= o.x) || (o.x <= t.x && t.x <= a.x))
                )
                  return !0;
              }
              return n;
            }
            var r = Ps.isClockWise,
              s = this.subPaths;
            if (0 === s.length) return [];
            if (!0 === e) return i(s);
            if (((e = []), 1 === s.length)) {
              var o = s[0],
                a = new An();
              return (a.curves = o.curves), e.push(a), e;
            }
            var h = !r(s[0].getPoints());
            (h = t ? !h : h), (a = []);
            var l = [],
              u = [],
              c = 0;
            (l[c] = void 0), (u[c] = []);
            for (var p = 0, d = s.length; p < d; p++) {
              o = s[p];
              var f = o.getPoints(),
                m = r(f);
              (m = t ? !m : m)
                ? (!h && l[c] && c++,
                  (l[c] = { s: new An(), p: f }),
                  (l[c].s.curves = o.curves),
                  h && c++,
                  (u[c] = []))
                : u[c].push({ h: o, p: f[0] });
            }
            if (!l[0]) return i(s);
            if (1 < l.length) {
              for (p = !1, t = [], r = 0, s = l.length; r < s; r++) a[r] = [];
              for (r = 0, s = l.length; r < s; r++)
                for (o = u[r], m = 0; m < o.length; m++) {
                  for (h = o[m], c = !0, f = 0; f < l.length; f++)
                    n(h.p, l[f].p) &&
                      (r !== f && t.push({ froms: r, tos: f, hole: m }),
                      c ? ((c = !1), a[f].push(h)) : (p = !0));
                  c && a[r].push(h);
                }
              0 < t.length && (p || (u = a));
            }
            for (p = 0, r = l.length; p < r; p++)
              for (
                a = l[p].s, e.push(a), t = u[p], s = 0, o = t.length;
                s < o;
                s++
              )
                a.holes.push(t[s].h);
            return e;
          },
        }),
        Object.assign(lr.prototype, {
          isFont: !0,
          generateShapes: function (t, e) {
            void 0 === e && (e = 100);
            var i = [],
              n = e;
            e = this.data;
            var r = Array.from ? Array.from(t) : String(t).split("");
            n /= e.resolution;
            var s =
              (e.boundingBox.yMax - e.boundingBox.yMin + e.underlineThickness) *
              n;
            t = [];
            for (var o = 0, a = 0, h = 0; h < r.length; h++) {
              var l = r[h];
              if ("\n" === l) (o = 0), (a -= s);
              else {
                var u = n,
                  c = o,
                  p = a;
                if ((l = e.glyphs[l] || e.glyphs["?"])) {
                  var d = new hr();
                  if (l.o)
                    for (
                      var f =
                          l._cachedOutline ||
                          (l._cachedOutline = l.o.split(" ")),
                        m = 0,
                        _ = f.length;
                      m < _;

                    )
                      switch (f[m++]) {
                        case "m":
                          var g = f[m++] * u + c,
                            v = f[m++] * u + p;
                          d.moveTo(g, v);
                          break;
                        case "l":
                          (g = f[m++] * u + c),
                            (v = f[m++] * u + p),
                            d.lineTo(g, v);
                          break;
                        case "q":
                          var y = f[m++] * u + c,
                            x = f[m++] * u + p,
                            w = f[m++] * u + c,
                            b = f[m++] * u + p;
                          d.quadraticCurveTo(w, b, y, x);
                          break;
                        case "b":
                          (y = f[m++] * u + c),
                            (x = f[m++] * u + p),
                            (w = f[m++] * u + c),
                            (b = f[m++] * u + p),
                            (g = f[m++] * u + c),
                            (v = f[m++] * u + p),
                            d.bezierCurveTo(w, b, g, v, y, x);
                      }
                  u = { offsetX: l.ha * u, path: d };
                } else u = void 0;
                (o += u.offsetX), t.push(u.path);
              }
            }
            for (e = 0, r = t.length; e < r; e++)
              Array.prototype.push.apply(i, t[e].toShapes());
            return i;
          },
        }),
        Object.assign(ur.prototype, {
          load: function (t, e, i, n) {
            var r = this,
              s = new on(this.manager);
            s.setPath(this.path),
              s.load(
                t,
                function (t) {
                  try {
                    var i = JSON.parse(t);
                  } catch (e) {
                    console.warn(
                      "THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."
                    ),
                      (i = JSON.parse(t.substring(65, t.length - 2)));
                  }
                  (t = r.parse(i)), e && e(t);
                },
                i,
                n
              );
          },
          parse: function (t) {
            return new lr(t);
          },
          setPath: function (t) {
            return (this.path = t), this;
          },
        });
      var Xs,
        qs = {
          getContext: function () {
            return (
              void 0 === Xs &&
                (Xs = new (window.AudioContext || window.webkitAudioContext)()),
              Xs
            );
          },
          setContext: function (t) {
            Xs = t;
          },
        };
      Object.assign(cr.prototype, {
        load: function (t, e, i, n) {
          var r = new on(this.manager);
          r.setResponseType("arraybuffer"),
            r.load(
              t,
              function (t) {
                (t = t.slice(0)),
                  qs.getContext().decodeAudioData(t, function (t) {
                    e(t);
                  });
              },
              i,
              n
            );
        },
      }),
        Object.assign(pr.prototype, {
          update: (function () {
            var t,
              e,
              i,
              r,
              s,
              o,
              a,
              h,
              l = new n(),
              u = new n();
            return function (n) {
              if (
                t !== this ||
                e !== n.focus ||
                i !== n.fov ||
                r !== n.aspect * this.aspect ||
                s !== n.near ||
                o !== n.far ||
                a !== n.zoom ||
                h !== this.eyeSep
              ) {
                (t = this),
                  (e = n.focus),
                  (i = n.fov),
                  (r = n.aspect * this.aspect),
                  (s = n.near),
                  (o = n.far),
                  (a = n.zoom);
                var c = n.projectionMatrix.clone();
                h = this.eyeSep / 2;
                var p = (h * s) / e,
                  d = (s * Math.tan(ns.DEG2RAD * i * 0.5)) / a;
                (u.elements[12] = -h), (l.elements[12] = h);
                var f = -d * r + p,
                  m = d * r + p;
                (c.elements[0] = (2 * s) / (m - f)),
                  (c.elements[8] = (m + f) / (m - f)),
                  this.cameraL.projectionMatrix.copy(c),
                  (f = -d * r - p),
                  (m = d * r - p),
                  (c.elements[0] = (2 * s) / (m - f)),
                  (c.elements[8] = (m + f) / (m - f)),
                  this.cameraR.projectionMatrix.copy(c);
              }
              this.cameraL.matrixWorld.copy(n.matrixWorld).multiply(u),
                this.cameraR.matrixWorld.copy(n.matrixWorld).multiply(l);
            };
          })(),
        }),
        (dr.prototype = Object.create(b.prototype)),
        (dr.prototype.constructor = dr),
        (fr.prototype = Object.assign(Object.create(b.prototype), {
          constructor: fr,
          getInput: function () {
            return this.gain;
          },
          removeFilter: function () {
            return (
              null !== this.filter &&
                (this.gain.disconnect(this.filter),
                this.filter.disconnect(this.context.destination),
                this.gain.connect(this.context.destination),
                (this.filter = null)),
              this
            );
          },
          getFilter: function () {
            return this.filter;
          },
          setFilter: function (t) {
            return (
              null !== this.filter
                ? (this.gain.disconnect(this.filter),
                  this.filter.disconnect(this.context.destination))
                : this.gain.disconnect(this.context.destination),
              (this.filter = t),
              this.gain.connect(this.filter),
              this.filter.connect(this.context.destination),
              this
            );
          },
          getMasterVolume: function () {
            return this.gain.gain.value;
          },
          setMasterVolume: function (t) {
            return (
              this.gain.gain.setTargetAtTime(t, this.context.currentTime, 0.01),
              this
            );
          },
          updateMatrixWorld: (function () {
            var t = new s(),
              e = new r(),
              i = new s(),
              n = new s();
            return function (r) {
              b.prototype.updateMatrixWorld.call(this, r),
                (r = this.context.listener);
              var s = this.up;
              this.matrixWorld.decompose(t, e, i),
                n.set(0, 0, -1).applyQuaternion(e),
                r.positionX
                  ? (r.positionX.setValueAtTime(t.x, this.context.currentTime),
                    r.positionY.setValueAtTime(t.y, this.context.currentTime),
                    r.positionZ.setValueAtTime(t.z, this.context.currentTime),
                    r.forwardX.setValueAtTime(n.x, this.context.currentTime),
                    r.forwardY.setValueAtTime(n.y, this.context.currentTime),
                    r.forwardZ.setValueAtTime(n.z, this.context.currentTime),
                    r.upX.setValueAtTime(s.x, this.context.currentTime),
                    r.upY.setValueAtTime(s.y, this.context.currentTime),
                    r.upZ.setValueAtTime(s.z, this.context.currentTime))
                  : (r.setPosition(t.x, t.y, t.z),
                    r.setOrientation(n.x, n.y, n.z, s.x, s.y, s.z));
            };
          })(),
        })),
        (mr.prototype = Object.assign(Object.create(b.prototype), {
          constructor: mr,
          getOutput: function () {
            return this.gain;
          },
          setNodeSource: function (t) {
            return (
              (this.hasPlaybackControl = !1),
              (this.sourceType = "audioNode"),
              (this.source = t),
              this.connect(),
              this
            );
          },
          setMediaElementSource: function (t) {
            return (
              (this.hasPlaybackControl = !1),
              (this.sourceType = "mediaNode"),
              (this.source = this.context.createMediaElementSource(t)),
              this.connect(),
              this
            );
          },
          setBuffer: function (t) {
            return (
              (this.buffer = t),
              (this.sourceType = "buffer"),
              this.autoplay && this.play(),
              this
            );
          },
          play: function () {
            if (!0 === this.isPlaying)
              console.warn("THREE.Audio: Audio is already playing.");
            else {
              if (!1 !== this.hasPlaybackControl) {
                var t = this.context.createBufferSource();
                return (
                  (t.buffer = this.buffer),
                  (t.loop = this.loop),
                  (t.onended = this.onEnded.bind(this)),
                  t.playbackRate.setValueAtTime(
                    this.playbackRate,
                    this.startTime
                  ),
                  (this.startTime = this.context.currentTime),
                  t.start(this.startTime, this.offset),
                  (this.isPlaying = !0),
                  (this.source = t),
                  this.connect()
                );
              }
              console.warn("THREE.Audio: this Audio has no playback control.");
            }
          },
          pause: function () {
            return !1 !== this.hasPlaybackControl
              ? (!0 === this.isPlaying &&
                  (this.source.stop(),
                  (this.source.onended = null),
                  (this.offset +=
                    (this.context.currentTime - this.startTime) *
                    this.playbackRate),
                  (this.isPlaying = !1)),
                this)
              : void console.warn(
                  "THREE.Audio: this Audio has no playback control."
                );
          },
          stop: function () {
            return !1 !== this.hasPlaybackControl
              ? (this.source.stop(),
                (this.source.onended = null),
                (this.offset = 0),
                (this.isPlaying = !1),
                this)
              : void console.warn(
                  "THREE.Audio: this Audio has no playback control."
                );
          },
          connect: function () {
            if (0 < this.filters.length) {
              this.source.connect(this.filters[0]);
              for (var t = 1, e = this.filters.length; t < e; t++)
                this.filters[t - 1].connect(this.filters[t]);
              this.filters[this.filters.length - 1].connect(this.getOutput());
            } else this.source.connect(this.getOutput());
            return this;
          },
          disconnect: function () {
            if (0 < this.filters.length) {
              this.source.disconnect(this.filters[0]);
              for (var t = 1, e = this.filters.length; t < e; t++)
                this.filters[t - 1].disconnect(this.filters[t]);
              this.filters[this.filters.length - 1].disconnect(
                this.getOutput()
              );
            } else this.source.disconnect(this.getOutput());
            return this;
          },
          getFilters: function () {
            return this.filters;
          },
          setFilters: function (t) {
            return (
              t || (t = []),
              !0 === this.isPlaying
                ? (this.disconnect(), (this.filters = t), this.connect())
                : (this.filters = t),
              this
            );
          },
          getFilter: function () {
            return this.getFilters()[0];
          },
          setFilter: function (t) {
            return this.setFilters(t ? [t] : []);
          },
          setPlaybackRate: function (t) {
            return !1 !== this.hasPlaybackControl
              ? ((this.playbackRate = t),
                !0 === this.isPlaying &&
                  this.source.playbackRate.setValueAtTime(
                    this.playbackRate,
                    this.context.currentTime
                  ),
                this)
              : void console.warn(
                  "THREE.Audio: this Audio has no playback control."
                );
          },
          getPlaybackRate: function () {
            return this.playbackRate;
          },
          onEnded: function () {
            this.isPlaying = !1;
          },
          getLoop: function () {
            return !1 === this.hasPlaybackControl
              ? (console.warn(
                  "THREE.Audio: this Audio has no playback control."
                ),
                !1)
              : this.loop;
          },
          setLoop: function (t) {
            return !1 !== this.hasPlaybackControl
              ? ((this.loop = t),
                !0 === this.isPlaying && (this.source.loop = this.loop),
                this)
              : void console.warn(
                  "THREE.Audio: this Audio has no playback control."
                );
          },
          getVolume: function () {
            return this.gain.gain.value;
          },
          setVolume: function (t) {
            return (
              this.gain.gain.setTargetAtTime(t, this.context.currentTime, 0.01),
              this
            );
          },
        })),
        (_r.prototype = Object.assign(Object.create(mr.prototype), {
          constructor: _r,
          getOutput: function () {
            return this.panner;
          },
          getRefDistance: function () {
            return this.panner.refDistance;
          },
          setRefDistance: function (t) {
            return (this.panner.refDistance = t), this;
          },
          getRolloffFactor: function () {
            return this.panner.rolloffFactor;
          },
          setRolloffFactor: function (t) {
            return (this.panner.rolloffFactor = t), this;
          },
          getDistanceModel: function () {
            return this.panner.distanceModel;
          },
          setDistanceModel: function (t) {
            return (this.panner.distanceModel = t), this;
          },
          getMaxDistance: function () {
            return this.panner.maxDistance;
          },
          setMaxDistance: function (t) {
            return (this.panner.maxDistance = t), this;
          },
          setDirectionalCone: function (t, e, i) {
            return (
              (this.panner.coneInnerAngle = t),
              (this.panner.coneOuterAngle = e),
              (this.panner.coneOuterGain = i),
              this
            );
          },
          updateMatrixWorld: (function () {
            var t = new s(),
              e = new r(),
              i = new s(),
              n = new s();
            return function (r) {
              b.prototype.updateMatrixWorld.call(this, r),
                (r = this.panner),
                this.matrixWorld.decompose(t, e, i),
                n.set(0, 0, 1).applyQuaternion(e),
                r.setPosition(t.x, t.y, t.z),
                r.setOrientation(n.x, n.y, n.z);
            };
          })(),
        })),
        Object.assign(gr.prototype, {
          getFrequencyData: function () {
            return this.analyser.getByteFrequencyData(this.data), this.data;
          },
          getAverageFrequency: function () {
            for (
              var t = 0, e = this.getFrequencyData(), i = 0;
              i < e.length;
              i++
            )
              t += e[i];
            return t / e.length;
          },
        }),
        Object.assign(vr.prototype, {
          accumulate: function (t, e) {
            var i = this.buffer,
              n = this.valueSize;
            t = t * n + n;
            var r = this.cumulativeWeight;
            if (0 === r) {
              for (r = 0; r !== n; ++r) i[t + r] = i[r];
              r = e;
            } else (r += e), this._mixBufferRegion(i, t, 0, e / r, n);
            this.cumulativeWeight = r;
          },
          apply: function (t) {
            var e = this.valueSize,
              i = this.buffer;
            t = t * e + e;
            var n = this.cumulativeWeight,
              r = this.binding;
            (this.cumulativeWeight = 0),
              1 > n && this._mixBufferRegion(i, t, 3 * e, 1 - n, e),
              (n = e);
            for (var s = e + e; n !== s; ++n)
              if (i[n] !== i[n + e]) {
                r.setValue(i, t);
                break;
              }
          },
          saveOriginalState: function () {
            var t = this.buffer,
              e = this.valueSize,
              i = 3 * e;
            this.binding.getValue(t, i);
            for (var n = e; n !== i; ++n) t[n] = t[i + (n % e)];
            this.cumulativeWeight = 0;
          },
          restoreOriginalState: function () {
            this.binding.setValue(this.buffer, 3 * this.valueSize);
          },
          _select: function (t, e, i, n, r) {
            if (0.5 <= n) for (n = 0; n !== r; ++n) t[e + n] = t[i + n];
          },
          _slerp: function (t, e, i, n) {
            r.slerpFlat(t, e, t, e, t, i, n);
          },
          _lerp: function (t, e, i, n, r) {
            for (var s = 1 - n, o = 0; o !== r; ++o) {
              var a = e + o;
              t[a] = t[a] * s + t[i + o] * n;
            }
          },
        }),
        Object.assign(yr.prototype, {
          getValue: function (t, e) {
            this.bind();
            var i = this._bindings[this._targetGroup.nCachedObjects_];
            void 0 !== i && i.getValue(t, e);
          },
          setValue: function (t, e) {
            for (
              var i = this._bindings,
                n = this._targetGroup.nCachedObjects_,
                r = i.length;
              n !== r;
              ++n
            )
              i[n].setValue(t, e);
          },
          bind: function () {
            for (
              var t = this._bindings,
                e = this._targetGroup.nCachedObjects_,
                i = t.length;
              e !== i;
              ++e
            )
              t[e].bind();
          },
          unbind: function () {
            for (
              var t = this._bindings,
                e = this._targetGroup.nCachedObjects_,
                i = t.length;
              e !== i;
              ++e
            )
              t[e].unbind();
          },
        }),
        Object.assign(xr, {
          Composite: yr,
          create: function (t, e, i) {
            return t && t.isAnimationObjectGroup
              ? new xr.Composite(t, e, i)
              : new xr(t, e, i);
          },
          sanitizeNodeName: (function () {
            var t = /[\[\]\.:\/]/g;
            return function (e) {
              return e.replace(/\s/g, "_").replace(t, "");
            };
          })(),
          parseTrackName: (function () {
            var t = "[^" + "\\[\\]\\.:\\/".replace("\\.", "") + "]",
              e = /((?:WC+[\/:])*)/.source.replace("WC", "[^\\[\\]\\.:\\/]");
            t = /(WCOD+)?/.source.replace("WCOD", t);
            var i = /(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace(
                "WC",
                "[^\\[\\]\\.:\\/]"
              ),
              n = /\.(WC+)(?:\[(.+)\])?/.source.replace(
                "WC",
                "[^\\[\\]\\.:\\/]"
              ),
              r = new RegExp("^" + e + t + i + n + "$"),
              s = ["material", "materials", "bones"];
            return function (t) {
              var e = r.exec(t);
              if (!e)
                throw Error("PropertyBinding: Cannot parse trackName: " + t);
              e = {
                nodeName: e[2],
                objectName: e[3],
                objectIndex: e[4],
                propertyName: e[5],
                propertyIndex: e[6],
              };
              var i = e.nodeName && e.nodeName.lastIndexOf(".");
              if (void 0 !== i && -1 !== i) {
                var n = e.nodeName.substring(i + 1);
                -1 !== s.indexOf(n) &&
                  ((e.nodeName = e.nodeName.substring(0, i)),
                  (e.objectName = n));
              }
              if (null === e.propertyName || 0 === e.propertyName.length)
                throw Error(
                  "PropertyBinding: can not parse propertyName from trackName: " +
                    t
                );
              return e;
            };
          })(),
          findNode: function (t, e) {
            if (
              !e ||
              "" === e ||
              "root" === e ||
              "." === e ||
              -1 === e ||
              e === t.name ||
              e === t.uuid
            )
              return t;
            if (t.skeleton) {
              var i = t.skeleton.getBoneByName(e);
              if (void 0 !== i) return i;
            }
            if (t.children) {
              var n = function (t) {
                for (var i = 0; i < t.length; i++) {
                  var r = t[i];
                  if (r.name === e || r.uuid === e || (r = n(r.children)))
                    return r;
                }
                return null;
              };
              if ((t = n(t.children))) return t;
            }
            return null;
          },
        }),
        Object.assign(xr.prototype, {
          _getValue_unavailable: function () {},
          _setValue_unavailable: function () {},
          BindingType: {
            Direct: 0,
            EntireArray: 1,
            ArrayElement: 2,
            HasFromToArray: 3,
          },
          Versioning: { None: 0, NeedsUpdate: 1, MatrixWorldNeedsUpdate: 2 },
          GetterByBindingType: [
            function (t, e) {
              t[e] = this.node[this.propertyName];
            },
            function (t, e) {
              for (
                var i = this.resolvedProperty, n = 0, r = i.length;
                n !== r;
                ++n
              )
                t[e++] = i[n];
            },
            function (t, e) {
              t[e] = this.resolvedProperty[this.propertyIndex];
            },
            function (t, e) {
              this.resolvedProperty.toArray(t, e);
            },
          ],
          SetterByBindingTypeAndVersioning: [
            [
              function (t, e) {
                this.targetObject[this.propertyName] = t[e];
              },
              function (t, e) {
                (this.targetObject[this.propertyName] = t[e]),
                  (this.targetObject.needsUpdate = !0);
              },
              function (t, e) {
                (this.targetObject[this.propertyName] = t[e]),
                  (this.targetObject.matrixWorldNeedsUpdate = !0);
              },
            ],
            [
              function (t, e) {
                for (
                  var i = this.resolvedProperty, n = 0, r = i.length;
                  n !== r;
                  ++n
                )
                  i[n] = t[e++];
              },
              function (t, e) {
                for (
                  var i = this.resolvedProperty, n = 0, r = i.length;
                  n !== r;
                  ++n
                )
                  i[n] = t[e++];
                this.targetObject.needsUpdate = !0;
              },
              function (t, e) {
                for (
                  var i = this.resolvedProperty, n = 0, r = i.length;
                  n !== r;
                  ++n
                )
                  i[n] = t[e++];
                this.targetObject.matrixWorldNeedsUpdate = !0;
              },
            ],
            [
              function (t, e) {
                this.resolvedProperty[this.propertyIndex] = t[e];
              },
              function (t, e) {
                (this.resolvedProperty[this.propertyIndex] = t[e]),
                  (this.targetObject.needsUpdate = !0);
              },
              function (t, e) {
                (this.resolvedProperty[this.propertyIndex] = t[e]),
                  (this.targetObject.matrixWorldNeedsUpdate = !0);
              },
            ],
            [
              function (t, e) {
                this.resolvedProperty.fromArray(t, e);
              },
              function (t, e) {
                this.resolvedProperty.fromArray(t, e),
                  (this.targetObject.needsUpdate = !0);
              },
              function (t, e) {
                this.resolvedProperty.fromArray(t, e),
                  (this.targetObject.matrixWorldNeedsUpdate = !0);
              },
            ],
          ],
          getValue: function (t, e) {
            this.bind(), this.getValue(t, e);
          },
          setValue: function (t, e) {
            this.bind(), this.setValue(t, e);
          },
          bind: function () {
            var t = this.node,
              e = this.parsedPath,
              i = e.objectName,
              n = e.propertyName,
              r = e.propertyIndex;
            if (
              (t ||
                (this.node = t =
                  xr.findNode(this.rootNode, e.nodeName) || this.rootNode),
              (this.getValue = this._getValue_unavailable),
              (this.setValue = this._setValue_unavailable),
              t)
            ) {
              if (i) {
                var s = e.objectIndex;
                switch (i) {
                  case "materials":
                    if (!t.material)
                      return void console.error(
                        "THREE.PropertyBinding: Can not bind to material as node does not have a material.",
                        this
                      );
                    if (!t.material.materials)
                      return void console.error(
                        "THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",
                        this
                      );
                    t = t.material.materials;
                    break;
                  case "bones":
                    if (!t.skeleton)
                      return void console.error(
                        "THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",
                        this
                      );
                    for (t = t.skeleton.bones, i = 0; i < t.length; i++)
                      if (t[i].name === s) {
                        s = i;
                        break;
                      }
                    break;
                  default:
                    if (void 0 === t[i])
                      return void console.error(
                        "THREE.PropertyBinding: Can not bind to objectName of node undefined.",
                        this
                      );
                    t = t[i];
                }
                if (void 0 !== s) {
                  if (void 0 === t[s])
                    return void console.error(
                      "THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",
                      this,
                      t
                    );
                  t = t[s];
                }
              }
              if (((s = t[n]), void 0 === s))
                console.error(
                  "THREE.PropertyBinding: Trying to update property for track: " +
                    e.nodeName +
                    "." +
                    n +
                    " but it wasn't found.",
                  t
                );
              else {
                if (
                  ((e = this.Versioning.None),
                  (this.targetObject = t),
                  void 0 !== t.needsUpdate
                    ? (e = this.Versioning.NeedsUpdate)
                    : void 0 !== t.matrixWorldNeedsUpdate &&
                      (e = this.Versioning.MatrixWorldNeedsUpdate),
                  (i = this.BindingType.Direct),
                  void 0 !== r)
                ) {
                  if ("morphTargetInfluences" === n) {
                    if (!t.geometry)
                      return void console.error(
                        "THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",
                        this
                      );
                    if (t.geometry.isBufferGeometry) {
                      if (!t.geometry.morphAttributes)
                        return void console.error(
                          "THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",
                          this
                        );
                      for (
                        i = 0;
                        i < this.node.geometry.morphAttributes.position.length;
                        i++
                      )
                        if (t.geometry.morphAttributes.position[i].name === r) {
                          r = i;
                          break;
                        }
                    } else {
                      if (!t.geometry.morphTargets)
                        return void console.error(
                          "THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",
                          this
                        );
                      for (
                        i = 0;
                        i < this.node.geometry.morphTargets.length;
                        i++
                      )
                        if (t.geometry.morphTargets[i].name === r) {
                          r = i;
                          break;
                        }
                    }
                  }
                  (i = this.BindingType.ArrayElement),
                    (this.resolvedProperty = s),
                    (this.propertyIndex = r);
                } else
                  void 0 !== s.fromArray && void 0 !== s.toArray
                    ? ((i = this.BindingType.HasFromToArray),
                      (this.resolvedProperty = s))
                    : Array.isArray(s)
                    ? ((i = this.BindingType.EntireArray),
                      (this.resolvedProperty = s))
                    : (this.propertyName = n);
                (this.getValue = this.GetterByBindingType[i]),
                  (this.setValue = this.SetterByBindingTypeAndVersioning[i][e]);
              }
            } else
              console.error(
                "THREE.PropertyBinding: Trying to update node for track: " +
                  this.path +
                  " but it wasn't found."
              );
          },
          unbind: function () {
            (this.node = null),
              (this.getValue = this._getValue_unbound),
              (this.setValue = this._setValue_unbound);
          },
        }),
        Object.assign(xr.prototype, {
          _getValue_unbound: xr.prototype.getValue,
          _setValue_unbound: xr.prototype.setValue,
        }),
        Object.assign(wr.prototype, {
          isAnimationObjectGroup: !0,
          add: function () {
            for (
              var t = this._objects,
                e = t.length,
                i = this.nCachedObjects_,
                n = this._indicesByUUID,
                r = this._paths,
                s = this._parsedPaths,
                o = this._bindings,
                a = o.length,
                h = void 0,
                l = 0,
                u = arguments.length;
              l !== u;
              ++l
            ) {
              var c = arguments[l],
                p = c.uuid,
                d = n[p];
              if (void 0 === d) {
                (d = e++), (n[p] = d), t.push(c), (p = 0);
                for (var f = a; p !== f; ++p) o[p].push(new xr(c, r[p], s[p]));
              } else if (d < i) {
                h = t[d];
                var m = --i;
                for (
                  f = t[m],
                    n[f.uuid] = d,
                    t[d] = f,
                    n[p] = m,
                    t[m] = c,
                    p = 0,
                    f = a;
                  p !== f;
                  ++p
                ) {
                  var _ = o[p],
                    g = _[d];
                  (_[d] = _[m]),
                    void 0 === g && (g = new xr(c, r[p], s[p])),
                    (_[m] = g);
                }
              } else
                t[d] !== h &&
                  console.error(
                    "THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes."
                  );
            }
            this.nCachedObjects_ = i;
          },
          remove: function () {
            for (
              var t = this._objects,
                e = this.nCachedObjects_,
                i = this._indicesByUUID,
                n = this._bindings,
                r = n.length,
                s = 0,
                o = arguments.length;
              s !== o;
              ++s
            ) {
              var a = arguments[s],
                h = a.uuid,
                l = i[h];
              if (void 0 !== l && l >= e) {
                var u = e++,
                  c = t[u];
                for (
                  i[c.uuid] = l, t[l] = c, i[h] = u, t[u] = a, a = 0, h = r;
                  a !== h;
                  ++a
                ) {
                  c = n[a];
                  var p = c[l];
                  (c[l] = c[u]), (c[u] = p);
                }
              }
            }
            this.nCachedObjects_ = e;
          },
          uncache: function () {
            for (
              var t = this._objects,
                e = t.length,
                i = this.nCachedObjects_,
                n = this._indicesByUUID,
                r = this._bindings,
                s = r.length,
                o = 0,
                a = arguments.length;
              o !== a;
              ++o
            ) {
              var h = arguments[o].uuid,
                l = n[h];
              if (void 0 !== l)
                if ((delete n[h], l < i)) {
                  h = --i;
                  var u = t[h],
                    c = --e,
                    p = t[c];
                  for (
                    n[u.uuid] = l,
                      t[l] = u,
                      n[p.uuid] = h,
                      t[h] = p,
                      t.pop(),
                      u = 0,
                      p = s;
                    u !== p;
                    ++u
                  ) {
                    var d = r[u],
                      f = d[c];
                    (d[l] = d[h]), (d[h] = f), d.pop();
                  }
                } else
                  for (
                    c = --e,
                      p = t[c],
                      n[p.uuid] = l,
                      t[l] = p,
                      t.pop(),
                      u = 0,
                      p = s;
                    u !== p;
                    ++u
                  )
                    (d = r[u]), (d[l] = d[c]), d.pop();
            }
            this.nCachedObjects_ = i;
          },
          subscribe_: function (t, e) {
            var i = this._bindingsIndicesByPath,
              n = i[t],
              r = this._bindings;
            if (void 0 !== n) return r[n];
            var s = this._paths,
              o = this._parsedPaths,
              a = this._objects,
              h = this.nCachedObjects_,
              l = Array(a.length);
            for (
              n = r.length,
                i[t] = n,
                s.push(t),
                o.push(e),
                r.push(l),
                i = h,
                n = a.length;
              i !== n;
              ++i
            )
              l[i] = new xr(a[i], t, e);
            return l;
          },
          unsubscribe_: function (t) {
            var e = this._bindingsIndicesByPath,
              i = e[t];
            if (void 0 !== i) {
              var n = this._paths,
                r = this._parsedPaths,
                s = this._bindings,
                o = s.length - 1,
                a = s[o];
              (e[t[o]] = i),
                (s[i] = a),
                s.pop(),
                (r[i] = r[o]),
                r.pop(),
                (n[i] = n[o]),
                n.pop();
            }
          },
        }),
        Object.assign(br.prototype, {
          play: function () {
            return this._mixer._activateAction(this), this;
          },
          stop: function () {
            return this._mixer._deactivateAction(this), this.reset();
          },
          reset: function () {
            return (
              (this.paused = !1),
              (this.enabled = !0),
              (this.time = 0),
              (this._loopCount = -1),
              (this._startTime = null),
              this.stopFading().stopWarping()
            );
          },
          isRunning: function () {
            return (
              this.enabled &&
              !this.paused &&
              0 !== this.timeScale &&
              null === this._startTime &&
              this._mixer._isActiveAction(this)
            );
          },
          isScheduled: function () {
            return this._mixer._isActiveAction(this);
          },
          startAt: function (t) {
            return (this._startTime = t), this;
          },
          setLoop: function (t, e) {
            return (this.loop = t), (this.repetitions = e), this;
          },
          setEffectiveWeight: function (t) {
            return (
              (this.weight = t),
              (this._effectiveWeight = this.enabled ? t : 0),
              this.stopFading()
            );
          },
          getEffectiveWeight: function () {
            return this._effectiveWeight;
          },
          fadeIn: function (t) {
            return this._scheduleFading(t, 0, 1);
          },
          fadeOut: function (t) {
            return this._scheduleFading(t, 1, 0);
          },
          crossFadeFrom: function (t, e, i) {
            if ((t.fadeOut(e), this.fadeIn(e), i)) {
              i = this._clip.duration;
              var n = t._clip.duration,
                r = i / n;
              t.warp(1, n / i, e), this.warp(r, 1, e);
            }
            return this;
          },
          crossFadeTo: function (t, e, i) {
            return t.crossFadeFrom(this, e, i);
          },
          stopFading: function () {
            var t = this._weightInterpolant;
            return (
              null !== t &&
                ((this._weightInterpolant = null),
                this._mixer._takeBackControlInterpolant(t)),
              this
            );
          },
          setEffectiveTimeScale: function (t) {
            return (
              (this.timeScale = t),
              (this._effectiveTimeScale = this.paused ? 0 : t),
              this.stopWarping()
            );
          },
          getEffectiveTimeScale: function () {
            return this._effectiveTimeScale;
          },
          setDuration: function (t) {
            return (
              (this.timeScale = this._clip.duration / t), this.stopWarping()
            );
          },
          syncWith: function (t) {
            return (
              (this.time = t.time),
              (this.timeScale = t.timeScale),
              this.stopWarping()
            );
          },
          halt: function (t) {
            return this.warp(this._effectiveTimeScale, 0, t);
          },
          warp: function (t, e, i) {
            var n = this._mixer,
              r = n.time,
              s = this._timeScaleInterpolant,
              o = this.timeScale;
            return (
              null === s &&
                (this._timeScaleInterpolant = s = n._lendControlInterpolant()),
              (n = s.parameterPositions),
              (s = s.sampleValues),
              (n[0] = r),
              (n[1] = r + i),
              (s[0] = t / o),
              (s[1] = e / o),
              this
            );
          },
          stopWarping: function () {
            var t = this._timeScaleInterpolant;
            return (
              null !== t &&
                ((this._timeScaleInterpolant = null),
                this._mixer._takeBackControlInterpolant(t)),
              this
            );
          },
          getMixer: function () {
            return this._mixer;
          },
          getClip: function () {
            return this._clip;
          },
          getRoot: function () {
            return this._localRoot || this._mixer._root;
          },
          _update: function (t, e, i, n) {
            if (this.enabled) {
              var r = this._startTime;
              if (null !== r) {
                if (((e = (t - r) * i), 0 > e || 0 === i)) return;
                (this._startTime = null), (e *= i);
              }
              if (
                ((e *= this._updateTimeScale(t)),
                (i = this._updateTime(e)),
                (t = this._updateWeight(t)),
                0 < t)
              ) {
                (e = this._interpolants), (r = this._propertyBindings);
                for (var s = 0, o = e.length; s !== o; ++s)
                  e[s].evaluate(i), r[s].accumulate(n, t);
              }
            } else this._updateWeight(t);
          },
          _updateWeight: function (t) {
            var e = 0;
            if (this.enabled) {
              e = this.weight;
              var i = this._weightInterpolant;
              if (null !== i) {
                var n = i.evaluate(t)[0];
                (e *= n),
                  t > i.parameterPositions[1] &&
                    (this.stopFading(), 0 === n && (this.enabled = !1));
              }
            }
            return (this._effectiveWeight = e);
          },
          _updateTimeScale: function (t) {
            var e = 0;
            if (!this.paused) {
              e = this.timeScale;
              var i = this._timeScaleInterpolant;
              if (null !== i) {
                var n = i.evaluate(t)[0];
                (e *= n),
                  t > i.parameterPositions[1] &&
                    (this.stopWarping(),
                    0 === e ? (this.paused = !0) : (this.timeScale = e));
              }
            }
            return (this._effectiveTimeScale = e);
          },
          _updateTime: function (t) {
            var e = this.time + t,
              i = this._clip.duration,
              n = this.loop,
              r = this._loopCount,
              s = 2202 === n;
            if (0 === t) return -1 === r ? e : s && 1 === (1 & r) ? i - e : e;
            if (2200 === n)
              t: {
                if (
                  (-1 === r &&
                    ((this._loopCount = 0), this._setEndings(!0, !0, !1)),
                  e >= i)
                )
                  e = i;
                else {
                  if (!(0 > e)) break t;
                  e = 0;
                }
                this.clampWhenFinished
                  ? (this.paused = !0)
                  : (this.enabled = !1),
                  this._mixer.dispatchEvent({
                    type: "finished",
                    action: this,
                    direction: 0 > t ? -1 : 1,
                  });
              }
            else {
              if (
                (-1 === r &&
                  (0 <= t
                    ? ((r = 0), this._setEndings(!0, 0 === this.repetitions, s))
                    : this._setEndings(0 === this.repetitions, !0, s)),
                e >= i || 0 > e)
              ) {
                (n = Math.floor(e / i)), (e -= i * n), (r += Math.abs(n));
                var o = this.repetitions - r;
                0 >= o
                  ? (this.clampWhenFinished
                      ? (this.paused = !0)
                      : (this.enabled = !1),
                    (e = 0 < t ? i : 0),
                    this._mixer.dispatchEvent({
                      type: "finished",
                      action: this,
                      direction: 0 < t ? 1 : -1,
                    }))
                  : (1 === o
                      ? ((t = 0 > t), this._setEndings(t, !t, s))
                      : this._setEndings(!1, !1, s),
                    (this._loopCount = r),
                    this._mixer.dispatchEvent({
                      type: "loop",
                      action: this,
                      loopDelta: n,
                    }));
              }
              if (s && 1 === (1 & r)) return (this.time = e), i - e;
            }
            return (this.time = e);
          },
          _setEndings: function (t, e, i) {
            var n = this._interpolantSettings;
            i
              ? ((n.endingStart = 2401), (n.endingEnd = 2401))
              : ((n.endingStart = t
                  ? this.zeroSlopeAtStart
                    ? 2401
                    : 2400
                  : 2402),
                (n.endingEnd = e ? (this.zeroSlopeAtEnd ? 2401 : 2400) : 2402));
          },
          _scheduleFading: function (t, e, i) {
            var n = this._mixer,
              r = n.time,
              s = this._weightInterpolant;
            return (
              null === s &&
                (this._weightInterpolant = s = n._lendControlInterpolant()),
              (n = s.parameterPositions),
              (s = s.sampleValues),
              (n[0] = r),
              (s[0] = e),
              (n[1] = r + t),
              (s[1] = i),
              this
            );
          },
        }),
        (Tr.prototype = Object.assign(Object.create(e.prototype), {
          constructor: Tr,
          _bindAction: function (t, e) {
            var i = t._localRoot || this._root,
              n = t._clip.tracks,
              r = n.length,
              s = t._propertyBindings;
            t = t._interpolants;
            var o = i.uuid,
              a = this._bindingsByRootAndName,
              h = a[o];
            for (void 0 === h && ((h = {}), (a[o] = h)), a = 0; a !== r; ++a) {
              var l = n[a],
                u = l.name,
                c = h[u];
              if (void 0 === c) {
                if (((c = s[a]), void 0 !== c)) {
                  null === c._cacheIndex &&
                    (++c.referenceCount, this._addInactiveBinding(c, o, u));
                  continue;
                }
                (c = new vr(
                  xr.create(
                    i,
                    u,
                    e && e._propertyBindings[a].binding.parsedPath
                  ),
                  l.ValueTypeName,
                  l.getValueSize()
                )),
                  ++c.referenceCount,
                  this._addInactiveBinding(c, o, u);
              }
              (s[a] = c), (t[a].resultBuffer = c.buffer);
            }
          },
          _activateAction: function (t) {
            if (!this._isActiveAction(t)) {
              if (null === t._cacheIndex) {
                var e = (t._localRoot || this._root).uuid,
                  i = t._clip.uuid,
                  n = this._actionsByClip[i];
                this._bindAction(t, n && n.knownActions[0]),
                  this._addInactiveAction(t, i, e);
              }
              for (e = t._propertyBindings, i = 0, n = e.length; i !== n; ++i) {
                var r = e[i];
                0 === r.useCount++ &&
                  (this._lendBinding(r), r.saveOriginalState());
              }
              this._lendAction(t);
            }
          },
          _deactivateAction: function (t) {
            if (this._isActiveAction(t)) {
              for (
                var e = t._propertyBindings, i = 0, n = e.length;
                i !== n;
                ++i
              ) {
                var r = e[i];
                0 === --r.useCount &&
                  (r.restoreOriginalState(), this._takeBackBinding(r));
              }
              this._takeBackAction(t);
            }
          },
          _initMemoryManager: function () {
            (this._actions = []),
              (this._nActiveActions = 0),
              (this._actionsByClip = {}),
              (this._bindings = []),
              (this._nActiveBindings = 0),
              (this._bindingsByRootAndName = {}),
              (this._controlInterpolants = []),
              (this._nActiveControlInterpolants = 0);
            var t = this;
            this.stats = {
              actions: {
                get total() {
                  return t._actions.length;
                },
                get inUse() {
                  return t._nActiveActions;
                },
              },
              bindings: {
                get total() {
                  return t._bindings.length;
                },
                get inUse() {
                  return t._nActiveBindings;
                },
              },
              controlInterpolants: {
                get total() {
                  return t._controlInterpolants.length;
                },
                get inUse() {
                  return t._nActiveControlInterpolants;
                },
              },
            };
          },
          _isActiveAction: function (t) {
            return (t = t._cacheIndex), null !== t && t < this._nActiveActions;
          },
          _addInactiveAction: function (t, e, i) {
            var n = this._actions,
              r = this._actionsByClip,
              s = r[e];
            void 0 === s
              ? ((s = { knownActions: [t], actionByRoot: {} }),
                (t._byClipCacheIndex = 0),
                (r[e] = s))
              : ((e = s.knownActions),
                (t._byClipCacheIndex = e.length),
                e.push(t)),
              (t._cacheIndex = n.length),
              n.push(t),
              (s.actionByRoot[i] = t);
          },
          _removeInactiveAction: function (t) {
            var e = this._actions,
              i = e[e.length - 1],
              n = t._cacheIndex;
            (i._cacheIndex = n),
              (e[n] = i),
              e.pop(),
              (t._cacheIndex = null),
              (e = t._clip.uuid),
              (i = this._actionsByClip),
              (n = i[e]);
            var r = n.knownActions,
              s = r[r.length - 1],
              o = t._byClipCacheIndex;
            (s._byClipCacheIndex = o),
              (r[o] = s),
              r.pop(),
              (t._byClipCacheIndex = null),
              delete n.actionByRoot[(t._localRoot || this._root).uuid],
              0 === r.length && delete i[e],
              this._removeInactiveBindingsForAction(t);
          },
          _removeInactiveBindingsForAction: function (t) {
            t = t._propertyBindings;
            for (var e = 0, i = t.length; e !== i; ++e) {
              var n = t[e];
              0 === --n.referenceCount && this._removeInactiveBinding(n);
            }
          },
          _lendAction: function (t) {
            var e = this._actions,
              i = t._cacheIndex,
              n = this._nActiveActions++,
              r = e[n];
            (t._cacheIndex = n), (e[n] = t), (r._cacheIndex = i), (e[i] = r);
          },
          _takeBackAction: function (t) {
            var e = this._actions,
              i = t._cacheIndex,
              n = --this._nActiveActions,
              r = e[n];
            (t._cacheIndex = n), (e[n] = t), (r._cacheIndex = i), (e[i] = r);
          },
          _addInactiveBinding: function (t, e, i) {
            var n = this._bindingsByRootAndName,
              r = n[e],
              s = this._bindings;
            void 0 === r && ((r = {}), (n[e] = r)),
              (r[i] = t),
              (t._cacheIndex = s.length),
              s.push(t);
          },
          _removeInactiveBinding: function (t) {
            var e = this._bindings,
              i = t.binding,
              n = i.rootNode.uuid;
            i = i.path;
            var r = this._bindingsByRootAndName,
              s = r[n],
              o = e[e.length - 1];
            (t = t._cacheIndex),
              (o._cacheIndex = t),
              (e[t] = o),
              e.pop(),
              delete s[i];
            t: {
              for (var a in s) break t;
              delete r[n];
            }
          },
          _lendBinding: function (t) {
            var e = this._bindings,
              i = t._cacheIndex,
              n = this._nActiveBindings++,
              r = e[n];
            (t._cacheIndex = n), (e[n] = t), (r._cacheIndex = i), (e[i] = r);
          },
          _takeBackBinding: function (t) {
            var e = this._bindings,
              i = t._cacheIndex,
              n = --this._nActiveBindings,
              r = e[n];
            (t._cacheIndex = n), (e[n] = t), (r._cacheIndex = i), (e[i] = r);
          },
          _lendControlInterpolant: function () {
            var t = this._controlInterpolants,
              e = this._nActiveControlInterpolants++,
              i = t[e];
            return (
              void 0 === i &&
                ((i = new Vn(
                  new Float32Array(2),
                  new Float32Array(2),
                  1,
                  this._controlInterpolantsResultBuffer
                )),
                (i.__cacheIndex = e),
                (t[e] = i)),
              i
            );
          },
          _takeBackControlInterpolant: function (t) {
            var e = this._controlInterpolants,
              i = t.__cacheIndex,
              n = --this._nActiveControlInterpolants,
              r = e[n];
            (t.__cacheIndex = n), (e[n] = t), (r.__cacheIndex = i), (e[i] = r);
          },
          _controlInterpolantsResultBuffer: new Float32Array(1),
          clipAction: function (t, e) {
            var i = e || this._root,
              n = i.uuid;
            (i = "string" == typeof t ? Kn.findByName(i, t) : t),
              (t = null !== i ? i.uuid : t);
            var r = this._actionsByClip[t],
              s = null;
            if (void 0 !== r) {
              if (((s = r.actionByRoot[n]), void 0 !== s)) return s;
              (s = r.knownActions[0]), null === i && (i = s._clip);
            }
            return null === i
              ? null
              : ((e = new br(this, i, e)),
                this._bindAction(e, s),
                this._addInactiveAction(e, t, n),
                e);
          },
          existingAction: function (t, e) {
            var i = e || this._root;
            return (
              (e = i.uuid),
              (i = "string" == typeof t ? Kn.findByName(i, t) : t),
              (t = this._actionsByClip[i ? i.uuid : t]),
              void 0 !== t ? t.actionByRoot[e] || null : null
            );
          },
          stopAllAction: function () {
            for (
              var t = this._actions,
                e = this._nActiveActions,
                i = this._bindings,
                n = this._nActiveBindings,
                r = (this._nActiveBindings = this._nActiveActions = 0);
              r !== e;
              ++r
            )
              t[r].reset();
            for (r = 0; r !== n; ++r) i[r].useCount = 0;
            return this;
          },
          update: function (t) {
            t *= this.timeScale;
            for (
              var e = this._actions,
                i = this._nActiveActions,
                n = (this.time += t),
                r = Math.sign(t),
                s = (this._accuIndex ^= 1),
                o = 0;
              o !== i;
              ++o
            )
              e[o]._update(n, t, r, s);
            for (
              t = this._bindings, e = this._nActiveBindings, o = 0;
              o !== e;
              ++o
            )
              t[o].apply(s);
            return this;
          },
          getRoot: function () {
            return this._root;
          },
          uncacheClip: function (t) {
            var e = this._actions;
            t = t.uuid;
            var i = this._actionsByClip,
              n = i[t];
            if (void 0 !== n) {
              n = n.knownActions;
              for (var r = 0, s = n.length; r !== s; ++r) {
                var o = n[r];
                this._deactivateAction(o);
                var a = o._cacheIndex,
                  h = e[e.length - 1];
                (o._cacheIndex = null),
                  (o._byClipCacheIndex = null),
                  (h._cacheIndex = a),
                  (e[a] = h),
                  e.pop(),
                  this._removeInactiveBindingsForAction(o);
              }
              delete i[t];
            }
          },
          uncacheRoot: function (t) {
            t = t.uuid;
            var e = this._actionsByClip;
            for (n in e) {
              var i = e[n].actionByRoot[t];
              void 0 !== i &&
                (this._deactivateAction(i), this._removeInactiveAction(i));
            }
            var n = this._bindingsByRootAndName[t];
            if (void 0 !== n)
              for (var r in n)
                (t = n[r]),
                  t.restoreOriginalState(),
                  this._removeInactiveBinding(t);
          },
          uncacheAction: function (t, e) {
            (t = this.existingAction(t, e)),
              null !== t &&
                (this._deactivateAction(t), this._removeInactiveAction(t));
          },
        })),
        (Er.prototype.clone = function () {
          return new Er(
            void 0 === this.value.clone ? this.value : this.value.clone()
          );
        }),
        (Sr.prototype = Object.assign(Object.create(N.prototype), {
          constructor: Sr,
          isInstancedBufferGeometry: !0,
          copy: function (t) {
            return (
              N.prototype.copy.call(this, t),
              (this.maxInstancedCount = t.maxInstancedCount),
              this
            );
          },
          clone: function () {
            return new this.constructor().copy(this);
          },
        })),
        (Mr.prototype = Object.assign(Object.create(Me.prototype), {
          constructor: Mr,
          isInstancedInterleavedBuffer: !0,
          copy: function (t) {
            return (
              Me.prototype.copy.call(this, t),
              (this.meshPerAttribute = t.meshPerAttribute),
              this
            );
          },
        })),
        (Cr.prototype = Object.assign(Object.create(E.prototype), {
          constructor: Cr,
          isInstancedBufferAttribute: !0,
          copy: function (t) {
            return (
              E.prototype.copy.call(this, t),
              (this.meshPerAttribute = t.meshPerAttribute),
              this
            );
          },
        })),
        Object.assign(Pr.prototype, {
          linePrecision: 1,
          set: function (t, e) {
            this.ray.set(t, e);
          },
          setFromCamera: function (t, e) {
            e && e.isPerspectiveCamera
              ? (this.ray.origin.setFromMatrixPosition(e.matrixWorld),
                this.ray.direction
                  .set(t.x, t.y, 0.5)
                  .unproject(e)
                  .sub(this.ray.origin)
                  .normalize())
              : e && e.isOrthographicCamera
              ? (this.ray.origin
                  .set(t.x, t.y, (e.near + e.far) / (e.near - e.far))
                  .unproject(e),
                this.ray.direction
                  .set(0, 0, -1)
                  .transformDirection(e.matrixWorld))
              : console.error("THREE.Raycaster: Unsupported camera type.");
          },
          intersectObject: function (t, e, i) {
            return (i = i || []), Rr(t, this, i, e), i.sort(Ar), i;
          },
          intersectObjects: function (t, e, i) {
            if (((i = i || []), !1 === Array.isArray(t)))
              return (
                console.warn(
                  "THREE.Raycaster.intersectObjects: objects is not an Array."
                ),
                i
              );
            for (var n = 0, r = t.length; n < r; n++) Rr(t[n], this, i, e);
            return i.sort(Ar), i;
          },
        }),
        Object.assign(Lr.prototype, {
          start: function () {
            (this.oldTime = this.startTime =
              ("undefined" == typeof performance ? Date : performance).now()),
              (this.elapsedTime = 0),
              (this.running = !0);
          },
          stop: function () {
            this.getElapsedTime(), (this.autoStart = this.running = !1);
          },
          getElapsedTime: function () {
            return this.getDelta(), this.elapsedTime;
          },
          getDelta: function () {
            var t = 0;
            if (this.autoStart && !this.running) return this.start(), 0;
            if (this.running) {
              var e = (
                "undefined" == typeof performance ? Date : performance
              ).now();
              (t = (e - this.oldTime) / 1e3),
                (this.oldTime = e),
                (this.elapsedTime += t);
            }
            return t;
          },
        }),
        Object.assign(Ir.prototype, {
          set: function (t, e, i) {
            return (this.radius = t), (this.phi = e), (this.theta = i), this;
          },
          clone: function () {
            return new this.constructor().copy(this);
          },
          copy: function (t) {
            return (
              (this.radius = t.radius),
              (this.phi = t.phi),
              (this.theta = t.theta),
              this
            );
          },
          makeSafe: function () {
            return (
              (this.phi = Math.max(1e-6, Math.min(Math.PI - 1e-6, this.phi))),
              this
            );
          },
          setFromVector3: function (t) {
            return this.setFromCartesianCoords(t.x, t.y, t.z);
          },
          setFromCartesianCoords: function (t, e, i) {
            return (
              (this.radius = Math.sqrt(t * t + e * e + i * i)),
              0 === this.radius
                ? (this.phi = this.theta = 0)
                : ((this.theta = Math.atan2(t, i)),
                  (this.phi = Math.acos(ns.clamp(e / this.radius, -1, 1)))),
              this
            );
          },
        }),
        Object.assign(Or.prototype, {
          set: function (t, e, i) {
            return (this.radius = t), (this.theta = e), (this.y = i), this;
          },
          clone: function () {
            return new this.constructor().copy(this);
          },
          copy: function (t) {
            return (
              (this.radius = t.radius),
              (this.theta = t.theta),
              (this.y = t.y),
              this
            );
          },
          setFromVector3: function (t) {
            return this.setFromCartesianCoords(t.x, t.y, t.z);
          },
          setFromCartesianCoords: function (t, e, i) {
            return (
              (this.radius = Math.sqrt(t * t + i * i)),
              (this.theta = Math.atan2(t, i)),
              (this.y = e),
              this
            );
          },
        }),
        Object.assign(Dr.prototype, {
          set: function (t, e) {
            return this.min.copy(t), this.max.copy(e), this;
          },
          setFromPoints: function (t) {
            this.makeEmpty();
            for (var e = 0, i = t.length; e < i; e++) this.expandByPoint(t[e]);
            return this;
          },
          setFromCenterAndSize: (function () {
            var t = new i();
            return function (e, i) {
              return (
                (i = t.copy(i).multiplyScalar(0.5)),
                this.min.copy(e).sub(i),
                this.max.copy(e).add(i),
                this
              );
            };
          })(),
          clone: function () {
            return new this.constructor().copy(this);
          },
          copy: function (t) {
            return this.min.copy(t.min), this.max.copy(t.max), this;
          },
          makeEmpty: function () {
            return (
              (this.min.x = this.min.y = 1 / 0),
              (this.max.x = this.max.y = -(1 / 0)),
              this
            );
          },
          isEmpty: function () {
            return this.max.x < this.min.x || this.max.y < this.min.y;
          },
          getCenter: function (t) {
            return (
              void 0 === t &&
                (console.warn(
                  "THREE.Box2: .getCenter() target is now required"
                ),
                (t = new i())),
              this.isEmpty()
                ? t.set(0, 0)
                : t.addVectors(this.min, this.max).multiplyScalar(0.5)
            );
          },
          getSize: function (t) {
            return (
              void 0 === t &&
                (console.warn("THREE.Box2: .getSize() target is now required"),
                (t = new i())),
              this.isEmpty() ? t.set(0, 0) : t.subVectors(this.max, this.min)
            );
          },
          expandByPoint: function (t) {
            return this.min.min(t), this.max.max(t), this;
          },
          expandByVector: function (t) {
            return this.min.sub(t), this.max.add(t), this;
          },
          expandByScalar: function (t) {
            return this.min.addScalar(-t), this.max.addScalar(t), this;
          },
          containsPoint: function (t) {
            return !(
              t.x < this.min.x ||
              t.x > this.max.x ||
              t.y < this.min.y ||
              t.y > this.max.y
            );
          },
          containsBox: function (t) {
            return (
              this.min.x <= t.min.x &&
              t.max.x <= this.max.x &&
              this.min.y <= t.min.y &&
              t.max.y <= this.max.y
            );
          },
          getParameter: function (t, e) {
            return (
              void 0 === e &&
                (console.warn(
                  "THREE.Box2: .getParameter() target is now required"
                ),
                (e = new i())),
              e.set(
                (t.x - this.min.x) / (this.max.x - this.min.x),
                (t.y - this.min.y) / (this.max.y - this.min.y)
              )
            );
          },
          intersectsBox: function (t) {
            return !(
              t.max.x < this.min.x ||
              t.min.x > this.max.x ||
              t.max.y < this.min.y ||
              t.min.y > this.max.y
            );
          },
          clampPoint: function (t, e) {
            return (
              void 0 === e &&
                (console.warn(
                  "THREE.Box2: .clampPoint() target is now required"
                ),
                (e = new i())),
              e.copy(t).clamp(this.min, this.max)
            );
          },
          distanceToPoint: (function () {
            var t = new i();
            return function (e) {
              return t.copy(e).clamp(this.min, this.max).sub(e).length();
            };
          })(),
          intersect: function (t) {
            return this.min.max(t.min), this.max.min(t.max), this;
          },
          union: function (t) {
            return this.min.min(t.min), this.max.max(t.max), this;
          },
          translate: function (t) {
            return this.min.add(t), this.max.add(t), this;
          },
          equals: function (t) {
            return t.min.equals(this.min) && t.max.equals(this.max);
          },
        }),
        Object.assign(kr.prototype, {
          set: function (t, e) {
            return this.start.copy(t), this.end.copy(e), this;
          },
          clone: function () {
            return new this.constructor().copy(this);
          },
          copy: function (t) {
            return this.start.copy(t.start), this.end.copy(t.end), this;
          },
          getCenter: function (t) {
            return (
              void 0 === t &&
                (console.warn(
                  "THREE.Line3: .getCenter() target is now required"
                ),
                (t = new s())),
              t.addVectors(this.start, this.end).multiplyScalar(0.5)
            );
          },
          delta: function (t) {
            return (
              void 0 === t &&
                (console.warn("THREE.Line3: .delta() target is now required"),
                (t = new s())),
              t.subVectors(this.end, this.start)
            );
          },
          distanceSq: function () {
            return this.start.distanceToSquared(this.end);
          },
          distance: function () {
            return this.start.distanceTo(this.end);
          },
          at: function (t, e) {
            return (
              void 0 === e &&
                (console.warn("THREE.Line3: .at() target is now required"),
                (e = new s())),
              this.delta(e).multiplyScalar(t).add(this.start)
            );
          },
          closestPointToPointParameter: (function () {
            var t = new s(),
              e = new s();
            return function (i, n) {
              return (
                t.subVectors(i, this.start),
                e.subVectors(this.end, this.start),
                (i = e.dot(e)),
                (i = e.dot(t) / i),
                n && (i = ns.clamp(i, 0, 1)),
                i
              );
            };
          })(),
          closestPointToPoint: function (t, e, i) {
            return (
              (t = this.closestPointToPointParameter(t, e)),
              void 0 === i &&
                (console.warn(
                  "THREE.Line3: .closestPointToPoint() target is now required"
                ),
                (i = new s())),
              this.delta(i).multiplyScalar(t).add(this.start)
            );
          },
          applyMatrix4: function (t) {
            return this.start.applyMatrix4(t), this.end.applyMatrix4(t), this;
          },
          equals: function (t) {
            return t.start.equals(this.start) && t.end.equals(this.end);
          },
        }),
        (Nr.prototype = Object.create(b.prototype)),
        (Nr.prototype.constructor = Nr),
        (Nr.prototype.isImmediateRenderObject = !0),
        (zr.prototype = Object.create(Ne.prototype)),
        (zr.prototype.constructor = zr),
        (zr.prototype.update = (function () {
          var t = new s(),
            e = new s(),
            i = new o();
          return function () {
            var n = ["a", "b", "c"];
            this.object.updateMatrixWorld(!0),
              i.getNormalMatrix(this.object.matrixWorld);
            var r = this.object.matrixWorld,
              s = this.geometry.attributes.position,
              o = this.object.geometry;
            if (o && o.isGeometry)
              for (
                var a = o.vertices, h = o.faces, l = (o = 0), u = h.length;
                l < u;
                l++
              )
                for (
                  var c = h[l], p = 0, d = c.vertexNormals.length;
                  p < d;
                  p++
                ) {
                  var f = c.vertexNormals[p];
                  t.copy(a[c[n[p]]]).applyMatrix4(r),
                    e
                      .copy(f)
                      .applyMatrix3(i)
                      .normalize()
                      .multiplyScalar(this.size)
                      .add(t),
                    s.setXYZ(o, t.x, t.y, t.z),
                    (o += 1),
                    s.setXYZ(o, e.x, e.y, e.z),
                    (o += 1);
                }
            else if (o && o.isBufferGeometry)
              for (
                n = o.attributes.position,
                  a = o.attributes.normal,
                  p = o = 0,
                  d = n.count;
                p < d;
                p++
              )
                t.set(n.getX(p), n.getY(p), n.getZ(p)).applyMatrix4(r),
                  e.set(a.getX(p), a.getY(p), a.getZ(p)),
                  e
                    .applyMatrix3(i)
                    .normalize()
                    .multiplyScalar(this.size)
                    .add(t),
                  s.setXYZ(o, t.x, t.y, t.z),
                  (o += 1),
                  s.setXYZ(o, e.x, e.y, e.z),
                  (o += 1);
            s.needsUpdate = !0;
          };
        })()),
        (Fr.prototype = Object.create(b.prototype)),
        (Fr.prototype.constructor = Fr),
        (Fr.prototype.dispose = function () {
          this.cone.geometry.dispose(), this.cone.material.dispose();
        }),
        (Fr.prototype.update = (function () {
          var t = new s(),
            e = new s();
          return function () {
            this.light.updateMatrixWorld();
            var i = this.light.distance ? this.light.distance : 1e3,
              n = i * Math.tan(this.light.angle);
            this.cone.scale.set(n, n, i),
              t.setFromMatrixPosition(this.light.matrixWorld),
              e.setFromMatrixPosition(this.light.target.matrixWorld),
              this.cone.lookAt(e.sub(t)),
              void 0 !== this.color
                ? this.cone.material.color.set(this.color)
                : this.cone.material.color.copy(this.light.color);
          };
        })()),
        (Br.prototype = Object.create(Ne.prototype)),
        (Br.prototype.constructor = Br),
        (Br.prototype.updateMatrixWorld = (function () {
          var t = new s(),
            e = new n(),
            i = new n();
          return function (n) {
            var r = this.bones,
              s = this.geometry,
              o = s.getAttribute("position");
            i.getInverse(this.root.matrixWorld);
            for (var a = 0, h = 0; a < r.length; a++) {
              var l = r[a];
              l.parent &&
                l.parent.isBone &&
                (e.multiplyMatrices(i, l.matrixWorld),
                t.setFromMatrixPosition(e),
                o.setXYZ(h, t.x, t.y, t.z),
                e.multiplyMatrices(i, l.parent.matrixWorld),
                t.setFromMatrixPosition(e),
                o.setXYZ(h + 1, t.x, t.y, t.z),
                (h += 2));
            }
            (s.getAttribute("position").needsUpdate = !0),
              b.prototype.updateMatrixWorld.call(this, n);
          };
        })()),
        (Ur.prototype = Object.create(X.prototype)),
        (Ur.prototype.constructor = Ur),
        (Ur.prototype.dispose = function () {
          this.geometry.dispose(), this.material.dispose();
        }),
        (Ur.prototype.update = function () {
          void 0 !== this.color
            ? this.material.color.set(this.color)
            : this.material.color.copy(this.light.color);
        }),
        (Gr.prototype = Object.create(b.prototype)),
        (Gr.prototype.constructor = Gr),
        (Gr.prototype.dispose = function () {
          this.children[0].geometry.dispose(),
            this.children[0].material.dispose();
        }),
        (Gr.prototype.update = function () {
          var t = 0.5 * this.light.width,
            e = 0.5 * this.light.height,
            i = this.line.geometry.attributes.position,
            n = i.array;
          (n[0] = t),
            (n[1] = -e),
            (n[2] = 0),
            (n[3] = t),
            (n[4] = e),
            (n[5] = 0),
            (n[6] = -t),
            (n[7] = e),
            (n[8] = 0),
            (n[9] = -t),
            (n[10] = -e),
            (n[11] = 0),
            (n[12] = t),
            (n[13] = -e),
            (n[14] = 0),
            (i.needsUpdate = !0),
            void 0 !== this.color
              ? this.line.material.color.set(this.color)
              : this.line.material.color.copy(this.light.color);
        }),
        (Vr.prototype = Object.create(b.prototype)),
        (Vr.prototype.constructor = Vr),
        (Vr.prototype.dispose = function () {
          this.children[0].geometry.dispose(),
            this.children[0].material.dispose();
        }),
        (Vr.prototype.update = (function () {
          var t = new s(),
            e = new _(),
            i = new _();
          return function () {
            var n = this.children[0];
            if (void 0 !== this.color) this.material.color.set(this.color);
            else {
              var r = n.geometry.getAttribute("color");
              e.copy(this.light.color), i.copy(this.light.groundColor);
              for (var s = 0, o = r.count; s < o; s++) {
                var a = s < o / 2 ? e : i;
                r.setXYZ(s, a.r, a.g, a.b);
              }
              r.needsUpdate = !0;
            }
            n.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate());
          };
        })()),
        (jr.prototype = Object.create(Ne.prototype)),
        (jr.prototype.constructor = jr),
        (Wr.prototype = Object.create(Ne.prototype)),
        (Wr.prototype.constructor = Wr),
        (Xr.prototype = Object.create(Ne.prototype)),
        (Xr.prototype.constructor = Xr),
        (Xr.prototype.update = (function () {
          var t = new s(),
            e = new s(),
            i = new o();
          return function () {
            this.object.updateMatrixWorld(!0),
              i.getNormalMatrix(this.object.matrixWorld);
            var n = this.object.matrixWorld,
              r = this.geometry.attributes.position,
              s = this.object.geometry,
              o = s.vertices;
            s = s.faces;
            for (var a = 0, h = 0, l = s.length; h < l; h++) {
              var u = s[h],
                c = u.normal;
              t
                .copy(o[u.a])
                .add(o[u.b])
                .add(o[u.c])
                .divideScalar(3)
                .applyMatrix4(n),
                e
                  .copy(c)
                  .applyMatrix3(i)
                  .normalize()
                  .multiplyScalar(this.size)
                  .add(t),
                r.setXYZ(a, t.x, t.y, t.z),
                (a += 1),
                r.setXYZ(a, e.x, e.y, e.z),
                (a += 1);
            }
            r.needsUpdate = !0;
          };
        })()),
        (qr.prototype = Object.create(b.prototype)),
        (qr.prototype.constructor = qr),
        (qr.prototype.dispose = function () {
          this.lightPlane.geometry.dispose(),
            this.lightPlane.material.dispose(),
            this.targetLine.geometry.dispose(),
            this.targetLine.material.dispose();
        }),
        (qr.prototype.update = (function () {
          var t = new s(),
            e = new s(),
            i = new s();
          return function () {
            t.setFromMatrixPosition(this.light.matrixWorld),
              e.setFromMatrixPosition(this.light.target.matrixWorld),
              i.subVectors(e, t),
              this.lightPlane.lookAt(i),
              void 0 !== this.color
                ? (this.lightPlane.material.color.set(this.color),
                  this.targetLine.material.color.set(this.color))
                : (this.lightPlane.material.color.copy(this.light.color),
                  this.targetLine.material.color.copy(this.light.color)),
              this.targetLine.lookAt(i),
              (this.targetLine.scale.z = i.length());
          };
        })()),
        (Yr.prototype = Object.create(Ne.prototype)),
        (Yr.prototype.constructor = Yr),
        (Yr.prototype.update = (function () {
          function t(t, s, o, a) {
            if ((n.set(s, o, a).unproject(r), (t = i[t]), void 0 !== t))
              for (
                s = e.getAttribute("position"), o = 0, a = t.length;
                o < a;
                o++
              )
                s.setXYZ(t[o], n.x, n.y, n.z);
          }
          var e,
            i,
            n = new s(),
            r = new ge();
          return function () {
            (e = this.geometry),
              (i = this.pointMap),
              r.projectionMatrix.copy(this.camera.projectionMatrix),
              t("c", 0, 0, -1),
              t("t", 0, 0, 1),
              t("n1", -1, -1, -1),
              t("n2", 1, -1, -1),
              t("n3", -1, 1, -1),
              t("n4", 1, 1, -1),
              t("f1", -1, -1, 1),
              t("f2", 1, -1, 1),
              t("f3", -1, 1, 1),
              t("f4", 1, 1, 1),
              t("u1", 0.7, 1.1, -1),
              t("u2", -0.7, 1.1, -1),
              t("u3", 0, 2, -1),
              t("cf1", -1, 0, 1),
              t("cf2", 1, 0, 1),
              t("cf3", 0, -1, 1),
              t("cf4", 0, 1, 1),
              t("cn1", -1, 0, -1),
              t("cn2", 1, 0, -1),
              t("cn3", 0, -1, -1),
              t("cn4", 0, 1, -1),
              (e.getAttribute("position").needsUpdate = !0);
          };
        })()),
        (Zr.prototype = Object.create(Ne.prototype)),
        (Zr.prototype.constructor = Zr),
        (Zr.prototype.update = (function () {
          var t = new p();
          return function (e) {
            if (
              (void 0 !== e &&
                console.warn(
                  "THREE.BoxHelper: .update() has no longer arguments."
                ),
              void 0 !== this.object && t.setFromObject(this.object),
              !t.isEmpty())
            ) {
              e = t.min;
              var i = t.max,
                n = this.geometry.attributes.position,
                r = n.array;
              (r[0] = i.x),
                (r[1] = i.y),
                (r[2] = i.z),
                (r[3] = e.x),
                (r[4] = i.y),
                (r[5] = i.z),
                (r[6] = e.x),
                (r[7] = e.y),
                (r[8] = i.z),
                (r[9] = i.x),
                (r[10] = e.y),
                (r[11] = i.z),
                (r[12] = i.x),
                (r[13] = i.y),
                (r[14] = e.z),
                (r[15] = e.x),
                (r[16] = i.y),
                (r[17] = e.z),
                (r[18] = e.x),
                (r[19] = e.y),
                (r[20] = e.z),
                (r[21] = i.x),
                (r[22] = e.y),
                (r[23] = e.z),
                (n.needsUpdate = !0),
                this.geometry.computeBoundingSphere();
            }
          };
        })()),
        (Zr.prototype.setFromObject = function (t) {
          return (this.object = t), this.update(), this;
        }),
        ($r.prototype = Object.create(Ne.prototype)),
        ($r.prototype.constructor = $r),
        ($r.prototype.updateMatrixWorld = function (t) {
          var e = this.box;
          e.isEmpty() ||
            (e.getCenter(this.position),
            e.getSize(this.scale),
            this.scale.multiplyScalar(0.5),
            b.prototype.updateMatrixWorld.call(this, t));
        }),
        (Jr.prototype = Object.create(ke.prototype)),
        (Jr.prototype.constructor = Jr),
        (Jr.prototype.updateMatrixWorld = function (t) {
          var e = -this.plane.constant;
          1e-8 > Math.abs(e) && (e = 1e-8),
            this.scale.set(0.5 * this.size, 0.5 * this.size, e),
            (this.children[0].material.side = 0 > e ? 1 : 0),
            this.lookAt(this.plane.normal),
            b.prototype.updateMatrixWorld.call(this, t);
        });
      var Ys, Zs;
      (Qr.prototype = Object.create(b.prototype)),
        (Qr.prototype.constructor = Qr),
        (Qr.prototype.setDirection = (function () {
          var t,
            e = new s();
          return function (i) {
            0.99999 < i.y
              ? this.quaternion.set(0, 0, 0, 1)
              : -0.99999 > i.y
              ? this.quaternion.set(1, 0, 0, 0)
              : (e.set(i.z, 0, -i.x).normalize(),
                (t = Math.acos(i.y)),
                this.quaternion.setFromAxisAngle(e, t));
          };
        })()),
        (Qr.prototype.setLength = function (t, e, i) {
          void 0 === e && (e = 0.2 * t),
            void 0 === i && (i = 0.2 * e),
            this.line.scale.set(1, Math.max(0, t - e), 1),
            this.line.updateMatrix(),
            this.cone.scale.set(i, e, i),
            (this.cone.position.y = t),
            this.cone.updateMatrix();
        }),
        (Qr.prototype.setColor = function (t) {
          this.line.material.color.copy(t), this.cone.material.color.copy(t);
        }),
        (Kr.prototype = Object.create(Ne.prototype)),
        (Kr.prototype.constructor = Kr),
        (pn.create = function (t, e) {
          return (
            console.log("THREE.Curve.create() has been deprecated"),
            (t.prototype = Object.create(pn.prototype)),
            (t.prototype.constructor = t),
            (t.prototype.getPoint = e),
            t
          );
        }),
        Object.assign(Cn.prototype, {
          createPointsGeometry: function (t) {
            return (
              console.warn(
                "THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead."
              ),
              (t = this.getPoints(t)),
              this.createGeometry(t)
            );
          },
          createSpacedPointsGeometry: function (t) {
            return (
              console.warn(
                "THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead."
              ),
              (t = this.getSpacedPoints(t)),
              this.createGeometry(t)
            );
          },
          createGeometry: function (t) {
            console.warn(
              "THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead."
            );
            for (var e = new T(), i = 0, n = t.length; i < n; i++) {
              var r = t[i];
              e.vertices.push(new s(r.x, r.y, r.z || 0));
            }
            return e;
          },
        }),
        Object.assign(Pn.prototype, {
          fromPoints: function (t) {
            console.warn(
              "THREE.Path: .fromPoints() has been renamed to .setFromPoints()."
            ),
              this.setFromPoints(t);
          },
        }),
        (ts.prototype = Object.create(_n.prototype)),
        (es.prototype = Object.create(_n.prototype)),
        (is.prototype = Object.create(_n.prototype)),
        Object.assign(is.prototype, {
          initFromArray: function () {
            console.error("THREE.Spline: .initFromArray() has been removed.");
          },
          getControlPointsArray: function () {
            console.error(
              "THREE.Spline: .getControlPointsArray() has been removed."
            );
          },
          reparametrizeByArcLength: function () {
            console.error(
              "THREE.Spline: .reparametrizeByArcLength() has been removed."
            );
          },
        }),
        (jr.prototype.setColors = function () {
          console.error(
            "THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead."
          );
        }),
        (Br.prototype.update = function () {
          console.error(
            "THREE.SkeletonHelper: update() no longer needs to be called."
          );
        }),
        Object.assign(rr.prototype, {
          extractUrlBase: function (t) {
            return (
              console.warn(
                "THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."
              ),
              Gs.extractUrlBase(t)
            );
          },
        }),
        Object.assign(sr.prototype, {
          setTexturePath: function (t) {
            return (
              console.warn(
                "THREE.JSONLoader: .setTexturePath() has been renamed to .setResourcePath()."
              ),
              this.setResourcePath(t)
            );
          },
        }),
        Object.assign(Dr.prototype, {
          center: function (t) {
            return (
              console.warn(
                "THREE.Box2: .center() has been renamed to .getCenter()."
              ),
              this.getCenter(t)
            );
          },
          empty: function () {
            return (
              console.warn(
                "THREE.Box2: .empty() has been renamed to .isEmpty()."
              ),
              this.isEmpty()
            );
          },
          isIntersectionBox: function (t) {
            return (
              console.warn(
                "THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."
              ),
              this.intersectsBox(t)
            );
          },
          size: function (t) {
            return (
              console.warn(
                "THREE.Box2: .size() has been renamed to .getSize()."
              ),
              this.getSize(t)
            );
          },
        }),
        Object.assign(p.prototype, {
          center: function (t) {
            return (
              console.warn(
                "THREE.Box3: .center() has been renamed to .getCenter()."
              ),
              this.getCenter(t)
            );
          },
          empty: function () {
            return (
              console.warn(
                "THREE.Box3: .empty() has been renamed to .isEmpty()."
              ),
              this.isEmpty()
            );
          },
          isIntersectionBox: function (t) {
            return (
              console.warn(
                "THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."
              ),
              this.intersectsBox(t)
            );
          },
          isIntersectionSphere: function (t) {
            return (
              console.warn(
                "THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."
              ),
              this.intersectsSphere(t)
            );
          },
          size: function (t) {
            return (
              console.warn(
                "THREE.Box3: .size() has been renamed to .getSize()."
              ),
              this.getSize(t)
            );
          },
        }),
        (kr.prototype.center = function (t) {
          return (
            console.warn(
              "THREE.Line3: .center() has been renamed to .getCenter()."
            ),
            this.getCenter(t)
          );
        }),
        Object.assign(ns, {
          random16: function () {
            return (
              console.warn(
                "THREE.Math: .random16() has been deprecated. Use Math.random() instead."
              ),
              Math.random()
            );
          },
          nearestPowerOfTwo: function (t) {
            return (
              console.warn(
                "THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."
              ),
              ns.floorPowerOfTwo(t)
            );
          },
          nextPowerOfTwo: function (t) {
            return (
              console.warn(
                "THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."
              ),
              ns.ceilPowerOfTwo(t)
            );
          },
        }),
        Object.assign(o.prototype, {
          flattenToArrayOffset: function (t, e) {
            return (
              console.warn(
                "THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."
              ),
              this.toArray(t, e)
            );
          },
          multiplyVector3: function (t) {
            return (
              console.warn(
                "THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."
              ),
              t.applyMatrix3(this)
            );
          },
          multiplyVector3Array: function () {
            console.error(
              "THREE.Matrix3: .multiplyVector3Array() has been removed."
            );
          },
          applyToBuffer: function (t) {
            return (
              console.warn(
                "THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."
              ),
              this.applyToBufferAttribute(t)
            );
          },
          applyToVector3Array: function () {
            console.error(
              "THREE.Matrix3: .applyToVector3Array() has been removed."
            );
          },
        }),
        Object.assign(n.prototype, {
          extractPosition: function (t) {
            return (
              console.warn(
                "THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."
              ),
              this.copyPosition(t)
            );
          },
          flattenToArrayOffset: function (t, e) {
            return (
              console.warn(
                "THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."
              ),
              this.toArray(t, e)
            );
          },
          getPosition: (function () {
            var t;
            return function () {
              return (
                void 0 === t && (t = new s()),
                console.warn(
                  "THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."
                ),
                t.setFromMatrixColumn(this, 3)
              );
            };
          })(),
          setRotationFromQuaternion: function (t) {
            return (
              console.warn(
                "THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."
              ),
              this.makeRotationFromQuaternion(t)
            );
          },
          multiplyToArray: function () {
            console.warn("THREE.Matrix4: .multiplyToArray() has been removed.");
          },
          multiplyVector3: function (t) {
            return (
              console.warn(
                "THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."
              ),
              t.applyMatrix4(this)
            );
          },
          multiplyVector4: function (t) {
            return (
              console.warn(
                "THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."
              ),
              t.applyMatrix4(this)
            );
          },
          multiplyVector3Array: function () {
            console.error(
              "THREE.Matrix4: .multiplyVector3Array() has been removed."
            );
          },
          rotateAxis: function (t) {
            console.warn(
              "THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."
            ),
              t.transformDirection(this);
          },
          crossVector: function (t) {
            return (
              console.warn(
                "THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."
              ),
              t.applyMatrix4(this)
            );
          },
          translate: function () {
            console.error("THREE.Matrix4: .translate() has been removed.");
          },
          rotateX: function () {
            console.error("THREE.Matrix4: .rotateX() has been removed.");
          },
          rotateY: function () {
            console.error("THREE.Matrix4: .rotateY() has been removed.");
          },
          rotateZ: function () {
            console.error("THREE.Matrix4: .rotateZ() has been removed.");
          },
          rotateByAxis: function () {
            console.error("THREE.Matrix4: .rotateByAxis() has been removed.");
          },
          applyToBuffer: function (t) {
            return (
              console.warn(
                "THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."
              ),
              this.applyToBufferAttribute(t)
            );
          },
          applyToVector3Array: function () {
            console.error(
              "THREE.Matrix4: .applyToVector3Array() has been removed."
            );
          },
          makeFrustum: function (t, e, i, n, r, s) {
            return (
              console.warn(
                "THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."
              ),
              this.makePerspective(t, e, n, i, r, s)
            );
          },
        }),
        (f.prototype.isIntersectionLine = function (t) {
          return (
            console.warn(
              "THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."
            ),
            this.intersectsLine(t)
          );
        }),
        (r.prototype.multiplyVector3 = function (t) {
          return (
            console.warn(
              "THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."
            ),
            t.applyQuaternion(this)
          );
        }),
        Object.assign(V.prototype, {
          isIntersectionBox: function (t) {
            return (
              console.warn(
                "THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."
              ),
              this.intersectsBox(t)
            );
          },
          isIntersectionPlane: function (t) {
            return (
              console.warn(
                "THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."
              ),
              this.intersectsPlane(t)
            );
          },
          isIntersectionSphere: function (t) {
            return (
              console.warn(
                "THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."
              ),
              this.intersectsSphere(t)
            );
          },
        }),
        Object.assign(j.prototype, {
          area: function () {
            return (
              console.warn(
                "THREE.Triangle: .area() has been renamed to .getArea()."
              ),
              this.getArea()
            );
          },
          barycoordFromPoint: function (t, e) {
            return (
              console.warn(
                "THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."
              ),
              this.getBarycoord(t, e)
            );
          },
          midpoint: function (t) {
            return (
              console.warn(
                "THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."
              ),
              this.getMidpoint(t)
            );
          },
          normal: function (t) {
            return (
              console.warn(
                "THREE.Triangle: .normal() has been renamed to .getNormal()."
              ),
              this.getNormal(t)
            );
          },
          plane: function (t) {
            return (
              console.warn(
                "THREE.Triangle: .plane() has been renamed to .getPlane()."
              ),
              this.getPlane(t)
            );
          },
        }),
        Object.assign(j, {
          barycoordFromPoint: function (t, e, i, n, r) {
            return (
              console.warn(
                "THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."
              ),
              j.getBarycoord(t, e, i, n, r)
            );
          },
          normal: function (t, e, i, n) {
            return (
              console.warn(
                "THREE.Triangle: .normal() has been renamed to .getNormal()."
              ),
              j.getNormal(t, e, i, n)
            );
          },
        }),
        Object.assign(An.prototype, {
          extractAllPoints: function (t) {
            return (
              console.warn(
                "THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."
              ),
              this.extractPoints(t)
            );
          },
          extrude: function (t) {
            return (
              console.warn(
                "THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."
              ),
              new Ci(this, t)
            );
          },
          makeGeometry: function (t) {
            return (
              console.warn(
                "THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."
              ),
              new Fi(this, t)
            );
          },
        }),
        Object.assign(i.prototype, {
          fromAttribute: function (t, e, i) {
            return (
              console.warn(
                "THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."
              ),
              this.fromBufferAttribute(t, e, i)
            );
          },
          distanceToManhattan: function (t) {
            return (
              console.warn(
                "THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."
              ),
              this.manhattanDistanceTo(t)
            );
          },
          lengthManhattan: function () {
            return (
              console.warn(
                "THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."
              ),
              this.manhattanLength()
            );
          },
        }),
        Object.assign(s.prototype, {
          setEulerFromRotationMatrix: function () {
            console.error(
              "THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead."
            );
          },
          setEulerFromQuaternion: function () {
            console.error(
              "THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead."
            );
          },
          getPositionFromMatrix: function (t) {
            return (
              console.warn(
                "THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."
              ),
              this.setFromMatrixPosition(t)
            );
          },
          getScaleFromMatrix: function (t) {
            return (
              console.warn(
                "THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."
              ),
              this.setFromMatrixScale(t)
            );
          },
          getColumnFromMatrix: function (t, e) {
            return (
              console.warn(
                "THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."
              ),
              this.setFromMatrixColumn(e, t)
            );
          },
          applyProjection: function (t) {
            return (
              console.warn(
                "THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."
              ),
              this.applyMatrix4(t)
            );
          },
          fromAttribute: function (t, e, i) {
            return (
              console.warn(
                "THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."
              ),
              this.fromBufferAttribute(t, e, i)
            );
          },
          distanceToManhattan: function (t) {
            return (
              console.warn(
                "THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."
              ),
              this.manhattanDistanceTo(t)
            );
          },
          lengthManhattan: function () {
            return (
              console.warn(
                "THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."
              ),
              this.manhattanLength()
            );
          },
        }),
        Object.assign(h.prototype, {
          fromAttribute: function (t, e, i) {
            return (
              console.warn(
                "THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."
              ),
              this.fromBufferAttribute(t, e, i)
            );
          },
          lengthManhattan: function () {
            return (
              console.warn(
                "THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."
              ),
              this.manhattanLength()
            );
          },
        }),
        Object.assign(T.prototype, {
          computeTangents: function () {
            console.error(
              "THREE.Geometry: .computeTangents() has been removed."
            );
          },
          computeLineDistances: function () {
            console.error(
              "THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead."
            );
          },
        }),
        Object.assign(b.prototype, {
          getChildByName: function (t) {
            return (
              console.warn(
                "THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."
              ),
              this.getObjectByName(t)
            );
          },
          renderDepth: function () {
            console.warn(
              "THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead."
            );
          },
          translate: function (t, e) {
            return (
              console.warn(
                "THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."
              ),
              this.translateOnAxis(e, t)
            );
          },
          getWorldRotation: function () {
            console.error(
              "THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead."
            );
          },
        }),
        Object.defineProperties(b.prototype, {
          eulerOrder: {
            get: function () {
              return (
                console.warn(
                  "THREE.Object3D: .eulerOrder is now .rotation.order."
                ),
                this.rotation.order
              );
            },
            set: function (t) {
              console.warn(
                "THREE.Object3D: .eulerOrder is now .rotation.order."
              ),
                (this.rotation.order = t);
            },
          },
          useQuaternion: {
            get: function () {
              console.warn(
                "THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default."
              );
            },
            set: function () {
              console.warn(
                "THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default."
              );
            },
          },
        }),
        Object.defineProperties(Re.prototype, {
          objects: {
            get: function () {
              return (
                console.warn(
                  "THREE.LOD: .objects has been renamed to .levels."
                ),
                this.levels
              );
            },
          },
        }),
        Object.defineProperty(Le.prototype, "useVertexTexture", {
          get: function () {
            console.warn("THREE.Skeleton: useVertexTexture has been removed.");
          },
          set: function () {
            console.warn("THREE.Skeleton: useVertexTexture has been removed.");
          },
        }),
        Object.defineProperty(pn.prototype, "__arcLengthDivisions", {
          get: function () {
            return (
              console.warn(
                "THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."
              ),
              this.arcLengthDivisions
            );
          },
          set: function (t) {
            console.warn(
              "THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."
            ),
              (this.arcLengthDivisions = t);
          },
        }),
        (ve.prototype.setLens = function (t, e) {
          console.warn(
            "THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."
          ),
            void 0 !== e && (this.filmGauge = e),
            this.setFocalLength(t);
        }),
        Object.defineProperties(Rn.prototype, {
          onlyShadow: {
            set: function () {
              console.warn("THREE.Light: .onlyShadow has been removed.");
            },
          },
          shadowCameraFov: {
            set: function (t) {
              console.warn(
                "THREE.Light: .shadowCameraFov is now .shadow.camera.fov."
              ),
                (this.shadow.camera.fov = t);
            },
          },
          shadowCameraLeft: {
            set: function (t) {
              console.warn(
                "THREE.Light: .shadowCameraLeft is now .shadow.camera.left."
              ),
                (this.shadow.camera.left = t);
            },
          },
          shadowCameraRight: {
            set: function (t) {
              console.warn(
                "THREE.Light: .shadowCameraRight is now .shadow.camera.right."
              ),
                (this.shadow.camera.right = t);
            },
          },
          shadowCameraTop: {
            set: function (t) {
              console.warn(
                "THREE.Light: .shadowCameraTop is now .shadow.camera.top."
              ),
                (this.shadow.camera.top = t);
            },
          },
          shadowCameraBottom: {
            set: function (t) {
              console.warn(
                "THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."
              ),
                (this.shadow.camera.bottom = t);
            },
          },
          shadowCameraNear: {
            set: function (t) {
              console.warn(
                "THREE.Light: .shadowCameraNear is now .shadow.camera.near."
              ),
                (this.shadow.camera.near = t);
            },
          },
          shadowCameraFar: {
            set: function (t) {
              console.warn(
                "THREE.Light: .shadowCameraFar is now .shadow.camera.far."
              ),
                (this.shadow.camera.far = t);
            },
          },
          shadowCameraVisible: {
            set: function () {
              console.warn(
                "THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead."
              );
            },
          },
          shadowBias: {
            set: function (t) {
              console.warn("THREE.Light: .shadowBias is now .shadow.bias."),
                (this.shadow.bias = t);
            },
          },
          shadowDarkness: {
            set: function () {
              console.warn("THREE.Light: .shadowDarkness has been removed.");
            },
          },
          shadowMapWidth: {
            set: function (t) {
              console.warn(
                "THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."
              ),
                (this.shadow.mapSize.width = t);
            },
          },
          shadowMapHeight: {
            set: function (t) {
              console.warn(
                "THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."
              ),
                (this.shadow.mapSize.height = t);
            },
          },
        }),
        Object.defineProperties(E.prototype, {
          length: {
            get: function () {
              return (
                console.warn(
                  "THREE.BufferAttribute: .length has been deprecated. Use .count instead."
                ),
                this.array.length
              );
            },
          },
          copyIndicesArray: function () {
            console.error(
              "THREE.BufferAttribute: .copyIndicesArray() has been removed."
            );
          },
        }),
        Object.assign(N.prototype, {
          addIndex: function (t) {
            console.warn(
              "THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."
            ),
              this.setIndex(t);
          },
          addDrawCall: function (t, e, i) {
            void 0 !== i &&
              console.warn(
                "THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."
              ),
              console.warn(
                "THREE.BufferGeometry: .addDrawCall() is now .addGroup()."
              ),
              this.addGroup(t, e);
          },
          clearDrawCalls: function () {
            console.warn(
              "THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."
            ),
              this.clearGroups();
          },
          computeTangents: function () {
            console.warn(
              "THREE.BufferGeometry: .computeTangents() has been removed."
            );
          },
          computeOffsets: function () {
            console.warn(
              "THREE.BufferGeometry: .computeOffsets() has been removed."
            );
          },
        }),
        Object.defineProperties(N.prototype, {
          drawcalls: {
            get: function () {
              return (
                console.error(
                  "THREE.BufferGeometry: .drawcalls has been renamed to .groups."
                ),
                this.groups
              );
            },
          },
          offsets: {
            get: function () {
              return (
                console.warn(
                  "THREE.BufferGeometry: .offsets has been renamed to .groups."
                ),
                this.groups
              );
            },
          },
        }),
        Object.assign(Pi.prototype, {
          getArrays: function () {
            console.error(
              "THREE.ExtrudeBufferGeometry: .getArrays() has been removed."
            );
          },
          addShapeList: function () {
            console.error(
              "THREE.ExtrudeBufferGeometry: .addShapeList() has been removed."
            );
          },
          addShape: function () {
            console.error(
              "THREE.ExtrudeBufferGeometry: .addShape() has been removed."
            );
          },
        }),
        Object.defineProperties(Er.prototype, {
          dynamic: {
            set: function () {
              console.warn(
                "THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead."
              );
            },
          },
          onUpdate: {
            value: function () {
              return (
                console.warn(
                  "THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."
                ),
                this
              );
            },
          },
        }),
        Object.defineProperties(U.prototype, {
          wrapAround: {
            get: function () {
              console.warn("THREE.Material: .wrapAround has been removed.");
            },
            set: function () {
              console.warn("THREE.Material: .wrapAround has been removed.");
            },
          },
          wrapRGB: {
            get: function () {
              return (
                console.warn("THREE.Material: .wrapRGB has been removed."),
                new _()
              );
            },
          },
          shading: {
            get: function () {
              console.error(
                "THREE." +
                  this.type +
                  ": .shading has been removed. Use the boolean .flatShading instead."
              );
            },
            set: function (t) {
              console.warn(
                "THREE." +
                  this.type +
                  ": .shading has been removed. Use the boolean .flatShading instead."
              ),
                (this.flatShading = 1 === t);
            },
          },
        }),
        Object.defineProperties(Qi.prototype, {
          metal: {
            get: function () {
              return (
                console.warn(
                  "THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."
                ),
                !1
              );
            },
            set: function () {
              console.warn(
                "THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead"
              );
            },
          },
        }),
        Object.defineProperties(G.prototype, {
          derivatives: {
            get: function () {
              return (
                console.warn(
                  "THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."
                ),
                this.extensions.derivatives
              );
            },
            set: function (t) {
              console.warn(
                "THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."
              ),
                (this.extensions.derivatives = t);
            },
          },
        }),
        Object.assign(be.prototype, {
          clearTarget: function (t, e, i, n) {
            console.warn(
              "THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."
            ),
              this.setRenderTarget(t),
              this.clear(e, i, n);
          },
          animate: function (t) {
            console.warn(
              "THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."
            ),
              this.setAnimationLoop(t);
          },
          getCurrentRenderTarget: function () {
            return (
              console.warn(
                "THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."
              ),
              this.getRenderTarget()
            );
          },
          getMaxAnisotropy: function () {
            return (
              console.warn(
                "THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."
              ),
              this.capabilities.getMaxAnisotropy()
            );
          },
          getPrecision: function () {
            return (
              console.warn(
                "THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."
              ),
              this.capabilities.precision
            );
          },
          resetGLState: function () {
            return (
              console.warn(
                "THREE.WebGLRenderer: .resetGLState() is now .state.reset()."
              ),
              this.state.reset()
            );
          },
          supportsFloatTextures: function () {
            return (
              console.warn(
                "THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."
              ),
              this.extensions.get("OES_texture_float")
            );
          },
          supportsHalfFloatTextures: function () {
            return (
              console.warn(
                "THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."
              ),
              this.extensions.get("OES_texture_half_float")
            );
          },
          supportsStandardDerivatives: function () {
            return (
              console.warn(
                "THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."
              ),
              this.extensions.get("OES_standard_derivatives")
            );
          },
          supportsCompressedTextureS3TC: function () {
            return (
              console.warn(
                "THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."
              ),
              this.extensions.get("WEBGL_compressed_texture_s3tc")
            );
          },
          supportsCompressedTexturePVRTC: function () {
            return (
              console.warn(
                "THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."
              ),
              this.extensions.get("WEBGL_compressed_texture_pvrtc")
            );
          },
          supportsBlendMinMax: function () {
            return (
              console.warn(
                "THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."
              ),
              this.extensions.get("EXT_blend_minmax")
            );
          },
          supportsVertexTextures: function () {
            return (
              console.warn(
                "THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."
              ),
              this.capabilities.vertexTextures
            );
          },
          supportsInstancedArrays: function () {
            return (
              console.warn(
                "THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."
              ),
              this.extensions.get("ANGLE_instanced_arrays")
            );
          },
          enableScissorTest: function (t) {
            console.warn(
              "THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."
            ),
              this.setScissorTest(t);
          },
          initMaterial: function () {
            console.warn(
              "THREE.WebGLRenderer: .initMaterial() has been removed."
            );
          },
          addPrePlugin: function () {
            console.warn(
              "THREE.WebGLRenderer: .addPrePlugin() has been removed."
            );
          },
          addPostPlugin: function () {
            console.warn(
              "THREE.WebGLRenderer: .addPostPlugin() has been removed."
            );
          },
          updateShadowMap: function () {
            console.warn(
              "THREE.WebGLRenderer: .updateShadowMap() has been removed."
            );
          },
          setFaceCulling: function () {
            console.warn(
              "THREE.WebGLRenderer: .setFaceCulling() has been removed."
            );
          },
        }),
        Object.defineProperties(be.prototype, {
          shadowMapEnabled: {
            get: function () {
              return this.shadowMap.enabled;
            },
            set: function (t) {
              console.warn(
                "THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."
              ),
                (this.shadowMap.enabled = t);
            },
          },
          shadowMapType: {
            get: function () {
              return this.shadowMap.type;
            },
            set: function (t) {
              console.warn(
                "THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."
              ),
                (this.shadowMap.type = t);
            },
          },
          shadowMapCullFace: {
            get: function () {
              console.warn(
                "THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead."
              );
            },
            set: function () {
              console.warn(
                "THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead."
              );
            },
          },
        }),
        Object.defineProperties(pe.prototype, {
          cullFace: {
            get: function () {
              console.warn(
                "THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead."
              );
            },
            set: function () {
              console.warn(
                "THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead."
              );
            },
          },
          renderReverseSided: {
            get: function () {
              console.warn(
                "THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead."
              );
            },
            set: function () {
              console.warn(
                "THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead."
              );
            },
          },
          renderSingleSided: {
            get: function () {
              console.warn(
                "THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead."
              );
            },
            set: function () {
              console.warn(
                "THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead."
              );
            },
          },
        }),
        Object.defineProperties(l.prototype, {
          wrapS: {
            get: function () {
              return (
                console.warn(
                  "THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."
                ),
                this.texture.wrapS
              );
            },
            set: function (t) {
              console.warn(
                "THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."
              ),
                (this.texture.wrapS = t);
            },
          },
          wrapT: {
            get: function () {
              return (
                console.warn(
                  "THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."
                ),
                this.texture.wrapT
              );
            },
            set: function (t) {
              console.warn(
                "THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."
              ),
                (this.texture.wrapT = t);
            },
          },
          magFilter: {
            get: function () {
              return (
                console.warn(
                  "THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."
                ),
                this.texture.magFilter
              );
            },
            set: function (t) {
              console.warn(
                "THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."
              ),
                (this.texture.magFilter = t);
            },
          },
          minFilter: {
            get: function () {
              return (
                console.warn(
                  "THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."
                ),
                this.texture.minFilter
              );
            },
            set: function (t) {
              console.warn(
                "THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."
              ),
                (this.texture.minFilter = t);
            },
          },
          anisotropy: {
            get: function () {
              return (
                console.warn(
                  "THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."
                ),
                this.texture.anisotropy
              );
            },
            set: function (t) {
              console.warn(
                "THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."
              ),
                (this.texture.anisotropy = t);
            },
          },
          offset: {
            get: function () {
              return (
                console.warn(
                  "THREE.WebGLRenderTarget: .offset is now .texture.offset."
                ),
                this.texture.offset
              );
            },
            set: function (t) {
              console.warn(
                "THREE.WebGLRenderTarget: .offset is now .texture.offset."
              ),
                (this.texture.offset = t);
            },
          },
          repeat: {
            get: function () {
              return (
                console.warn(
                  "THREE.WebGLRenderTarget: .repeat is now .texture.repeat."
                ),
                this.texture.repeat
              );
            },
            set: function (t) {
              console.warn(
                "THREE.WebGLRenderTarget: .repeat is now .texture.repeat."
              ),
                (this.texture.repeat = t);
            },
          },
          format: {
            get: function () {
              return (
                console.warn(
                  "THREE.WebGLRenderTarget: .format is now .texture.format."
                ),
                this.texture.format
              );
            },
            set: function (t) {
              console.warn(
                "THREE.WebGLRenderTarget: .format is now .texture.format."
              ),
                (this.texture.format = t);
            },
          },
          type: {
            get: function () {
              return (
                console.warn(
                  "THREE.WebGLRenderTarget: .type is now .texture.type."
                ),
                this.texture.type
              );
            },
            set: function (t) {
              console.warn(
                "THREE.WebGLRenderTarget: .type is now .texture.type."
              ),
                (this.texture.type = t);
            },
          },
          generateMipmaps: {
            get: function () {
              return (
                console.warn(
                  "THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."
                ),
                this.texture.generateMipmaps
              );
            },
            set: function (t) {
              console.warn(
                "THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."
              ),
                (this.texture.generateMipmaps = t);
            },
          },
        }),
        Object.defineProperties(xe.prototype, {
          standing: {
            set: function () {
              console.warn("THREE.WebVRManager: .standing has been removed.");
            },
          },
          userHeight: {
            set: function () {
              console.warn("THREE.WebVRManager: .userHeight has been removed.");
            },
          },
        }),
        (mr.prototype.load = function (t) {
          console.warn(
            "THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead."
          );
          var e = this;
          return (
            new cr().load(t, function (t) {
              e.setBuffer(t);
            }),
            this
          );
        }),
        (gr.prototype.getData = function () {
          return (
            console.warn(
              "THREE.AudioAnalyser: .getData() is now .getFrequencyData()."
            ),
            this.getFrequencyData()
          );
        }),
        (dr.prototype.updateCubeMap = function (t, e) {
          return (
            console.warn(
              "THREE.CubeCamera: .updateCubeMap() is now .update()."
            ),
            this.update(t, e)
          );
        }),
        (rs.crossOrigin = void 0),
        (rs.loadTexture = function (t, e, i, n) {
          console.warn(
            "THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead."
          );
          var r = new cn();
          return (
            r.setCrossOrigin(this.crossOrigin),
            (t = r.load(t, i, void 0, n)),
            e && (t.mapping = e),
            t
          );
        }),
        (rs.loadTextureCube = function (t, e, i, n) {
          console.warn(
            "THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead."
          );
          var r = new un();
          return (
            r.setCrossOrigin(this.crossOrigin),
            (t = r.load(t, i, void 0, n)),
            e && (t.mapping = e),
            t
          );
        }),
        (rs.loadCompressedTexture = function () {
          console.error(
            "THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead."
          );
        }),
        (rs.loadCompressedTextureCube = function () {
          console.error(
            "THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead."
          );
        }),
        (t.WebGLRenderTargetCube = u),
        (t.WebGLRenderTarget = l),
        (t.WebGLRenderer = be),
        (t.ShaderLib = us),
        (t.UniformsLib = ls),
        (t.UniformsUtils = as),
        (t.ShaderChunk = os),
        (t.FogExp2 = Te),
        (t.Fog = Ee),
        (t.Scene = Se),
        (t.Sprite = Ae),
        (t.LOD = Re),
        (t.SkinnedMesh = Oe),
        (t.Skeleton = Le),
        (t.Bone = Ie),
        (t.Mesh = X),
        (t.LineSegments = Ne),
        (t.LineLoop = ze),
        (t.Line = ke),
        (t.Points = He),
        (t.Group = _e),
        (t.VideoTexture = Be),
        (t.DataTexture = c),
        (t.DataTexture3D = st),
        (t.CompressedTexture = Ue),
        (t.CubeTexture = rt),
        (t.CanvasTexture = Ge),
        (t.DepthTexture = Ve),
        (t.Texture = a),
        (t.CompressedTextureLoader = an),
        (t.DataTextureLoader = hn),
        (t.CubeTextureLoader = un),
        (t.TextureLoader = cn),
        (t.ObjectLoader = or),
        (t.MaterialLoader = ir),
        (t.BufferGeometryLoader = nr),
        (t.DefaultLoadingManager = Os),
        (t.LoadingManager = sn),
        (t.JSONLoader = sr),
        (t.ImageLoader = ln),
        (t.ImageBitmapLoader = ar),
        (t.FontLoader = ur),
        (t.FileLoader = on),
        (t.Loader = rr),
        (t.LoaderUtils = Gs),
        (t.Cache = Is),
        (t.AudioLoader = cr),
        (t.SpotLightShadow = On),
        (t.SpotLight = Dn),
        (t.PointLight = kn),
        (t.RectAreaLight = Bn),
        (t.HemisphereLight = Ln),
        (t.DirectionalLightShadow = zn),
        (t.DirectionalLight = Fn),
        (t.AmbientLight = Hn),
        (t.LightShadow = In),
        (t.Light = Rn),
        (t.StereoCamera = pr),
        (t.PerspectiveCamera = ve),
        (t.OrthographicCamera = Nn),
        (t.CubeCamera = dr),
        (t.ArrayCamera = ye),
        (t.Camera = ge),
        (t.AudioListener = fr),
        (t.PositionalAudio = _r),
        (t.AudioContext = qs),
        (t.AudioAnalyser = gr),
        (t.Audio = mr),
        (t.VectorKeyframeTrack = Qn),
        (t.StringKeyframeTrack = Jn),
        (t.QuaternionKeyframeTrack = $n),
        (t.NumberKeyframeTrack = Yn),
        (t.ColorKeyframeTrack = qn),
        (t.BooleanKeyframeTrack = Xn),
        (t.PropertyMixer = vr),
        (t.PropertyBinding = xr),
        (t.KeyframeTrack = Wn),
        (t.AnimationUtils = Bs),
        (t.AnimationObjectGroup = wr),
        (t.AnimationMixer = Tr),
        (t.AnimationClip = Kn),
        (t.Uniform = Er),
        (t.InstancedBufferGeometry = Sr),
        (t.BufferGeometry = N),
        (t.Geometry = T),
        (t.InterleavedBufferAttribute = Ce),
        (t.InstancedInterleavedBuffer = Mr),
        (t.InterleavedBuffer = Me),
        (t.InstancedBufferAttribute = Cr),
        (t.Face3 = y),
        (t.Object3D = b),
        (t.Raycaster = Pr),
        (t.Layers = w),
        (t.EventDispatcher = e),
        (t.Clock = Lr),
        (t.QuaternionLinearInterpolant = Zn),
        (t.LinearInterpolant = Vn),
        (t.DiscreteInterpolant = jn),
        (t.CubicInterpolant = Gn),
        (t.Interpolant = Un),
        (t.Triangle = j),
        (t.Math = ns),
        (t.Spherical = Ir),
        (t.Cylindrical = Or),
        (t.Plane = f),
        (t.Frustum = m),
        (t.Sphere = d),
        (t.Ray = V),
        (t.Matrix4 = n),
        (t.Matrix3 = o),
        (t.Box3 = p),
        (t.Box2 = Dr),
        (t.Line3 = kr),
        (t.Euler = x),
        (t.Vector4 = h),
        (t.Vector3 = s),
        (t.Vector2 = i),
        (t.Quaternion = r),
        (t.Color = _),
        (t.ImmediateRenderObject = Nr),
        (t.VertexNormalsHelper = zr),
        (t.SpotLightHelper = Fr),
        (t.SkeletonHelper = Br),
        (t.PointLightHelper = Ur),
        (t.RectAreaLightHelper = Gr),
        (t.HemisphereLightHelper = Vr),
        (t.GridHelper = jr),
        (t.PolarGridHelper = Wr),
        (t.FaceNormalsHelper = Xr),
        (t.DirectionalLightHelper = qr),
        (t.CameraHelper = Yr),
        (t.BoxHelper = Zr),
        (t.Box3Helper = $r),
        (t.PlaneHelper = Jr),
        (t.ArrowHelper = Qr),
        (t.AxesHelper = Kr),
        (t.Shape = An),
        (t.Path = Pn);
      t.ShapePath = hr;
      (t.Font = lr),
        (t.CurvePath = Cn),
        (t.Curve = pn),
        (t.ImageUtils = rs),
        (t.ShapeUtils = Ps),
        (t.WebGLUtils = me),
        (t.WireframeGeometry = je),
        (t.ParametricGeometry = We),
        (t.ParametricBufferGeometry = Xe),
        (t.TetrahedronGeometry = Ze),
        (t.TetrahedronBufferGeometry = $e),
        (t.OctahedronGeometry = Je),
        (t.OctahedronBufferGeometry = Qe),
        (t.IcosahedronGeometry = Ke),
        (t.IcosahedronBufferGeometry = ti),
        (t.DodecahedronGeometry = ei),
        (t.DodecahedronBufferGeometry = ii),
        (t.PolyhedronGeometry = qe),
        (t.PolyhedronBufferGeometry = Ye),
        (t.TubeGeometry = ni),
        (t.TubeBufferGeometry = ri),
        (t.TorusKnotGeometry = si),
        (t.TorusKnotBufferGeometry = oi),
        (t.TorusGeometry = ai),
        (t.TorusBufferGeometry = hi),
        (t.TextGeometry = Ri),
        (t.TextBufferGeometry = Li),
        (t.SphereGeometry = Ii),
        (t.SphereBufferGeometry = Oi),
        (t.RingGeometry = Di),
        (t.RingBufferGeometry = ki),
        (t.PlaneGeometry = H),
        (t.PlaneBufferGeometry = B),
        (t.LatheGeometry = Ni),
        (t.LatheBufferGeometry = zi),
        (t.ShapeGeometry = Fi),
        (t.ShapeBufferGeometry = Hi),
        (t.ExtrudeGeometry = Ci),
        (t.ExtrudeBufferGeometry = Pi),
        (t.EdgesGeometry = Ui),
        (t.ConeGeometry = ji),
        (t.ConeBufferGeometry = Wi),
        (t.CylinderGeometry = Gi),
        (t.CylinderBufferGeometry = Vi),
        (t.CircleGeometry = Xi),
        (t.CircleBufferGeometry = qi),
        (t.BoxGeometry = z),
        (t.BoxBufferGeometry = F),
        (t.ShadowMaterial = Yi),
        (t.SpriteMaterial = Pe),
        (t.RawShaderMaterial = Zi),
        (t.ShaderMaterial = G),
        (t.PointsMaterial = Fe),
        (t.MeshPhysicalMaterial = Ji),
        (t.MeshStandardMaterial = $i),
        (t.MeshPhongMaterial = Qi),
        (t.MeshToonMaterial = Ki),
        (t.MeshNormalMaterial = tn),
        (t.MeshLambertMaterial = en),
        (t.MeshDepthMaterial = ue),
        (t.MeshDistanceMaterial = ce),
        (t.MeshBasicMaterial = W),
        (t.MeshMatcapMaterial = nn),
        (t.LineDashedMaterial = rn),
        (t.LineBasicMaterial = De),
        (t.Material = U),
        (t.Float64BufferAttribute = O),
        (t.Float32BufferAttribute = I),
        (t.Uint32BufferAttribute = L),
        (t.Int32BufferAttribute = R),
        (t.Uint16BufferAttribute = A),
        (t.Int16BufferAttribute = P),
        (t.Uint8ClampedBufferAttribute = C),
        (t.Uint8BufferAttribute = M),
        (t.Int8BufferAttribute = S),
        (t.BufferAttribute = E),
        (t.ArcCurve = fn),
        (t.CatmullRomCurve3 = _n),
        (t.CubicBezierCurve = xn),
        (t.CubicBezierCurve3 = wn),
        (t.EllipseCurve = dn),
        (t.LineCurve = bn),
        (t.LineCurve3 = Tn),
        (t.QuadraticBezierCurve = En),
        (t.QuadraticBezierCurve3 = Sn),
        (t.SplineCurve = Mn),
        (t.REVISION = "97"),
        (t.MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2 }),
        (t.CullFaceNone = 0),
        (t.CullFaceBack = 1),
        (t.CullFaceFront = 2),
        (t.CullFaceFrontBack = 3),
        (t.FrontFaceDirectionCW = 0),
        (t.FrontFaceDirectionCCW = 1),
        (t.BasicShadowMap = 0),
        (t.PCFShadowMap = 1),
        (t.PCFSoftShadowMap = 2),
        (t.FrontSide = 0),
        (t.BackSide = 1),
        (t.DoubleSide = 2),
        (t.FlatShading = 1),
        (t.SmoothShading = 2),
        (t.NoColors = 0),
        (t.FaceColors = 1),
        (t.VertexColors = 2),
        (t.NoBlending = 0),
        (t.NormalBlending = 1),
        (t.AdditiveBlending = 2),
        (t.SubtractiveBlending = 3),
        (t.MultiplyBlending = 4),
        (t.CustomBlending = 5),
        (t.AddEquation = 100),
        (t.SubtractEquation = 101),
        (t.ReverseSubtractEquation = 102),
        (t.MinEquation = 103),
        (t.MaxEquation = 104),
        (t.ZeroFactor = 200),
        (t.OneFactor = 201),
        (t.SrcColorFactor = 202),
        (t.OneMinusSrcColorFactor = 203),
        (t.SrcAlphaFactor = 204),
        (t.OneMinusSrcAlphaFactor = 205),
        (t.DstAlphaFactor = 206),
        (t.OneMinusDstAlphaFactor = 207),
        (t.DstColorFactor = 208),
        (t.OneMinusDstColorFactor = 209),
        (t.SrcAlphaSaturateFactor = 210),
        (t.NeverDepth = 0),
        (t.AlwaysDepth = 1),
        (t.LessDepth = 2),
        (t.LessEqualDepth = 3),
        (t.EqualDepth = 4),
        (t.GreaterEqualDepth = 5),
        (t.GreaterDepth = 6),
        (t.NotEqualDepth = 7),
        (t.MultiplyOperation = 0),
        (t.MixOperation = 1),
        (t.AddOperation = 2),
        (t.NoToneMapping = 0),
        (t.LinearToneMapping = 1),
        (t.ReinhardToneMapping = 2),
        (t.Uncharted2ToneMapping = 3),
        (t.CineonToneMapping = 4),
        (t.UVMapping = 300),
        (t.CubeReflectionMapping = 301),
        (t.CubeRefractionMapping = 302),
        (t.EquirectangularReflectionMapping = 303),
        (t.EquirectangularRefractionMapping = 304),
        (t.SphericalReflectionMapping = 305),
        (t.CubeUVReflectionMapping = 306),
        (t.CubeUVRefractionMapping = 307),
        (t.RepeatWrapping = 1e3),
        (t.ClampToEdgeWrapping = 1001),
        (t.MirroredRepeatWrapping = 1002),
        (t.NearestFilter = 1003),
        (t.NearestMipMapNearestFilter = 1004),
        (t.NearestMipMapLinearFilter = 1005),
        (t.LinearFilter = 1006),
        (t.LinearMipMapNearestFilter = 1007),
        (t.LinearMipMapLinearFilter = 1008),
        (t.UnsignedByteType = 1009),
        (t.ByteType = 1010),
        (t.ShortType = 1011),
        (t.UnsignedShortType = 1012),
        (t.IntType = 1013),
        (t.UnsignedIntType = 1014),
        (t.FloatType = 1015),
        (t.HalfFloatType = 1016),
        (t.UnsignedShort4444Type = 1017),
        (t.UnsignedShort5551Type = 1018),
        (t.UnsignedShort565Type = 1019),
        (t.UnsignedInt248Type = 1020),
        (t.AlphaFormat = 1021),
        (t.RGBFormat = 1022),
        (t.RGBAFormat = 1023),
        (t.LuminanceFormat = 1024),
        (t.LuminanceAlphaFormat = 1025),
        (t.RGBEFormat = 1023),
        (t.DepthFormat = 1026),
        (t.DepthStencilFormat = 1027),
        (t.RedFormat = 1028),
        (t.RGB_S3TC_DXT1_Format = 33776),
        (t.RGBA_S3TC_DXT1_Format = 33777),
        (t.RGBA_S3TC_DXT3_Format = 33778),
        (t.RGBA_S3TC_DXT5_Format = 33779),
        (t.RGB_PVRTC_4BPPV1_Format = 35840),
        (t.RGB_PVRTC_2BPPV1_Format = 35841),
        (t.RGBA_PVRTC_4BPPV1_Format = 35842),
        (t.RGBA_PVRTC_2BPPV1_Format = 35843),
        (t.RGB_ETC1_Format = 36196),
        (t.RGBA_ASTC_4x4_Format = 37808),
        (t.RGBA_ASTC_5x4_Format = 37809),
        (t.RGBA_ASTC_5x5_Format = 37810),
        (t.RGBA_ASTC_6x5_Format = 37811),
        (t.RGBA_ASTC_6x6_Format = 37812),
        (t.RGBA_ASTC_8x5_Format = 37813),
        (t.RGBA_ASTC_8x6_Format = 37814),
        (t.RGBA_ASTC_8x8_Format = 37815),
        (t.RGBA_ASTC_10x5_Format = 37816),
        (t.RGBA_ASTC_10x6_Format = 37817);
      t.RGBA_ASTC_10x8_Format = 37818;
      (t.RGBA_ASTC_10x10_Format = 37819),
        (t.RGBA_ASTC_12x10_Format = 37820),
        (t.RGBA_ASTC_12x12_Format = 37821),
        (t.LoopOnce = 2200),
        (t.LoopRepeat = 2201),
        (t.LoopPingPong = 2202),
        (t.InterpolateDiscrete = 2300),
        (t.InterpolateLinear = 2301),
        (t.InterpolateSmooth = 2302),
        (t.ZeroCurvatureEnding = 2400),
        (t.ZeroSlopeEnding = 2401),
        (t.WrapAroundEnding = 2402),
        (t.TrianglesDrawMode = 0),
        (t.TriangleStripDrawMode = 1),
        (t.TriangleFanDrawMode = 2),
        (t.LinearEncoding = 3e3),
        (t.sRGBEncoding = 3001),
        (t.GammaEncoding = 3007),
        (t.RGBEEncoding = 3002),
        (t.LogLuvEncoding = 3003),
        (t.RGBM7Encoding = 3004),
        (t.RGBM16Encoding = 3005),
        (t.RGBDEncoding = 3006),
        (t.BasicDepthPacking = 3200),
        (t.RGBADepthPacking = 3201),
        (t.TangentSpaceNormalMap = 0),
        (t.ObjectSpaceNormalMap = 1),
        (t.CubeGeometry = z),
        (t.Face4 = function (t, e, i, n, r, s, o) {
          return (
            console.warn(
              "THREE.Face4 has been removed. A THREE.Face3 will be created instead."
            ),
            new y(t, e, i, r, s, o)
          );
        }),
        (t.LineStrip = 0),
        (t.LinePieces = 1),
        (t.MeshFaceMaterial = function (t) {
          return (
            console.warn(
              "THREE.MeshFaceMaterial has been removed. Use an Array instead."
            ),
            t
          );
        }),
        (t.MultiMaterial = function (t) {
          return (
            void 0 === t && (t = []),
            console.warn(
              "THREE.MultiMaterial has been removed. Use an Array instead."
            ),
            (t.isMultiMaterial = !0),
            (t.materials = t),
            (t.clone = function () {
              return t.slice();
            }),
            t
          );
        }),
        (t.PointCloud = function (t, e) {
          return (
            console.warn("THREE.PointCloud has been renamed to THREE.Points."),
            new He(t, e)
          );
        }),
        (t.Particle = function (t) {
          return (
            console.warn("THREE.Particle has been renamed to THREE.Sprite."),
            new Ae(t)
          );
        }),
        (t.ParticleSystem = function (t, e) {
          return (
            console.warn(
              "THREE.ParticleSystem has been renamed to THREE.Points."
            ),
            new He(t, e)
          );
        }),
        (t.PointCloudMaterial = function (t) {
          return (
            console.warn(
              "THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."
            ),
            new Fe(t)
          );
        }),
        (t.ParticleBasicMaterial = function (t) {
          return (
            console.warn(
              "THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."
            ),
            new Fe(t)
          );
        }),
        (t.ParticleSystemMaterial = function (t) {
          return (
            console.warn(
              "THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."
            ),
            new Fe(t)
          );
        }),
        (t.Vertex = function (t, e, i) {
          return (
            console.warn(
              "THREE.Vertex has been removed. Use THREE.Vector3 instead."
            ),
            new s(t, e, i)
          );
        }),
        (t.DynamicBufferAttribute = function (t, e) {
          return (
            console.warn(
              "THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead."
            ),
            new E(t, e).setDynamic(!0)
          );
        }),
        (t.Int8Attribute = function (t, e) {
          return (
            console.warn(
              "THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."
            ),
            new S(t, e)
          );
        }),
        (t.Uint8Attribute = function (t, e) {
          return (
            console.warn(
              "THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."
            ),
            new M(t, e)
          );
        }),
        (t.Uint8ClampedAttribute = function (t, e) {
          return (
            console.warn(
              "THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."
            ),
            new C(t, e)
          );
        }),
        (t.Int16Attribute = function (t, e) {
          return (
            console.warn(
              "THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."
            ),
            new P(t, e)
          );
        }),
        (t.Uint16Attribute = function (t, e) {
          return (
            console.warn(
              "THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."
            ),
            new A(t, e)
          );
        }),
        (t.Int32Attribute = function (t, e) {
          return (
            console.warn(
              "THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."
            ),
            new R(t, e)
          );
        }),
        (t.Uint32Attribute = function (t, e) {
          return (
            console.warn(
              "THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."
            ),
            new L(t, e)
          );
        }),
        (t.Float32Attribute = function (t, e) {
          return (
            console.warn(
              "THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."
            ),
            new I(t, e)
          );
        }),
        (t.Float64Attribute = function (t, e) {
          return (
            console.warn(
              "THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."
            ),
            new O(t, e)
          );
        }),
        (t.ClosedSplineCurve3 = ts),
        (t.SplineCurve3 = es),
        (t.Spline = is),
        (t.AxisHelper = function (t) {
          return (
            console.warn(
              "THREE.AxisHelper has been renamed to THREE.AxesHelper."
            ),
            new Kr(t)
          );
        }),
        (t.BoundingBoxHelper = function (t, e) {
          return (
            console.warn(
              "THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."
            ),
            new Zr(t, e)
          );
        }),
        (t.EdgesHelper = function (t, e) {
          return (
            console.warn(
              "THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."
            ),
            new Ne(
              new Ui(t.geometry),
              new De({ color: void 0 !== e ? e : 16777215 })
            )
          );
        }),
        (t.WireframeHelper = function (t, e) {
          return (
            console.warn(
              "THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."
            ),
            new Ne(
              new je(t.geometry),
              new De({ color: void 0 !== e ? e : 16777215 })
            )
          );
        }),
        (t.XHRLoader = function (t) {
          return (
            console.warn(
              "THREE.XHRLoader has been renamed to THREE.FileLoader."
            ),
            new on(t)
          );
        }),
        (t.BinaryTextureLoader = function (t) {
          return (
            console.warn(
              "THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."
            ),
            new hn(t)
          );
        }),
        (t.GeometryUtils = {
          merge: function (t, e, i) {
            if (
              (console.warn(
                "THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."
              ),
              e.isMesh)
            ) {
              e.matrixAutoUpdate && e.updateMatrix();
              var n = e.matrix;
              e = e.geometry;
            }
            t.merge(e, n, i);
          },
          center: function (t) {
            return (
              console.warn(
                "THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."
              ),
              t.center()
            );
          },
        }),
        (t.Projector = function () {
          console.error(
            "THREE.Projector has been moved to /examples/js/renderers/Projector.js."
          ),
            (this.projectVector = function (t, e) {
              console.warn(
                "THREE.Projector: .projectVector() is now vector.project()."
              ),
                t.project(e);
            }),
            (this.unprojectVector = function (t, e) {
              console.warn(
                "THREE.Projector: .unprojectVector() is now vector.unproject()."
              ),
                t.unproject(e);
            }),
            (this.pickingRay = function () {
              console.error(
                "THREE.Projector: .pickingRay() is now raycaster.setFromCamera()."
              );
            });
        }),
        (t.CanvasRenderer = function () {
          console.error(
            "THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"
          ),
            (this.domElement = document.createElementNS(
              "http://www.w3.org/1999/xhtml",
              "canvas"
            )),
            (this.clear = function () {}),
            (this.render = function () {}),
            (this.setClearColor = function () {}),
            (this.setSize = function () {});
        }),
        (t.SceneUtils = {
          createMultiMaterialObject: function () {
            console.error(
              "THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js"
            );
          },
          detach: function () {
            console.error(
              "THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js"
            );
          },
          attach: function () {
            console.error(
              "THREE.SceneUtils has been moved to /examples/js/utils/SceneUtils.js"
            );
          },
        }),
        (t.LensFlare = function () {
          console.error(
            "THREE.LensFlare has been moved to /examples/js/objects/Lensflare.js"
          );
        }),
        Object.defineProperty(t, "__esModule", { value: !0 });
    });
  },
]);
